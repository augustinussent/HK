function KQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hR={exports:{}},ob={};var B4;function ZQ(){if(B4)return ob;B4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ob.Fragment=e,ob.jsx=n,ob.jsxs=n,ob}var F4;function JQ(){return F4||(F4=1,hR.exports=ZQ()),hR.exports}var I=JQ(),pR={exports:{}},Pn={};var j4;function QQ(){if(j4)return Pn;j4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function w($,J,ne){this.props=$,this.context=J,this.refs=x,this.updater=ne||b}w.prototype.isReactComponent={},w.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},w.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=w.prototype;function A($,J,ne){this.props=$,this.context=J,this.refs=x,this.updater=ne||b}var C=A.prototype=new E;C.constructor=A,_(C,w.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function O(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k($,J,ne){var fe=ne.ref;return{$$typeof:t,type:$,key:J,ref:fe!==void 0?fe:null,props:ne}}function z($,J){return k($.type,J,$.props)}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function G($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return J[ne]})}var V=/\/+/g;function W($,J){return typeof $=="object"&&$!==null&&$.key!=null?G(""+$.key):J.toString(36)}function K($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(O,O):($.status="pending",$.then(function(J){$.status==="pending"&&($.status="fulfilled",$.value=J)},function(J){$.status==="pending"&&($.status="rejected",$.reason=J)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,J,ne,fe,ge){var ce=typeof $;(ce==="undefined"||ce==="boolean")&&($=null);var le=!1;if($===null)le=!0;else switch(ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch($.$$typeof){case t:case e:le=!0;break;case d:return le=$._init,H(le($._payload),J,ne,fe,ge)}}if(le)return ge=ge($),le=fe===""?"."+W($,0):fe,T(ge)?(ne="",le!=null&&(ne=le.replace(V,"$&/")+"/"),H(ge,J,ne,"",function(Oe){return Oe})):ge!=null&&(F(ge)&&(ge=z(ge,ne+(ge.key==null||$&&$.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+le)),J.push(ge)),1;le=0;var pe=fe===""?".":fe+":";if(T($))for(var xe=0;xe<$.length;xe++)fe=$[xe],ce=pe+W(fe,xe),le+=H(fe,J,ne,ce,ge);else if(xe=y($),typeof xe=="function")for($=xe.call($),xe=0;!(fe=$.next()).done;)fe=fe.value,ce=pe+W(fe,xe++),le+=H(fe,J,ne,ce,ge);else if(ce==="object"){if(typeof $.then=="function")return H(K($),J,ne,fe,ge);throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return le}function q($,J,ne){if($==null)return $;var fe=[],ge=0;return H($,fe,"","",function(ce){return J.call(ne,ce,ge++)}),fe}function Z($){if($._status===-1){var J=$._result;J=J(),J.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var ee=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ae={map:q,forEach:function($,J,ne){q($,function(){J.apply(this,arguments)},ne)},count:function($){var J=0;return q($,function(){J++}),J},toArray:function($){return q($,function(J){return J})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Pn.Activity=h,Pn.Children=ae,Pn.Component=w,Pn.Fragment=n,Pn.Profiler=i,Pn.PureComponent=A,Pn.StrictMode=r,Pn.Suspense=l,Pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pn.__COMPILER_RUNTIME={__proto__:null,c:function($){return N.H.useMemoCache($)}},Pn.cache=function($){return function(){return $.apply(null,arguments)}},Pn.cacheSignal=function(){return null},Pn.cloneElement=function($,J,ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var fe=_({},$.props),ge=$.key;if(J!=null)for(ce in J.key!==void 0&&(ge=""+J.key),J)!R.call(J,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&J.ref===void 0||(fe[ce]=J[ce]);var ce=arguments.length-2;if(ce===1)fe.children=ne;else if(1<ce){for(var le=Array(ce),pe=0;pe<ce;pe++)le[pe]=arguments[pe+2];fe.children=le}return k($.type,ge,fe)},Pn.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Pn.createElement=function($,J,ne){var fe,ge={},ce=null;if(J!=null)for(fe in J.key!==void 0&&(ce=""+J.key),J)R.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ge[fe]=J[fe]);var le=arguments.length-2;if(le===1)ge.children=ne;else if(1<le){for(var pe=Array(le),xe=0;xe<le;xe++)pe[xe]=arguments[xe+2];ge.children=pe}if($&&$.defaultProps)for(fe in le=$.defaultProps,le)ge[fe]===void 0&&(ge[fe]=le[fe]);return k($,ce,ge)},Pn.createRef=function(){return{current:null}},Pn.forwardRef=function($){return{$$typeof:s,render:$}},Pn.isValidElement=F,Pn.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:Z}},Pn.memo=function($,J){return{$$typeof:u,type:$,compare:J===void 0?null:J}},Pn.startTransition=function($){var J=N.T,ne={};N.T=ne;try{var fe=$(),ge=N.S;ge!==null&&ge(ne,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(O,ee)}catch(ce){ee(ce)}finally{J!==null&&ne.types!==null&&(J.types=ne.types),N.T=J}},Pn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pn.use=function($){return N.H.use($)},Pn.useActionState=function($,J,ne){return N.H.useActionState($,J,ne)},Pn.useCallback=function($,J){return N.H.useCallback($,J)},Pn.useContext=function($){return N.H.useContext($)},Pn.useDebugValue=function(){},Pn.useDeferredValue=function($,J){return N.H.useDeferredValue($,J)},Pn.useEffect=function($,J){return N.H.useEffect($,J)},Pn.useEffectEvent=function($){return N.H.useEffectEvent($)},Pn.useId=function(){return N.H.useId()},Pn.useImperativeHandle=function($,J,ne){return N.H.useImperativeHandle($,J,ne)},Pn.useInsertionEffect=function($,J){return N.H.useInsertionEffect($,J)},Pn.useLayoutEffect=function($,J){return N.H.useLayoutEffect($,J)},Pn.useMemo=function($,J){return N.H.useMemo($,J)},Pn.useOptimistic=function($,J){return N.H.useOptimistic($,J)},Pn.useReducer=function($,J,ne){return N.H.useReducer($,J,ne)},Pn.useRef=function($){return N.H.useRef($)},Pn.useState=function($){return N.H.useState($)},Pn.useSyncExternalStore=function($,J,ne){return N.H.useSyncExternalStore($,J,ne)},Pn.useTransition=function(){return N.H.useTransition()},Pn.version="19.2.3",Pn}var z4;function T_(){return z4||(z4=1,pR.exports=QQ()),pR.exports}var B=T_();const he=Mr(B),xL=KQ({__proto__:null,default:he},[B]);var mR={exports:{}},sb={},gR={exports:{}},vR={};var H4;function eee(){return H4||(H4=1,(function(t){function e(H,q){var Z=H.length;H.push(q);e:for(;0<Z;){var ee=Z-1>>>1,ae=H[ee];if(0<i(ae,q))H[ee]=q,H[Z]=ae,Z=ee;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],Z=H.pop();if(Z!==q){H[0]=Z;e:for(var ee=0,ae=H.length,$=ae>>>1;ee<$;){var J=2*(ee+1)-1,ne=H[J],fe=J+1,ge=H[fe];if(0>i(ne,Z))fe<ae&&0>i(ge,ne)?(H[ee]=ge,H[fe]=Z,ee=fe):(H[ee]=ne,H[J]=Z,ee=J);else if(fe<ae&&0>i(ge,Z))H[ee]=ge,H[fe]=Z,ee=fe;else break e}}return q}function i(H,q){var Z=H.sortIndex-q.sortIndex;return Z!==0?Z:H.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,h=null,g=3,y=!1,b=!1,_=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function T(H){if(_=!1,C(H),!b)if(n(l)!==null)b=!0,O||(O=!0,G());else{var q=n(u);q!==null&&K(T,q.startTime-H)}}var O=!1,N=-1,R=5,k=-1;function z(){return x?!0:!(t.unstable_now()-k<R)}function F(){if(x=!1,O){var H=t.unstable_now();k=H;var q=!0;try{e:{b=!1,_&&(_=!1,E(N),N=-1),y=!0;var Z=g;try{t:{for(C(H),h=n(l);h!==null&&!(h.expirationTime>H&&z());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,g=h.priorityLevel;var ae=ee(h.expirationTime<=H);if(H=t.unstable_now(),typeof ae=="function"){h.callback=ae,C(H),q=!0;break t}h===n(l)&&r(l),C(H)}else r(l);h=n(l)}if(h!==null)q=!0;else{var $=n(u);$!==null&&K(T,$.startTime-H),q=!1}}break e}finally{h=null,g=Z,y=!1}q=void 0}}finally{q?G():O=!1}}}var G;if(typeof A=="function")G=function(){A(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=F,G=function(){W.postMessage(null)}}else G=function(){w(F,0)};function K(H,q){N=w(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var Z=g;g=q;try{return H()}finally{g=Z}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=g;g=H;try{return q()}finally{g=Z}},t.unstable_scheduleCallback=function(H,q,Z){var ee=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ee+Z:ee):Z=ee,H){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,H={id:d++,callback:q,priorityLevel:H,startTime:Z,expirationTime:ae,sortIndex:-1},Z>ee?(H.sortIndex=Z,e(u,H),n(l)===null&&H===n(u)&&(_?(E(N),N=-1):_=!0,K(T,Z-ee))):(H.sortIndex=ae,e(l,H),b||y||(b=!0,O||(O=!0,G()))),H},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(H){var q=g;return function(){var Z=g;g=q;try{return H.apply(this,arguments)}finally{g=Z}}}})(vR)),vR}var V4;function w7(){return V4||(V4=1,gR.exports=eee()),gR.exports}var yR={exports:{}},vo={};var G4;function tee(){if(G4)return vo;G4=1;var t=T_();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return vo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vo.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,d)},vo.flushSync=function(l){var u=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=d,r.d.f()}},vo.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},vo.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},vo.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=s(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},vo.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=s(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},vo.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=s(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},vo.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=s(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},vo.requestFormReset=function(l){r.d.r(l)},vo.unstable_batchedUpdates=function(l,u){return l(u)},vo.useFormState=function(l,u,d){return o.H.useFormState(l,u,d)},vo.useFormStatus=function(){return o.H.useHostTransitionStatus()},vo.version="19.2.3",vo}var $4;function M7(){if($4)return yR.exports;$4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yR.exports=tee(),yR.exports}var W4;function nee(){if(W4)return sb;W4=1;var t=w7(),e=T_(),n=M7();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function o(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function s(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(a(c)!==c)throw Error(r(188))}function u(c){var f=c.alternate;if(!f){if(f=a(c),f===null)throw Error(r(188));return f!==c?null:c}for(var v=c,S=f;;){var D=v.return;if(D===null)break;var L=D.alternate;if(L===null){if(S=D.return,S!==null){v=S;continue}break}if(D.child===L.child){for(L=D.child;L;){if(L===v)return l(D),c;if(L===S)return l(D),f;L=L.sibling}throw Error(r(188))}if(v.return!==S.return)v=D,S=L;else{for(var Y=!1,se=D.child;se;){if(se===v){Y=!0,v=D,S=L;break}if(se===S){Y=!0,S=D,v=L;break}se=se.sibling}if(!Y){for(se=L.child;se;){if(se===v){Y=!0,v=L,S=D;break}if(se===S){Y=!0,S=L,v=D;break}se=se.sibling}if(!Y)throw Error(r(189))}}if(v.alternate!==S)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?c:f}function d(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=d(c),f!==null)return f;c=c.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function W(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case _:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList";case k:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case A:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case C:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case N:return f=c.displayName||null,f!==null?f:W(c.type)||"Memo";case R:f=c._payload,c=c._init;try{return W(c(f))}catch{}}return null}var K=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ee=[],ae=-1;function $(c){return{current:c}}function J(c){0>ae||(c.current=ee[ae],ee[ae]=null,ae--)}function ne(c,f){ae++,ee[ae]=c.current,c.current=f}var fe=$(null),ge=$(null),ce=$(null),le=$(null);function pe(c,f){switch(ne(ce,f),ne(ge,c),ne(fe,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?s4(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=s4(f),c=l4(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}J(fe),ne(fe,c)}function xe(){J(fe),J(ge),J(ce)}function Oe(c){c.memoizedState!==null&&ne(le,c);var f=fe.current,v=l4(f,c.type);f!==v&&(ne(ge,c),ne(fe,v))}function _e(c){ge.current===c&&(J(fe),J(ge)),le.current===c&&(J(le),nb._currentValue=Z)}var ve,Qe;function Ee(c){if(ve===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);ve=f&&f[1]||"",Qe=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+c+Qe}var Fe=!1;function Ne(c,f){if(!c||Fe)return"";Fe=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(st){var Je=st}Reflect.construct(c,[],yt)}else{try{yt.call()}catch(st){Je=st}c.call(yt.prototype)}}else{try{throw Error()}catch(st){Je=st}(yt=c())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(st){if(st&&Je&&typeof st.stack=="string")return[st.stack,Je.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),Y=L[0],se=L[1];if(Y&&se){var Me=Y.split(`
`),Xe=se.split(`
`);for(D=S=0;S<Me.length&&!Me[S].includes("DetermineComponentFrameRoot");)S++;for(;D<Xe.length&&!Xe[D].includes("DetermineComponentFrameRoot");)D++;if(S===Me.length||D===Xe.length)for(S=Me.length-1,D=Xe.length-1;1<=S&&0<=D&&Me[S]!==Xe[D];)D--;for(;1<=S&&0<=D;S--,D--)if(Me[S]!==Xe[D]){if(S!==1||D!==1)do if(S--,D--,0>D||Me[S]!==Xe[D]){var ht=`
`+Me[S].replace(" at new "," at ");return c.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",c.displayName)),ht}while(1<=S&&0<=D);break}}}finally{Fe=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?Ee(v):""}function Ge(c,f){switch(c.tag){case 26:case 27:case 5:return Ee(c.type);case 16:return Ee("Lazy");case 13:return c.child!==f&&f!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Ne(c.type,!1);case 11:return Ne(c.type.render,!1);case 1:return Ne(c.type,!0);case 31:return Ee("Activity");default:return""}}function ie(c){try{var f="",v=null;do f+=Ge(c,v),v=c,c=c.return;while(c);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var et=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,Be=t.unstable_cancelCallback,He=t.unstable_shouldYield,re=t.unstable_requestPaint,X=t.unstable_now,ye=t.unstable_getCurrentPriorityLevel,je=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,ke=t.unstable_NormalPriority,ut=t.unstable_LowPriority,lt=t.unstable_IdlePriority,Tt=t.log,Dt=t.unstable_setDisableYieldValue,Ye=null,$e=null;function rt(c){if(typeof Tt=="function"&&Dt(c),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ye,c)}catch{}}var me=Math.clz32?Math.clz32:be,Le=Math.log,dt=Math.LN2;function be(c){return c>>>=0,c===0?32:31-(Le(c)/dt|0)|0}var Ae=256,it=262144,Pt=4194304;function ct(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Ce(c,f,v){var S=c.pendingLanes;if(S===0)return 0;var D=0,L=c.suspendedLanes,Y=c.pingedLanes;c=c.warmLanes;var se=S&134217727;return se!==0?(S=se&~L,S!==0?D=ct(S):(Y&=se,Y!==0?D=ct(Y):v||(v=se&~c,v!==0&&(D=ct(v))))):(se=S&~L,se!==0?D=ct(se):Y!==0?D=ct(Y):v||(v=S&~c,v!==0&&(D=ct(v)))),D===0?0:f!==0&&f!==D&&(f&L)===0&&(L=D&-D,v=f&-f,L>=v||L===32&&(v&4194048)!==0)?f:D}function gt(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Et(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var c=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),c}function $t(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function rn(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function hn(c,f,v,S,D,L){var Y=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var se=c.entanglements,Me=c.expirationTimes,Xe=c.hiddenUpdates;for(v=Y&~v;0<v;){var ht=31-me(v),yt=1<<ht;se[ht]=0,Me[ht]=-1;var Je=Xe[ht];if(Je!==null)for(Xe[ht]=null,ht=0;ht<Je.length;ht++){var st=Je[ht];st!==null&&(st.lane&=-536870913)}v&=~yt}S!==0&&Jn(c,S,0),L!==0&&D===0&&c.tag!==0&&(c.suspendedLanes|=L&~(Y&~f))}function Jn(c,f,v){c.pendingLanes|=f,c.suspendedLanes&=~f;var S=31-me(f);c.entangledLanes|=f,c.entanglements[S]=c.entanglements[S]|1073741824|v&261930}function rr(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var S=31-me(v),D=1<<S;D&f|c[S]&f&&(c[S]|=f),v&=~D}}function gr(c,f){var v=f&-f;return v=(v&42)!==0?1:Zr(v),(v&(c.suspendedLanes|f))!==0?0:v}function Zr(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function hr(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function kr(){var c=q.p;return c!==0?c:(c=window.event,c===void 0?32:P4(c.type))}function an(c,f){var v=q.p;try{return q.p=c,f()}finally{q.p=v}}var vr=Math.random().toString(36).slice(2),ur="__reactFiber$"+vr,te="__reactProps$"+vr,ue="__reactContainer$"+vr,we="__reactEvents$"+vr,We="__reactListeners$"+vr,tt="__reactHandles$"+vr,at="__reactResources$"+vr,At="__reactMarker$"+vr;function St(c){delete c[ur],delete c[te],delete c[we],delete c[We],delete c[tt]}function It(c){var f=c[ur];if(f)return f;for(var v=c.parentNode;v;){if(f=v[ue]||v[ur]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(c=m4(c);c!==null;){if(v=c[ur])return v;c=m4(c)}return f}c=v,v=c.parentNode}return null}function Nt(c){if(c=c[ur]||c[ue]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function kt(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function Q(c){var f=c[at];return f||(f=c[at]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Se(c){c[At]=!0}var De=new Set,Re={};function Pe(c,f){ft(c,f),ft(c+"Capture",f)}function ft(c,f){for(Re[c]=f,c=0;c<f.length;c++)De.add(f[c])}var bt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},_t={};function zt(c){return et.call(_t,c)?!0:et.call(xt,c)?!1:bt.test(c)?_t[c]=!0:(xt[c]=!0,!1)}function jt(c,f,v){if(zt(f))if(v===null)c.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+v)}}function tn(c,f,v){if(v===null)c.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+v)}}function Ot(c,f,v,S){if(S===null)c.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(v);return}c.setAttributeNS(f,v,""+S)}}function Kt(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Cn(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Qn(c,f,v){var S=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var D=S.get,L=S.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return D.call(this)},set:function(Y){v=""+Y,L.call(this,Y)}}),Object.defineProperty(c,f,{enumerable:S.enumerable}),{getValue:function(){return v},setValue:function(Y){v=""+Y},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function cn(c){if(!c._valueTracker){var f=Cn(c)?"checked":"value";c._valueTracker=Qn(c,f,""+c[f])}}function qt(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var v=f.getValue(),S="";return c&&(S=Cn(c)?c.checked?"true":"false":c.value),c=S,c!==v?(f.setValue(c),!0):!1}function wt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var _n=/[\n"\\]/g;function Lt(c){return c.replace(_n,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function fr(c,f,v,S,D,L,Y,se){c.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?c.type=Y:c.removeAttribute("type"),f!=null?Y==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Kt(f)):c.value!==""+Kt(f)&&(c.value=""+Kt(f)):Y!=="submit"&&Y!=="reset"||c.removeAttribute("value"),f!=null?zn(c,Y,Kt(f)):v!=null?zn(c,Y,Kt(v)):S!=null&&c.removeAttribute("value"),D==null&&L!=null&&(c.defaultChecked=!!L),D!=null&&(c.checked=D&&typeof D!="function"&&typeof D!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?c.name=""+Kt(se):c.removeAttribute("name")}function Cr(c,f,v,S,D,L,Y,se){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(c.type=L),f!=null||v!=null){if(!(L!=="submit"&&L!=="reset"||f!=null)){cn(c);return}v=v!=null?""+Kt(v):"",f=f!=null?""+Kt(f):v,se||f===c.value||(c.value=f),c.defaultValue=f}S=S??D,S=typeof S!="function"&&typeof S!="symbol"&&!!S,c.checked=se?c.checked:!!S,c.defaultChecked=!!S,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(c.name=Y),cn(c)}function zn(c,f,v){f==="number"&&wt(c.ownerDocument)===c||c.defaultValue===""+v||(c.defaultValue=""+v)}function Rr(c,f,v,S){if(c=c.options,f){f={};for(var D=0;D<v.length;D++)f["$"+v[D]]=!0;for(v=0;v<c.length;v++)D=f.hasOwnProperty("$"+c[v].value),c[v].selected!==D&&(c[v].selected=D),D&&S&&(c[v].defaultSelected=!0)}else{for(v=""+Kt(v),f=null,D=0;D<c.length;D++){if(c[D].value===v){c[D].selected=!0,S&&(c[D].defaultSelected=!0);return}f!==null||c[D].disabled||(f=c[D])}f!==null&&(f.selected=!0)}}function Wn(c,f,v){if(f!=null&&(f=""+Kt(f),f!==c.value&&(c.value=f),v==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=v!=null?""+Kt(v):""}function Lr(c,f,v,S){if(f==null){if(S!=null){if(v!=null)throw Error(r(92));if(K(S)){if(1<S.length)throw Error(r(93));S=S[0]}v=S}v==null&&(v=""),f=v}v=Kt(f),c.defaultValue=v,S=c.textContent,S===v&&S!==""&&S!==null&&(c.value=S),cn(c)}function Li(c,f){if(f){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=f;return}}c.textContent=f}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ja(c,f,v){var S=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":S?c.setProperty(f,v):typeof v!="number"||v===0||Jr.has(f)?f==="float"?c.cssFloat=v:c[f]=(""+v).trim():c[f]=v+"px"}function ao(c,f,v){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?c.setProperty(S,""):S==="float"?c.cssFloat="":c[S]="");for(var D in f)S=f[D],f.hasOwnProperty(D)&&v[D]!==S&&ja(c,D,S)}else for(var L in f)f.hasOwnProperty(L)&&ja(c,L,f[L])}function Ro(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(c){return Pc.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Aa(){}var Ks=null;function Uu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Oo=null,Qo=null;function Bu(c){var f=Nt(c);if(f&&(c=f.stateNode)){var v=c[te]||null;e:switch(c=f.stateNode,f.type){case"input":if(fr(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Lt(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var S=v[f];if(S!==c&&S.form===c.form){var D=S[te]||null;if(!D)throw Error(r(90));fr(S,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(f=0;f<v.length;f++)S=v[f],S.form===c.form&&qt(S)}break e;case"textarea":Wn(c,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&Rr(c,!!v.multiple,f,!1)}}}var Fu=!1;function Dc(c,f,v){if(Fu)return c(f,v);Fu=!0;try{var S=c(f);return S}finally{if(Fu=!1,(Oo!==null||Qo!==null)&&(Ds(),Oo&&(f=Oo,c=Qo,Qo=Oo=null,Bu(f),c)))for(f=0;f<c.length;f++)Bu(c[f])}}function Zs(c,f){var v=c.stateNode;if(v===null)return null;var S=v[te]||null;if(S===null)return null;v=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(r(231,f,typeof v));return v}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(Po)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){za=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{za=!1}var Ta=null,ju=null,Es=null;function Ic(){if(Es)return Es;var c,f=ju,v=f.length,S,D="value"in Ta?Ta.value:Ta.textContent,L=D.length;for(c=0;c<v&&f[c]===D[c];c++);var Y=v-c;for(S=1;S<=Y&&f[v-S]===D[L-S];S++);return Es=D.slice(c,1<S?1-S:void 0)}function Nc(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function es(){return!0}function kc(){return!1}function Qr(c){function f(v,S,D,L,Y){this._reactName=v,this._targetInst=D,this.type=S,this.nativeEvent=L,this.target=Y,this.currentTarget=null;for(var se in c)c.hasOwnProperty(se)&&(v=c[se],this[se]=v?v(L):L[se]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?es:kc,this.isPropagationStopped=kc,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),f}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Qr(As),Qs=h({},As,{view:0,detail:0}),Lc=Qr(Qs),Uc,el,tl,Ui=h({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Om,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==tl&&(tl&&c.type==="mousemove"?(Uc=c.screenX-tl.screenX,el=c.screenY-tl.screenY):el=Uc=0,tl=c),Uc)},movementY:function(c){return"movementY"in c?c.movementY:el}}),Mh=Qr(Ui),zu=h({},Ui,{dataTransfer:0}),Hu=Qr(zu),Zf=h({},Qs,{relatedTarget:0}),Jf=Qr(Zf),da=h({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Qr(da),Ca=h({},As,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Ts=Qr(Ca),Bc=h({},As,{data:0}),Cm=Qr(Bc),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=a1[c])?!!f[c]:!1}function Om(){return Hy}var o1=h({},Qs,{key:function(c){if(c.key){var f=Rm[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=Nc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?i1[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Om,charCode:function(c){return c.type==="keypress"?Nc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Nc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Vu=Qr(o1),Pm=h({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=Qr(Pm),Gy=h({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Om}),s1=Qr(Gy),l1=h({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=Qr(l1),ha=h({},Ui,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),c1=Qr(ha),u1=h({},As,{newState:0,oldState:0}),f1=Qr(u1),d1=[9,13,27,32],Gu=Po&&"CompositionEvent"in window,Qf=null;Po&&"documentMode"in document&&(Qf=document.documentMode);var Dm=Po&&"TextEvent"in window&&!Qf,$y=Po&&(!Gu||Qf&&8<Qf&&11>=Qf),h1=" ",Eh=!1;function Im(c,f){switch(c){case"keyup":return d1.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var $u=!1;function p1(c,f){switch(c){case"compositionend":return Wy(f);case"keypress":return f.which!==32?null:(Eh=!0,h1);case"textInput":return c=f.data,c===h1&&Eh?null:c;default:return null}}function qy(c,f){if($u)return c==="compositionend"||!Gu&&Im(c,f)?(c=Ic(),Es=ju=Ta=null,$u=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return $y&&f.locale!=="ko"?null:f.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yy(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Xy[c.type]:f==="textarea"}function Nm(c,f,v,S){Oo?Qo?Qo.push(S):Qo=[S]:Oo=S,f=bS(f,"onChange"),0<f.length&&(v=new zl("onChange","change",null,v,S),c.push({event:v,listeners:f}))}var Fc=null,Wu=null;function m1(c){t4(c,0)}function ed(c){var f=kt(c);if(qt(f))return c}function Ky(c,f){if(c==="change")return f}var nl=!1;if(Po){var Ah;if(Po){var Zy="oninput"in document;if(!Zy){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Zy=typeof Jy.oninput=="function"}Ah=Zy}else Ah=!1;nl=Ah&&(!document.documentMode||9<document.documentMode)}function ts(){Fc&&(Fc.detachEvent("onpropertychange",Th),Wu=Fc=null)}function Th(c){if(c.propertyName==="value"&&ed(Wu)){var f=[];Nm(f,Wu,c,Uu(c)),Dc(m1,f)}}function g1(c,f,v){c==="focusin"?(ts(),Fc=f,Wu=v,Fc.attachEvent("onpropertychange",Th)):c==="focusout"&&ts()}function Qy(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ed(Wu)}function v1(c,f){if(c==="click")return ed(f)}function y1(c,f){if(c==="input"||c==="change")return ed(f)}function e0(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ha=typeof Object.is=="function"?Object.is:e0;function td(c,f){if(Ha(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var D=v[S];if(!et.call(f,D)||!Ha(c[D],f[D]))return!1}return!0}function Ch(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function nd(c,f){var v=Ch(c);c=0;for(var S;v;){if(v.nodeType===3){if(S=c+v.textContent.length,c<=f&&S>=f)return{node:v,offset:f-c};c=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Ch(v)}}function jr(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?jr(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function b1(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=wt(c.document);f instanceof c.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)c=f.contentWindow;else break;f=wt(c.document)}return f}function t0(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var x1=Po&&"documentMode"in document&&11>=document.documentMode,rl=null,il=null,rd=null,km=!1;function id(c,f,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;km||rl==null||rl!==wt(S)||(S=rl,"selectionStart"in S&&t0(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),rd&&td(rd,S)||(rd=S,S=bS(il,"onSelect"),0<S.length&&(f=new zl("onSelect","select",null,f,v),c.push({event:f,listeners:S}),f.target=rl)))}function Ra(c,f){var v={};return v[c.toLowerCase()]=f.toLowerCase(),v["Webkit"+c]="webkit"+f,v["Moz"+c]="moz"+f,v}var qu={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Rh={},n0={};Po&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function Hl(c){if(Rh[c])return Rh[c];if(!qu[c])return c;var f=qu[c],v;for(v in f)if(f.hasOwnProperty(v)&&v in n0)return Rh[c]=f[v];return c}var Lm=Hl("animationend"),Oh=Hl("animationiteration"),r0=Hl("animationstart"),_1=Hl("transitionrun"),LC=Hl("transitionstart"),S1=Hl("transitioncancel"),i0=Hl("transitionend"),ns=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function rs(c,f){ns.set(c,f),Pe(f,[c])}var Dh=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},is=[],Vl=0,na=0;function Ih(){for(var c=Vl,f=na=Vl=0;f<c;){var v=is[f];is[f++]=null;var S=is[f];is[f++]=null;var D=is[f];is[f++]=null;var L=is[f];if(is[f++]=null,S!==null&&D!==null){var Y=S.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),S.pending=D}L!==0&&jc(v,D,L)}}function ra(c,f,v,S){is[Vl++]=c,is[Vl++]=f,is[Vl++]=v,is[Vl++]=S,na|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function Um(c,f,v,S){return ra(c,f,v,S),as(c)}function Va(c,f){return ra(c,null,null,f),as(c)}function jc(c,f,v){c.lanes|=v;var S=c.alternate;S!==null&&(S.lanes|=v);for(var D=!1,L=c.return;L!==null;)L.childLanes|=v,S=L.alternate,S!==null&&(S.childLanes|=v),L.tag===22&&(c=L.stateNode,c===null||c._visibility&1||(D=!0)),c=L,L=L.return;return c.tag===3?(L=c.stateNode,D&&f!==null&&(D=31-me(v),c=L.hiddenUpdates,S=c[D],S===null?c[D]=[f]:S.push(f),f.lane=v|536870912),L):null}function as(c){if(50<au)throw au=0,hf=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var zc={};function a0(c,f,v,S){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(c,f,v,S){return new a0(c,f,v,S)}function Bm(c){return c=c.prototype,!(!c||!c.isReactComponent)}function oo(c,f){var v=c.alternate;return v===null?(v=ui(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function ad(c,f){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,f=v.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function al(c,f,v,S,D,L){var Y=0;if(S=c,typeof c=="function")Bm(c)&&(Y=1);else if(typeof c=="string")Y=BQ(c,v,fe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case k:return c=ui(31,v,f,D),c.elementType=k,c.lanes=L,c;case _:return Hc(v.children,D,L,f);case x:Y=8,D|=24;break;case w:return c=ui(12,v,f,D|2),c.elementType=w,c.lanes=L,c;case T:return c=ui(13,v,f,D),c.elementType=T,c.lanes=L,c;case O:return c=ui(19,v,f,D),c.elementType=O,c.lanes=L,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:Y=10;break e;case E:Y=9;break e;case C:Y=11;break e;case N:Y=14;break e;case R:Y=16,S=null;break e}Y=29,v=Error(r(130,c===null?"null":typeof c,"")),S=null}return f=ui(Y,v,f,D),f.elementType=c,f.type=S,f.lanes=L,f}function Hc(c,f,v,S){return c=ui(7,c,S,f),c.lanes=v,c}function Fm(c,f,v){return c=ui(6,c,null,f),c.lanes=v,c}function od(c){var f=ui(18,null,null,0);return f.stateNode=c,f}function jm(c,f,v){return f=ui(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Nh=new WeakMap;function Io(c,f){if(typeof c=="object"&&c!==null){var v=Nh.get(c);return v!==void 0?v:(f={value:c,source:f,stack:ie(f)},Nh.set(c,f),f)}return{value:c,source:f,stack:ie(f)}}var Vc=[],Gc=0,sd=null,ld=0,so=[],ei=0,Gl=null,fi=1,Cs="";function ol(c,f){Vc[Gc++]=ld,Vc[Gc++]=sd,sd=c,ld=f}function w1(c,f,v){so[ei++]=fi,so[ei++]=Cs,so[ei++]=Gl,Gl=c;var S=fi;c=Cs;var D=32-me(S)-1;S&=~(1<<D),v+=1;var L=32-me(f)+D;if(30<L){var Y=D-D%5;L=(S&(1<<Y)-1).toString(32),S>>=Y,D-=Y,fi=1<<32-me(f)+D|v<<D|S,Cs=L+c}else fi=1<<L|v<<D|S,Cs=c}function sl(c){c.return!==null&&(ol(c,1),w1(c,1,0))}function zm(c){for(;c===sd;)sd=Vc[--Gc],Vc[Gc]=null,ld=Vc[--Gc],Vc[Gc]=null;for(;c===Gl;)Gl=so[--ei],so[ei]=null,Cs=so[--ei],so[ei]=null,fi=so[--ei],so[ei]=null}function Hm(c,f){so[ei++]=fi,so[ei++]=Cs,so[ei++]=Gl,fi=f.id,Cs=f.overflow,Gl=c}var bi=null,zr=null,er=!1,$l=null,No=!1,cd=Error(r(519));function ll(c){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Io(f,c)),cd}function M1(c){var f=c.stateNode,v=c.type,S=c.memoizedProps;switch(f[ur]=c,f[te]=S,v){case"dialog":ar("cancel",f),ar("close",f);break;case"iframe":case"object":case"embed":ar("load",f);break;case"video":case"audio":for(v=0;v<ys.length;v++)ar(ys[v],f);break;case"source":ar("error",f);break;case"img":case"image":case"link":ar("error",f),ar("load",f);break;case"details":ar("toggle",f);break;case"input":ar("invalid",f),Cr(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":ar("invalid",f);break;case"textarea":ar("invalid",f),Lr(f,S.value,S.defaultValue,S.children)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||S.suppressHydrationWarning===!0||a4(f.textContent,v)?(S.popover!=null&&(ar("beforetoggle",f),ar("toggle",f)),S.onScroll!=null&&ar("scroll",f),S.onScrollEnd!=null&&ar("scrollend",f),S.onClick!=null&&(f.onclick=Aa),f=!0):f=!1,f||ll(c,!0)}function E1(c){for(bi=c.return;bi;)switch(bi.tag){case 5:case 31:case 13:No=!1;return;case 27:case 3:No=!0;return;default:bi=bi.return}}function ud(c){if(c!==bi)return!1;if(!er)return E1(c),er=!0,!1;var f=c.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=c.type,v=!(v!=="form"&&v!=="button")||JC(c.type,c.memoizedProps)),v=!v),v&&zr&&ll(c),E1(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));zr=p4(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));zr=p4(c)}else f===27?(f=zr,Od(c.type)?(c=rR,rR=null,zr=c):zr=f):zr=bi?wl(c.stateNode.nextSibling):null;return!0}function $c(){zr=bi=null,er=!1}function Vm(){var c=$l;return c!==null&&(_i===null?_i=c:_i.push.apply(_i,c),$l=null),c}function cl(c){$l===null?$l=[c]:$l.push(c)}var fd=$(null),Wc=null,ul=null;function Wl(c,f,v){ne(fd,f._currentValue),f._currentValue=v}function fl(c){c._currentValue=fd.current,J(fd)}function Gm(c,f,v){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===v)break;c=c.return}}function $m(c,f,v,S){var D=c.child;for(D!==null&&(D.return=c);D!==null;){var L=D.dependencies;if(L!==null){var Y=D.child;L=L.firstContext;e:for(;L!==null;){var se=L;L=D;for(var Me=0;Me<f.length;Me++)if(se.context===f[Me]){L.lanes|=v,se=L.alternate,se!==null&&(se.lanes|=v),Gm(L.return,v,c),S||(Y=null);break e}L=se.next}}else if(D.tag===18){if(Y=D.return,Y===null)throw Error(r(341));Y.lanes|=v,L=Y.alternate,L!==null&&(L.lanes|=v),Gm(Y,v,c),Y=null}else Y=D.child;if(Y!==null)Y.return=D;else for(Y=D;Y!==null;){if(Y===c){Y=null;break}if(D=Y.sibling,D!==null){D.return=Y.return,Y=D;break}Y=Y.return}D=Y}}function dl(c,f,v,S){c=null;for(var D=f,L=!1;D!==null;){if(!L){if((D.flags&524288)!==0)L=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var Y=D.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var se=D.type;Ha(D.pendingProps.value,Y.value)||(c!==null?c.push(se):c=[se])}}else if(D===le.current){if(Y=D.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(c!==null?c.push(nb):c=[nb])}D=D.return}c!==null&&$m(f,c,v,S),f.flags|=262144}function kh(c){for(c=c.firstContext;c!==null;){if(!Ha(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function qc(c){Wc=c,ul=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function yn(c){return A1(Wc,c)}function dd(c,f){return Wc===null&&qc(c),A1(c,f)}function A1(c,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},ul===null){if(c===null)throw Error(r(308));ul=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ul=ul.next=f;return v}var T1=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(v,S){c.push(S)}};this.abort=function(){f.aborted=!0,c.forEach(function(v){return v()})}},UC=t.unstable_scheduleCallback,BC=t.unstable_NormalPriority,Bi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o0(){return{controller:new T1,data:new Map,refCount:0}}function Xu(c){c.refCount--,c.refCount===0&&UC(BC,function(){c.controller.abort()})}var ko=null,Wm=0,ql=0,os=null;function s0(c,f){if(ko===null){var v=ko=[];Wm=0,ql=nt(),os={status:"pending",value:void 0,then:function(S){v.push(S)}}}return Wm++,f.then(l0,l0),f}function l0(){if(--Wm===0&&ko!==null){os!==null&&(os.status="fulfilled");var c=ko;ko=null,ql=0,os=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function c0(c,f){var v=[],S={status:"pending",value:null,reason:null,then:function(D){v.push(D)}};return c.then(function(){S.status="fulfilled",S.value=f;for(var D=0;D<v.length;D++)(0,v[D])(f)},function(D){for(S.status="rejected",S.reason=D,D=0;D<v.length;D++)(0,v[D])(void 0)}),S}var C1=H.S;H.S=function(c,f){K0=X(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&s0(c,f),C1!==null&&C1(c,f)};var Xc=$(null);function qm(){var c=Xc.current;return c!==null?c:Mn.pooledCache}function Lh(c,f){f===null?ne(Xc,Xc.current):ne(Xc,f.pool)}function u0(){var c=qm();return c===null?null:{parent:Bi._currentValue,pool:c}}var Yu=Error(r(460)),Uh=Error(r(474)),Ln=Error(r(542)),Xm={then:function(){}};function lo(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ym(c,f,v){switch(v=c[v],v===void 0?c.push(f):v!==f&&(f.then(Aa,Aa),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Ju(c),c;default:if(typeof f.status=="string")f.then(Aa,Aa);else{if(c=Mn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(S){if(f.status==="pending"){var D=f;D.status="fulfilled",D.value=S}},function(S){if(f.status==="pending"){var D=f;D.status="rejected",D.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Ju(c),c}throw hl=f,Yu}}function Ku(c){try{var f=c._init;return f(c._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(hl=v,Yu):v}}var hl=null;function Zu(){if(hl===null)throw Error(r(459));var c=hl;return hl=null,c}function Ju(c){if(c===Yu||c===Ln)throw Error(r(483))}var Qu=null,ef=0;function Bh(c){var f=ef;return ef+=1,Qu===null&&(Qu=[]),Ym(Qu,c,f)}function ss(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function hd(c,f){throw f.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Km(c){function f(ze,Ie){if(c){var qe=ze.deletions;qe===null?(ze.deletions=[Ie],ze.flags|=16):qe.push(Ie)}}function v(ze,Ie){if(!c)return null;for(;Ie!==null;)f(ze,Ie),Ie=Ie.sibling;return null}function S(ze){for(var Ie=new Map;ze!==null;)ze.key!==null?Ie.set(ze.key,ze):Ie.set(ze.index,ze),ze=ze.sibling;return Ie}function D(ze,Ie){return ze=oo(ze,Ie),ze.index=0,ze.sibling=null,ze}function L(ze,Ie,qe){return ze.index=qe,c?(qe=ze.alternate,qe!==null?(qe=qe.index,qe<Ie?(ze.flags|=67108866,Ie):qe):(ze.flags|=67108866,Ie)):(ze.flags|=1048576,Ie)}function Y(ze){return c&&ze.alternate===null&&(ze.flags|=67108866),ze}function se(ze,Ie,qe,vt){return Ie===null||Ie.tag!==6?(Ie=Fm(qe,ze.mode,vt),Ie.return=ze,Ie):(Ie=D(Ie,qe),Ie.return=ze,Ie)}function Me(ze,Ie,qe,vt){var fn=qe.type;return fn===_?ht(ze,Ie,qe.props.children,vt,qe.key):Ie!==null&&(Ie.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===R&&Ku(fn)===Ie.type)?(Ie=D(Ie,qe.props),ss(Ie,qe),Ie.return=ze,Ie):(Ie=al(qe.type,qe.key,qe.props,null,ze.mode,vt),ss(Ie,qe),Ie.return=ze,Ie)}function Xe(ze,Ie,qe,vt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==qe.containerInfo||Ie.stateNode.implementation!==qe.implementation?(Ie=jm(qe,ze.mode,vt),Ie.return=ze,Ie):(Ie=D(Ie,qe.children||[]),Ie.return=ze,Ie)}function ht(ze,Ie,qe,vt,fn){return Ie===null||Ie.tag!==7?(Ie=Hc(qe,ze.mode,vt,fn),Ie.return=ze,Ie):(Ie=D(Ie,qe),Ie.return=ze,Ie)}function yt(ze,Ie,qe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=Fm(""+Ie,ze.mode,qe),Ie.return=ze,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case y:return qe=al(Ie.type,Ie.key,Ie.props,null,ze.mode,qe),ss(qe,Ie),qe.return=ze,qe;case b:return Ie=jm(Ie,ze.mode,qe),Ie.return=ze,Ie;case R:return Ie=Ku(Ie),yt(ze,Ie,qe)}if(K(Ie)||G(Ie))return Ie=Hc(Ie,ze.mode,qe,null),Ie.return=ze,Ie;if(typeof Ie.then=="function")return yt(ze,Bh(Ie),qe);if(Ie.$$typeof===A)return yt(ze,dd(ze,Ie),qe);hd(ze,Ie)}return null}function Je(ze,Ie,qe,vt){var fn=Ie!==null?Ie.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return fn!==null?null:se(ze,Ie,""+qe,vt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:return qe.key===fn?Me(ze,Ie,qe,vt):null;case b:return qe.key===fn?Xe(ze,Ie,qe,vt):null;case R:return qe=Ku(qe),Je(ze,Ie,qe,vt)}if(K(qe)||G(qe))return fn!==null?null:ht(ze,Ie,qe,vt,null);if(typeof qe.then=="function")return Je(ze,Ie,Bh(qe),vt);if(qe.$$typeof===A)return Je(ze,Ie,dd(ze,qe),vt);hd(ze,qe)}return null}function st(ze,Ie,qe,vt,fn){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return ze=ze.get(qe)||null,se(Ie,ze,""+vt,fn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case y:return ze=ze.get(vt.key===null?qe:vt.key)||null,Me(Ie,ze,vt,fn);case b:return ze=ze.get(vt.key===null?qe:vt.key)||null,Xe(Ie,ze,vt,fn);case R:return vt=Ku(vt),st(ze,Ie,qe,vt,fn)}if(K(vt)||G(vt))return ze=ze.get(qe)||null,ht(Ie,ze,vt,fn,null);if(typeof vt.then=="function")return st(ze,Ie,qe,Bh(vt),fn);if(vt.$$typeof===A)return st(ze,Ie,qe,dd(Ie,vt),fn);hd(Ie,vt)}return null}function Zt(ze,Ie,qe,vt){for(var fn=null,_r=null,nn=Ie,Hn=Ie=0,lr=null;nn!==null&&Hn<qe.length;Hn++){nn.index>Hn?(lr=nn,nn=null):lr=nn.sibling;var Sr=Je(ze,nn,qe[Hn],vt);if(Sr===null){nn===null&&(nn=lr);break}c&&nn&&Sr.alternate===null&&f(ze,nn),Ie=L(Sr,Ie,Hn),_r===null?fn=Sr:_r.sibling=Sr,_r=Sr,nn=lr}if(Hn===qe.length)return v(ze,nn),er&&ol(ze,Hn),fn;if(nn===null){for(;Hn<qe.length;Hn++)nn=yt(ze,qe[Hn],vt),nn!==null&&(Ie=L(nn,Ie,Hn),_r===null?fn=nn:_r.sibling=nn,_r=nn);return er&&ol(ze,Hn),fn}for(nn=S(nn);Hn<qe.length;Hn++)lr=st(nn,ze,Hn,qe[Hn],vt),lr!==null&&(c&&lr.alternate!==null&&nn.delete(lr.key===null?Hn:lr.key),Ie=L(lr,Ie,Hn),_r===null?fn=lr:_r.sibling=lr,_r=lr);return c&&nn.forEach(function(kd){return f(ze,kd)}),er&&ol(ze,Hn),fn}function gn(ze,Ie,qe,vt){if(qe==null)throw Error(r(151));for(var fn=null,_r=null,nn=Ie,Hn=Ie=0,lr=null,Sr=qe.next();nn!==null&&!Sr.done;Hn++,Sr=qe.next()){nn.index>Hn?(lr=nn,nn=null):lr=nn.sibling;var kd=Je(ze,nn,Sr.value,vt);if(kd===null){nn===null&&(nn=lr);break}c&&nn&&kd.alternate===null&&f(ze,nn),Ie=L(kd,Ie,Hn),_r===null?fn=kd:_r.sibling=kd,_r=kd,nn=lr}if(Sr.done)return v(ze,nn),er&&ol(ze,Hn),fn;if(nn===null){for(;!Sr.done;Hn++,Sr=qe.next())Sr=yt(ze,Sr.value,vt),Sr!==null&&(Ie=L(Sr,Ie,Hn),_r===null?fn=Sr:_r.sibling=Sr,_r=Sr);return er&&ol(ze,Hn),fn}for(nn=S(nn);!Sr.done;Hn++,Sr=qe.next())Sr=st(nn,ze,Hn,Sr.value,vt),Sr!==null&&(c&&Sr.alternate!==null&&nn.delete(Sr.key===null?Hn:Sr.key),Ie=L(Sr,Ie,Hn),_r===null?fn=Sr:_r.sibling=Sr,_r=Sr);return c&&nn.forEach(function(YQ){return f(ze,YQ)}),er&&ol(ze,Hn),fn}function Gr(ze,Ie,qe,vt){if(typeof qe=="object"&&qe!==null&&qe.type===_&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case y:e:{for(var fn=qe.key;Ie!==null;){if(Ie.key===fn){if(fn=qe.type,fn===_){if(Ie.tag===7){v(ze,Ie.sibling),vt=D(Ie,qe.props.children),vt.return=ze,ze=vt;break e}}else if(Ie.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===R&&Ku(fn)===Ie.type){v(ze,Ie.sibling),vt=D(Ie,qe.props),ss(vt,qe),vt.return=ze,ze=vt;break e}v(ze,Ie);break}else f(ze,Ie);Ie=Ie.sibling}qe.type===_?(vt=Hc(qe.props.children,ze.mode,vt,qe.key),vt.return=ze,ze=vt):(vt=al(qe.type,qe.key,qe.props,null,ze.mode,vt),ss(vt,qe),vt.return=ze,ze=vt)}return Y(ze);case b:e:{for(fn=qe.key;Ie!==null;){if(Ie.key===fn)if(Ie.tag===4&&Ie.stateNode.containerInfo===qe.containerInfo&&Ie.stateNode.implementation===qe.implementation){v(ze,Ie.sibling),vt=D(Ie,qe.children||[]),vt.return=ze,ze=vt;break e}else{v(ze,Ie);break}else f(ze,Ie);Ie=Ie.sibling}vt=jm(qe,ze.mode,vt),vt.return=ze,ze=vt}return Y(ze);case R:return qe=Ku(qe),Gr(ze,Ie,qe,vt)}if(K(qe))return Zt(ze,Ie,qe,vt);if(G(qe)){if(fn=G(qe),typeof fn!="function")throw Error(r(150));return qe=fn.call(qe),gn(ze,Ie,qe,vt)}if(typeof qe.then=="function")return Gr(ze,Ie,Bh(qe),vt);if(qe.$$typeof===A)return Gr(ze,Ie,dd(ze,qe),vt);hd(ze,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ie!==null&&Ie.tag===6?(v(ze,Ie.sibling),vt=D(Ie,qe),vt.return=ze,ze=vt):(v(ze,Ie),vt=Fm(qe,ze.mode,vt),vt.return=ze,ze=vt),Y(ze)):v(ze,Ie)}return function(ze,Ie,qe,vt){try{ef=0;var fn=Gr(ze,Ie,qe,vt);return Qu=null,fn}catch(nn){if(nn===Yu||nn===Ln)throw nn;var _r=ui(29,nn,null,ze.mode);return _r.lanes=vt,_r.return=ze,_r}}}var Xl=Km(!0),Zm=Km(!1),Ga=!1;function Fh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function f0(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Yl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Yc(c,f,v){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(on&2)!==0){var D=S.pending;return D===null?f.next=f:(f.next=D.next,D.next=f),S.pending=f,f=as(c),jc(c,null,v),f}return ra(c,S,f,v),as(c)}function Kc(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,rr(c,v)}}function un(c,f){var v=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var D=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var Y={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};L===null?D=L=Y:L=L.next=Y,v=v.next}while(v!==null);L===null?D=L=f:L=L.next=f}else D=L=f;v={baseState:S.baseState,firstBaseUpdate:D,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}var d0=!1;function jh(){if(d0){var c=os;if(c!==null)throw c}}function pd(c,f,v,S){d0=!1;var D=c.updateQueue;Ga=!1;var L=D.firstBaseUpdate,Y=D.lastBaseUpdate,se=D.shared.pending;if(se!==null){D.shared.pending=null;var Me=se,Xe=Me.next;Me.next=null,Y===null?L=Xe:Y.next=Xe,Y=Me;var ht=c.alternate;ht!==null&&(ht=ht.updateQueue,se=ht.lastBaseUpdate,se!==Y&&(se===null?ht.firstBaseUpdate=Xe:se.next=Xe,ht.lastBaseUpdate=Me))}if(L!==null){var yt=D.baseState;Y=0,ht=Xe=Me=null,se=L;do{var Je=se.lane&-536870913,st=Je!==se.lane;if(st?(Nn&Je)===Je:(S&Je)===Je){Je!==0&&Je===ql&&(d0=!0),ht!==null&&(ht=ht.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Zt=c,gn=se;Je=f;var Gr=v;switch(gn.tag){case 1:if(Zt=gn.payload,typeof Zt=="function"){yt=Zt.call(Gr,yt,Je);break e}yt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=gn.payload,Je=typeof Zt=="function"?Zt.call(Gr,yt,Je):Zt,Je==null)break e;yt=h({},yt,Je);break e;case 2:Ga=!0}}Je=se.callback,Je!==null&&(c.flags|=64,st&&(c.flags|=8192),st=D.callbacks,st===null?D.callbacks=[Je]:st.push(Je))}else st={lane:Je,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ht===null?(Xe=ht=st,Me=yt):ht=ht.next=st,Y|=Je;if(se=se.next,se===null){if(se=D.shared.pending,se===null)break;st=se,se=st.next,st.next=null,D.lastBaseUpdate=st,D.shared.pending=null}}while(!0);ht===null&&(Me=yt),D.baseState=Me,D.firstBaseUpdate=Xe,D.lastBaseUpdate=ht,L===null&&(D.shared.lanes=0),xl|=Y,c.lanes=Y,c.memoizedState=yt}}function md(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function R1(c,f){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)md(v[c],f)}var gd=$(null),Jm=$(0);function O1(c,f){c=Fo,ne(Jm,c),ne(gd,f),Fo=c|f.baseLanes}function h0(){ne(Jm,Fo),ne(gd,gd.current)}function zh(){Fo=Jm.current,J(gd),J(Jm)}var co=$(null),$a=null;function Kl(c){var f=c.alternate;ne(tr,tr.current&1),ne(co,c),$a===null&&(f===null||gd.current!==null||f.memoizedState!==null)&&($a=c)}function p0(c){ne(tr,tr.current),ne(co,c),$a===null&&($a=c)}function P1(c){c.tag===22?(ne(tr,tr.current),ne(co,c),$a===null&&($a=c)):uo()}function uo(){ne(tr,tr.current),ne(co,co.current)}function Ai(c){J(co),$a===c&&($a=null),J(tr)}var tr=$(0);function Lo(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||tR(v)||nR(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ti=0,Rn=null,Or=null,qn=null,ls=!1,vd=!1,tf=!1,Qm=0,Hh=0,yd=null,m0=0;function di(){throw Error(r(321))}function g0(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!Ha(c[v],f[v]))return!1;return!0}function eg(c,f,v,S,D,L){return ti=L,Rn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,H.H=c===null||c.memoizedState===null?cS:L0,tf=!1,L=v(S,D),tf=!1,vd&&(L=nf(f,v,S,D)),D1(c),L}function D1(c){H.H=bd;var f=Or!==null&&Or.next!==null;if(ti=0,qn=Or=Rn=null,ls=!1,Hh=0,yd=null,f)throw Error(r(300));c===null||Fi||(c=c.dependencies,c!==null&&kh(c)&&(Fi=!0))}function nf(c,f,v,S){Rn=c;var D=0;do{if(vd&&(yd=null),Hh=0,vd=!1,25<=D)throw Error(r(301));if(D+=1,qn=Or=null,c.updateQueue!=null){var L=c.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}H.H=cs,L=f(v,S)}while(vd);return L}function rf(){var c=H.H,f=c.useState()[0];return f=typeof f.then=="function"?Vh(f):f,c=c.useState()[0],(Or!==null?Or.memoizedState:null)!==c&&(Rn.flags|=1024),f}function v0(){var c=Qm!==0;return Qm=0,c}function y0(c,f,v){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~v}function b0(c){if(ls){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ls=!1}ti=0,qn=Or=Rn=null,vd=!1,Hh=Qm=0,yd=null}function qi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Rn.memoizedState=qn=c:qn=qn.next=c,qn}function Ti(){if(Or===null){var c=Rn.alternate;c=c!==null?c.memoizedState:null}else c=Or.next;var f=qn===null?Rn.memoizedState:qn.next;if(f!==null)qn=f,Or=c;else{if(c===null)throw Rn.alternate===null?Error(r(467)):Error(r(310));Or=c,c={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},qn===null?Rn.memoizedState=qn=c:qn=qn.next=c}return qn}function tg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vh(c){var f=Hh;return Hh+=1,yd===null&&(yd=[]),c=Ym(yd,c,f),f=Rn,(qn===null?f.memoizedState:qn.next)===null&&(f=f.alternate,H.H=f===null||f.memoizedState===null?cS:L0),c}function Zc(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Vh(c);if(c.$$typeof===A)return yn(c)}throw Error(r(438,String(c)))}function x0(c){var f=null,v=Rn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var S=Rn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(D){return D.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=tg(),Rn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(c),S=0;S<c;S++)v[S]=z;return f.index++,v}function Zl(c,f){return typeof f=="function"?f(c):f}function ng(c){var f=Ti();return _0(f,Or,c)}function _0(c,f,v){var S=c.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=v;var D=c.baseQueue,L=S.pending;if(L!==null){if(D!==null){var Y=D.next;D.next=L.next,L.next=Y}f.baseQueue=D=L,S.pending=null}if(L=c.baseState,D===null)c.memoizedState=L;else{f=D.next;var se=Y=null,Me=null,Xe=f,ht=!1;do{var yt=Xe.lane&-536870913;if(yt!==Xe.lane?(Nn&yt)===yt:(ti&yt)===yt){var Je=Xe.revertLane;if(Je===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),yt===ql&&(ht=!0);else if((ti&Je)===Je){Xe=Xe.next,Je===ql&&(ht=!0);continue}else yt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Me===null?(se=Me=yt,Y=L):Me=Me.next=yt,Rn.lanes|=Je,xl|=Je;yt=Xe.action,tf&&v(L,yt),L=Xe.hasEagerState?Xe.eagerState:v(L,yt)}else Je={lane:yt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Me===null?(se=Me=Je,Y=L):Me=Me.next=Je,Rn.lanes|=yt,xl|=yt;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(Me===null?Y=L:Me.next=se,!Ha(L,c.memoizedState)&&(Fi=!0,ht&&(v=os,v!==null)))throw v;c.memoizedState=L,c.baseState=Y,c.baseQueue=Me,S.lastRenderedState=L}return D===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function S0(c){var f=Ti(),v=f.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var S=v.dispatch,D=v.pending,L=f.memoizedState;if(D!==null){v.pending=null;var Y=D=D.next;do L=c(L,Y.action),Y=Y.next;while(Y!==D);Ha(L,f.memoizedState)||(Fi=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),v.lastRenderedState=L}return[L,S]}function I1(c,f,v){var S=Rn,D=Ti(),L=er;if(L){if(v===void 0)throw Error(r(407));v=v()}else v=f();var Y=!Ha((Or||D).memoizedState,v);if(Y&&(D.memoizedState=v,Fi=!0),D=D.queue,O0(L1.bind(null,S,D,c),[c]),D.getSnapshot!==f||Y||qn!==null&&qn.memoizedState.tag&1){if(S.flags|=2048,Jc(9,{destroy:void 0},k1.bind(null,S,D,v,f),null),Mn===null)throw Error(r(349));L||(ti&127)!==0||N1(S,f,v)}return v}function N1(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=Rn.updateQueue,f===null?(f=tg(),Rn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function k1(c,f,v,S){f.value=v,f.getSnapshot=S,U1(f)&&B1(c)}function L1(c,f,v){return v(function(){U1(f)&&B1(c)})}function U1(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!Ha(c,v)}catch{return!0}}function B1(c){var f=Va(c,2);f!==null&&Bn(f,c,2)}function w0(c){var f=qi();if(typeof c=="function"){var v=c;if(c=v(),tf){rt(!0);try{v()}finally{rt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:c},f}function M0(c,f,v,S){return c.baseState=v,_0(c,Or,typeof S=="function"?S:Zl)}function FC(c,f,v,S,D){if(og(c))throw Error(r(485));if(c=f.action,c!==null){var L={payload:D,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){L.listeners.push(Y)}};H.T!==null?v(!0):L.isTransition=!1,S(L),v=f.pending,v===null?(L.next=f.pending=L,F1(f,L)):(L.next=v.next,f.pending=v.next=L)}}function F1(c,f){var v=f.action,S=f.payload,D=c.state;if(f.isTransition){var L=H.T,Y={};H.T=Y;try{var se=v(D,S),Me=H.S;Me!==null&&Me(Y,se),j1(c,f,se)}catch(Xe){E0(c,f,Xe)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),H.T=L}}else try{L=v(D,S),j1(c,f,L)}catch(Xe){E0(c,f,Xe)}}function j1(c,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){z1(c,f,S)},function(S){return E0(c,f,S)}):z1(c,f,v)}function z1(c,f,v){f.status="fulfilled",f.value=v,H1(f),c.state=v,f=c.pending,f!==null&&(v=f.next,v===f?c.pending=null:(v=v.next,f.next=v,F1(c,v)))}function E0(c,f,v){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=v,H1(f),f=f.next;while(f!==S)}c.action=null}function H1(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function A0(c,f){return f}function T0(c,f){if(er){var v=Mn.formState;if(v!==null){e:{var S=Rn;if(er){if(zr){t:{for(var D=zr,L=No;D.nodeType!==8;){if(!L){D=null;break t}if(D=wl(D.nextSibling),D===null){D=null;break t}}L=D.data,D=L==="F!"||L==="F"?D:null}if(D){zr=wl(D.nextSibling),S=D.data==="F!";break e}}ll(S)}S=!1}S&&(f=v[0])}}return v=qi(),v.memoizedState=v.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:f},v.queue=S,v=oS.bind(null,Rn,S),S.dispatch=v,S=w0(!1),L=k0.bind(null,Rn,!1,S.queue),S=qi(),D={state:f,dispatch:null,action:c,pending:null},S.queue=D,v=FC.bind(null,Rn,D,L,v),D.dispatch=v,S.memoizedState=c,[f,v,!1]}function V1(c){var f=Ti();return C0(f,Or,c)}function C0(c,f,v){if(f=_0(c,f,A0)[0],c=ng(Zl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=Vh(f)}catch(Y){throw Y===Yu?Ln:Y}else S=f;f=Ti();var D=f.queue,L=D.dispatch;return v!==f.memoizedState&&(Rn.flags|=2048,Jc(9,{destroy:void 0},G1.bind(null,D,v),null)),[S,L,c]}function G1(c,f){c.action=f}function R0(c){var f=Ti(),v=Or;if(v!==null)return C0(f,v,c);Ti(),f=f.memoizedState,v=Ti();var S=v.queue.dispatch;return v.memoizedState=c,[f,S,!1]}function Jc(c,f,v,S){return c={tag:c,create:v,deps:S,inst:f,next:null},f=Rn.updateQueue,f===null&&(f=tg(),Rn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=c.next=c:(S=v.next,v.next=c,c.next=S,f.lastEffect=c),c}function rg(){return Ti().memoizedState}function ig(c,f,v,S){var D=qi();Rn.flags|=c,D.memoizedState=Jc(1|f,{destroy:void 0},v,S===void 0?null:S)}function ag(c,f,v,S){var D=Ti();S=S===void 0?null:S;var L=D.memoizedState.inst;Or!==null&&S!==null&&g0(S,Or.memoizedState.deps)?D.memoizedState=Jc(f,L,v,S):(Rn.flags|=c,D.memoizedState=Jc(1|f,L,v,S))}function $1(c,f){ig(8390656,8,c,f)}function O0(c,f){ag(2048,8,c,f)}function W1(c){Rn.flags|=4;var f=Rn.updateQueue;if(f===null)f=tg(),Rn.updateQueue=f,f.events=[c];else{var v=f.events;v===null?f.events=[c]:v.push(c)}}function q1(c){var f=Ti().memoizedState;return W1({ref:f,nextImpl:c}),function(){if((on&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function X1(c,f){return ag(4,2,c,f)}function Y1(c,f){return ag(4,4,c,f)}function K1(c,f){if(typeof f=="function"){c=c();var v=f(c);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Z1(c,f,v){v=v!=null?v.concat([c]):null,ag(4,4,K1.bind(null,f,c),v)}function P0(){}function J1(c,f){var v=Ti();f=f===void 0?null:f;var S=v.memoizedState;return f!==null&&g0(f,S[1])?S[0]:(v.memoizedState=[c,f],c)}function Q1(c,f){var v=Ti();f=f===void 0?null:f;var S=v.memoizedState;if(f!==null&&g0(f,S[1]))return S[0];if(S=c(),tf){rt(!0);try{c()}finally{rt(!1)}}return v.memoizedState=[S,f],S}function D0(c,f,v){return v===void 0||(ti&1073741824)!==0&&(Nn&261930)===0?c.memoizedState=f:(c.memoizedState=v,c=Gn(),Rn.lanes|=c,xl|=c,v)}function eS(c,f,v,S){return Ha(v,f)?v:gd.current!==null?(c=D0(c,v,S),Ha(c,f)||(Fi=!0),c):(ti&42)===0||(ti&1073741824)!==0&&(Nn&261930)===0?(Fi=!0,c.memoizedState=v):(c=Gn(),Rn.lanes|=c,xl|=c,f)}function tS(c,f,v,S,D){var L=q.p;q.p=L!==0&&8>L?L:8;var Y=H.T,se={};H.T=se,k0(c,!1,f,v);try{var Me=D(),Xe=H.S;if(Xe!==null&&Xe(se,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var ht=c0(Me,S);Gh(c,f,ht,zo(c))}else Gh(c,f,S,zo(c))}catch(yt){Gh(c,f,{then:function(){},status:"rejected",reason:yt},zo())}finally{q.p=L,Y!==null&&se.types!==null&&(Y.types=se.types),H.T=Y}}function jC(){}function I0(c,f,v,S){if(c.tag!==5)throw Error(r(476));var D=nS(c).queue;tS(c,D,f,Z,v===null?jC:function(){return rS(c),v(S)})}function nS(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:Z},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:v},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function rS(c){var f=nS(c);f.next===null&&(f=c.alternate.memoizedState),Gh(c,f.next.queue,{},zo())}function N0(){return yn(nb)}function iS(){return Ti().memoizedState}function aS(){return Ti().memoizedState}function zC(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var v=zo();c=Yl(v);var S=Yc(f,c,v);S!==null&&(Bn(S,f,v),Kc(S,f,v)),f={cache:o0()},c.payload=f;return}f=f.return}}function HC(c,f,v){var S=zo();v={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},og(c)?sS(f,v):(v=Um(c,f,v,S),v!==null&&(Bn(v,c,S),lS(v,f,S)))}function oS(c,f,v){var S=zo();Gh(c,f,v,S)}function Gh(c,f,v,S){var D={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(og(c))sS(f,D);else{var L=c.alternate;if(c.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var Y=f.lastRenderedState,se=L(Y,v);if(D.hasEagerState=!0,D.eagerState=se,Ha(se,Y))return ra(c,f,D,0),Mn===null&&Ih(),!1}catch{}if(v=Um(c,f,D,S),v!==null)return Bn(v,c,S),lS(v,f,S),!0}return!1}function k0(c,f,v,S){if(S={lane:2,revertLane:nt(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},og(c)){if(f)throw Error(r(479))}else f=Um(c,v,S,2),f!==null&&Bn(f,c,2)}function og(c){var f=c.alternate;return c===Rn||f!==null&&f===Rn}function sS(c,f){vd=ls=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function lS(c,f,v){if((v&4194048)!==0){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,rr(c,v)}}var bd={readContext:yn,use:Zc,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useInsertionEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useSyncExternalStore:di,useId:di,useHostTransitionStatus:di,useFormState:di,useActionState:di,useOptimistic:di,useMemoCache:di,useCacheRefresh:di};bd.useEffectEvent=di;var cS={readContext:yn,use:Zc,useCallback:function(c,f){return qi().memoizedState=[c,f===void 0?null:f],c},useContext:yn,useEffect:$1,useImperativeHandle:function(c,f,v){v=v!=null?v.concat([c]):null,ig(4194308,4,K1.bind(null,f,c),v)},useLayoutEffect:function(c,f){return ig(4194308,4,c,f)},useInsertionEffect:function(c,f){ig(4,2,c,f)},useMemo:function(c,f){var v=qi();f=f===void 0?null:f;var S=c();if(tf){rt(!0);try{c()}finally{rt(!1)}}return v.memoizedState=[S,f],S},useReducer:function(c,f,v){var S=qi();if(v!==void 0){var D=v(f);if(tf){rt(!0);try{v(f)}finally{rt(!1)}}}else D=f;return S.memoizedState=S.baseState=D,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:D},S.queue=c,c=c.dispatch=HC.bind(null,Rn,c),[S.memoizedState,c]},useRef:function(c){var f=qi();return c={current:c},f.memoizedState=c},useState:function(c){c=w0(c);var f=c.queue,v=oS.bind(null,Rn,f);return f.dispatch=v,[c.memoizedState,v]},useDebugValue:P0,useDeferredValue:function(c,f){var v=qi();return D0(v,c,f)},useTransition:function(){var c=w0(!1);return c=tS.bind(null,Rn,c.queue,!0,!1),qi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,v){var S=Rn,D=qi();if(er){if(v===void 0)throw Error(r(407));v=v()}else{if(v=f(),Mn===null)throw Error(r(349));(Nn&127)!==0||N1(S,f,v)}D.memoizedState=v;var L={value:v,getSnapshot:f};return D.queue=L,$1(L1.bind(null,S,L,c),[c]),S.flags|=2048,Jc(9,{destroy:void 0},k1.bind(null,S,L,v,f),null),v},useId:function(){var c=qi(),f=Mn.identifierPrefix;if(er){var v=Cs,S=fi;v=(S&~(1<<32-me(S)-1)).toString(32)+v,f="_"+f+"R_"+v,v=Qm++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=m0++,f="_"+f+"r_"+v.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:N0,useFormState:T0,useActionState:T0,useOptimistic:function(c){var f=qi();f.memoizedState=f.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=k0.bind(null,Rn,!0,v),v.dispatch=f,[c,f]},useMemoCache:x0,useCacheRefresh:function(){return qi().memoizedState=zC.bind(null,Rn)},useEffectEvent:function(c){var f=qi(),v={impl:c};return f.memoizedState=v,function(){if((on&2)!==0)throw Error(r(440));return v.impl.apply(void 0,arguments)}}},L0={readContext:yn,use:Zc,useCallback:J1,useContext:yn,useEffect:O0,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:Y1,useMemo:Q1,useReducer:ng,useRef:rg,useState:function(){return ng(Zl)},useDebugValue:P0,useDeferredValue:function(c,f){var v=Ti();return eS(v,Or.memoizedState,c,f)},useTransition:function(){var c=ng(Zl)[0],f=Ti().memoizedState;return[typeof c=="boolean"?c:Vh(c),f]},useSyncExternalStore:I1,useId:iS,useHostTransitionStatus:N0,useFormState:V1,useActionState:V1,useOptimistic:function(c,f){var v=Ti();return M0(v,Or,c,f)},useMemoCache:x0,useCacheRefresh:aS};L0.useEffectEvent=q1;var cs={readContext:yn,use:Zc,useCallback:J1,useContext:yn,useEffect:O0,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:Y1,useMemo:Q1,useReducer:S0,useRef:rg,useState:function(){return S0(Zl)},useDebugValue:P0,useDeferredValue:function(c,f){var v=Ti();return Or===null?D0(v,c,f):eS(v,Or.memoizedState,c,f)},useTransition:function(){var c=S0(Zl)[0],f=Ti().memoizedState;return[typeof c=="boolean"?c:Vh(c),f]},useSyncExternalStore:I1,useId:iS,useHostTransitionStatus:N0,useFormState:R0,useActionState:R0,useOptimistic:function(c,f){var v=Ti();return Or!==null?M0(v,Or,c,f):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:x0,useCacheRefresh:aS};cs.useEffectEvent=q1;function sg(c,f,v,S){f=c.memoizedState,v=v(S,f),v=v==null?f:h({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var $h={enqueueSetState:function(c,f,v){c=c._reactInternals;var S=zo(),D=Yl(S);D.payload=f,v!=null&&(D.callback=v),f=Yc(c,D,S),f!==null&&(Bn(f,c,S),Kc(f,c,S))},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var S=zo(),D=Yl(S);D.tag=1,D.payload=f,v!=null&&(D.callback=v),f=Yc(c,D,S),f!==null&&(Bn(f,c,S),Kc(f,c,S))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=zo(),S=Yl(v);S.tag=2,f!=null&&(S.callback=f),f=Yc(c,S,v),f!==null&&(Bn(f,c,v),Kc(f,c,v))}};function U0(c,f,v,S,D,L,Y){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,L,Y):f.prototype&&f.prototype.isPureReactComponent?!td(v,S)||!td(D,L):!0}function B0(c,f,v,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==c&&$h.enqueueReplaceState(f,f.state,null)}function Qc(c,f){var v=f;if("ref"in f){v={};for(var S in f)S!=="ref"&&(v[S]=f[S])}if(c=c.defaultProps){v===f&&(v=h({},v));for(var D in c)v[D]===void 0&&(v[D]=c[D])}return v}function uS(c){Dh(c)}function F0(c){console.error(c)}function j0(c){Dh(c)}function lg(c,f){try{var v=c.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function fS(c,f,v){try{var S=c.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function z0(c,f,v){return v=Yl(v),v.tag=3,v.payload={element:null},v.callback=function(){lg(c,f)},v}function H0(c){return c=Yl(c),c.tag=3,c}function dS(c,f,v,S){var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var L=S.value;c.payload=function(){return D(L)},c.callback=function(){fS(f,v,S)}}var Y=v.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(c.callback=function(){fS(f,v,S),typeof D!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var se=S.stack;this.componentDidCatch(S.value,{componentStack:se!==null?se:""})})}function Xi(c,f,v,S,D){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=v.alternate,f!==null&&dl(f,v,D,!0),v=co.current,v!==null){switch(v.tag){case 31:case 13:return $a===null?Ad():v.alternate===null&&hi===0&&(hi=3),v.flags&=-257,v.flags|=65536,v.lanes=D,S===Xm?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([S]):f.add(S),rp(c,S,D)),!1;case 22:return v.flags|=65536,S===Xm?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([S]):v.add(S)),rp(c,S,D)),!1}throw Error(r(435,v.tag))}return rp(c,S,D),Ad(),!1}if(er)return f=co.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=D,S!==cd&&(c=Error(r(422),{cause:S}),cl(Io(c,v)))):(S!==cd&&(f=Error(r(423),{cause:S}),cl(Io(f,v))),c=c.current.alternate,c.flags|=65536,D&=-D,c.lanes|=D,S=Io(S,v),D=z0(c.stateNode,S,D),un(c,D),hi!==4&&(hi=2)),!1;var L=Error(r(520),{cause:S});if(L=Io(L,v),df===null?df=[L]:df.push(L),hi!==4&&(hi=2),f===null)return!0;S=Io(S,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,c=D&-D,v.lanes|=c,c=z0(v.stateNode,S,c),un(v,c),!1;case 1:if(f=v.type,L=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Oi===null||!Oi.has(L))))return v.flags|=65536,D&=-D,v.lanes|=D,D=H0(D),dS(D,c,v,S),un(v,D),!1}v=v.return}while(v!==null);return!1}var cg=Error(r(461)),Fi=!1;function ia(c,f,v,S){f.child=c===null?Zm(f,null,v,S):Xl(f,c.child,v,S)}function V0(c,f,v,S,D){v=v.render;var L=f.ref;if("ref"in S){var Y={};for(var se in S)se!=="ref"&&(Y[se]=S[se])}else Y=S;return qc(f),S=eg(c,f,v,Y,L,D),se=v0(),c!==null&&!Fi?(y0(c,f,D),Ci(c,f,D)):(er&&se&&sl(f),f.flags|=1,ia(c,f,S,D),f.child)}function af(c,f,v,S,D){if(c===null){var L=v.type;return typeof L=="function"&&!Bm(L)&&L.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=L,ug(c,f,L,S,D)):(c=al(v.type,null,S,f,f.mode,D),c.ref=f.ref,c.return=f,f.child=c)}if(L=c.child,!gg(c,D)){var Y=L.memoizedProps;if(v=v.compare,v=v!==null?v:td,v(Y,S)&&c.ref===f.ref)return Ci(c,f,D)}return f.flags|=1,c=oo(L,S),c.ref=f.ref,c.return=f,f.child=c}function ug(c,f,v,S,D){if(c!==null){var L=c.memoizedProps;if(td(L,S)&&c.ref===f.ref)if(Fi=!1,f.pendingProps=S=L,gg(c,D))(c.flags&131072)!==0&&(Fi=!0);else return f.lanes=c.lanes,Ci(c,f,D)}return xd(c,f,v,S,D)}function of(c,f,v,S){var D=S.children,L=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((f.flags&128)!==0){if(L=L!==null?L.baseLanes|v:v,c!==null){for(S=f.child=c.child,D=0;S!==null;)D=D|S.lanes|S.childLanes,S=S.sibling;S=D&~L}else S=0,f.child=null;return fo(c,f,L,v,S)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Lh(f,L!==null?L.cachePool:null),L!==null?O1(f,L):h0(),P1(f);else return S=f.lanes=536870912,fo(c,f,L!==null?L.baseLanes|v:v,v,S)}else L!==null?(Lh(f,L.cachePool),O1(f,L),uo(),f.memoizedState=null):(c!==null&&Lh(f,null),h0(),uo());return ia(c,f,D,v),f.child}function pl(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function fo(c,f,v,S,D){var L=qm();return L=L===null?null:{parent:Bi._currentValue,pool:L},f.memoizedState={baseLanes:v,cachePool:L},c!==null&&Lh(f,null),h0(),P1(f),c!==null&&dl(c,f,S,!0),f.childLanes=D,null}function fg(c,f){return f=mg({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function hS(c,f,v){return Xl(f,c.child,null,v),c=fg(f,f.pendingProps),c.flags|=2,Ai(f),f.memoizedState=null,c}function dg(c,f,v){var S=f.pendingProps,D=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(er){if(S.mode==="hidden")return c=fg(f,S),f.lanes=536870912,pl(null,c);if(p0(f),(c=zr)?(c=h4(c,No),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Gl!==null?{id:fi,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},v=od(c),v.return=f,f.child=v,bi=f,zr=null)):c=null,c===null)throw ll(f);return f.lanes=536870912,null}return fg(f,S)}var L=c.memoizedState;if(L!==null){var Y=L.dehydrated;if(p0(f),D)if(f.flags&256)f.flags&=-257,f=hS(c,f,v);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(r(558));else if(Fi||dl(c,f,v,!1),D=(v&c.childLanes)!==0,Fi||D){if(S=Mn,S!==null&&(Y=gr(S,v),Y!==0&&Y!==L.retryLane))throw L.retryLane=Y,Va(c,Y),Bn(S,c,Y),cg;Ad(),f=hS(c,f,v)}else c=L.treeContext,zr=wl(Y.nextSibling),bi=f,er=!0,$l=null,No=!1,c!==null&&Hm(f,c),f=fg(f,S),f.flags|=4096;return f}return c=oo(c.child,{mode:S.mode,children:S.children}),c.ref=f.ref,f.child=c,c.return=f,c}function sf(c,f){var v=f.ref;if(v===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(c===null||c.ref!==v)&&(f.flags|=4194816)}}function xd(c,f,v,S,D){return qc(f),v=eg(c,f,v,S,void 0,D),S=v0(),c!==null&&!Fi?(y0(c,f,D),Ci(c,f,D)):(er&&S&&sl(f),f.flags|=1,ia(c,f,v,D),f.child)}function Wh(c,f,v,S,D,L){return qc(f),f.updateQueue=null,v=nf(f,S,v,D),D1(c),S=v0(),c!==null&&!Fi?(y0(c,f,L),Ci(c,f,L)):(er&&S&&sl(f),f.flags|=1,ia(c,f,v,L),f.child)}function hg(c,f,v,S,D){if(qc(f),f.stateNode===null){var L=zc,Y=v.contextType;typeof Y=="object"&&Y!==null&&(L=yn(Y)),L=new v(S,L),f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=$h,f.stateNode=L,L._reactInternals=f,L=f.stateNode,L.props=S,L.state=f.memoizedState,L.refs={},Fh(f),Y=v.contextType,L.context=typeof Y=="object"&&Y!==null?yn(Y):zc,L.state=f.memoizedState,Y=v.getDerivedStateFromProps,typeof Y=="function"&&(sg(f,v,Y,S),L.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Y=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Y!==L.state&&$h.enqueueReplaceState(L,L.state,null),pd(f,S,L,D),jh(),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(c===null){L=f.stateNode;var se=f.memoizedProps,Me=Qc(v,se);L.props=Me;var Xe=L.context,ht=v.contextType;Y=zc,typeof ht=="object"&&ht!==null&&(Y=yn(ht));var yt=v.getDerivedStateFromProps;ht=typeof yt=="function"||typeof L.getSnapshotBeforeUpdate=="function",se=f.pendingProps!==se,ht||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(se||Xe!==Y)&&B0(f,L,S,Y),Ga=!1;var Je=f.memoizedState;L.state=Je,pd(f,S,L,D),jh(),Xe=f.memoizedState,se||Je!==Xe||Ga?(typeof yt=="function"&&(sg(f,v,yt,S),Xe=f.memoizedState),(Me=Ga||U0(f,v,Me,S,Je,Xe,Y))?(ht||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(f.flags|=4194308)):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Xe),L.props=S,L.state=Xe,L.context=Y,S=Me):(typeof L.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{L=f.stateNode,f0(c,f),Y=f.memoizedProps,ht=Qc(v,Y),L.props=ht,yt=f.pendingProps,Je=L.context,Xe=v.contextType,Me=zc,typeof Xe=="object"&&Xe!==null&&(Me=yn(Xe)),se=v.getDerivedStateFromProps,(Xe=typeof se=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Y!==yt||Je!==Me)&&B0(f,L,S,Me),Ga=!1,Je=f.memoizedState,L.state=Je,pd(f,S,L,D),jh();var st=f.memoizedState;Y!==yt||Je!==st||Ga||c!==null&&c.dependencies!==null&&kh(c.dependencies)?(typeof se=="function"&&(sg(f,v,se,S),st=f.memoizedState),(ht=Ga||U0(f,v,ht,S,Je,st,Me)||c!==null&&c.dependencies!==null&&kh(c.dependencies))?(Xe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,st,Me),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,st,Me)),typeof L.componentDidUpdate=="function"&&(f.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof L.componentDidUpdate!="function"||Y===c.memoizedProps&&Je===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Je===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=st),L.props=S,L.state=st,L.context=Me,S=ht):(typeof L.componentDidUpdate!="function"||Y===c.memoizedProps&&Je===c.memoizedState||(f.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Je===c.memoizedState||(f.flags|=1024),S=!1)}return L=S,sf(c,f),S=(f.flags&128)!==0,L||S?(L=f.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:L.render(),f.flags|=1,c!==null&&S?(f.child=Xl(f,c.child,null,D),f.child=Xl(f,null,v,D)):ia(c,f,v,D),f.memoizedState=L.state,c=f.child):c=Ci(c,f,D),c}function pS(c,f,v,S){return $c(),f.flags|=256,ia(c,f,v,S),f.child}var G0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oa(c){return{baseLanes:c,cachePool:u0()}}function pg(c,f,v){return c=c!==null?c.childLanes&~v:0,f&&(c|=Xa),c}function mS(c,f,v){var S=f.pendingProps,D=!1,L=(f.flags&128)!==0,Y;if((Y=L)||(Y=c!==null&&c.memoizedState===null?!1:(tr.current&2)!==0),Y&&(D=!0,f.flags&=-129),Y=(f.flags&32)!==0,f.flags&=-33,c===null){if(er){if(D?Kl(f):uo(),(c=zr)?(c=h4(c,No),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:Gl!==null?{id:fi,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},v=od(c),v.return=f,f.child=v,bi=f,zr=null)):c=null,c===null)throw ll(f);return nR(c)?f.lanes=32:f.lanes=536870912,null}var se=S.children;return S=S.fallback,D?(uo(),D=f.mode,se=mg({mode:"hidden",children:se},D),S=Hc(S,D,v,null),se.return=f,S.return=f,se.sibling=S,f.child=se,S=f.child,S.memoizedState=Oa(v),S.childLanes=pg(c,Y,v),f.memoizedState=G0,pl(null,S)):(Kl(f),qh(f,se))}var Me=c.memoizedState;if(Me!==null&&(se=Me.dehydrated,se!==null)){if(L)f.flags&256?(Kl(f),f.flags&=-257,f=$0(c,f,v)):f.memoizedState!==null?(uo(),f.child=c.child,f.flags|=128,f=null):(uo(),se=S.fallback,D=f.mode,S=mg({mode:"visible",children:S.children},D),se=Hc(se,D,v,null),se.flags|=2,S.return=f,se.return=f,S.sibling=se,f.child=S,Xl(f,c.child,null,v),S=f.child,S.memoizedState=Oa(v),S.childLanes=pg(c,Y,v),f.memoizedState=G0,f=pl(null,S));else if(Kl(f),nR(se)){if(Y=se.nextSibling&&se.nextSibling.dataset,Y)var Xe=Y.dgst;Y=Xe,S=Error(r(419)),S.stack="",S.digest=Y,cl({value:S,source:null,stack:null}),f=$0(c,f,v)}else if(Fi||dl(c,f,v,!1),Y=(v&c.childLanes)!==0,Fi||Y){if(Y=Mn,Y!==null&&(S=gr(Y,v),S!==0&&S!==Me.retryLane))throw Me.retryLane=S,Va(c,S),Bn(Y,c,S),cg;tR(se)||Ad(),f=$0(c,f,v)}else tR(se)?(f.flags|=192,f.child=c.child,f=null):(c=Me.treeContext,zr=wl(se.nextSibling),bi=f,er=!0,$l=null,No=!1,c!==null&&Hm(f,c),f=qh(f,S.children),f.flags|=4096);return f}return D?(uo(),se=S.fallback,D=f.mode,Me=c.child,Xe=Me.sibling,S=oo(Me,{mode:"hidden",children:S.children}),S.subtreeFlags=Me.subtreeFlags&65011712,Xe!==null?se=oo(Xe,se):(se=Hc(se,D,v,null),se.flags|=2),se.return=f,S.return=f,S.sibling=se,f.child=S,pl(null,S),S=f.child,se=c.child.memoizedState,se===null?se=Oa(v):(D=se.cachePool,D!==null?(Me=Bi._currentValue,D=D.parent!==Me?{parent:Me,pool:Me}:D):D=u0(),se={baseLanes:se.baseLanes|v,cachePool:D}),S.memoizedState=se,S.childLanes=pg(c,Y,v),f.memoizedState=G0,pl(c.child,S)):(Kl(f),v=c.child,c=v.sibling,v=oo(v,{mode:"visible",children:S.children}),v.return=f,v.sibling=null,c!==null&&(Y=f.deletions,Y===null?(f.deletions=[c],f.flags|=16):Y.push(c)),f.child=v,f.memoizedState=null,v)}function qh(c,f){return f=mg({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function mg(c,f){return c=ui(22,c,null,f),c.lanes=0,c}function $0(c,f,v){return Xl(f,c.child,null,v),c=qh(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function gS(c,f,v){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),Gm(c.return,f,v)}function lf(c,f,v,S,D,L){var Y=c.memoizedState;Y===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:D,treeForkCount:L}:(Y.isBackwards=f,Y.rendering=null,Y.renderingStartTime=0,Y.last=S,Y.tail=v,Y.tailMode=D,Y.treeForkCount=L)}function ho(c,f,v){var S=f.pendingProps,D=S.revealOrder,L=S.tail;S=S.children;var Y=tr.current,se=(Y&2)!==0;if(se?(Y=Y&1|2,f.flags|=128):Y&=1,ne(tr,Y),ia(c,f,S,v),S=er?ld:0,!se&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&gS(c,v,f);else if(c.tag===19)gS(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(D){case"forwards":for(v=f.child,D=null;v!==null;)c=v.alternate,c!==null&&Lo(c)===null&&(D=v),v=v.sibling;v=D,v===null?(D=f.child,f.child=null):(D=v.sibling,v.sibling=null),lf(f,!1,D,v,L,S);break;case"backwards":case"unstable_legacy-backwards":for(v=null,D=f.child,f.child=null;D!==null;){if(c=D.alternate,c!==null&&Lo(c)===null){f.child=D;break}c=D.sibling,D.sibling=v,v=D,D=c}lf(f,!0,v,null,L,S);break;case"together":lf(f,!1,null,null,void 0,S);break;default:f.memoizedState=null}return f.child}function Ci(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),xl|=f.lanes,(v&f.childLanes)===0)if(c!==null){if(dl(c,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,v=oo(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=oo(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function gg(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&kh(c)))}function VC(c,f,v){switch(f.tag){case 3:pe(f,f.stateNode.containerInfo),Wl(f,Bi,c.memoizedState.cache),$c();break;case 27:case 5:Oe(f);break;case 4:pe(f,f.stateNode.containerInfo);break;case 10:Wl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,p0(f),null;break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Kl(f),f.flags|=128,null):(v&f.child.childLanes)!==0?mS(c,f,v):(Kl(f),c=Ci(c,f,v),c!==null?c.sibling:null);Kl(f);break;case 19:var D=(c.flags&128)!==0;if(S=(v&f.childLanes)!==0,S||(dl(c,f,v,!1),S=(v&f.childLanes)!==0),D){if(S)return ho(c,f,v);f.flags|=128}if(D=f.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),ne(tr,tr.current),S)break;return null;case 22:return f.lanes=0,of(c,f,v,f.pendingProps);case 24:Wl(f,Bi,c.memoizedState.cache)}return Ci(c,f,v)}function vg(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps)Fi=!0;else{if(!gg(c,v)&&(f.flags&128)===0)return Fi=!1,VC(c,f,v);Fi=(c.flags&131072)!==0}else Fi=!1,er&&(f.flags&1048576)!==0&&w1(f,ld,f.index);switch(f.lanes=0,f.tag){case 16:e:{var S=f.pendingProps;if(c=Ku(f.elementType),f.type=c,typeof c=="function")Bm(c)?(S=Qc(c,S),f.tag=1,f=hg(null,f,c,S,v)):(f.tag=0,f=xd(null,f,c,S,v));else{if(c!=null){var D=c.$$typeof;if(D===C){f.tag=11,f=V0(null,f,c,S,v);break e}else if(D===N){f.tag=14,f=af(null,f,c,S,v);break e}}throw f=W(c)||c,Error(r(306,f,""))}}return f;case 0:return xd(c,f,f.type,f.pendingProps,v);case 1:return S=f.type,D=Qc(S,f.pendingProps),hg(c,f,S,D,v);case 3:e:{if(pe(f,f.stateNode.containerInfo),c===null)throw Error(r(387));S=f.pendingProps;var L=f.memoizedState;D=L.element,f0(c,f),pd(f,S,null,v);var Y=f.memoizedState;if(S=Y.cache,Wl(f,Bi,S),S!==L.cache&&$m(f,[Bi],v,!0),jh(),S=Y.element,L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:Y.cache},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){f=pS(c,f,S,v);break e}else if(S!==D){D=Io(Error(r(424)),f),cl(D),f=pS(c,f,S,v);break e}else for(c=f.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,zr=wl(c.firstChild),bi=f,er=!0,$l=null,No=!0,v=Zm(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if($c(),S===D){f=Ci(c,f,v);break e}ia(c,f,S,v)}f=f.child}return f;case 26:return sf(c,f),c===null?(v=b4(f.type,null,f.pendingProps,null))?f.memoizedState=v:er||(v=f.type,c=f.pendingProps,S=xS(ce.current).createElement(v),S[ur]=f,S[te]=c,Ka(S,v,c),Se(S),f.stateNode=S):f.memoizedState=b4(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return Oe(f),c===null&&er&&(S=f.stateNode=g4(f.type,f.pendingProps,ce.current),bi=f,No=!0,D=zr,Od(f.type)?(rR=D,zr=wl(S.firstChild)):zr=D),ia(c,f,f.pendingProps.children,v),sf(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&er&&((D=S=zr)&&(S=EQ(S,f.type,f.pendingProps,No),S!==null?(f.stateNode=S,bi=f,zr=wl(S.firstChild),No=!1,D=!0):D=!1),D||ll(f)),Oe(f),D=f.type,L=f.pendingProps,Y=c!==null?c.memoizedProps:null,S=L.children,JC(D,L)?S=null:Y!==null&&JC(D,Y)&&(f.flags|=32),f.memoizedState!==null&&(D=eg(c,f,rf,null,null,v),nb._currentValue=D),sf(c,f),ia(c,f,S,v),f.child;case 6:return c===null&&er&&((c=v=zr)&&(v=AQ(v,f.pendingProps,No),v!==null?(f.stateNode=v,bi=f,zr=null,c=!0):c=!1),c||ll(f)),null;case 13:return mS(c,f,v);case 4:return pe(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=Xl(f,null,S,v):ia(c,f,S,v),f.child;case 11:return V0(c,f,f.type,f.pendingProps,v);case 7:return ia(c,f,f.pendingProps,v),f.child;case 8:return ia(c,f,f.pendingProps.children,v),f.child;case 12:return ia(c,f,f.pendingProps.children,v),f.child;case 10:return S=f.pendingProps,Wl(f,f.type,S.value),ia(c,f,S.children,v),f.child;case 9:return D=f.type._context,S=f.pendingProps.children,qc(f),D=yn(D),S=S(D),f.flags|=1,ia(c,f,S,v),f.child;case 14:return af(c,f,f.type,f.pendingProps,v);case 15:return ug(c,f,f.type,f.pendingProps,v);case 19:return ho(c,f,v);case 31:return dg(c,f,v);case 22:return of(c,f,v,f.pendingProps);case 24:return qc(f),S=yn(Bi),c===null?(D=qm(),D===null&&(D=Mn,L=o0(),D.pooledCache=L,L.refCount++,L!==null&&(D.pooledCacheLanes|=v),D=L),f.memoizedState={parent:S,cache:D},Fh(f),Wl(f,Bi,D)):((c.lanes&v)!==0&&(f0(c,f),pd(f,null,null,v),jh()),D=c.memoizedState,L=f.memoizedState,D.parent!==S?(D={parent:S,cache:S},f.memoizedState=D,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=D),Wl(f,Bi,S)):(S=L.cache,Wl(f,Bi,S),S!==D.cache&&$m(f,[Bi],v,!0))),ia(c,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function ml(c){c.flags|=4}function Xh(c,f,v,S,D){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(D&335544128)===D)if(c.stateNode.complete)c.flags|=8192;else if(mi())c.flags|=8192;else throw hl=Xm,Uh}else c.flags&=-16777217}function W0(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!M4(f))if(mi())c.flags|=8192;else throw hl=Xm,Uh}function Jl(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?Ct():536870912,c.lanes|=f,qr|=f)}function gl(c,f){if(!er)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Pr(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,S=0;if(f)for(var D=c.child;D!==null;)v|=D.lanes|D.childLanes,S|=D.subtreeFlags&65011712,S|=D.flags&65011712,D.return=c,D=D.sibling;else for(D=c.child;D!==null;)v|=D.lanes|D.childLanes,S|=D.subtreeFlags,S|=D.flags,D.return=c,D=D.sibling;return c.subtreeFlags|=S,c.childLanes=v,f}function Yh(c,f,v){var S=f.pendingProps;switch(zm(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(f),null;case 1:return Pr(f),null;case 3:return v=f.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),fl(Bi),xe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(ud(f)?ml(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Vm())),Pr(f),null;case 26:var D=f.type,L=f.memoizedState;return c===null?(ml(f),L!==null?(Pr(f),W0(f,L)):(Pr(f),Xh(f,D,null,S,v))):L?L!==c.memoizedState?(ml(f),Pr(f),W0(f,L)):(Pr(f),f.flags&=-16777217):(c=c.memoizedProps,c!==S&&ml(f),Pr(f),Xh(f,D,c,S,v)),null;case 27:if(_e(f),v=ce.current,D=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==S&&ml(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Pr(f),null}c=fe.current,ud(f)?M1(f):(c=g4(D,S,v),f.stateNode=c,ml(f))}return Pr(f),null;case 5:if(_e(f),D=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==S&&ml(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Pr(f),null}if(L=fe.current,ud(f))M1(f);else{var Y=xS(ce.current);switch(L){case 1:L=Y.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:L=Y.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":L=Y.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":L=Y.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":L=Y.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof S.is=="string"?Y.createElement("select",{is:S.is}):Y.createElement("select"),S.multiple?L.multiple=!0:S.size&&(L.size=S.size);break;default:L=typeof S.is=="string"?Y.createElement(D,{is:S.is}):Y.createElement(D)}}L[ur]=f,L[te]=S;e:for(Y=f.child;Y!==null;){if(Y.tag===5||Y.tag===6)L.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===f)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===f)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}f.stateNode=L;e:switch(Ka(L,D,S),D){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&ml(f)}}return Pr(f),Xh(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,v),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==S&&ml(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(c=ce.current,ud(f)){if(c=f.stateNode,v=f.memoizedProps,S=null,D=bi,D!==null)switch(D.tag){case 27:case 5:S=D.memoizedProps}c[ur]=f,c=!!(c.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||a4(c.nodeValue,v)),c||ll(f,!0)}else c=xS(c).createTextNode(S),c[ur]=f,f.stateNode=c}return Pr(f),null;case 31:if(v=f.memoizedState,c===null||c.memoizedState!==null){if(S=ud(f),v!==null){if(c===null){if(!S)throw Error(r(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[ur]=f}else $c(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Pr(f),c=!1}else v=Vm(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=v),c=!0;if(!c)return f.flags&256?(Ai(f),f):(Ai(f),null);if((f.flags&128)!==0)throw Error(r(558))}return Pr(f),null;case 13:if(S=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(D=ud(f),S!==null&&S.dehydrated!==null){if(c===null){if(!D)throw Error(r(318));if(D=f.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[ur]=f}else $c(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Pr(f),D=!1}else D=Vm(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=D),D=!0;if(!D)return f.flags&256?(Ai(f),f):(Ai(f),null)}return Ai(f),(f.flags&128)!==0?(f.lanes=v,f):(v=S!==null,c=c!==null&&c.memoizedState!==null,v&&(S=f.child,D=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(D=S.alternate.memoizedState.cachePool.pool),L=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==D&&(S.flags|=2048)),v!==c&&v&&(f.child.flags|=8192),Jl(f,f.updateQueue),Pr(f),null);case 4:return xe(),c===null&&qC(f.stateNode.containerInfo),Pr(f),null;case 10:return fl(f.type),Pr(f),null;case 19:if(J(tr),S=f.memoizedState,S===null)return Pr(f),null;if(D=(f.flags&128)!==0,L=S.rendering,L===null)if(D)gl(S,!1);else{if(hi!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(L=Lo(c),L!==null){for(f.flags|=128,gl(S,!1),c=L.updateQueue,f.updateQueue=c,Jl(f,c),f.subtreeFlags=0,c=v,v=f.child;v!==null;)ad(v,c),v=v.sibling;return ne(tr,tr.current&1|2),er&&ol(f,S.treeForkCount),f.child}c=c.sibling}S.tail!==null&&X()>Ri&&(f.flags|=128,D=!0,gl(S,!1),f.lanes=4194304)}else{if(!D)if(c=Lo(L),c!==null){if(f.flags|=128,D=!0,c=c.updateQueue,f.updateQueue=c,Jl(f,c),gl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!L.alternate&&!er)return Pr(f),null}else 2*X()-S.renderingStartTime>Ri&&v!==536870912&&(f.flags|=128,D=!0,gl(S,!1),f.lanes=4194304);S.isBackwards?(L.sibling=f.child,f.child=L):(c=S.last,c!==null?c.sibling=L:f.child=L,S.last=L)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=X(),c.sibling=null,v=tr.current,ne(tr,D?v&1|2:v&1),er&&ol(f,S.treeForkCount),c):(Pr(f),null);case 22:case 23:return Ai(f),zh(),S=f.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(v&536870912)!==0&&(f.flags&128)===0&&(Pr(f),f.subtreeFlags&6&&(f.flags|=8192)):Pr(f),v=f.updateQueue,v!==null&&Jl(f,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048),c!==null&&J(Xc),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),fl(Bi),Pr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function us(c,f){switch(zm(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return fl(Bi),xe(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return _e(f),null;case 31:if(f.memoizedState!==null){if(Ai(f),f.alternate===null)throw Error(r(340));$c()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(Ai(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));$c()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return J(tr),null;case 4:return xe(),null;case 10:return fl(f.type),null;case 22:case 23:return Ai(f),zh(),c!==null&&J(Xc),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return fl(Bi),null;case 25:return null;default:return null}}function Uo(c,f){switch(zm(f),f.tag){case 3:fl(Bi),xe();break;case 26:case 27:case 5:_e(f);break;case 4:xe();break;case 31:f.memoizedState!==null&&Ai(f);break;case 13:Ai(f);break;case 19:J(tr);break;case 10:fl(f.type);break;case 22:case 23:Ai(f),zh(),c!==null&&J(Xc);break;case 24:fl(Bi)}}function fs(c,f){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var D=S.next;v=D;do{if((v.tag&c)===c){S=void 0;var L=v.create,Y=v.inst;S=L(),Y.destroy=S}v=v.next}while(v!==D)}}catch(se){dr(f,f.return,se)}}function pa(c,f,v){try{var S=f.updateQueue,D=S!==null?S.lastEffect:null;if(D!==null){var L=D.next;S=L;do{if((S.tag&c)===c){var Y=S.inst,se=Y.destroy;if(se!==void 0){Y.destroy=void 0,D=f;var Me=v,Xe=se;try{Xe()}catch(ht){dr(D,Me,ht)}}}S=S.next}while(S!==L)}}catch(ht){dr(f,f.return,ht)}}function Rs(c){var f=c.updateQueue;if(f!==null){var v=c.stateNode;try{R1(f,v)}catch(S){dr(c,c.return,S)}}}function aa(c,f,v){v.props=Qc(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(S){dr(c,f,S)}}function Ql(c,f){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var S=c.stateNode;break;case 30:S=c.stateNode;break;default:S=c.stateNode}typeof v=="function"?c.refCleanup=v(S):v.current=S}}catch(D){dr(c,f,D)}}function ma(c,f){var v=c.ref,S=c.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(D){dr(c,f,D)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(D){dr(c,f,D)}else v.current=null}function Kh(c){var f=c.type,v=c.memoizedProps,S=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(D){dr(c,c.return,D)}}function Yi(c,f,v){try{var S=c.stateNode;bQ(S,c.type,v,f),S[te]=f}catch(D){dr(c,c.return,D)}}function ni(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Od(c.type)||c.tag===4}function Xn(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ni(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Od(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function vl(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(c,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(c),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Aa));else if(S!==4&&(S===27&&Od(c.type)&&(v=c.stateNode,f=null),c=c.child,c!==null))for(vl(c,f,v),c=c.sibling;c!==null;)vl(c,f,v),c=c.sibling}function Wa(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?v.insertBefore(c,f):v.appendChild(c);else if(S!==4&&(S===27&&Od(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(Wa(c,f,v),c=c.sibling;c!==null;)Wa(c,f,v),c=c.sibling}function yg(c){var f=c.stateNode,v=c.memoizedProps;try{for(var S=c.type,D=f.attributes;D.length;)f.removeAttributeNode(D[0]);Ka(f,S,v),f[ur]=c,f[te]=v}catch(L){dr(c,c.return,L)}}var ds=!1,Hr=!1,Os=!1,vS=typeof WeakSet=="function"?WeakSet:Set,oa=null;function GC(c,f){if(c=c.containerInfo,KC=TS,c=b1(c),t0(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var D=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{v.nodeType,L.nodeType}catch{v=null;break e}var Y=0,se=-1,Me=-1,Xe=0,ht=0,yt=c,Je=null;t:for(;;){for(var st;yt!==v||D!==0&&yt.nodeType!==3||(se=Y+D),yt!==L||S!==0&&yt.nodeType!==3||(Me=Y+S),yt.nodeType===3&&(Y+=yt.nodeValue.length),(st=yt.firstChild)!==null;)Je=yt,yt=st;for(;;){if(yt===c)break t;if(Je===v&&++Xe===D&&(se=Y),Je===L&&++ht===S&&(Me=Y),(st=yt.nextSibling)!==null)break;yt=Je,Je=yt.parentNode}yt=st}v=se===-1||Me===-1?null:{start:se,end:Me}}else v=null}v=v||{start:0,end:0}}else v=null;for(ZC={focusedElem:c,selectionRange:v},TS=!1,oa=f;oa!==null;)if(f=oa,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,oa=c;else for(;oa!==null;){switch(f=oa,L=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(v=0;v<c.length;v++)D=c[v],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&L!==null){c=void 0,v=f,D=L.memoizedProps,L=L.memoizedState,S=v.stateNode;try{var Zt=Qc(v.type,D);c=S.getSnapshotBeforeUpdate(Zt,L),S.__reactInternalSnapshotBeforeUpdate=c}catch(gn){dr(v,v.return,gn)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,v=c.nodeType,v===9)eR(c);else if(v===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":eR(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,oa=c;break}oa=f.return}}function ri(c,f,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:ms(c,v),S&4&&fs(5,v);break;case 1:if(ms(c,v),S&4)if(c=v.stateNode,f===null)try{c.componentDidMount()}catch(Y){dr(v,v.return,Y)}else{var D=Qc(v.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(D,f,c.__reactInternalSnapshotBeforeUpdate)}catch(Y){dr(v,v.return,Y)}}S&64&&Rs(v),S&512&&Ql(v,v.return);break;case 3:if(ms(c,v),S&64&&(c=v.updateQueue,c!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{R1(c,f)}catch(Y){dr(v,v.return,Y)}}break;case 27:f===null&&S&4&&yg(v);case 26:case 5:ms(c,v),f===null&&S&4&&Kh(v),S&512&&Ql(v,v.return);break;case 12:ms(c,v);break;case 31:ms(c,v),S&4&&eu(c,v);break;case 13:ms(c,v),S&4&&_d(c,v),S&64&&(c=v.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(v=M.bind(null,v),TQ(c,v))));break;case 22:if(S=v.memoizedState!==null||ds,!S){f=f!==null&&f.memoizedState!==null||Hr,D=ds;var L=Hr;ds=S,(Hr=f)&&!L?qa(c,v,(v.subtreeFlags&8772)!==0):ms(c,v),ds=D,Hr=L}break;case 30:break;default:ms(c,v)}}function Zh(c){var f=c.alternate;f!==null&&(c.alternate=null,Zh(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&St(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Er=null,Pa=!1;function hs(c,f,v){for(v=v.child;v!==null;)bg(c,f,v),v=v.sibling}function bg(c,f,v){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ye,v)}catch{}switch(v.tag){case 26:Hr||ma(v,f),hs(c,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Hr||ma(v,f);var S=Er,D=Pa;Od(v.type)&&(Er=v.stateNode,Pa=!1),hs(c,f,v),Q0(v.stateNode),Er=S,Pa=D;break;case 5:Hr||ma(v,f);case 6:if(S=Er,D=Pa,Er=null,hs(c,f,v),Er=S,Pa=D,Er!==null)if(Pa)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(v.stateNode)}catch(L){dr(v,f,L)}else try{Er.removeChild(v.stateNode)}catch(L){dr(v,f,L)}break;case 18:Er!==null&&(Pa?(c=Er,f4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,v.stateNode),Tg(c)):f4(Er,v.stateNode));break;case 4:S=Er,D=Pa,Er=v.stateNode.containerInfo,Pa=!0,hs(c,f,v),Er=S,Pa=D;break;case 0:case 11:case 14:case 15:pa(2,v,f),Hr||pa(4,v,f),hs(c,f,v);break;case 1:Hr||(ma(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"&&aa(v,f,S)),hs(c,f,v);break;case 21:hs(c,f,v);break;case 22:Hr=(S=Hr)||v.memoizedState!==null,hs(c,f,v),Hr=S;break;default:hs(c,f,v)}}function eu(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Tg(c)}catch(v){dr(f,f.return,v)}}}function _d(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Tg(c)}catch(v){dr(f,f.return,v)}}function q0(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new vS),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new vS),f;default:throw Error(r(435,c.tag))}}function ec(c,f){var v=q0(c);f.forEach(function(S){if(!v.has(S)){v.add(S);var D=P.bind(null,c,S);S.then(D,D)}})}function Ki(c,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var D=v[S],L=c,Y=f,se=Y;e:for(;se!==null;){switch(se.tag){case 27:if(Od(se.type)){Er=se.stateNode,Pa=!1;break e}break;case 5:Er=se.stateNode,Pa=!1;break e;case 3:case 4:Er=se.stateNode.containerInfo,Pa=!0;break e}se=se.return}if(Er===null)throw Error(r(160));bg(L,Y,D),Er=null,Pa=!1,L=D.alternate,L!==null&&(L.return=null),D.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)tu(f,c),f=f.sibling}var ps=null;function tu(c,f){var v=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ki(f,c),Zi(c),S&4&&(pa(3,c,c.return),fs(3,c),pa(5,c,c.return));break;case 1:Ki(f,c),Zi(c),S&512&&(Hr||v===null||ma(v,v.return)),S&64&&ds&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var D=ps;if(Ki(f,c),Zi(c),S&512&&(Hr||v===null||ma(v,v.return)),S&4){var L=v!==null?v.memoizedState:null;if(S=c.memoizedState,v===null)if(S===null)if(c.stateNode===null){e:{S=c.type,v=c.memoizedProps,D=D.ownerDocument||D;t:switch(S){case"title":L=D.getElementsByTagName("title")[0],(!L||L[At]||L[ur]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=D.createElement(S),D.head.insertBefore(L,D.querySelector("head > title"))),Ka(L,S,v),L[ur]=c,Se(L),S=L;break e;case"link":var Y=S4("link","href",D).get(S+(v.href||""));if(Y){for(var se=0;se<Y.length;se++)if(L=Y[se],L.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&L.getAttribute("rel")===(v.rel==null?null:v.rel)&&L.getAttribute("title")===(v.title==null?null:v.title)&&L.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){Y.splice(se,1);break t}}L=D.createElement(S),Ka(L,S,v),D.head.appendChild(L);break;case"meta":if(Y=S4("meta","content",D).get(S+(v.content||""))){for(se=0;se<Y.length;se++)if(L=Y[se],L.getAttribute("content")===(v.content==null?null:""+v.content)&&L.getAttribute("name")===(v.name==null?null:v.name)&&L.getAttribute("property")===(v.property==null?null:v.property)&&L.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&L.getAttribute("charset")===(v.charSet==null?null:v.charSet)){Y.splice(se,1);break t}}L=D.createElement(S),Ka(L,S,v),D.head.appendChild(L);break;default:throw Error(r(468,S))}L[ur]=c,Se(L),S=L}c.stateNode=S}else w4(D,c.type,c.stateNode);else c.stateNode=_4(D,S,c.memoizedProps);else L!==S?(L===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):L.count--,S===null?w4(D,c.type,c.stateNode):_4(D,S,c.memoizedProps)):S===null&&c.stateNode!==null&&Yi(c,c.memoizedProps,v.memoizedProps)}break;case 27:Ki(f,c),Zi(c),S&512&&(Hr||v===null||ma(v,v.return)),v!==null&&S&4&&Yi(c,c.memoizedProps,v.memoizedProps);break;case 5:if(Ki(f,c),Zi(c),S&512&&(Hr||v===null||ma(v,v.return)),c.flags&32){D=c.stateNode;try{Li(D,"")}catch(Zt){dr(c,c.return,Zt)}}S&4&&c.stateNode!=null&&(D=c.memoizedProps,Yi(c,D,v!==null?v.memoizedProps:D)),S&1024&&(Os=!0);break;case 6:if(Ki(f,c),Zi(c),S&4){if(c.stateNode===null)throw Error(r(162));S=c.memoizedProps,v=c.stateNode;try{v.nodeValue=S}catch(Zt){dr(c,c.return,Zt)}}break;case 3:if(wS=null,D=ps,ps=_S(f.containerInfo),Ki(f,c),ps=D,Zi(c),S&4&&v!==null&&v.memoizedState.isDehydrated)try{Tg(f.containerInfo)}catch(Zt){dr(c,c.return,Zt)}Os&&(Os=!1,xg(c));break;case 4:S=ps,ps=_S(c.stateNode.containerInfo),Ki(f,c),Zi(c),ps=S;break;case 12:Ki(f,c),Zi(c);break;case 31:Ki(f,c),Zi(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,ec(c,S)));break;case 13:Ki(f,c),Zi(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Sd=X()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,ec(c,S)));break;case 22:D=c.memoizedState!==null;var Me=v!==null&&v.memoizedState!==null,Xe=ds,ht=Hr;if(ds=Xe||D,Hr=ht||Me,Ki(f,c),Hr=ht,ds=Xe,Zi(c),S&8192)e:for(f=c.stateNode,f._visibility=D?f._visibility&-2:f._visibility|1,D&&(v===null||Me||ds||Hr||yl(c)),v=null,f=c;;){if(f.tag===5||f.tag===26){if(v===null){Me=v=f;try{if(L=Me.stateNode,D)Y=L.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{se=Me.stateNode;var yt=Me.memoizedProps.style,Je=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;se.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Zt){dr(Me,Me.return,Zt)}}}else if(f.tag===6){if(v===null){Me=f;try{Me.stateNode.nodeValue=D?"":Me.memoizedProps}catch(Zt){dr(Me,Me.return,Zt)}}}else if(f.tag===18){if(v===null){Me=f;try{var st=Me.stateNode;D?d4(st,!0):d4(Me.stateNode,!1)}catch(Zt){dr(Me,Me.return,Zt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=c.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,ec(c,v))));break;case 19:Ki(f,c),Zi(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,ec(c,S)));break;case 30:break;case 21:break;default:Ki(f,c),Zi(c)}}function Zi(c){var f=c.flags;if(f&2){try{for(var v,S=c.return;S!==null;){if(ni(S)){v=S;break}S=S.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var D=v.stateNode,L=Xn(c);Wa(c,L,D);break;case 5:var Y=v.stateNode;v.flags&32&&(Li(Y,""),v.flags&=-33);var se=Xn(c);Wa(c,se,Y);break;case 3:case 4:var Me=v.stateNode.containerInfo,Xe=Xn(c);vl(c,Xe,Me);break;default:throw Error(r(161))}}catch(ht){dr(c,c.return,ht)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function xg(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;xg(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function ms(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)ri(c,f.alternate,f),f=f.sibling}function yl(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:pa(4,f,f.return),yl(f);break;case 1:ma(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&aa(f,f.return,v),yl(f);break;case 27:Q0(f.stateNode);case 26:case 5:ma(f,f.return),yl(f);break;case 22:f.memoizedState===null&&yl(f);break;case 30:yl(f);break;default:yl(f)}c=c.sibling}}function qa(c,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,D=c,L=f,Y=L.flags;switch(L.tag){case 0:case 11:case 15:qa(D,L,v),fs(4,L);break;case 1:if(qa(D,L,v),S=L,D=S.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Xe){dr(S,S.return,Xe)}if(S=L,D=S.updateQueue,D!==null){var se=S.stateNode;try{var Me=D.shared.hiddenCallbacks;if(Me!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Me.length;D++)md(Me[D],se)}catch(Xe){dr(S,S.return,Xe)}}v&&Y&64&&Rs(L),Ql(L,L.return);break;case 27:yg(L);case 26:case 5:qa(D,L,v),v&&S===null&&Y&4&&Kh(L),Ql(L,L.return);break;case 12:qa(D,L,v);break;case 31:qa(D,L,v),v&&Y&4&&eu(D,L);break;case 13:qa(D,L,v),v&&Y&4&&_d(D,L);break;case 22:L.memoizedState===null&&qa(D,L,v),Ql(L,L.return);break;case 30:break;default:qa(D,L,v)}f=f.sibling}}function nu(c,f){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Xu(v))}function cf(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Xu(c))}function ga(c,f,v,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)X0(c,f,v,S),f=f.sibling}function X0(c,f,v,S){var D=f.flags;switch(f.tag){case 0:case 11:case 15:ga(c,f,v,S),D&2048&&fs(9,f);break;case 1:ga(c,f,v,S);break;case 3:ga(c,f,v,S),D&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Xu(c)));break;case 12:if(D&2048){ga(c,f,v,S),c=f.stateNode;try{var L=f.memoizedProps,Y=L.id,se=L.onPostCommit;typeof se=="function"&&se(Y,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Me){dr(f,f.return,Me)}}else ga(c,f,v,S);break;case 31:ga(c,f,v,S);break;case 13:ga(c,f,v,S);break;case 23:break;case 22:L=f.stateNode,Y=f.alternate,f.memoizedState!==null?L._visibility&2?ga(c,f,v,S):bl(c,f):L._visibility&2?ga(c,f,v,S):(L._visibility|=2,va(c,f,v,S,(f.subtreeFlags&10256)!==0||!1)),D&2048&&nu(Y,f);break;case 24:ga(c,f,v,S),D&2048&&cf(f.alternate,f);break;default:ga(c,f,v,S)}}function va(c,f,v,S,D){for(D=D&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var L=c,Y=f,se=v,Me=S,Xe=Y.flags;switch(Y.tag){case 0:case 11:case 15:va(L,Y,se,Me,D),fs(8,Y);break;case 23:break;case 22:var ht=Y.stateNode;Y.memoizedState!==null?ht._visibility&2?va(L,Y,se,Me,D):bl(L,Y):(ht._visibility|=2,va(L,Y,se,Me,D)),D&&Xe&2048&&nu(Y.alternate,Y);break;case 24:va(L,Y,se,Me,D),D&&Xe&2048&&cf(Y.alternate,Y);break;default:va(L,Y,se,Me,D)}f=f.sibling}}function bl(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=c,S=f,D=S.flags;switch(S.tag){case 22:bl(v,S),D&2048&&nu(S.alternate,S);break;case 24:bl(v,S),D&2048&&cf(S.alternate,S);break;default:bl(v,S)}f=f.sibling}}var uf=8192;function Bo(c,f,v){if(c.subtreeFlags&uf)for(c=c.child;c!==null;)_g(c,f,v),c=c.sibling}function _g(c,f,v){switch(c.tag){case 26:Bo(c,f,v),c.flags&uf&&c.memoizedState!==null&&FQ(v,ps,c.memoizedState,c.memoizedProps);break;case 5:Bo(c,f,v);break;case 3:case 4:var S=ps;ps=_S(c.stateNode.containerInfo),Bo(c,f,v),ps=S;break;case 22:c.memoizedState===null&&(S=c.alternate,S!==null&&S.memoizedState!==null?(S=uf,uf=16777216,Bo(c,f,v),uf=S):Bo(c,f,v));break;default:Bo(c,f,v)}}function ff(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function ru(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];oa=S,xi(S,c)}ff(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)po(c),c=c.sibling}function po(c){switch(c.tag){case 0:case 11:case 15:ru(c),c.flags&2048&&pa(9,c,c.return);break;case 3:ru(c);break;case 12:ru(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,mo(c)):ru(c);break;default:ru(c)}}function mo(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];oa=S,xi(S,c)}ff(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:pa(8,f,f.return),mo(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,mo(f));break;default:mo(f)}c=c.sibling}}function xi(c,f){for(;oa!==null;){var v=oa;switch(v.tag){case 0:case 11:case 15:pa(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Xu(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,oa=S;else e:for(v=c;oa!==null;){S=oa;var D=S.sibling,L=S.return;if(Zh(S),S===v){oa=null;break e}if(D!==null){D.return=L,oa=D;break e}oa=L}}}var tc={getCacheForType:function(c){var f=yn(Bi),v=f.data.get(c);return v===void 0&&(v=c(),f.data.set(c,v)),v},cacheSignal:function(){return yn(Bi).controller.signal}},On=typeof WeakMap=="function"?WeakMap:Map,on=0,Mn=null,Un=null,Nn=0,ir=0,Da=null,gs=!1,Ps=!1,Y0=!1,Fo=0,hi=0,xl=0,iu=0,Jh=0,Xa=0,qr=0,df=null,_i=null,Si=!1,Sd=0,K0=0,Ri=1/0,pi=null,Oi=null,Ar=0,jo=null,wd=null,vs=0,Md=0,Ed=null,Qh=null,au=0,hf=null;function zo(){return(on&2)!==0&&Nn!==0?Nn&-Nn:H.T!==null?nt():kr()}function Gn(){if(Xa===0)if((Nn&536870912)===0||er){var c=it;it<<=1,(it&3932160)===0&&(it=262144),Xa=c}else Xa=536870912;return c=co.current,c!==null&&(c.flags|=32),Xa}function Bn(c,f,v){(c===Mn&&(ir===2||ir===9)||c.cancelPendingCommit!==null)&&(su(c,0),ji(c,Nn,Xa,!1)),rn(c,v),((on&2)===0||c!==Mn)&&(c===Mn&&((on&2)===0&&(iu|=v),hi===4&&ji(c,Nn,Xa,!1)),Rt(c))}function $n(c,f,v){if((on&6)!==0)throw Error(r(327));var S=!v&&(f&127)===0&&(f&c.expiredLanes)===0||gt(c,f),D=S?ep(c,f):Ya(c,f,!0),L=S;do{if(D===0){Ps&&!S&&ji(c,f,0,!1);break}else{if(v=c.current.alternate,L&&!Tr(v)){D=Ya(c,f,!1),L=!1;continue}if(D===2){if(L=f,c.errorRecoveryDisabledLanes&L)var Y=0;else Y=c.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){f=Y;e:{var se=c;D=df;var Me=se.current.memoizedState.isDehydrated;if(Me&&(su(se,Y).flags|=256),Y=Ya(se,Y,!1),Y!==2){if(Y0&&!Me){se.errorRecoveryDisabledLanes|=L,iu|=L,D=4;break e}L=_i,_i=D,L!==null&&(_i===null?_i=L:_i.push.apply(_i,L))}D=Y}if(L=!1,D!==2)continue}}if(D===1){su(c,0),ji(c,f,0,!0);break}e:{switch(S=c,L=D,L){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:ji(S,f,Xa,!gs);break e;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(D=Sd+300-X(),10<D)){if(ji(S,f,Xa,!gs),Ce(S,0,!0)!==0)break e;vs=f,S.timeoutHandle=c4(Yn.bind(null,S,v,_i,pi,Si,f,Xa,iu,qr,gs,L,"Throttled",-0,0),D);break e}Yn(S,v,_i,pi,Si,f,Xa,iu,qr,gs,L,null,-0,0)}}break}while(!0);Rt(c)}function Yn(c,f,v,S,D,L,Y,se,Me,Xe,ht,yt,Je,st){if(c.timeoutHandle=-1,yt=f.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},_g(f,L,yt);var Zt=(L&62914560)===L?Sd-X():(L&4194048)===L?K0-X():0;if(Zt=jQ(yt,Zt),Zt!==null){vs=L,c.cancelPendingCommit=Zt(rc.bind(null,c,f,L,v,S,D,Y,se,Me,ht,yt,null,Je,st)),ji(c,L,Y,!Xe);return}}rc(c,f,L,v,S,D,Y,se,Me)}function Tr(c){for(var f=c;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var D=v[S],L=D.getSnapshot;D=D.value;try{if(!Ha(L(),D))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ji(c,f,v,S){f&=~Jh,f&=~iu,c.suspendedLanes|=f,c.pingedLanes&=~f,S&&(c.warmLanes|=f),S=c.expirationTimes;for(var D=f;0<D;){var L=31-me(D),Y=1<<L;S[L]=-1,D&=~Y}v!==0&&Jn(c,v,f)}function Ds(){return(on&6)===0?(Wt(0),!1):!0}function ou(){if(Un!==null){if(ir===0)var c=Un.return;else c=Un,ul=Wc=null,b0(c),Qu=null,ef=0,c=Un;for(;c!==null;)Uo(c.alternate,c),c=c.return;Un=null}}function su(c,f){var v=c.timeoutHandle;v!==-1&&(c.timeoutHandle=-1,SQ(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),vs=0,ou(),Mn=c,Un=v=oo(c.current,null),Nn=f,ir=0,Da=null,gs=!1,Ps=gt(c,f),Y0=!1,qr=Xa=Jh=iu=xl=hi=0,_i=df=null,Si=!1,(f&8)!==0&&(f|=f&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=f;0<S;){var D=31-me(S),L=1<<D;f|=c[D],S&=~L}return Fo=f,Ih(),v}function _l(c,f){Rn=null,H.H=bd,f===Yu||f===Ln?(f=Zu(),ir=3):f===Uh?(f=Zu(),ir=4):ir=f===cg?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Da=f,Un===null&&(hi=1,lg(c,Io(f,c.current)))}function mi(){var c=co.current;return c===null?!0:(Nn&4194048)===Nn?$a===null:(Nn&62914560)===Nn||(Nn&536870912)!==0?c===$a:!1}function nc(){var c=H.H;return H.H=bd,c===null?bd:c}function lu(){var c=H.A;return H.A=tc,c}function Ad(){hi=4,gs||(Nn&4194048)!==Nn&&co.current!==null||(Ps=!0),(xl&134217727)===0&&(iu&134217727)===0||Mn===null||ji(Mn,Nn,Xa,!1)}function Ya(c,f,v){var S=on;on|=2;var D=nc(),L=lu();(Mn!==c||Nn!==f)&&(pi=null,su(c,f)),f=!1;var Y=hi;e:do try{if(ir!==0&&Un!==null){var se=Un,Me=Da;switch(ir){case 8:ou(),Y=6;break e;case 3:case 2:case 9:case 6:co.current===null&&(f=!0);var Xe=ir;if(ir=0,Da=null,pf(c,se,Me,Xe),v&&Ps){Y=0;break e}break;default:Xe=ir,ir=0,Da=null,pf(c,se,Me,Xe)}}Td(),Y=hi;break}catch(ht){_l(c,ht)}while(!0);return f&&c.shellSuspendCounter++,ul=Wc=null,on=S,H.H=D,H.A=L,Un===null&&(Mn=null,Nn=0,Ih()),Y}function Td(){for(;Un!==null;)Sg(Un)}function ep(c,f){var v=on;on|=2;var S=nc(),D=lu();Mn!==c||Nn!==f?(pi=null,Ri=X()+500,su(c,f)):Ps=gt(c,f);e:do try{if(ir!==0&&Un!==null){f=Un;var L=Da;t:switch(ir){case 1:ir=0,Da=null,pf(c,f,L,1);break;case 2:case 9:if(lo(L)){ir=0,Da=null,tp(f);break}f=function(){ir!==2&&ir!==9||Mn!==c||(ir=7),Rt(c)},L.then(f,f);break e;case 3:ir=7;break e;case 4:ir=5;break e;case 7:lo(L)?(ir=0,Da=null,tp(f)):(ir=0,Da=null,pf(c,f,L,7));break;case 5:var Y=null;switch(Un.tag){case 26:Y=Un.memoizedState;case 5:case 27:var se=Un;if(Y?M4(Y):se.stateNode.complete){ir=0,Da=null;var Me=se.sibling;if(Me!==null)Un=Me;else{var Xe=se.return;Xe!==null?(Un=Xe,cu(Xe)):Un=null}break t}}ir=0,Da=null,pf(c,f,L,5);break;case 6:ir=0,Da=null,pf(c,f,L,6);break;case 8:ou(),hi=6;break e;default:throw Error(r(462))}}go();break}catch(ht){_l(c,ht)}while(!0);return ul=Wc=null,H.H=S,H.A=D,on=v,Un!==null?0:(Mn=null,Nn=0,Ih(),hi)}function go(){for(;Un!==null&&!He();)Sg(Un)}function Sg(c){var f=vg(c.alternate,c,Fo);c.memoizedProps=c.pendingProps,f===null?cu(c):Un=f}function tp(c){var f=c,v=f.alternate;switch(f.tag){case 15:case 0:f=Wh(v,f,f.pendingProps,f.type,void 0,Nn);break;case 11:f=Wh(v,f,f.pendingProps,f.type.render,f.ref,Nn);break;case 5:b0(f);default:Uo(v,f),f=Un=ad(f,Fo),f=vg(v,f,Fo)}c.memoizedProps=c.pendingProps,f===null?cu(c):Un=f}function pf(c,f,v,S){ul=Wc=null,b0(f),Qu=null,ef=0;var D=f.return;try{if(Xi(c,D,f,v,Nn)){hi=1,lg(c,Io(v,c.current)),Un=null;return}}catch(L){if(D!==null)throw Un=D,L;hi=1,lg(c,Io(v,c.current)),Un=null;return}f.flags&32768?(er||S===1?c=!0:Ps||(Nn&536870912)!==0?c=!1:(gs=c=!0,(S===2||S===9||S===3||S===6)&&(S=co.current,S!==null&&S.tag===13&&(S.flags|=16384))),np(f,c)):cu(f)}function cu(c){var f=c;do{if((f.flags&32768)!==0){np(f,gs);return}c=f.return;var v=Yh(f.alternate,f,Fo);if(v!==null){Un=v;return}if(f=f.sibling,f!==null){Un=f;return}Un=f=c}while(f!==null);hi===0&&(hi=5)}function np(c,f){do{var v=us(c.alternate,c);if(v!==null){v.flags&=32767,Un=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(c=c.sibling,c!==null)){Un=c;return}Un=c=v}while(c!==null);hi=6,Un=null}function rc(c,f,v,S,D,L,Y,se,Me){c.cancelPendingCommit=null;do Cd();while(Ar!==0);if((on&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(L=f.lanes|f.childLanes,L|=na,hn(c,v,L,Y,se,Me),c===Mn&&(Un=Mn=null,Nn=0),wd=f,jo=c,vs=v,Md=L,Ed=D,Qh=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,U(ke,function(){return wg(),null})):(c.callbackNode=null,c.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=H.T,H.T=null,D=q.p,q.p=2,Y=on,on|=4;try{GC(c,f,v)}finally{on=Y,q.p=D,H.T=S}}Ar=1,zi(),ic(),mf()}}function zi(){if(Ar===1){Ar=0;var c=jo,f=wd,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var S=q.p;q.p=2;var D=on;on|=4;try{tu(f,c);var L=ZC,Y=b1(c.containerInfo),se=L.focusedElem,Me=L.selectionRange;if(Y!==se&&se&&se.ownerDocument&&jr(se.ownerDocument.documentElement,se)){if(Me!==null&&t0(se)){var Xe=Me.start,ht=Me.end;if(ht===void 0&&(ht=Xe),"selectionStart"in se)se.selectionStart=Xe,se.selectionEnd=Math.min(ht,se.value.length);else{var yt=se.ownerDocument||document,Je=yt&&yt.defaultView||window;if(Je.getSelection){var st=Je.getSelection(),Zt=se.textContent.length,gn=Math.min(Me.start,Zt),Gr=Me.end===void 0?gn:Math.min(Me.end,Zt);!st.extend&&gn>Gr&&(Y=Gr,Gr=gn,gn=Y);var ze=nd(se,gn),Ie=nd(se,Gr);if(ze&&Ie&&(st.rangeCount!==1||st.anchorNode!==ze.node||st.anchorOffset!==ze.offset||st.focusNode!==Ie.node||st.focusOffset!==Ie.offset)){var qe=yt.createRange();qe.setStart(ze.node,ze.offset),st.removeAllRanges(),gn>Gr?(st.addRange(qe),st.extend(Ie.node,Ie.offset)):(qe.setEnd(Ie.node,Ie.offset),st.addRange(qe))}}}}for(yt=[],st=se;st=st.parentNode;)st.nodeType===1&&yt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<yt.length;se++){var vt=yt[se];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}TS=!!KC,ZC=KC=null}finally{on=D,q.p=S,H.T=v}}c.current=f,Ar=2}}function ic(){if(Ar===2){Ar=0;var c=jo,f=wd,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var S=q.p;q.p=2;var D=on;on|=4;try{ri(c,f.alternate,f)}finally{on=D,q.p=S,H.T=v}}Ar=3}}function mf(){if(Ar===4||Ar===3){Ar=0,re();var c=jo,f=wd,v=vs,S=Qh;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ar=5:(Ar=0,wd=jo=null,Sl(c,c.pendingLanes));var D=c.pendingLanes;if(D===0&&(Oi=null),hr(v),f=f.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ye,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=H.T,D=q.p,q.p=2,H.T=null;try{for(var L=c.onRecoverableError,Y=0;Y<S.length;Y++){var se=S[Y];L(se.value,{componentStack:se.stack})}}finally{H.T=f,q.p=D}}(vs&3)!==0&&Cd(),Rt(c),D=c.pendingLanes,(v&261930)!==0&&(D&42)!==0?c===hf?au++:(au=0,hf=c):au=0,Wt(0)}}function Sl(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Xu(f)))}function Cd(){return zi(),ic(),mf(),wg()}function wg(){if(Ar!==5)return!1;var c=jo,f=Md;Md=0;var v=hr(vs),S=H.T,D=q.p;try{q.p=32>v?32:v,H.T=null,v=Ed,Ed=null;var L=jo,Y=vs;if(Ar=0,wd=jo=null,vs=0,(on&6)!==0)throw Error(r(331));var se=on;if(on|=4,po(L.current),X0(L,L.current,Y,v),on=se,Wt(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ye,L)}catch{}return!0}finally{q.p=D,H.T=S,Sl(c,f)}}function Z0(c,f,v){f=Io(v,f),f=z0(c.stateNode,f,2),c=Yc(c,f,2),c!==null&&(rn(c,2),Rt(c))}function dr(c,f,v){if(c.tag===3)Z0(c,c,v);else for(;f!==null;){if(f.tag===3){Z0(f,c,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Oi===null||!Oi.has(S))){c=Io(v,c),v=H0(2),S=Yc(f,v,2),S!==null&&(dS(v,S,f,c),rn(S,2),Rt(S));break}}f=f.return}}function rp(c,f,v){var S=c.pingCache;if(S===null){S=c.pingCache=new On;var D=new Set;S.set(f,D)}else D=S.get(f),D===void 0&&(D=new Set,S.set(f,D));D.has(v)||(Y0=!0,D.add(v),c=p.bind(null,c,f,v),f.then(c,c))}function p(c,f,v){var S=c.pingCache;S!==null&&S.delete(f),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,Mn===c&&(Nn&v)===v&&(hi===4||hi===3&&(Nn&62914560)===Nn&&300>X()-Sd?(on&2)===0&&su(c,0):Jh|=v,qr===Nn&&(qr=0)),Rt(c)}function m(c,f){f===0&&(f=Ct()),c=Va(c,f),c!==null&&(rn(c,f),Rt(c))}function M(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),m(c,v)}function P(c,f){var v=0;switch(c.tag){case 31:case 13:var S=c.stateNode,D=c.memoizedState;D!==null&&(v=D.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(f),m(c,v)}function U(c,f){return Ke(c,f)}var j=null,oe=null,Te=!1,ot=!1,Mt=!1,Bt=0;function Rt(c){c!==oe&&c.next===null&&(oe===null?j=oe=c:oe=oe.next=c),ot=!0,Te||(Te=!0,Ve())}function Wt(c,f){if(!Mt&&ot){Mt=!0;do for(var v=!1,S=j;S!==null;){if(c!==0){var D=S.pendingLanes;if(D===0)var L=0;else{var Y=S.suspendedLanes,se=S.pingedLanes;L=(1<<31-me(42|c)+1)-1,L&=D&~(Y&~se),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(v=!0,Ze(S,L))}else L=Nn,L=Ce(S,S===Mn?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(L&3)===0||gt(S,L)||(v=!0,Ze(S,L));S=S.next}while(v);Mt=!1}}function Tn(){Pi()}function Pi(){ot=Te=!1;var c=0;Bt!==0&&_Q()&&(c=Bt);for(var f=X(),v=null,S=j;S!==null;){var D=S.next,L=Rd(S,f);L===0?(S.next=null,v===null?j=D:v.next=D,D===null&&(oe=v)):(v=S,(c!==0||(L&3)!==0)&&(ot=!0)),S=D}Ar!==0&&Ar!==5||Wt(c),Bt!==0&&(Bt=0)}function Rd(c,f){for(var v=c.suspendedLanes,S=c.pingedLanes,D=c.expirationTimes,L=c.pendingLanes&-62914561;0<L;){var Y=31-me(L),se=1<<Y,Me=D[Y];Me===-1?((se&v)===0||(se&S)!==0)&&(D[Y]=Et(se,f)):Me<=f&&(c.expiredLanes|=se),L&=~se}if(f=Mn,v=Nn,v=Ce(c,c===f?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S=c.callbackNode,v===0||c===f&&(ir===2||ir===9)||c.cancelPendingCommit!==null)return S!==null&&S!==null&&Be(S),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||gt(c,v)){if(f=v&-v,f===c.callbackPriority)return f;switch(S!==null&&Be(S),hr(v)){case 2:case 8:v=Ue;break;case 32:v=ke;break;case 268435456:v=lt;break;default:v=ke}return S=uu.bind(null,c),v=Ke(v,S),c.callbackPriority=f,c.callbackNode=v,f}return S!==null&&S!==null&&Be(S),c.callbackPriority=2,c.callbackNode=null,2}function uu(c,f){if(Ar!==0&&Ar!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(Cd()&&c.callbackNode!==v)return null;var S=Nn;return S=Ce(c,c===Mn?S:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S===0?null:($n(c,S,f),Rd(c,X()),c.callbackNode!=null&&c.callbackNode===v?uu.bind(null,c):null)}function Ze(c,f){if(Cd())return null;$n(c,f,!0)}function Ve(){wQ(function(){(on&6)!==0?Ke(je,Tn):Pi()})}function nt(){if(Bt===0){var c=ql;c===0&&(c=Ae,Ae<<=1,(Ae&261888)===0&&(Ae=256)),Bt=c}return Bt}function Ut(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Jo(""+c)}function dn(c,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,c.id&&v.setAttribute("form",c.id),f.parentNode.insertBefore(v,f),c=new FormData(c),v.parentNode.removeChild(v),c}function gi(c,f,v,S,D){if(f==="submit"&&v&&v.stateNode===D){var L=Ut((D[te]||null).action),Y=S.submitter;Y&&(f=(f=Y[te]||null)?Ut(f.formAction):Y.getAttribute("formAction"),f!==null&&(L=f,Y=null));var se=new zl("action","action",null,S,D);c.push({event:se,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Bt!==0){var Me=Y?dn(D,Y):new FormData(D);I0(v,{pending:!0,data:Me,method:D.method,action:L},null,Me)}}else typeof L=="function"&&(se.preventDefault(),Me=Y?dn(D,Y):new FormData(D),I0(v,{pending:!0,data:Me,method:D.method,action:L},L,Me))},currentTarget:D}]})}}for(var pn=0;pn<Ph.length;pn++){var sr=Ph[pn],sa=sr.toLowerCase(),pr=sr[0].toUpperCase()+sr.slice(1);rs(sa,"on"+pr)}rs(Lm,"onAnimationEnd"),rs(Oh,"onAnimationIteration"),rs(r0,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(_1,"onTransitionRun"),rs(LC,"onTransitionStart"),rs(S1,"onTransitionCancel"),rs(i0,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ys));function t4(c,f){f=(f&4)!==0;for(var v=0;v<c.length;v++){var S=c[v],D=S.event;S=S.listeners;e:{var L=void 0;if(f)for(var Y=S.length-1;0<=Y;Y--){var se=S[Y],Me=se.instance,Xe=se.currentTarget;if(se=se.listener,Me!==L&&D.isPropagationStopped())break e;L=se,D.currentTarget=Xe;try{L(D)}catch(ht){Dh(ht)}D.currentTarget=null,L=Me}else for(Y=0;Y<S.length;Y++){if(se=S[Y],Me=se.instance,Xe=se.currentTarget,se=se.listener,Me!==L&&D.isPropagationStopped())break e;L=se,D.currentTarget=Xe;try{L(D)}catch(ht){Dh(ht)}D.currentTarget=null,L=Me}}}}function ar(c,f){var v=f[we];v===void 0&&(v=f[we]=new Set);var S=c+"__bubble";v.has(S)||(n4(f,c,2,!1),v.add(S))}function WC(c,f,v){var S=0;f&&(S|=4),n4(v,c,S,f)}var yS="_reactListening"+Math.random().toString(36).slice(2);function qC(c){if(!c[yS]){c[yS]=!0,De.forEach(function(v){v!=="selectionchange"&&($C.has(v)||WC(v,!1,c),WC(v,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[yS]||(f[yS]=!0,WC("selectionchange",!1,f))}}function n4(c,f,v,S){switch(P4(f)){case 2:var D=VQ;break;case 8:D=GQ;break;default:D=lR}v=D.bind(null,f,v,c),D=void 0,!za||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(D=!0),S?D!==void 0?c.addEventListener(f,v,{capture:!0,passive:D}):c.addEventListener(f,v,!0):D!==void 0?c.addEventListener(f,v,{passive:D}):c.addEventListener(f,v,!1)}function XC(c,f,v,S,D){var L=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var Y=S.tag;if(Y===3||Y===4){var se=S.stateNode.containerInfo;if(se===D)break;if(Y===4)for(Y=S.return;Y!==null;){var Me=Y.tag;if((Me===3||Me===4)&&Y.stateNode.containerInfo===D)return;Y=Y.return}for(;se!==null;){if(Y=It(se),Y===null)return;if(Me=Y.tag,Me===5||Me===6||Me===26||Me===27){S=L=Y;continue e}se=se.parentNode}}S=S.return}Dc(function(){var Xe=L,ht=Uu(v),yt=[];e:{var Je=ns.get(c);if(Je!==void 0){var st=zl,Zt=c;switch(c){case"keypress":if(Nc(v)===0)break e;case"keydown":case"keyup":st=Vu;break;case"focusin":Zt="focus",st=Jf;break;case"focusout":Zt="blur",st=Jf;break;case"beforeblur":case"afterblur":st=Jf;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=s1;break;case Lm:case Oh:case r0:st=Do;break;case i0:st=kC;break;case"scroll":case"scrollend":st=Lc;break;case"wheel":st=c1;break;case"copy":case"cut":case"paste":st=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Vy;break;case"toggle":case"beforetoggle":st=f1}var gn=(f&4)!==0,Gr=!gn&&(c==="scroll"||c==="scrollend"),ze=gn?Je!==null?Je+"Capture":null:Je;gn=[];for(var Ie=Xe,qe;Ie!==null;){var vt=Ie;if(qe=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||qe===null||ze===null||(vt=Zs(Ie,ze),vt!=null&&gn.push(J0(Ie,vt,qe))),Gr)break;Ie=Ie.return}0<gn.length&&(Je=new st(Je,Zt,null,v,ht),yt.push({event:Je,listeners:gn}))}}if((f&7)===0){e:{if(Je=c==="mouseover"||c==="pointerover",st=c==="mouseout"||c==="pointerout",Je&&v!==Ks&&(Zt=v.relatedTarget||v.fromElement)&&(It(Zt)||Zt[ue]))break e;if((st||Je)&&(Je=ht.window===ht?ht:(Je=ht.ownerDocument)?Je.defaultView||Je.parentWindow:window,st?(Zt=v.relatedTarget||v.toElement,st=Xe,Zt=Zt?It(Zt):null,Zt!==null&&(Gr=a(Zt),gn=Zt.tag,Zt!==Gr||gn!==5&&gn!==27&&gn!==6)&&(Zt=null)):(st=null,Zt=Xe),st!==Zt)){if(gn=Mh,vt="onMouseLeave",ze="onMouseEnter",Ie="mouse",(c==="pointerout"||c==="pointerover")&&(gn=Vy,vt="onPointerLeave",ze="onPointerEnter",Ie="pointer"),Gr=st==null?Je:kt(st),qe=Zt==null?Je:kt(Zt),Je=new gn(vt,Ie+"leave",st,v,ht),Je.target=Gr,Je.relatedTarget=qe,vt=null,It(ht)===Xe&&(gn=new gn(ze,Ie+"enter",Zt,v,ht),gn.target=qe,gn.relatedTarget=Gr,vt=gn),Gr=vt,st&&Zt)t:{for(gn=gQ,ze=st,Ie=Zt,qe=0,vt=ze;vt;vt=gn(vt))qe++;vt=0;for(var fn=Ie;fn;fn=gn(fn))vt++;for(;0<qe-vt;)ze=gn(ze),qe--;for(;0<vt-qe;)Ie=gn(Ie),vt--;for(;qe--;){if(ze===Ie||Ie!==null&&ze===Ie.alternate){gn=ze;break t}ze=gn(ze),Ie=gn(Ie)}gn=null}else gn=null;st!==null&&r4(yt,Je,st,gn,!1),Zt!==null&&Gr!==null&&r4(yt,Gr,Zt,gn,!0)}}e:{if(Je=Xe?kt(Xe):window,st=Je.nodeName&&Je.nodeName.toLowerCase(),st==="select"||st==="input"&&Je.type==="file")var _r=Ky;else if(Yy(Je))if(nl)_r=y1;else{_r=Qy;var nn=g1}else st=Je.nodeName,!st||st.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Xe&&Ro(Xe.elementType)&&(_r=Ky):_r=v1;if(_r&&(_r=_r(c,Xe))){Nm(yt,_r,v,ht);break e}nn&&nn(c,Je,Xe),c==="focusout"&&Xe&&Je.type==="number"&&Xe.memoizedProps.value!=null&&zn(Je,"number",Je.value)}switch(nn=Xe?kt(Xe):window,c){case"focusin":(Yy(nn)||nn.contentEditable==="true")&&(rl=nn,il=Xe,rd=null);break;case"focusout":rd=il=rl=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,id(yt,v,ht);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":id(yt,v,ht)}var Hn;if(Gu)e:{switch(c){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else $u?Im(c,v)&&(lr="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(lr="onCompositionStart");lr&&($y&&v.locale!=="ko"&&($u||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&$u&&(Hn=Ic()):(Ta=ht,ju="value"in Ta?Ta.value:Ta.textContent,$u=!0)),nn=bS(Xe,lr),0<nn.length&&(lr=new Cm(lr,c,null,v,ht),yt.push({event:lr,listeners:nn}),Hn?lr.data=Hn:(Hn=Wy(v),Hn!==null&&(lr.data=Hn)))),(Hn=Dm?p1(c,v):qy(c,v))&&(lr=bS(Xe,"onBeforeInput"),0<lr.length&&(nn=new Cm("onBeforeInput","beforeinput",null,v,ht),yt.push({event:nn,listeners:lr}),nn.data=Hn)),gi(yt,c,Xe,v,ht)}t4(yt,f)})}function J0(c,f,v){return{instance:c,listener:f,currentTarget:v}}function bS(c,f){for(var v=f+"Capture",S=[];c!==null;){var D=c,L=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||L===null||(D=Zs(c,v),D!=null&&S.unshift(J0(c,D,L)),D=Zs(c,f),D!=null&&S.push(J0(c,D,L))),c.tag===3)return S;c=c.return}return[]}function gQ(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function r4(c,f,v,S,D){for(var L=f._reactName,Y=[];v!==null&&v!==S;){var se=v,Me=se.alternate,Xe=se.stateNode;if(se=se.tag,Me!==null&&Me===S)break;se!==5&&se!==26&&se!==27||Xe===null||(Me=Xe,D?(Xe=Zs(v,L),Xe!=null&&Y.unshift(J0(v,Xe,Me))):D||(Xe=Zs(v,L),Xe!=null&&Y.push(J0(v,Xe,Me)))),v=v.return}Y.length!==0&&c.push({event:f,listeners:Y})}var vQ=/\r\n?/g,yQ=/\u0000|\uFFFD/g;function i4(c){return(typeof c=="string"?c:""+c).replace(vQ,`
`).replace(yQ,"")}function a4(c,f){return f=i4(f),i4(c)===f}function Vr(c,f,v,S,D,L){switch(v){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||Li(c,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&Li(c,""+S);break;case"className":tn(c,"class",S);break;case"tabIndex":tn(c,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":tn(c,v,S);break;case"style":ao(c,S,L);break;case"data":if(f!=="object"){tn(c,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||v!=="href")){c.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(v);break}S=Jo(""+S),c.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){c.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(v==="formAction"?(f!=="input"&&Vr(c,f,"name",D.name,D,null),Vr(c,f,"formEncType",D.formEncType,D,null),Vr(c,f,"formMethod",D.formMethod,D,null),Vr(c,f,"formTarget",D.formTarget,D,null)):(Vr(c,f,"encType",D.encType,D,null),Vr(c,f,"method",D.method,D,null),Vr(c,f,"target",D.target,D,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(v);break}S=Jo(""+S),c.setAttribute(v,S);break;case"onClick":S!=null&&(c.onclick=Aa);break;case"onScroll":S!=null&&ar("scroll",c);break;case"onScrollEnd":S!=null&&ar("scrollend",c);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(D.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"multiple":c.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":c.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){c.removeAttribute("xlink:href");break}v=Jo(""+S),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(v,""+S):c.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(v,""):c.removeAttribute(v);break;case"capture":case"download":S===!0?c.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(v,S):c.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?c.setAttribute(v,S):c.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?c.removeAttribute(v):c.setAttribute(v,S);break;case"popover":ar("beforetoggle",c),ar("toggle",c),jt(c,"popover",S);break;case"xlinkActuate":Ot(c,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Ot(c,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Ot(c,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Ot(c,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Ot(c,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Ot(c,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Ot(c,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Ot(c,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Ot(c,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":jt(c,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=wh.get(v)||v,jt(c,v,S))}}function YC(c,f,v,S,D,L){switch(v){case"style":ao(c,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(v=S.__html,v!=null){if(D.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"children":typeof S=="string"?Li(c,S):(typeof S=="number"||typeof S=="bigint")&&Li(c,""+S);break;case"onScroll":S!=null&&ar("scroll",c);break;case"onScrollEnd":S!=null&&ar("scrollend",c);break;case"onClick":S!=null&&(c.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Re.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(D=v.endsWith("Capture"),f=v.slice(2,D?v.length-7:void 0),L=c[te]||null,L=L!=null?L[v]:null,typeof L=="function"&&c.removeEventListener(f,L,D),typeof S=="function")){typeof L!="function"&&L!==null&&(v in c?c[v]=null:c.hasAttribute(v)&&c.removeAttribute(v)),c.addEventListener(f,S,D);break e}v in c?c[v]=S:S===!0?c.setAttribute(v,""):jt(c,v,S)}}}function Ka(c,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ar("error",c),ar("load",c);var S=!1,D=!1,L;for(L in v)if(v.hasOwnProperty(L)){var Y=v[L];if(Y!=null)switch(L){case"src":S=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Vr(c,f,L,Y,v,null)}}D&&Vr(c,f,"srcSet",v.srcSet,v,null),S&&Vr(c,f,"src",v.src,v,null);return;case"input":ar("invalid",c);var se=L=Y=D=null,Me=null,Xe=null;for(S in v)if(v.hasOwnProperty(S)){var ht=v[S];if(ht!=null)switch(S){case"name":D=ht;break;case"type":Y=ht;break;case"checked":Me=ht;break;case"defaultChecked":Xe=ht;break;case"value":L=ht;break;case"defaultValue":se=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,f));break;default:Vr(c,f,S,ht,v,null)}}Cr(c,L,se,Me,Xe,Y,D,!1);return;case"select":ar("invalid",c),S=Y=L=null;for(D in v)if(v.hasOwnProperty(D)&&(se=v[D],se!=null))switch(D){case"value":L=se;break;case"defaultValue":Y=se;break;case"multiple":S=se;default:Vr(c,f,D,se,v,null)}f=L,v=Y,c.multiple=!!S,f!=null?Rr(c,!!S,f,!1):v!=null&&Rr(c,!!S,v,!0);return;case"textarea":ar("invalid",c),L=D=S=null;for(Y in v)if(v.hasOwnProperty(Y)&&(se=v[Y],se!=null))switch(Y){case"value":S=se;break;case"defaultValue":D=se;break;case"children":L=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(91));break;default:Vr(c,f,Y,se,v,null)}Lr(c,S,D,L);return;case"option":for(Me in v)v.hasOwnProperty(Me)&&(S=v[Me],S!=null)&&(Me==="selected"?c.selected=S&&typeof S!="function"&&typeof S!="symbol":Vr(c,f,Me,S,v,null));return;case"dialog":ar("beforetoggle",c),ar("toggle",c),ar("cancel",c),ar("close",c);break;case"iframe":case"object":ar("load",c);break;case"video":case"audio":for(S=0;S<ys.length;S++)ar(ys[S],c);break;case"image":ar("error",c),ar("load",c);break;case"details":ar("toggle",c);break;case"embed":case"source":case"link":ar("error",c),ar("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in v)if(v.hasOwnProperty(Xe)&&(S=v[Xe],S!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Vr(c,f,Xe,S,v,null)}return;default:if(Ro(f)){for(ht in v)v.hasOwnProperty(ht)&&(S=v[ht],S!==void 0&&YC(c,f,ht,S,v,void 0));return}}for(se in v)v.hasOwnProperty(se)&&(S=v[se],S!=null&&Vr(c,f,se,S,v,null))}function bQ(c,f,v,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,L=null,Y=null,se=null,Me=null,Xe=null,ht=null;for(st in v){var yt=v[st];if(v.hasOwnProperty(st)&&yt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Me=yt;default:S.hasOwnProperty(st)||Vr(c,f,st,null,S,yt)}}for(var Je in S){var st=S[Je];if(yt=v[Je],S.hasOwnProperty(Je)&&(st!=null||yt!=null))switch(Je){case"type":L=st;break;case"name":D=st;break;case"checked":Xe=st;break;case"defaultChecked":ht=st;break;case"value":Y=st;break;case"defaultValue":se=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,f));break;default:st!==yt&&Vr(c,f,Je,st,S,yt)}}fr(c,Y,se,Me,Xe,ht,L,D);return;case"select":st=Y=se=Je=null;for(L in v)if(Me=v[L],v.hasOwnProperty(L)&&Me!=null)switch(L){case"value":break;case"multiple":st=Me;default:S.hasOwnProperty(L)||Vr(c,f,L,null,S,Me)}for(D in S)if(L=S[D],Me=v[D],S.hasOwnProperty(D)&&(L!=null||Me!=null))switch(D){case"value":Je=L;break;case"defaultValue":se=L;break;case"multiple":Y=L;default:L!==Me&&Vr(c,f,D,L,S,Me)}f=se,v=Y,S=st,Je!=null?Rr(c,!!v,Je,!1):!!S!=!!v&&(f!=null?Rr(c,!!v,f,!0):Rr(c,!!v,v?[]:"",!1));return;case"textarea":st=Je=null;for(se in v)if(D=v[se],v.hasOwnProperty(se)&&D!=null&&!S.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Vr(c,f,se,null,S,D)}for(Y in S)if(D=S[Y],L=v[Y],S.hasOwnProperty(Y)&&(D!=null||L!=null))switch(Y){case"value":Je=D;break;case"defaultValue":st=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:D!==L&&Vr(c,f,Y,D,S,L)}Wn(c,Je,st);return;case"option":for(var Zt in v)Je=v[Zt],v.hasOwnProperty(Zt)&&Je!=null&&!S.hasOwnProperty(Zt)&&(Zt==="selected"?c.selected=!1:Vr(c,f,Zt,null,S,Je));for(Me in S)Je=S[Me],st=v[Me],S.hasOwnProperty(Me)&&Je!==st&&(Je!=null||st!=null)&&(Me==="selected"?c.selected=Je&&typeof Je!="function"&&typeof Je!="symbol":Vr(c,f,Me,Je,S,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gn in v)Je=v[gn],v.hasOwnProperty(gn)&&Je!=null&&!S.hasOwnProperty(gn)&&Vr(c,f,gn,null,S,Je);for(Xe in S)if(Je=S[Xe],st=v[Xe],S.hasOwnProperty(Xe)&&Je!==st&&(Je!=null||st!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,f));break;default:Vr(c,f,Xe,Je,S,st)}return;default:if(Ro(f)){for(var Gr in v)Je=v[Gr],v.hasOwnProperty(Gr)&&Je!==void 0&&!S.hasOwnProperty(Gr)&&YC(c,f,Gr,void 0,S,Je);for(ht in S)Je=S[ht],st=v[ht],!S.hasOwnProperty(ht)||Je===st||Je===void 0&&st===void 0||YC(c,f,ht,Je,S,st);return}}for(var ze in v)Je=v[ze],v.hasOwnProperty(ze)&&Je!=null&&!S.hasOwnProperty(ze)&&Vr(c,f,ze,null,S,Je);for(yt in S)Je=S[yt],st=v[yt],!S.hasOwnProperty(yt)||Je===st||Je==null&&st==null||Vr(c,f,yt,Je,S,st)}function o4(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xQ(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,v=performance.getEntriesByType("resource"),S=0;S<v.length;S++){var D=v[S],L=D.transferSize,Y=D.initiatorType,se=D.duration;if(L&&se&&o4(Y)){for(Y=0,se=D.responseEnd,S+=1;S<v.length;S++){var Me=v[S],Xe=Me.startTime;if(Xe>se)break;var ht=Me.transferSize,yt=Me.initiatorType;ht&&o4(yt)&&(Me=Me.responseEnd,Y+=ht*(Me<se?1:(se-Xe)/(Me-Xe)))}if(--S,f+=8*(L+Y)/(D.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var KC=null,ZC=null;function xS(c){return c.nodeType===9?c:c.ownerDocument}function s4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l4(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function JC(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var QC=null;function _Q(){var c=window.event;return c&&c.type==="popstate"?c===QC?!1:(QC=c,!0):(QC=null,!1)}var c4=typeof setTimeout=="function"?setTimeout:void 0,SQ=typeof clearTimeout=="function"?clearTimeout:void 0,u4=typeof Promise=="function"?Promise:void 0,wQ=typeof queueMicrotask=="function"?queueMicrotask:typeof u4<"u"?function(c){return u4.resolve(null).then(c).catch(MQ)}:c4;function MQ(c){setTimeout(function(){throw c})}function Od(c){return c==="head"}function f4(c,f){var v=f,S=0;do{var D=v.nextSibling;if(c.removeChild(v),D&&D.nodeType===8)if(v=D.data,v==="/$"||v==="/&"){if(S===0){c.removeChild(D),Tg(f);return}S--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")S++;else if(v==="html")Q0(c.ownerDocument.documentElement);else if(v==="head"){v=c.ownerDocument.head,Q0(v);for(var L=v.firstChild;L;){var Y=L.nextSibling,se=L.nodeName;L[At]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&L.rel.toLowerCase()==="stylesheet"||v.removeChild(L),L=Y}}else v==="body"&&Q0(c.ownerDocument.body);v=D}while(v);Tg(f)}function d4(c,f){var v=c;c=0;do{var S=v.nextSibling;if(v.nodeType===1?f?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(f?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),S&&S.nodeType===8)if(v=S.data,v==="/$"){if(c===0)break;c--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||c++;v=S}while(v)}function eR(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":eR(v),St(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}c.removeChild(v)}}function EQ(c,f,v,S){for(;c.nodeType===1;){var D=v;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(S){if(!c[At])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(L=c.getAttribute("rel"),L==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(L!==D.rel||c.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||c.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||c.getAttribute("title")!==(D.title==null?null:D.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(L=c.getAttribute("src"),(L!==(D.src==null?null:D.src)||c.getAttribute("type")!==(D.type==null?null:D.type)||c.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&L&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var L=D.name==null?null:""+D.name;if(D.type==="hidden"&&c.getAttribute("name")===L)return c}else return c;if(c=wl(c.nextSibling),c===null)break}return null}function AQ(c,f,v){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!v||(c=wl(c.nextSibling),c===null))return null;return c}function h4(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=wl(c.nextSibling),c===null))return null;return c}function tR(c){return c.data==="$?"||c.data==="$~"}function nR(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function TQ(c,f){var v=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||v.readyState!=="loading")f();else{var S=function(){f(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),c._reactRetry=S}}function wl(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var rR=null;function p4(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"||v==="/&"){if(f===0)return wl(c.nextSibling);f--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||f++}c=c.nextSibling}return null}function m4(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(f===0)return c;f--}else v!=="/$"&&v!=="/&"||f++}c=c.previousSibling}return null}function g4(c,f,v){switch(f=xS(v),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Q0(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);St(c)}var Ml=new Map,v4=new Set;function _S(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var gf=q.d;q.d={f:CQ,r:RQ,D:OQ,C:PQ,L:DQ,m:IQ,X:kQ,S:NQ,M:LQ};function CQ(){var c=gf.f(),f=Ds();return c||f}function RQ(c){var f=Nt(c);f!==null&&f.tag===5&&f.type==="form"?rS(f):gf.r(c)}var Mg=typeof document>"u"?null:document;function y4(c,f,v){var S=Mg;if(S&&typeof f=="string"&&f){var D=Lt(f);D='link[rel="'+c+'"][href="'+D+'"]',typeof v=="string"&&(D+='[crossorigin="'+v+'"]'),v4.has(D)||(v4.add(D),c={rel:c,crossOrigin:v,href:f},S.querySelector(D)===null&&(f=S.createElement("link"),Ka(f,"link",c),Se(f),S.head.appendChild(f)))}}function OQ(c){gf.D(c),y4("dns-prefetch",c,null)}function PQ(c,f){gf.C(c,f),y4("preconnect",c,f)}function DQ(c,f,v){gf.L(c,f,v);var S=Mg;if(S&&c&&f){var D='link[rel="preload"][as="'+Lt(f)+'"]';f==="image"&&v&&v.imageSrcSet?(D+='[imagesrcset="'+Lt(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(D+='[imagesizes="'+Lt(v.imageSizes)+'"]')):D+='[href="'+Lt(c)+'"]';var L=D;switch(f){case"style":L=Eg(c);break;case"script":L=Ag(c)}Ml.has(L)||(c=h({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:c,as:f},v),Ml.set(L,c),S.querySelector(D)!==null||f==="style"&&S.querySelector(eb(L))||f==="script"&&S.querySelector(tb(L))||(f=S.createElement("link"),Ka(f,"link",c),Se(f),S.head.appendChild(f)))}}function IQ(c,f){gf.m(c,f);var v=Mg;if(v&&c){var S=f&&typeof f.as=="string"?f.as:"script",D='link[rel="modulepreload"][as="'+Lt(S)+'"][href="'+Lt(c)+'"]',L=D;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Ag(c)}if(!Ml.has(L)&&(c=h({rel:"modulepreload",href:c},f),Ml.set(L,c),v.querySelector(D)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(tb(L)))return}S=v.createElement("link"),Ka(S,"link",c),Se(S),v.head.appendChild(S)}}}function NQ(c,f,v){gf.S(c,f,v);var S=Mg;if(S&&c){var D=Q(S).hoistableStyles,L=Eg(c);f=f||"default";var Y=D.get(L);if(!Y){var se={loading:0,preload:null};if(Y=S.querySelector(eb(L)))se.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":f},v),(v=Ml.get(L))&&iR(c,v);var Me=Y=S.createElement("link");Se(Me),Ka(Me,"link",c),Me._p=new Promise(function(Xe,ht){Me.onload=Xe,Me.onerror=ht}),Me.addEventListener("load",function(){se.loading|=1}),Me.addEventListener("error",function(){se.loading|=2}),se.loading|=4,SS(Y,f,S)}Y={type:"stylesheet",instance:Y,count:1,state:se},D.set(L,Y)}}}function kQ(c,f){gf.X(c,f);var v=Mg;if(v&&c){var S=Q(v).hoistableScripts,D=Ag(c),L=S.get(D);L||(L=v.querySelector(tb(D)),L||(c=h({src:c,async:!0},f),(f=Ml.get(D))&&aR(c,f),L=v.createElement("script"),Se(L),Ka(L,"link",c),v.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(D,L))}}function LQ(c,f){gf.M(c,f);var v=Mg;if(v&&c){var S=Q(v).hoistableScripts,D=Ag(c),L=S.get(D);L||(L=v.querySelector(tb(D)),L||(c=h({src:c,async:!0,type:"module"},f),(f=Ml.get(D))&&aR(c,f),L=v.createElement("script"),Se(L),Ka(L,"link",c),v.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(D,L))}}function b4(c,f,v,S){var D=(D=ce.current)?_S(D):null;if(!D)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=Eg(v.href),v=Q(D).hoistableStyles,S=v.get(f),S||(S={type:"style",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){c=Eg(v.href);var L=Q(D).hoistableStyles,Y=L.get(c);if(Y||(D=D.ownerDocument||D,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(c,Y),(L=D.querySelector(eb(c)))&&!L._p&&(Y.instance=L,Y.state.loading=5),Ml.has(c)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ml.set(c,v),L||UQ(D,c,v,Y.state))),f&&S===null)throw Error(r(528,""));return Y}if(f&&S!==null)throw Error(r(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Ag(v),v=Q(D).hoistableScripts,S=v.get(f),S||(S={type:"script",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Eg(c){return'href="'+Lt(c)+'"'}function eb(c){return'link[rel="stylesheet"]['+c+"]"}function x4(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function UQ(c,f,v,S){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=c.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),Ka(f,"link",v),Se(f),c.head.appendChild(f))}function Ag(c){return'[src="'+Lt(c)+'"]'}function tb(c){return"script[async]"+c}function _4(c,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var S=c.querySelector('style[data-href~="'+Lt(v.href)+'"]');if(S)return f.instance=S,Se(S),S;var D=h({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(c.ownerDocument||c).createElement("style"),Se(S),Ka(S,"style",D),SS(S,v.precedence,c),f.instance=S;case"stylesheet":D=Eg(v.href);var L=c.querySelector(eb(D));if(L)return f.state.loading|=4,f.instance=L,Se(L),L;S=x4(v),(D=Ml.get(D))&&iR(S,D),L=(c.ownerDocument||c).createElement("link"),Se(L);var Y=L;return Y._p=new Promise(function(se,Me){Y.onload=se,Y.onerror=Me}),Ka(L,"link",S),f.state.loading|=4,SS(L,v.precedence,c),f.instance=L;case"script":return L=Ag(v.src),(D=c.querySelector(tb(L)))?(f.instance=D,Se(D),D):(S=v,(D=Ml.get(L))&&(S=h({},v),aR(S,D)),c=c.ownerDocument||c,D=c.createElement("script"),Se(D),Ka(D,"link",S),c.head.appendChild(D),f.instance=D);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,SS(S,v.precedence,c));return f.instance}function SS(c,f,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=S.length?S[S.length-1]:null,L=D,Y=0;Y<S.length;Y++){var se=S[Y];if(se.dataset.precedence===f)L=se;else if(L!==D)break}L?L.parentNode.insertBefore(c,L.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(c,f.firstChild))}function iR(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function aR(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var wS=null;function S4(c,f,v){if(wS===null){var S=new Map,D=wS=new Map;D.set(v,S)}else D=wS,S=D.get(v),S||(S=new Map,D.set(v,S));if(S.has(c))return S;for(S.set(c,null),v=v.getElementsByTagName(c),D=0;D<v.length;D++){var L=v[D];if(!(L[At]||L[ur]||c==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=L.getAttribute(f)||"";Y=c+Y;var se=S.get(Y);se?se.push(L):S.set(Y,[L])}}return S}function w4(c,f,v){c=c.ownerDocument||c,c.head.insertBefore(v,f==="title"?c.querySelector("head > title"):null)}function BQ(c,f,v){if(v===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(c=f.disabled,typeof f.precedence=="string"&&c==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function M4(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function FQ(c,f,v,S){if(v.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var D=Eg(S.href),L=f.querySelector(eb(D));if(L){f=L._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=MS.bind(c),f.then(c,c)),v.state.loading|=4,v.instance=L,Se(L);return}L=f.ownerDocument||f,S=x4(S),(D=Ml.get(D))&&iR(S,D),L=L.createElement("link"),Se(L);var Y=L;Y._p=new Promise(function(se,Me){Y.onload=se,Y.onerror=Me}),Ka(L,"link",S),v.instance=L}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(v,f),(f=v.state.preload)&&(v.state.loading&3)===0&&(c.count++,v=MS.bind(c),f.addEventListener("load",v),f.addEventListener("error",v))}}var oR=0;function jQ(c,f){return c.stylesheets&&c.count===0&&AS(c,c.stylesheets),0<c.count||0<c.imgCount?function(v){var S=setTimeout(function(){if(c.stylesheets&&AS(c,c.stylesheets),c.unsuspend){var L=c.unsuspend;c.unsuspend=null,L()}},6e4+f);0<c.imgBytes&&oR===0&&(oR=62500*xQ());var D=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&AS(c,c.stylesheets),c.unsuspend)){var L=c.unsuspend;c.unsuspend=null,L()}},(c.imgBytes>oR?50:800)+f);return c.unsuspend=v,function(){c.unsuspend=null,clearTimeout(S),clearTimeout(D)}}:null}function MS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)AS(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var ES=null;function AS(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,ES=new Map,f.forEach(zQ,c),ES=null,MS.call(c))}function zQ(c,f){if(!(f.state.loading&4)){var v=ES.get(c);if(v)var S=v.get(null);else{v=new Map,ES.set(c,v);for(var D=c.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<D.length;L++){var Y=D[L];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(v.set(Y.dataset.precedence,Y),S=Y)}S&&v.set(null,S)}D=f.instance,Y=D.getAttribute("data-precedence"),L=v.get(Y)||S,L===S&&v.set(null,D),v.set(Y,D),this.count++,S=MS.bind(this),D.addEventListener("load",S),D.addEventListener("error",S),L?L.parentNode.insertBefore(D,L.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(D,c.firstChild)),f.state.loading|=4}}var nb={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function HQ(c,f,v,S,D,L,Y,se,Me){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=S,this.onUncaughtError=D,this.onCaughtError=L,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function E4(c,f,v,S,D,L,Y,se,Me,Xe,ht,yt){return c=new HQ(c,f,v,Y,Me,Xe,ht,yt,se),f=1,L===!0&&(f|=24),L=ui(3,null,null,f),c.current=L,L.stateNode=c,f=o0(),f.refCount++,c.pooledCache=f,f.refCount++,L.memoizedState={element:S,isDehydrated:v,cache:f},Fh(L),c}function A4(c){return c?(c=zc,c):zc}function T4(c,f,v,S,D,L){D=A4(D),S.context===null?S.context=D:S.pendingContext=D,S=Yl(f),S.payload={element:v},L=L===void 0?null:L,L!==null&&(S.callback=L),v=Yc(c,S,f),v!==null&&(Bn(v,c,f),Kc(v,c,f))}function C4(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function sR(c,f){C4(c,f),(c=c.alternate)&&C4(c,f)}function R4(c){if(c.tag===13||c.tag===31){var f=Va(c,67108864);f!==null&&Bn(f,c,67108864),sR(c,67108864)}}function O4(c){if(c.tag===13||c.tag===31){var f=zo();f=Zr(f);var v=Va(c,f);v!==null&&Bn(v,c,f),sR(c,f)}}var TS=!0;function VQ(c,f,v,S){var D=H.T;H.T=null;var L=q.p;try{q.p=2,lR(c,f,v,S)}finally{q.p=L,H.T=D}}function GQ(c,f,v,S){var D=H.T;H.T=null;var L=q.p;try{q.p=8,lR(c,f,v,S)}finally{q.p=L,H.T=D}}function lR(c,f,v,S){if(TS){var D=cR(S);if(D===null)XC(c,f,S,CS,v),D4(c,S);else if(WQ(D,c,f,v,S))S.stopPropagation();else if(D4(c,S),f&4&&-1<$Q.indexOf(c)){for(;D!==null;){var L=Nt(D);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var Y=ct(L.pendingLanes);if(Y!==0){var se=L;for(se.pendingLanes|=2,se.entangledLanes|=2;Y;){var Me=1<<31-me(Y);se.entanglements[1]|=Me,Y&=~Me}Rt(L),(on&6)===0&&(Ri=X()+500,Wt(0))}}break;case 31:case 13:se=Va(L,2),se!==null&&Bn(se,L,2),Ds(),sR(L,2)}if(L=cR(S),L===null&&XC(c,f,S,CS,v),L===D)break;D=L}D!==null&&S.stopPropagation()}else XC(c,f,S,null,v)}}function cR(c){return c=Uu(c),uR(c)}var CS=null;function uR(c){if(CS=null,c=It(c),c!==null){var f=a(c);if(f===null)c=null;else{var v=f.tag;if(v===13){if(c=o(f),c!==null)return c;c=null}else if(v===31){if(c=s(f),c!==null)return c;c=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return CS=c,null}function P4(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case je:return 2;case Ue:return 8;case ke:case ut:return 32;case lt:return 268435456;default:return 32}default:return 32}}var fR=!1,Pd=null,Dd=null,Id=null,rb=new Map,ib=new Map,Nd=[],$Q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D4(c,f){switch(c){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Dd=null;break;case"mouseover":case"mouseout":Id=null;break;case"pointerover":case"pointerout":rb.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ib.delete(f.pointerId)}}function ab(c,f,v,S,D,L){return c===null||c.nativeEvent!==L?(c={blockedOn:f,domEventName:v,eventSystemFlags:S,nativeEvent:L,targetContainers:[D]},f!==null&&(f=Nt(f),f!==null&&R4(f)),c):(c.eventSystemFlags|=S,f=c.targetContainers,D!==null&&f.indexOf(D)===-1&&f.push(D),c)}function WQ(c,f,v,S,D){switch(f){case"focusin":return Pd=ab(Pd,c,f,v,S,D),!0;case"dragenter":return Dd=ab(Dd,c,f,v,S,D),!0;case"mouseover":return Id=ab(Id,c,f,v,S,D),!0;case"pointerover":var L=D.pointerId;return rb.set(L,ab(rb.get(L)||null,c,f,v,S,D)),!0;case"gotpointercapture":return L=D.pointerId,ib.set(L,ab(ib.get(L)||null,c,f,v,S,D)),!0}return!1}function I4(c){var f=It(c.target);if(f!==null){var v=a(f);if(v!==null){if(f=v.tag,f===13){if(f=o(v),f!==null){c.blockedOn=f,an(c.priority,function(){O4(v)});return}}else if(f===31){if(f=s(v),f!==null){c.blockedOn=f,an(c.priority,function(){O4(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function RS(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var v=cR(c.nativeEvent);if(v===null){v=c.nativeEvent;var S=new v.constructor(v.type,v);Ks=S,v.target.dispatchEvent(S),Ks=null}else return f=Nt(v),f!==null&&R4(f),c.blockedOn=v,!1;f.shift()}return!0}function N4(c,f,v){RS(c)&&v.delete(f)}function qQ(){fR=!1,Pd!==null&&RS(Pd)&&(Pd=null),Dd!==null&&RS(Dd)&&(Dd=null),Id!==null&&RS(Id)&&(Id=null),rb.forEach(N4),ib.forEach(N4)}function OS(c,f){c.blockedOn===f&&(c.blockedOn=null,fR||(fR=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qQ)))}var PS=null;function k4(c){PS!==c&&(PS=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){PS===c&&(PS=null);for(var f=0;f<c.length;f+=3){var v=c[f],S=c[f+1],D=c[f+2];if(typeof S!="function"){if(uR(S||v)===null)continue;break}var L=Nt(v);L!==null&&(c.splice(f,3),f-=3,I0(L,{pending:!0,data:D,method:v.method,action:S},S,D))}}))}function Tg(c){function f(Me){return OS(Me,c)}Pd!==null&&OS(Pd,c),Dd!==null&&OS(Dd,c),Id!==null&&OS(Id,c),rb.forEach(f),ib.forEach(f);for(var v=0;v<Nd.length;v++){var S=Nd[v];S.blockedOn===c&&(S.blockedOn=null)}for(;0<Nd.length&&(v=Nd[0],v.blockedOn===null);)I4(v),v.blockedOn===null&&Nd.shift();if(v=(c.ownerDocument||c).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var D=v[S],L=v[S+1],Y=D[te]||null;if(typeof L=="function")Y||k4(v);else if(Y){var se=null;if(L&&L.hasAttribute("formAction")){if(D=L,Y=L[te]||null)se=Y.formAction;else if(uR(D)!==null)continue}else se=Y.action;typeof se=="function"?v[S+1]=se:(v.splice(S,3),S-=3),k4(v)}}}function L4(){function c(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(Y){return D=Y})},focusReset:"manual",scroll:"manual"})}function f(){D!==null&&(D(),D=null),S||setTimeout(v,20)}function v(){if(!S&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,D=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(v,100),function(){S=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),D!==null&&(D(),D=null)}}}function dR(c){this._internalRoot=c}DS.prototype.render=dR.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var v=f.current,S=zo();T4(v,S,c,f,null,null)},DS.prototype.unmount=dR.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;T4(c.current,2,null,c,null,null),Ds(),f[ue]=null}};function DS(c){this._internalRoot=c}DS.prototype.unstable_scheduleHydration=function(c){if(c){var f=kr();c={blockedOn:null,target:c,priority:f};for(var v=0;v<Nd.length&&f!==0&&f<Nd[v].priority;v++);Nd.splice(v,0,c),v===0&&I4(c)}};var U4=e.version;if(U4!=="19.2.3")throw Error(r(527,U4,"19.2.3"));q.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(f),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var XQ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var IS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!IS.isDisabled&&IS.supportsFiber)try{Ye=IS.inject(XQ),$e=IS}catch{}}return sb.createRoot=function(c,f){if(!i(c))throw Error(r(299));var v=!1,S="",D=uS,L=F0,Y=j0;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(D=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(Y=f.onRecoverableError)),f=E4(c,1,!1,null,null,v,S,null,D,L,Y,L4),c[ue]=f.current,qC(c),new dR(f)},sb.hydrateRoot=function(c,f,v){if(!i(c))throw Error(r(299));var S=!1,D="",L=uS,Y=F0,se=j0,Me=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(D=v.identifierPrefix),v.onUncaughtError!==void 0&&(L=v.onUncaughtError),v.onCaughtError!==void 0&&(Y=v.onCaughtError),v.onRecoverableError!==void 0&&(se=v.onRecoverableError),v.formState!==void 0&&(Me=v.formState)),f=E4(c,1,!0,f,v??null,S,D,Me,L,Y,se,L4),f.context=A4(null),v=f.current,S=zo(),S=Zr(S),D=Yl(S),D.callback=null,Yc(v,D,S),v=S,f.current.lanes=v,rn(f,v),Rt(f),c[ue]=f.current,qC(c),new DS(f)},sb.version="19.2.3",sb}var q4;function ree(){if(q4)return mR.exports;q4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mR.exports=nee(),mR.exports}var E7=ree();const iee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aee=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),X4=t=>{const e=aee(t);return e.charAt(0).toUpperCase()+e.slice(1)},A7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),oee=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var see={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lee=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>B.createElement("svg",{ref:l,...see,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A7("lucide",i),...!a&&!oee(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>B.createElement(u,d)),...Array.isArray(a)?a:[a]]));const ci=(t,e)=>{const n=B.forwardRef(({className:r,...i},a)=>B.createElement(lee,{ref:a,iconNode:e,className:A7(`lucide-${iee(X4(t))}`,`lucide-${t}`,r),...i}));return n.displayName=X4(t),n};const cee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Y4=ci("award",cee);const uee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fee=ci("bell",uee);const dee=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],qb=ci("building-2",dee);const hee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pee=ci("chart-column",hee);const mee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gee=ci("check",mee);const vee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_L=ci("chevron-down",vee);const yee=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bee=ci("chevron-up",yee);const xee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_ee=ci("circle-alert",xee);const See=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jp=ci("circle-check-big",See);const wee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mee=ci("circle-x",wee);const Eee=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qI=ci("clipboard-check",Eee);const Aee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IA=ci("clock",Aee);const Tee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cee=ci("funnel",Tee);const Ree=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Oee=ci("layers",Ree);const Pee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dee=ci("log-out",Pee);const Iee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Nee=ci("menu",Iee);const kee=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wM=ci("pause",kee);const Lee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gx=ci("play",Lee);const Uee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],T7=ci("refresh-cw",Uee);const Bee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SL=ci("search",Bee);const Fee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],C7=ci("square",Fee);const jee=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zee=ci("triangle-alert",jee);const Hee=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XI=ci("user",Hee);const Vee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gee=ci("users",Vee);const $ee=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],R7=ci("wrench",$ee);const Wee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O7=ci("x",Wee),K4=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(y=>y(e,g))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,s);return s},P7=(t=>t?K4(t):K4),qee=t=>t;function Xee(t,e=qee){const n=he.useSyncExternalStore(t.subscribe,he.useCallback(()=>e(t.getState()),[t,e]),he.useCallback(()=>e(t.getInitialState()),[t,e]));return he.useDebugValue(n),n}const Z4=t=>{const e=P7(t),n=r=>Xee(e,r);return Object.assign(n,e),n},D7=(t=>t?Z4(t):Z4);function Yee(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const YI=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return YI(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return YI(r)(n)}}}},Kee=(t,e)=>(n,r,i)=>{let a={storage:Yee(()=>window.localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...e},o=!1,s=0;const l=new Set,u=new Set;let d=a.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...x)},r,i);const h=()=>{const x=a.partialize({...r()});return d.setItem(a.name,{state:x,version:a.version})},g=i.setState;i.setState=(x,w)=>(g(x,w),h());const y=t((...x)=>(n(...x),h()),r,i);i.getInitialState=()=>y;let b;const _=()=>{var x,w;if(!d)return;const E=++s;o=!1,l.forEach(C=>{var T;return C((T=r())!=null?T:y)});const A=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(x=r())!=null?x:y))||void 0;return YI(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const T=a.migrate(C.state,C.version);return T instanceof Promise?T.then(O=>[!0,O]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var T;if(E!==s)return;const[O,N]=C;if(b=a.merge(N,(T=r())!=null?T:y),n(b,!0),O)return h()}).then(()=>{E===s&&(A?.(b,void 0),b=r(),o=!0,u.forEach(C=>C(b)))}).catch(C=>{E===s&&A?.(void 0,C)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},a.skipHydration||_(),b||y},Zee=Kee,dh=D7()(Zee(t=>({currentUser:null,setCurrentUser:e=>t({currentUser:e}),currentRole:null,setCurrentRole:e=>t({currentRole:e}),rooms:[],setRooms:e=>t({rooms:e}),updateRoom:(e,n)=>t(r=>({rooms:r.rooms.map(i=>i.id===e?{...i,...n}:i)})),selectedRoom:null,setSelectedRoom:e=>t({selectedRoom:e}),timer:{isRunning:!1,startTime:null,elapsedTime:0,currentLogId:null,roomNumber:null,taskType:null},startTimer:(e,n,r)=>t({timer:{isRunning:!0,startTime:Date.now(),elapsedTime:0,currentLogId:e,roomNumber:n,taskType:r}}),pauseTimer:()=>t(e=>({timer:{...e.timer,isRunning:!1,startTime:null}})),resumeTimer:()=>t(e=>({timer:{...e.timer,isRunning:!0,startTime:Date.now()}})),stopTimer:()=>t(e=>({timer:{...e.timer,isRunning:!1,startTime:null,currentLogId:null,roomNumber:null,taskType:null}})),resetTimer:()=>t({timer:{isRunning:!1,startTime:null,elapsedTime:0,currentLogId:null,roomNumber:null,taskType:null}}),tick:()=>t(e=>{if(!e.timer.isRunning||!e.timer.startTime)return e;const n=Date.now(),r=Math.floor((n-e.timer.startTime)/1e3);return{timer:{...e.timer,elapsedTime:e.timer.elapsedTime+r,startTime:n}}}),notifications:[],addNotification:e=>t(n=>({notifications:[{...e,id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),read:!1},...n.notifications].slice(0,50)})),markNotificationRead:e=>t(n=>({notifications:n.notifications.map(r=>r.id===e?{...r,read:!0}:r)})),clearNotifications:()=>t({notifications:[]}),isLoading:!1,setIsLoading:e=>t({isLoading:e})}),{name:"batu-hms-storage",partialize:t=>({currentUser:t.currentUser,currentRole:t.currentRole})}));let Ev=null;function I7(){Ev&&clearInterval(Ev),Ev=setInterval(()=>{dh.getState().tick()},1e3)}function N7(){Ev&&(clearInterval(Ev),Ev=null)}const yy="183",Ep={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ap={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},k7=0,KI=1,L7=2,Jee=3,U7=0,Av=1,Xb=2,kp=3,Lf=0,Eo=1,js=2,_c=0,Wp=1,MM=2,ZI=3,JI=4,B7=5,Qee=6,Yd=100,F7=101,j7=102,z7=103,H7=104,V7=200,G7=201,$7=202,W7=203,EM=204,AM=205,q7=206,X7=207,Y7=208,K7=209,Z7=210,J7=211,Q7=212,e9=213,t9=214,TM=0,CM=1,RM=2,Qp=3,OM=4,PM=5,DM=6,IM=7,C_=0,n9=1,r9=2,Il=0,wL=1,ML=2,EL=3,NA=4,AL=5,TL=6,CL=7,QI="attached",i9="detached",ah=300,wc=301,oh=302,Tv=303,Yb=304,by=306,vx=1e3,$i=1001,yx=1002,ea=1003,RL=1004,ete=1004,mv=1005,tte=1005,or=1006,Kb=1007,nte=1007,bu=1008,eN=1008,La=1009,kA=1010,LA=1011,Uv=1012,R_=1013,Xs=1014,Mi=1015,Wi=1016,UA=1017,BA=1018,Bv=1020,OL=35902,PL=35899,DL=1021,IL=1022,ta=1023,Tu=1026,Jd=1027,O_=1028,P_=1029,em=1030,FA=1031,rte=1032,jA=1033,Zb=33776,Jb=33777,Qb=33778,ex=33779,NM=35840,kM=35841,LM=35842,UM=35843,BM=36196,FM=37492,jM=37496,zM=37488,HM=37489,VM=37490,GM=37491,$M=37808,WM=37809,qM=37810,XM=37811,YM=37812,KM=37813,ZM=37814,JM=37815,QM=37816,eE=37817,tE=37818,nE=37819,rE=37820,iE=37821,aE=36492,oE=36494,sE=36495,lE=36283,cE=36284,uE=36285,fE=36286,a9=2200,o9=2201,s9=2202,bx=2300,dE=2301,hM=2302,tN=2303,Lp=2400,Up=2401,xx=2402,zA=2500,NL=2501,ite=0,ate=1,ote=2,l9=3200,c9=3201,ste=3202,lte=3203,hh=0,u9=1,Cf="",to="srgb",Mc="srgb-linear",_x="linear",Nr="srgb",cte="",ute="rg",fte="ga",dte=0,Tp=7680,hte=7681,pte=7682,mte=7683,gte=34055,vte=34056,yte=5386,bte=512,xte=513,_te=514,Ste=515,wte=516,Mte=517,Ete=518,nN=519,f9=512,d9=513,h9=514,HA=515,p9=516,m9=517,VA=518,g9=519,Sx=35044,Ate=35048,Tte=35040,Cte=35045,Rte=35049,Ote=35041,Pte=35046,Dte=35050,Ite=35042,Nte="100",rN="300 es",Vs=2e3,tm=2001,kte={COMPUTE:"compute",RENDER:"render"},Lte={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Ute={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},Bte={TEXTURE_COMPARE:"depthTextureCompare"};function Fte(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const jte={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function gv(t,e){return new jte[t](e)}function v9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function y9(){const t=wx("canvas");return t.style.display="block",t}const J4={};let sh=null;function zte(t){sh=t}function Hte(){return sh}function Mx(...t){const e="THREE."+t.shift();sh?sh("log",e,...t):console.log(e,...t)}function b9(t){const e=t[0];if(typeof e=="string"&&e.startsWith("TSL:")){const n=t[1];n&&n.isStackTrace?t[0]+=" "+n.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function Ht(...t){t=b9(t);const e="THREE."+t.shift();if(sh)sh("warn",e,...t);else{const n=t[0];n&&n.isStackTrace?console.warn(n.getError(e)):console.warn(e,...t)}}function ln(...t){t=b9(t);const e="THREE."+t.shift();if(sh)sh("error",e,...t);else{const n=t[0];n&&n.isStackTrace?console.error(n.getError(e)):console.error(e,...t)}}function Ex(...t){const e=t.join(" ");e in J4||(J4[e]=!0,Ht(...t))}function Vte(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}const Gte={[TM]:CM,[RM]:DM,[OM]:IM,[Qp]:PM,[CM]:TM,[DM]:RM,[IM]:OM,[PM]:Qp};let Pu=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const yo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Q4=1234567;const qp=Math.PI/180,Fv=180/Math.PI;function Gs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(yo[t&255]+yo[t>>8&255]+yo[t>>16&255]+yo[t>>24&255]+"-"+yo[e&255]+yo[e>>8&255]+"-"+yo[e>>16&15|64]+yo[e>>24&255]+"-"+yo[n&63|128]+yo[n>>8&255]+"-"+yo[n>>16&255]+yo[n>>24&255]+yo[r&255]+yo[r>>8&255]+yo[r>>16&255]+yo[r>>24&255]).toLowerCase()}function Sn(t,e,n){return Math.max(e,Math.min(n,t))}function kL(t,e){return(t%e+e)%e}function $te(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Wte(t,e,n){return t!==e?(n-t)/(e-t):0}function tx(t,e,n){return(1-n)*t+n*e}function qte(t,e,n,r){return tx(t,e,1-Math.exp(-n*r))}function Xte(t,e=1){return e-Math.abs(kL(t,e*2)-e)}function Yte(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Kte(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Zte(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Jte(t,e){return t+Math.random()*(e-t)}function Qte(t){return t*(.5-Math.random())}function ene(t){t!==void 0&&(Q4=t);let e=Q4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tne(t){return t*qp}function nne(t){return t*Fv}function rne(t){return(t&t-1)===0&&t!==0}function ine(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ane(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function one(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),d=o((e+r)/2),h=a((e-r)/2),g=o((e-r)/2),y=a((r-e)/2),b=o((r-e)/2);switch(i){case"XYX":t.set(s*d,l*h,l*g,s*u);break;case"YZY":t.set(l*g,s*d,l*h,s*u);break;case"ZXZ":t.set(l*h,l*g,s*d,s*u);break;case"XZX":t.set(s*d,l*b,l*y,s*u);break;case"YXY":t.set(l*y,s*d,l*b,s*u);break;case"ZYZ":t.set(l*b,l*y,s*d,s*u);break;default:Ht("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function $o(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function jn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const x9={DEG2RAD:qp,RAD2DEG:Fv,generateUUID:Gs,clamp:Sn,euclideanModulo:kL,mapLinear:$te,inverseLerp:Wte,lerp:tx,damp:qte,pingpong:Xte,smoothstep:Yte,smootherstep:Kte,randInt:Zte,randFloat:Jte,randFloatSpread:Qte,seededRandom:ene,degToRad:tne,radToDeg:nne,isPowerOfTwo:rne,ceilPowerOfTwo:ine,floorPowerOfTwo:ane,setQuaternionFromProperEuler:one,normalize:jn,denormalize:$o};class mt{constructor(e=0,n=0){mt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class no{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3],g=a[o+0],y=a[o+1],b=a[o+2],_=a[o+3];if(h!==_||l!==g||u!==y||d!==b){let x=l*g+u*y+d*b+h*_;x<0&&(g=-g,y=-y,b=-b,_=-_,x=-x);let w=1-s;if(x<.9995){const E=Math.acos(x),A=Math.sin(E);w=Math.sin(w*E)/A,s=Math.sin(s*E)/A,l=l*w+g*s,u=u*w+y*s,d=d*w+b*s,h=h*w+_*s}else{l=l*w+g*s,u=u*w+y*s,d=d*w+b*s,h=h*w+_*s;const E=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=E,u*=E,d*=E,h*=E}}e[n]=l,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],d=r[i+3],h=a[o],g=a[o+1],y=a[o+2],b=a[o+3];return e[n]=s*b+d*h+l*y-u*g,e[n+1]=l*b+d*g+u*h-s*y,e[n+2]=u*b+d*y+s*g-l*h,e[n+3]=d*b-s*h-l*g-u*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),d=s(i/2),h=s(a/2),g=l(r/2),y=l(i/2),b=l(a/2);switch(o){case"XYZ":this._x=g*d*h+u*y*b,this._y=u*y*h-g*d*b,this._z=u*d*b+g*y*h,this._w=u*d*h-g*y*b;break;case"YXZ":this._x=g*d*h+u*y*b,this._y=u*y*h-g*d*b,this._z=u*d*b-g*y*h,this._w=u*d*h+g*y*b;break;case"ZXY":this._x=g*d*h-u*y*b,this._y=u*y*h+g*d*b,this._z=u*d*b+g*y*h,this._w=u*d*h-g*y*b;break;case"ZYX":this._x=g*d*h-u*y*b,this._y=u*y*h+g*d*b,this._z=u*d*b-g*y*h,this._w=u*d*h+g*y*b;break;case"YZX":this._x=g*d*h+u*y*b,this._y=u*y*h+g*d*b,this._z=u*d*b-g*y*h,this._w=u*d*h-g*y*b;break;case"XZY":this._x=g*d*h-u*y*b,this._y=u*y*h-g*d*b,this._z=u*d*b+g*y*h,this._w=u*d*h+g*y*b;break;default:Ht("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],d=n[6],h=n[10],g=r+s+h;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(d-l)*y,this._y=(a-u)*y,this._z=(o-i)*y}else if(r>s&&r>h){const y=2*Math.sqrt(1+r-s-h);this._w=(d-l)/y,this._x=.25*y,this._y=(i+o)/y,this._z=(a+u)/y}else if(s>h){const y=2*Math.sqrt(1+s-r-h);this._w=(a-u)/y,this._x=(i+o)/y,this._y=.25*y,this._z=(l+d)/y}else{const y=2*Math.sqrt(1+h-r-s);this._w=(o-i)/y,this._x=(a+u)/y,this._y=(l+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,d=n._w;return this._x=r*d+o*s+i*u-a*l,this._y=i*d+o*l+a*s-r*u,this._z=a*d+o*u+r*l-i*s,this._w=o*d-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){let r=e._x,i=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,a=-a,o=-o,s=-s);let l=1-n;if(s<.9995){const u=Math.acos(s),d=Math.sin(u);l=Math.sin(l*u)/d,n=Math.sin(n*u)/d,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,n=0,r=0){de.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(eB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(eB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),d=2*(s*n-a*i),h=2*(a*r-o*n);return this.x=n+l*u+o*h-s*d,this.y=r+l*d+s*u-a*h,this.z=i+l*h+a*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this.z=Sn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this.z=Sn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return bR.copy(this).projectOnVector(e),this.sub(bR)}reflect(e){return this.sub(bR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bR=new de,eB=new no;class Dn{constructor(e,n,r,i,a,o,s,l,u){Dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=s,d[3]=n,d[4]=a,d[5]=l,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],d=r[4],h=r[7],g=r[2],y=r[5],b=r[8],_=i[0],x=i[3],w=i[6],E=i[1],A=i[4],C=i[7],T=i[2],O=i[5],N=i[8];return a[0]=o*_+s*E+l*T,a[3]=o*x+s*A+l*O,a[6]=o*w+s*C+l*N,a[1]=u*_+d*E+h*T,a[4]=u*x+d*A+h*O,a[7]=u*w+d*C+h*N,a[2]=g*_+y*E+b*T,a[5]=g*x+y*A+b*O,a[8]=g*w+y*C+b*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],d=e[8];return n*o*d-n*s*u-r*a*d+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],d=e[8],h=d*o-s*u,g=s*l-d*a,y=u*a-o*l,b=n*h+r*g+i*y;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/b;return e[0]=h*_,e[1]=(i*u-d*r)*_,e[2]=(s*r-i*o)*_,e[3]=g*_,e[4]=(d*n-i*l)*_,e[5]=(i*a-s*n)*_,e[6]=y*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*a)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(xR.makeScale(e,n)),this}rotate(e){return this.premultiply(xR.makeRotation(-e)),this}translate(e,n){return this.premultiply(xR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const xR=new Dn,tB=new Dn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),nB=new Dn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function sne(){const t={enabled:!0,workingColorSpace:Mc,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Nr&&(i.r=If(i.r),i.g=If(i.g),i.b=If(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Nr&&(i.r=Cv(i.r),i.g=Cv(i.g),i.b=Cv(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Cf?_x:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Ex("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Ex("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Mc]:{primaries:e,whitePoint:r,transfer:_x,toXYZ:tB,fromXYZ:nB,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:to},outputColorSpaceConfig:{drawingBufferColorSpace:to}},[to]:{primaries:e,whitePoint:r,transfer:Nr,toXYZ:tB,fromXYZ:nB,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:to}}}),t}const cr=sne();function If(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Cv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Cg;class _9{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Cg===void 0&&(Cg=wx("canvas")),Cg.width=e.width,Cg.height=e.height;const i=Cg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Cg}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wx("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=If(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(If(n[r]/255)*255):n[r]=If(n[r]);return{data:n,width:e.width,height:e.height}}else return Ht("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let lne=0;class Qd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:lne++}),this.uuid=Gs(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(_R(i[o].image)):a.push(_R(i[o]))}else a=_R(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function _R(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_9.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ht("Texture: Unable to serialize Texture."),{})}let cne=0;const SR=new de;class Fr extends Pu{constructor(e=Fr.DEFAULT_IMAGE,n=Fr.DEFAULT_MAPPING,r=$i,i=$i,a=or,o=bu,s=ta,l=La,u=Fr.DEFAULT_ANISOTROPY,d=Cf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:cne++}),this.uuid=Gs(),this.name="",this.source=new Qd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new mt(0,0),this.repeat=new mt(1,1),this.center=new mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(SR).x}get height(){return this.source.getSize(SR).y}get depth(){return this.source.getSize(SR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Ht(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Ht(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ah)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vx:e.x=e.x-Math.floor(e.x);break;case $i:e.x=e.x<0?0:1;break;case yx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vx:e.y=e.y-Math.floor(e.y);break;case $i:e.y=e.y<0?0:1;break;case yx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Fr.DEFAULT_IMAGE=null;Fr.DEFAULT_MAPPING=ah;Fr.DEFAULT_ANISOTROPY=1;class Ur{constructor(e=0,n=0,r=0,i=1){Ur.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],d=l[4],h=l[8],g=l[1],y=l[5],b=l[9],_=l[2],x=l[6],w=l[10];if(Math.abs(d-g)<.01&&Math.abs(h-_)<.01&&Math.abs(b-x)<.01){if(Math.abs(d+g)<.1&&Math.abs(h+_)<.1&&Math.abs(b+x)<.1&&Math.abs(u+y+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(u+1)/2,C=(y+1)/2,T=(w+1)/2,O=(d+g)/4,N=(h+_)/4,R=(b+x)/4;return A>C&&A>T?A<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(A),i=O/r,a=N/r):C>T?C<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(C),r=O/i,a=R/i):T<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(T),r=N/a,i=R/a),this.set(r,i,a,n),this}let E=Math.sqrt((x-b)*(x-b)+(h-_)*(h-_)+(g-d)*(g-d));return Math.abs(E)<.001&&(E=1),this.x=(x-b)/E,this.y=(h-_)/E,this.z=(g-d)/E,this.w=Math.acos((u+y+w-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Sn(this.x,e.x,n.x),this.y=Sn(this.y,e.y,n.y),this.z=Sn(this.z,e.z,n.z),this.w=Sn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Sn(this.x,e,n),this.y=Sn(this.y,e,n),this.z=Sn(this.z,e,n),this.w=Sn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Sn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LL extends Pu{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:or,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Ur(0,0,e,n),this.scissorTest=!1,this.viewport=new Ur(0,0,e,n),this.textures=[];const i={width:e,height:n,depth:r.depth},a=new Fr(i),o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:or,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Qd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Yo extends LL{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class GA extends Fr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ea,this.minFilter=ea,this.wrapR=$i,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class une extends Yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new GA(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class $A extends Fr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ea,this.minFilter=ea,this.wrapR=$i,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fne extends Yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new $A(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class wn{constructor(e,n,r,i,a,o,s,l,u,d,h,g,y,b,_,x){wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,d,h,g,y,b,_,x)}set(e,n,r,i,a,o,s,l,u,d,h,g,y,b,_,x){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=a,w[5]=o,w[9]=s,w[13]=l,w[2]=u,w[6]=d,w[10]=h,w[14]=g,w[3]=y,w[7]=b,w[11]=_,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Rg.setFromMatrixColumn(e,0).length(),a=1/Rg.setFromMatrixColumn(e,1).length(),o=1/Rg.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(a),h=Math.sin(a);if(e.order==="XYZ"){const g=o*d,y=o*h,b=s*d,_=s*h;n[0]=l*d,n[4]=-l*h,n[8]=u,n[1]=y+b*u,n[5]=g-_*u,n[9]=-s*l,n[2]=_-g*u,n[6]=b+y*u,n[10]=o*l}else if(e.order==="YXZ"){const g=l*d,y=l*h,b=u*d,_=u*h;n[0]=g+_*s,n[4]=b*s-y,n[8]=o*u,n[1]=o*h,n[5]=o*d,n[9]=-s,n[2]=y*s-b,n[6]=_+g*s,n[10]=o*l}else if(e.order==="ZXY"){const g=l*d,y=l*h,b=u*d,_=u*h;n[0]=g-_*s,n[4]=-o*h,n[8]=b+y*s,n[1]=y+b*s,n[5]=o*d,n[9]=_-g*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const g=o*d,y=o*h,b=s*d,_=s*h;n[0]=l*d,n[4]=b*u-y,n[8]=g*u+_,n[1]=l*h,n[5]=_*u+g,n[9]=y*u-b,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const g=o*l,y=o*u,b=s*l,_=s*u;n[0]=l*d,n[4]=_-g*h,n[8]=b*h+y,n[1]=h,n[5]=o*d,n[9]=-s*d,n[2]=-u*d,n[6]=y*h+b,n[10]=g-_*h}else if(e.order==="XZY"){const g=o*l,y=o*u,b=s*l,_=s*u;n[0]=l*d,n[4]=-h,n[8]=u*d,n[1]=g*h+_,n[5]=o*d,n[9]=y*h-b,n[2]=b*h-y,n[6]=s*d,n[10]=_*h+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dne,e,hne)}lookAt(e,n,r){const i=this.elements;return Is.subVectors(e,n),Is.lengthSq()===0&&(Is.z=1),Is.normalize(),Ld.crossVectors(r,Is),Ld.lengthSq()===0&&(Math.abs(r.z)===1?Is.x+=1e-4:Is.z+=1e-4,Is.normalize(),Ld.crossVectors(r,Is)),Ld.normalize(),kS.crossVectors(Is,Ld),i[0]=Ld.x,i[4]=kS.x,i[8]=Is.x,i[1]=Ld.y,i[5]=kS.y,i[9]=Is.y,i[2]=Ld.z,i[6]=kS.z,i[10]=Is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],d=r[1],h=r[5],g=r[9],y=r[13],b=r[2],_=r[6],x=r[10],w=r[14],E=r[3],A=r[7],C=r[11],T=r[15],O=i[0],N=i[4],R=i[8],k=i[12],z=i[1],F=i[5],G=i[9],V=i[13],W=i[2],K=i[6],H=i[10],q=i[14],Z=i[3],ee=i[7],ae=i[11],$=i[15];return a[0]=o*O+s*z+l*W+u*Z,a[4]=o*N+s*F+l*K+u*ee,a[8]=o*R+s*G+l*H+u*ae,a[12]=o*k+s*V+l*q+u*$,a[1]=d*O+h*z+g*W+y*Z,a[5]=d*N+h*F+g*K+y*ee,a[9]=d*R+h*G+g*H+y*ae,a[13]=d*k+h*V+g*q+y*$,a[2]=b*O+_*z+x*W+w*Z,a[6]=b*N+_*F+x*K+w*ee,a[10]=b*R+_*G+x*H+w*ae,a[14]=b*k+_*V+x*q+w*$,a[3]=E*O+A*z+C*W+T*Z,a[7]=E*N+A*F+C*K+T*ee,a[11]=E*R+A*G+C*H+T*ae,a[15]=E*k+A*V+C*q+T*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],d=e[2],h=e[6],g=e[10],y=e[14],b=e[3],_=e[7],x=e[11],w=e[15],E=l*y-u*g,A=s*y-u*h,C=s*g-l*h,T=o*y-u*d,O=o*g-l*d,N=o*h-s*d;return n*(_*E-x*A+w*C)-r*(b*E-x*T+w*O)+i*(b*A-_*T+w*N)-a*(b*C-_*O+x*N)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],d=e[8],h=e[9],g=e[10],y=e[11],b=e[12],_=e[13],x=e[14],w=e[15],E=n*s-r*o,A=n*l-i*o,C=n*u-a*o,T=r*l-i*s,O=r*u-a*s,N=i*u-a*l,R=d*_-h*b,k=d*x-g*b,z=d*w-y*b,F=h*x-g*_,G=h*w-y*_,V=g*w-y*x,W=E*V-A*G+C*F+T*z-O*k+N*R;if(W===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const K=1/W;return e[0]=(s*V-l*G+u*F)*K,e[1]=(i*G-r*V-a*F)*K,e[2]=(_*N-x*O+w*T)*K,e[3]=(g*O-h*N-y*T)*K,e[4]=(l*z-o*V-u*k)*K,e[5]=(n*V-i*z+a*k)*K,e[6]=(x*C-b*N-w*A)*K,e[7]=(d*N-g*C+y*A)*K,e[8]=(o*G-s*z+u*R)*K,e[9]=(r*z-n*G-a*R)*K,e[10]=(b*O-_*C+w*E)*K,e[11]=(h*C-d*O-y*E)*K,e[12]=(s*k-o*F-l*R)*K,e[13]=(n*F-r*k+i*R)*K,e[14]=(_*A-b*T-x*E)*K,e[15]=(d*T-h*A+g*E)*K,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,d=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,d*s+r,d*l-i*o,0,u*l-i*s,d*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,d=o+o,h=s+s,g=a*u,y=a*d,b=a*h,_=o*d,x=o*h,w=s*h,E=l*u,A=l*d,C=l*h,T=r.x,O=r.y,N=r.z;return i[0]=(1-(_+w))*T,i[1]=(y+C)*T,i[2]=(b-A)*T,i[3]=0,i[4]=(y-C)*O,i[5]=(1-(g+w))*O,i[6]=(x+E)*O,i[7]=0,i[8]=(b+A)*N,i[9]=(x-E)*N,i[10]=(1-(g+_))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;e.x=i[12],e.y=i[13],e.z=i[14];const a=this.determinant();if(a===0)return r.set(1,1,1),n.identity(),this;let o=Rg.set(i[0],i[1],i[2]).length();const s=Rg.set(i[4],i[5],i[6]).length(),l=Rg.set(i[8],i[9],i[10]).length();a<0&&(o=-o),ac.copy(this);const u=1/o,d=1/s,h=1/l;return ac.elements[0]*=u,ac.elements[1]*=u,ac.elements[2]*=u,ac.elements[4]*=d,ac.elements[5]*=d,ac.elements[6]*=d,ac.elements[8]*=h,ac.elements[9]*=h,ac.elements[10]*=h,n.setFromRotationMatrix(ac),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,i,a,o,s=Vs,l=!1){const u=this.elements,d=2*a/(n-e),h=2*a/(r-i),g=(n+e)/(n-e),y=(r+i)/(r-i);let b,_;if(l)b=a/(o-a),_=o*a/(o-a);else if(s===Vs)b=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(s===tm)b=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=d,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=h,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=Vs,l=!1){const u=this.elements,d=2/(n-e),h=2/(r-i),g=-(n+e)/(n-e),y=-(r+i)/(r-i);let b,_;if(l)b=1/(o-a),_=o/(o-a);else if(s===Vs)b=-2/(o-a),_=-(o+a)/(o-a);else if(s===tm)b=-1/(o-a),_=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=d,u[4]=0,u[8]=0,u[12]=g,u[1]=0,u[5]=h,u[9]=0,u[13]=y,u[2]=0,u[6]=0,u[10]=b,u[14]=_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Rg=new de,ac=new wn,dne=new de(0,0,0),hne=new de(1,1,1),Ld=new de,kS=new de,Is=new de,rB=new wn,iB=new no;class Ys{constructor(e=0,n=0,r=0,i=Ys.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],d=i[9],h=i[2],g=i[6],y=i[10];switch(n){case"XYZ":this._y=Math.asin(Sn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(g,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,y),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(Sn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-h,y),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Sn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Sn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,y));break;case"XZY":this._z=Math.asin(-Sn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-d,y),this._y=0);break;default:Ht("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return rB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rB,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return iB.setFromEuler(this),this.setFromQuaternion(iB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ys.DEFAULT_ORDER="XYZ";class jv{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pne=0;const aB=new de,Og=new no,vf=new wn,LS=new de,lb=new de,mne=new de,gne=new no,oB=new de(1,0,0),sB=new de(0,1,0),lB=new de(0,0,1),cB={type:"added"},vne={type:"removed"},Pg={type:"childadded",child:null},wR={type:"childremoved",child:null};class br extends Pu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pne++}),this.uuid=Gs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=br.DEFAULT_UP.clone();const e=new de,n=new Ys,r=new no,i=new de(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new wn},normalMatrix:{value:new Dn}}),this.matrix=new wn,this.matrixWorld=new wn,this.matrixAutoUpdate=br.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new jv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Og.setFromAxisAngle(e,n),this.quaternion.multiply(Og),this}rotateOnWorldAxis(e,n){return Og.setFromAxisAngle(e,n),this.quaternion.premultiply(Og),this}rotateX(e){return this.rotateOnAxis(oB,e)}rotateY(e){return this.rotateOnAxis(sB,e)}rotateZ(e){return this.rotateOnAxis(lB,e)}translateOnAxis(e,n){return aB.copy(e).applyQuaternion(this.quaternion),this.position.add(aB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(oB,e)}translateY(e){return this.translateOnAxis(sB,e)}translateZ(e){return this.translateOnAxis(lB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(vf.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?LS.copy(e):LS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),lb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?vf.lookAt(lb,LS,this.up):vf.lookAt(LS,lb,this.up),this.quaternion.setFromRotationMatrix(vf),i&&(vf.extractRotation(i.matrixWorld),Og.setFromRotationMatrix(vf),this.quaternion.premultiply(Og.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(ln("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(cB),Pg.child=e,this.dispatchEvent(Pg),Pg.child=null):ln("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(vne),wR.child=e,this.dispatchEvent(wR),wR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),vf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),vf.multiply(e.parent.matrixWorld)),e.applyMatrix4(vf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(cB),Pg.child=e,this.dispatchEvent(Pg),Pg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lb,e,mne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lb,gne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const n=e.x,r=e.y,i=e.z,a=this.matrix.elements;a[12]+=n-a[0]*n-a[4]*r-a[8]*i,a[13]+=r-a[1]*n-a[5]*r-a[9]*i,a[14]+=i-a[2]*n-a[6]*r-a[10]*i}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),this.static!==!1&&(i.static=this.static),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.pivot!==null&&(i.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(i.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(i.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];a(e.shapes,h)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),g=o(e.skeletons),y=o(e.animations),b=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),g.length>0&&(r.skeletons=g),y.length>0&&(r.animations=y),b.length>0&&(r.nodes=b)}return r.object=i,r;function o(s){const l=[];for(const u in s){const d=s[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}br.DEFAULT_UP=new de(0,1,0);br.DEFAULT_MATRIX_AUTO_UPDATE=!0;br.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let vv=class extends br{constructor(){super(),this.isGroup=!0,this.type="Group"}};const yne={type:"move"};class pM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new vv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new vv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new vv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,r),w=this._getHandJoint(u,_);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=x.radius),w.visible=x!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],g=d.position.distanceTo(h.position),y=.02,b=.005;u.inputState.pinching&&g>y+b?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&g<=y-b&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(yne)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new vv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const S9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ud={h:0,s:0,l:0},US={h:0,s:0,l:0};function MR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Vt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=to){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cr.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=cr.workingColorSpace){return this.r=e,this.g=n,this.b=r,cr.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=cr.workingColorSpace){if(e=kL(e,1),n=Sn(n,0,1),r=Sn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=MR(o,a,e+1/3),this.g=MR(o,a,e),this.b=MR(o,a,e-1/3)}return cr.colorSpaceToWorking(this,i),this}setStyle(e,n=to){function r(a){a!==void 0&&parseFloat(a)<1&&Ht("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:Ht("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);Ht("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=to){const r=S9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Ht("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=If(e.r),this.g=If(e.g),this.b=If(e.b),this}copyLinearToSRGB(e){return this.r=Cv(e.r),this.g=Cv(e.g),this.b=Cv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=to){return cr.workingToColorSpace(bo.copy(this),e),Math.round(Sn(bo.r*255,0,255))*65536+Math.round(Sn(bo.g*255,0,255))*256+Math.round(Sn(bo.b*255,0,255))}getHexString(e=to){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=cr.workingColorSpace){cr.workingToColorSpace(bo.copy(this),n);const r=bo.r,i=bo.g,a=bo.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const d=(s+o)/2;if(s===o)l=0,u=0;else{const h=o-s;switch(u=d<=.5?h/(o+s):h/(2-o-s),o){case r:l=(i-a)/h+(i<a?6:0);break;case i:l=(a-r)/h+2;break;case a:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,n=cr.workingColorSpace){return cr.workingToColorSpace(bo.copy(this),n),e.r=bo.r,e.g=bo.g,e.b=bo.b,e}getStyle(e=to){cr.workingToColorSpace(bo.copy(this),e);const n=bo.r,r=bo.g,i=bo.b;return e!==to?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ud),this.setHSL(Ud.h+e,Ud.s+n,Ud.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ud),e.getHSL(US);const r=tx(Ud.h,US.h,n),i=tx(Ud.s,US.s,n),a=tx(Ud.l,US.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const bo=new Vt;Vt.NAMES=S9;class WA{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vt(e),this.density=n}clone(){return new WA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class qA{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Vt(e),this.near=n,this.far=r}clone(){return new qA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let D_=class extends br{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ys,this.environmentIntensity=1,this.environmentRotation=new Ys,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};const oc=new de,yf=new de,ER=new de,bf=new de,Dg=new de,Ig=new de,uB=new de,AR=new de,TR=new de,CR=new de,RR=new Ur,OR=new Ur,PR=new Ur;class Ss{constructor(e=new de,n=new de,r=new de){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),oc.subVectors(e,n),i.cross(oc);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){oc.subVectors(i,n),yf.subVectors(r,n),ER.subVectors(e,n);const o=oc.dot(oc),s=oc.dot(yf),l=oc.dot(ER),u=yf.dot(yf),d=yf.dot(ER),h=o*u-s*s;if(h===0)return a.set(0,0,0),null;const g=1/h,y=(u*l-s*d)*g,b=(o*d-s*l)*g;return a.set(1-y-b,b,y)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,bf)===null?!1:bf.x>=0&&bf.y>=0&&bf.x+bf.y<=1}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,bf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,bf.x),l.addScaledVector(o,bf.y),l.addScaledVector(s,bf.z),l)}static getInterpolatedAttribute(e,n,r,i,a,o){return RR.setScalar(0),OR.setScalar(0),PR.setScalar(0),RR.fromBufferAttribute(e,n),OR.fromBufferAttribute(e,r),PR.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(RR,a.x),o.addScaledVector(OR,a.y),o.addScaledVector(PR,a.z),o}static isFrontFacing(e,n,r,i){return oc.subVectors(r,n),yf.subVectors(e,n),oc.cross(yf).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oc.subVectors(this.c,this.b),yf.subVectors(this.a,this.b),oc.cross(yf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ss.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ss.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return Ss.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Ss.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ss.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;Dg.subVectors(i,r),Ig.subVectors(a,r),AR.subVectors(e,r);const l=Dg.dot(AR),u=Ig.dot(AR);if(l<=0&&u<=0)return n.copy(r);TR.subVectors(e,i);const d=Dg.dot(TR),h=Ig.dot(TR);if(d>=0&&h<=d)return n.copy(i);const g=l*h-d*u;if(g<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(r).addScaledVector(Dg,o);CR.subVectors(e,a);const y=Dg.dot(CR),b=Ig.dot(CR);if(b>=0&&y<=b)return n.copy(a);const _=y*u-l*b;if(_<=0&&u>=0&&b<=0)return s=u/(u-b),n.copy(r).addScaledVector(Ig,s);const x=d*b-y*h;if(x<=0&&h-d>=0&&y-b>=0)return uB.subVectors(a,i),s=(h-d)/(h-d+(y-b)),n.copy(i).addScaledVector(uB,s);const w=1/(x+_+g);return o=_*w,s=g*w,n.copy(r).addScaledVector(Dg,o).addScaledVector(Ig,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class Ua{constructor(e=new de(1/0,1/0,1/0),n=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(sc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(sc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=sc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,sc):sc.fromBufferAttribute(a,o),sc.applyMatrix4(e.matrixWorld),this.expandByPoint(sc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),BS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),BS.copy(r.boundingBox)),BS.applyMatrix4(e.matrixWorld),this.union(BS)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,sc),sc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(cb),FS.subVectors(this.max,cb),Ng.subVectors(e.a,cb),kg.subVectors(e.b,cb),Lg.subVectors(e.c,cb),Bd.subVectors(kg,Ng),Fd.subVectors(Lg,kg),ip.subVectors(Ng,Lg);let n=[0,-Bd.z,Bd.y,0,-Fd.z,Fd.y,0,-ip.z,ip.y,Bd.z,0,-Bd.x,Fd.z,0,-Fd.x,ip.z,0,-ip.x,-Bd.y,Bd.x,0,-Fd.y,Fd.x,0,-ip.y,ip.x,0];return!DR(n,Ng,kg,Lg,FS)||(n=[1,0,0,0,1,0,0,0,1],!DR(n,Ng,kg,Lg,FS))?!1:(jS.crossVectors(Bd,Fd),n=[jS.x,jS.y,jS.z],DR(n,Ng,kg,Lg,FS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(sc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const xf=[new de,new de,new de,new de,new de,new de,new de,new de],sc=new de,BS=new Ua,Ng=new de,kg=new de,Lg=new de,Bd=new de,Fd=new de,ip=new de,cb=new de,FS=new de,jS=new de,ap=new de;function DR(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){ap.fromArray(t,a);const s=i.x*Math.abs(ap.x)+i.y*Math.abs(ap.y)+i.z*Math.abs(ap.z),l=e.dot(ap),u=n.dot(ap),d=r.dot(ap);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>s)return!1}return!0}const Rf=bne();function bne(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,a[l]=u|d}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function xs(t){Math.abs(t)>65504&&Ht("DataUtils.toHalfFloat(): Value out of range."),t=Sn(t,-65504,65504),Rf.floatView[0]=t;const e=Rf.uint32View[0],n=e>>23&511;return Rf.baseTable[n]+((e&8388607)>>Rf.shiftTable[n])}function Ub(t){const e=t>>10;return Rf.uint32View[0]=Rf.mantissaTable[Rf.offsetTable[e]+(t&1023)]+Rf.exponentTable[e],Rf.floatView[0]}class Bp{static toHalfFloat(e){return xs(e)}static fromHalfFloat(e){return Ub(e)}}const la=new de,zS=new mt;let xne=0;class Wr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:xne++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Sx,this.updateRanges=[],this.gpuType=Mi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)zS.fromBufferAttribute(this,n),zS.applyMatrix3(e),this.setXY(n,zS.x,zS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)la.fromBufferAttribute(this,n),la.applyMatrix3(e),this.setXYZ(n,la.x,la.y,la.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)la.fromBufferAttribute(this,n),la.applyMatrix4(e),this.setXYZ(n,la.x,la.y,la.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)la.fromBufferAttribute(this,n),la.applyNormalMatrix(e),this.setXYZ(n,la.x,la.y,la.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)la.fromBufferAttribute(this,n),la.transformDirection(e),this.setXYZ(n,la.x,la.y,la.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=$o(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=$o(n,this.array)),n}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=$o(n,this.array)),n}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=$o(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=$o(n,this.array)),n}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array),a=jn(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Sx&&(e.usage=this.usage),e}}class _ne extends Wr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Sne extends Wr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class wne extends Wr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Mne extends Wr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class UL extends Wr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Ene extends Wr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class BL extends Wr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ane extends Wr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ub(this.array[e*this.itemSize]);return this.normalized&&(n=$o(n,this.array)),n}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize]=xs(n),this}getY(e){let n=Ub(this.array[e*this.itemSize+1]);return this.normalized&&(n=$o(n,this.array)),n}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+1]=xs(n),this}getZ(e){let n=Ub(this.array[e*this.itemSize+2]);return this.normalized&&(n=$o(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+2]=xs(n),this}getW(e){let n=Ub(this.array[e*this.itemSize+3]);return this.normalized&&(n=$o(n,this.array)),n}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+3]=xs(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.array[e+0]=xs(n),this.array[e+1]=xs(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=xs(n),this.array[e+1]=xs(r),this.array[e+2]=xs(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array),a=jn(a,this.array)),this.array[e+0]=xs(n),this.array[e+1]=xs(r),this.array[e+2]=xs(i),this.array[e+3]=xs(a),this}}class Yt extends Wr{constructor(e,n,r){super(new Float32Array(e),n,r)}}const Tne=new Ua,ub=new de,IR=new de;class Ba{constructor(e=new de,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Tne.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ub.subVectors(e,this.center);const n=ub.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ub,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(IR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ub.copy(e.center).add(IR)),this.expandByPoint(ub.copy(e.center).sub(IR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let Cne=0;const El=new wn,NR=new br,Ug=new de,Ns=new Ua,fb=new Ua,Ia=new de;class In extends Pu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Cne++}),this.uuid=Gs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Fte(e)?BL:UL)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Dn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return El.makeRotationFromQuaternion(e),this.applyMatrix4(El),this}rotateX(e){return El.makeRotationX(e),this.applyMatrix4(El),this}rotateY(e){return El.makeRotationY(e),this.applyMatrix4(El),this}rotateZ(e){return El.makeRotationZ(e),this.applyMatrix4(El),this}translate(e,n,r){return El.makeTranslation(e,n,r),this.applyMatrix4(El),this}scale(e,n,r){return El.makeScale(e,n,r),this.applyMatrix4(El),this}lookAt(e){return NR.lookAt(e),NR.updateMatrix(),this.applyMatrix4(NR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ug).negate(),this.translate(Ug.x,Ug.y,Ug.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Yt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&Ht("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ua);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ln("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Ns.setFromBufferAttribute(a),this.morphTargetsRelative?(Ia.addVectors(this.boundingBox.min,Ns.min),this.boundingBox.expandByPoint(Ia),Ia.addVectors(this.boundingBox.max,Ns.max),this.boundingBox.expandByPoint(Ia)):(this.boundingBox.expandByPoint(Ns.min),this.boundingBox.expandByPoint(Ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&ln('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ba);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){ln("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new de,1/0);return}if(e){const r=this.boundingSphere.center;if(Ns.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];fb.setFromBufferAttribute(s),this.morphTargetsRelative?(Ia.addVectors(Ns.min,fb.min),Ns.expandByPoint(Ia),Ia.addVectors(Ns.max,fb.max),Ns.expandByPoint(Ia)):(Ns.expandByPoint(fb.min),Ns.expandByPoint(fb.max))}Ns.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Ia.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ia));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,d=s.count;u<d;u++)Ia.fromBufferAttribute(s,u),l&&(Ug.fromBufferAttribute(e,u),Ia.add(Ug)),i=Math.max(i,r.distanceToSquared(Ia))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&ln('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){ln("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let R=0;R<r.count;R++)s[R]=new de,l[R]=new de;const u=new de,d=new de,h=new de,g=new mt,y=new mt,b=new mt,_=new de,x=new de;function w(R,k,z){u.fromBufferAttribute(r,R),d.fromBufferAttribute(r,k),h.fromBufferAttribute(r,z),g.fromBufferAttribute(a,R),y.fromBufferAttribute(a,k),b.fromBufferAttribute(a,z),d.sub(u),h.sub(u),y.sub(g),b.sub(g);const F=1/(y.x*b.y-b.x*y.y);isFinite(F)&&(_.copy(d).multiplyScalar(b.y).addScaledVector(h,-y.y).multiplyScalar(F),x.copy(h).multiplyScalar(y.x).addScaledVector(d,-b.x).multiplyScalar(F),s[R].add(_),s[k].add(_),s[z].add(_),l[R].add(x),l[k].add(x),l[z].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let R=0,k=E.length;R<k;++R){const z=E[R],F=z.start,G=z.count;for(let V=F,W=F+G;V<W;V+=3)w(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const A=new de,C=new de,T=new de,O=new de;function N(R){T.fromBufferAttribute(i,R),O.copy(T);const k=s[R];A.copy(k),A.sub(T.multiplyScalar(T.dot(k))).normalize(),C.crossVectors(O,k);const F=C.dot(l[R])<0?-1:1;o.setXYZW(R,A.x,A.y,A.z,F)}for(let R=0,k=E.length;R<k;++R){const z=E[R],F=z.start,G=z.count;for(let V=F,W=F+G;V<W;V+=3)N(e.getX(V+0)),N(e.getX(V+1)),N(e.getX(V+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new de,a=new de,o=new de,s=new de,l=new de,u=new de,d=new de,h=new de;if(e)for(let g=0,y=e.count;g<y;g+=3){const b=e.getX(g+0),_=e.getX(g+1),x=e.getX(g+2);i.fromBufferAttribute(n,b),a.fromBufferAttribute(n,_),o.fromBufferAttribute(n,x),d.subVectors(o,a),h.subVectors(i,a),d.cross(h),s.fromBufferAttribute(r,b),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,x),s.add(d),l.add(d),u.add(d),r.setXYZ(b,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let g=0,y=n.count;g<y;g+=3)i.fromBufferAttribute(n,g+0),a.fromBufferAttribute(n,g+1),o.fromBufferAttribute(n,g+2),d.subVectors(o,a),h.subVectors(i,a),d.cross(h),r.setXYZ(g+0,d.x,d.y,d.z),r.setXYZ(g+1,d.x,d.y,d.z),r.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ia.fromBufferAttribute(e,n),Ia.normalize(),e.setXYZ(n,Ia.x,Ia.y,Ia.z)}toNonIndexed(){function e(s,l){const u=s.array,d=s.itemSize,h=s.normalized,g=new u.constructor(l.length*d);let y=0,b=0;for(let _=0,x=l.length;_<x;_++){s.isInterleavedBufferAttribute?y=l[_]*s.data.stride+s.offset:y=l[_]*d;for(let w=0;w<d;w++)g[b++]=u[y++]}return new Wr(g,d,h)}if(this.index===null)return Ht("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new In,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let d=0,h=u.length;d<h;d++){const g=u[d],y=e(g,r);l.push(y)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,g=u.length;h<g;h++){const y=u[h];d.push(y.toJSON(e.data))}d.length>0&&(i[l]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const a=e.morphAttributes;for(const u in a){const d=[],h=a[u];for(let g=0,y=h.length;g<y;g++)d.push(h[g].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class XA{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Sx,this.updateRanges=[],this.version=0,this.uuid=Gs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ho=new de;class nm{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ho.fromBufferAttribute(this,n),Ho.applyMatrix4(e),this.setXYZ(n,Ho.x,Ho.y,Ho.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ho.fromBufferAttribute(this,n),Ho.applyNormalMatrix(e),this.setXYZ(n,Ho.x,Ho.y,Ho.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ho.fromBufferAttribute(this,n),Ho.transformDirection(e),this.setXYZ(n,Ho.x,Ho.y,Ho.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=$o(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=$o(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=$o(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=$o(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=$o(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),i=jn(i,this.array),a=jn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Mx("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Wr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Mx("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let Rne=0;class To extends Pu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rne++}),this.uuid=Gs(),this.name="",this.type="Material",this.blending=Wp,this.side=Lf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=EM,this.blendDst=AM,this.blendEquation=Yd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vt(0,0,0),this.blendAlpha=0,this.depthFunc=Qp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tp,this.stencilZFail=Tp,this.stencilZPass=Tp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Ht(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Ht(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wp&&(r.blending=this.blending),this.side!==Lf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==EM&&(r.blendSrc=this.blendSrc),this.blendDst!==AM&&(r.blendDst=this.blendDst),this.blendEquation!==Yd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Qp&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==nN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class FL extends To{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bg;const db=new de,Fg=new de,jg=new de,zg=new mt,hb=new mt,w9=new wn,HS=new de,pb=new de,VS=new de,fB=new mt,kR=new mt,dB=new mt;class M9 extends br{constructor(e=new FL){if(super(),this.isSprite=!0,this.type="Sprite",Bg===void 0){Bg=new In;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new XA(n,5);Bg.setIndex([0,1,2,0,2,3]),Bg.setAttribute("position",new nm(r,3,0,!1)),Bg.setAttribute("uv",new nm(r,2,3,!1))}this.geometry=Bg,this.material=e,this.center=new mt(.5,.5),this.count=1}raycast(e,n){e.camera===null&&ln('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fg.setFromMatrixScale(this.matrixWorld),w9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fg.multiplyScalar(-jg.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;GS(HS.set(-.5,-.5,0),jg,o,Fg,i,a),GS(pb.set(.5,-.5,0),jg,o,Fg,i,a),GS(VS.set(.5,.5,0),jg,o,Fg,i,a),fB.set(0,0),kR.set(1,0),dB.set(1,1);let s=e.ray.intersectTriangle(HS,pb,VS,!1,db);if(s===null&&(GS(pb.set(-.5,.5,0),jg,o,Fg,i,a),kR.set(0,1),s=e.ray.intersectTriangle(HS,VS,pb,!1,db),s===null))return;const l=e.ray.origin.distanceTo(db);l<e.near||l>e.far||n.push({distance:l,point:db.clone(),uv:Ss.getInterpolation(db,HS,pb,VS,fB,kR,dB,new mt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function GS(t,e,n,r,i,a){zg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(hb.x=a*zg.x-i*zg.y,hb.y=i*zg.x+a*zg.y):hb.copy(zg),t.copy(e),t.x+=hb.x,t.y+=hb.y,t.applyMatrix4(w9)}const $S=new de,hB=new de;class E9 extends br{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){$S.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo($S);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){$S.setFromMatrixPosition(e.matrixWorld),hB.setFromMatrixPosition(this.matrixWorld);const r=$S.distanceTo(hB)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const _f=new de,LR=new de,WS=new de,jd=new de,UR=new de,qS=new de,BR=new de;class vm{constructor(e=new de,n=new de(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_f)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_f.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_f.copy(this.origin).addScaledVector(this.direction,n),_f.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){LR.copy(e).add(n).multiplyScalar(.5),WS.copy(n).sub(e).normalize(),jd.copy(this.origin).sub(LR);const a=e.distanceTo(n)*.5,o=-this.direction.dot(WS),s=jd.dot(this.direction),l=-jd.dot(WS),u=jd.lengthSq(),d=Math.abs(1-o*o);let h,g,y,b;if(d>0)if(h=o*l-s,g=o*s-l,b=a*d,h>=0)if(g>=-b)if(g<=b){const _=1/d;h*=_,g*=_,y=h*(h+o*g+2*s)+g*(o*h+g+2*l)+u}else g=a,h=Math.max(0,-(o*g+s)),y=-h*h+g*(g+2*l)+u;else g=-a,h=Math.max(0,-(o*g+s)),y=-h*h+g*(g+2*l)+u;else g<=-b?(h=Math.max(0,-(-o*a+s)),g=h>0?-a:Math.min(Math.max(-a,-l),a),y=-h*h+g*(g+2*l)+u):g<=b?(h=0,g=Math.min(Math.max(-a,-l),a),y=g*(g+2*l)+u):(h=Math.max(0,-(o*a+s)),g=h>0?a:Math.min(Math.max(-a,-l),a),y=-h*h+g*(g+2*l)+u);else g=o>0?-a:a,h=Math.max(0,-(o*g+s)),y=-h*h+g*(g+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(LR).addScaledVector(WS,g),y}intersectSphere(e,n){_f.subVectors(e.center,this.origin);const r=_f.dot(this.direction),i=_f.dot(_f)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,g=this.origin;return u>=0?(r=(e.min.x-g.x)*u,i=(e.max.x-g.x)*u):(r=(e.max.x-g.x)*u,i=(e.min.x-g.x)*u),d>=0?(a=(e.min.y-g.y)*d,o=(e.max.y-g.y)*d):(a=(e.max.y-g.y)*d,o=(e.min.y-g.y)*d),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),h>=0?(s=(e.min.z-g.z)*h,l=(e.max.z-g.z)*h):(s=(e.max.z-g.z)*h,l=(e.min.z-g.z)*h),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,_f)!==null}intersectTriangle(e,n,r,i,a){UR.subVectors(n,e),qS.subVectors(r,e),BR.crossVectors(UR,qS);let o=this.direction.dot(BR),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;jd.subVectors(this.origin,e);const l=s*this.direction.dot(qS.crossVectors(jd,qS));if(l<0)return null;const u=s*this.direction.dot(UR.cross(jd));if(u<0||l+u>o)return null;const d=-s*jd.dot(BR);return d<0?null:this.at(d/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Du extends To{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.combine=C_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pB=new wn,op=new vm,XS=new Ba,mB=new de,YS=new de,KS=new de,ZS=new de,FR=new de,JS=new de,gB=new de,QS=new de;class li extends br{constructor(e=new In,n=new Du){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){JS.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const d=s[l],h=a[l];d!==0&&(FR.fromBufferAttribute(h,e),o?JS.addScaledVector(FR,d):JS.addScaledVector(FR.sub(n),d))}n.add(JS)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),XS.copy(r.boundingSphere),XS.applyMatrix4(a),op.copy(e.ray).recast(e.near),!(XS.containsPoint(op.origin)===!1&&(op.intersectSphere(XS,mB)===null||op.origin.distanceToSquared(mB)>(e.far-e.near)**2))&&(pB.copy(a).invert(),op.copy(e.ray).applyMatrix4(pB),!(r.boundingBox!==null&&op.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,op)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,d=a.attributes.uv1,h=a.attributes.normal,g=a.groups,y=a.drawRange;if(s!==null)if(Array.isArray(o))for(let b=0,_=g.length;b<_;b++){const x=g[b],w=o[x.materialIndex],E=Math.max(x.start,y.start),A=Math.min(s.count,Math.min(x.start+x.count,y.start+y.count));for(let C=E,T=A;C<T;C+=3){const O=s.getX(C),N=s.getX(C+1),R=s.getX(C+2);i=ew(this,w,e,r,u,d,h,O,N,R),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const b=Math.max(0,y.start),_=Math.min(s.count,y.start+y.count);for(let x=b,w=_;x<w;x+=3){const E=s.getX(x),A=s.getX(x+1),C=s.getX(x+2);i=ew(this,o,e,r,u,d,h,E,A,C),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let b=0,_=g.length;b<_;b++){const x=g[b],w=o[x.materialIndex],E=Math.max(x.start,y.start),A=Math.min(l.count,Math.min(x.start+x.count,y.start+y.count));for(let C=E,T=A;C<T;C+=3){const O=C,N=C+1,R=C+2;i=ew(this,w,e,r,u,d,h,O,N,R),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const b=Math.max(0,y.start),_=Math.min(l.count,y.start+y.count);for(let x=b,w=_;x<w;x+=3){const E=x,A=x+1,C=x+2;i=ew(this,o,e,r,u,d,h,E,A,C),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function One(t,e,n,r,i,a,o,s){let l;if(e.side===Eo?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===Lf,s),l===null)return null;QS.copy(s),QS.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(QS);return u<n.near||u>n.far?null:{distance:u,point:QS.clone(),object:t}}function ew(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,YS),t.getVertexPosition(l,KS),t.getVertexPosition(u,ZS);const d=One(t,e,n,r,YS,KS,ZS,gB);if(d){const h=new de;Ss.getBarycoord(gB,YS,KS,ZS,h),i&&(d.uv=Ss.getInterpolatedAttribute(i,s,l,u,h,new mt)),a&&(d.uv1=Ss.getInterpolatedAttribute(a,s,l,u,h,new mt)),o&&(d.normal=Ss.getInterpolatedAttribute(o,s,l,u,h,new de),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const g={a:s,b:l,c:u,normal:new de,materialIndex:0};Ss.getNormal(YS,KS,ZS,g.normal),d.face=g,d.barycoord=h}return d}const vB=new de,yB=new Ur,bB=new Ur,Pne=new de,xB=new wn,tw=new de,jR=new Ba,_B=new wn,zR=new vm;class A9 extends li{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=QI,this.bindMatrix=new wn,this.bindMatrixInverse=new wn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ua),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,tw),this.boundingBox.expandByPoint(tw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ba),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,tw),this.boundingSphere.expandByPoint(tw)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jR.copy(this.boundingSphere),jR.applyMatrix4(i),e.ray.intersectsSphere(jR)!==!1&&(_B.copy(i).invert(),zR.copy(e.ray).applyMatrix4(_B),!(this.boundingBox!==null&&zR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,zR)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ur,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===QI?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===i9?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ht("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;yB.fromBufferAttribute(i.attributes.skinIndex,e),bB.fromBufferAttribute(i.attributes.skinWeight,e),vB.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=bB.getComponent(a);if(o!==0){const s=yB.getComponent(a);xB.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Pne.copy(vB).applyMatrix4(xB),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class jL extends br{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Nl extends Fr{constructor(e=null,n=1,r=1,i,a,o,s,l,u=ea,d=ea,h,g){super(null,o,s,l,u,d,i,a,h,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const SB=new wn,Dne=new wn;class YA{constructor(e=[],n=[]){this.uuid=Gs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Ht("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new wn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new wn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Dne;SB.multiplyMatrices(s,n[a]),SB.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new YA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Nl(n,e,e,ta,Mi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(Ht("Skeleton: No bone found with UUID:",a),o=new jL),this.bones.push(o),this.boneInverses.push(new wn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class rm extends Wr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hg=new wn,wB=new wn,nw=[],MB=new Ua,Ine=new wn,mb=new li,gb=new Ba;class T9 extends li{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new rm(new Float32Array(r*16),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Ine)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ua),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Hg),MB.copy(e.boundingBox).applyMatrix4(Hg),this.boundingBox.union(MB)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ba),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Hg),gb.copy(e.boundingSphere).applyMatrix4(Hg),this.boundingSphere.union(gb)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.previousInstanceMatrix!==null&&(this.previousInstanceMatrix=e.previousInstanceMatrix.clone()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(mb.geometry=this.geometry,mb.material=this.material,mb.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gb.copy(this.boundingSphere),gb.applyMatrix4(r),e.ray.intersectsSphere(gb)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Hg),wB.multiplyMatrices(r,Hg),mb.matrixWorld=wB,mb.raycast(e,nw);for(let o=0,s=nw.length;o<s;o++){const l=nw[o];l.instanceId=a,l.object=this,n.push(l)}nw.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new rm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Nl(new Float32Array(i*this.count),i,this.count,O_,Mi));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const HR=new de,Nne=new de,kne=new Dn;class gu{constructor(e=new de(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=HR.subVectors(r,n).cross(Nne.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(HR),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||kne.getNormalMatrix(e),i=this.coplanarPoint(HR).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const sp=new Ba,Lne=new mt(.5,.5),rw=new de;class xy{constructor(e=new gu,n=new gu,r=new gu,i=new gu,a=new gu,o=new gu){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Vs,r=!1){const i=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],d=a[4],h=a[5],g=a[6],y=a[7],b=a[8],_=a[9],x=a[10],w=a[11],E=a[12],A=a[13],C=a[14],T=a[15];if(i[0].setComponents(u-o,y-d,w-b,T-E).normalize(),i[1].setComponents(u+o,y+d,w+b,T+E).normalize(),i[2].setComponents(u+s,y+h,w+_,T+A).normalize(),i[3].setComponents(u-s,y-h,w-_,T-A).normalize(),r)i[4].setComponents(l,g,x,C).normalize(),i[5].setComponents(u-l,y-g,w-x,T-C).normalize();else if(i[4].setComponents(u-l,y-g,w-x,T-C).normalize(),n===Vs)i[5].setComponents(u+l,y+g,w+x,T+C).normalize();else if(n===tm)i[5].setComponents(l,g,x,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),sp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),sp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(sp)}intersectsSprite(e){sp.center.set(0,0,0);const n=Lne.distanceTo(e.center);return sp.radius=.7071067811865476+n,sp.applyMatrix4(e.matrixWorld),this.intersectsSphere(sp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(rw.x=i.normal.x>0?e.max.x:e.min.x,rw.y=i.normal.y>0?e.max.y:e.min.y,rw.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(rw)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const fu=new wn,du=new xy;class KA{constructor(){this.coordinateSystem=Vs}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(fu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),du.setFromProjectionMatrix(fu,i.coordinateSystem,i.reversedDepth),du.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(fu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),du.setFromProjectionMatrix(fu,i.coordinateSystem,i.reversedDepth),du.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(fu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),du.setFromProjectionMatrix(fu,i.coordinateSystem,i.reversedDepth),du.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(fu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),du.setFromProjectionMatrix(fu,i.coordinateSystem,i.reversedDepth),du.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(fu.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),du.setFromProjectionMatrix(fu,i.coordinateSystem,i.reversedDepth),du.containsPoint(e))return!0}return!1}clone(){return new KA}}function VR(t,e){return t-e}function Une(t,e){return t.z-e.z}function Bne(t,e){return e.z-t.z}class Fne{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const bs=new wn,jne=new Vt(1,1,1),EB=new xy,zne=new KA,iw=new Ua,lp=new Ba,vb=new de,AB=new de,Hne=new de,GR=new Fne,xo=new li,aw=[];function Vne(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function cp(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class C9 extends li{constructor(e,n,r=n*2,i){super(new In,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Nl(n,e,e,ta,Mi);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Nl(n,e,e,P_,Xs);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Nl(n,e,e,ta,Mi);r.colorSpace=cr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,d=new s.constructor(r*l),h=new Wr(d,l,u);n.setAttribute(a,h)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Wr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ua);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,bs),this.getBoundingBoxAt(a,iw).applyMatrix4(bs),e.union(iw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ba);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,bs),this.getBoundingSphereAt(a,lp).applyMatrix4(bs),e.union(lp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(VR),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;bs.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(jne.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(VR),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),s=this._geometryInfo[e];if(i&&o.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const h=n.getAttribute(d),g=r.getAttribute(d);Vne(h,g,l);const y=h.itemSize;for(let b=h.count,_=u;b<_;b++){const x=l+b;for(let w=0;w<y;w++)g.setComponent(x,w,0)}g.needsUpdate=!0,g.addUpdateRange(l*y,u*y)}if(i){const d=s.indexStart,h=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let g=0;g<o.count;g++)a.setX(d+g,l+o.getX(g));for(let g=o.count,y=h;g<y;g++)a.setX(d+g,l);a.needsUpdate=!0,a.addUpdateRange(d,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,s)=>s).sort((o,s)=>r[o].vertexStart-r[s].vertexStart),a=this.geometry;for(let o=0,s=r.length;o<s;o++){const l=i[o],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==n){const{indexStart:d,vertexStart:h,reservedIndexCount:g}=u,y=a.index,b=y.array,_=e-h;for(let x=d;x<d+g;x++)b[x]=b[x]+_;y.array.copyWithin(n,d,d+g),y.addUpdateRange(n,g),y.needsUpdate=!0,u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:h}=u,g=a.attributes;for(const y in g){const b=g[y],{array:_,itemSize:x}=b;_.copyWithin(e*x,d*x,(d+h)*x),b.addUpdateRange(e*x,h*x),b.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart}}return this._nextIndexStart=n,this._nextVertexStart=e,this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Ua,o=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let d=l;o&&(d=o.getX(d)),a.expandByPoint(vb.fromBufferAttribute(s,d))}i.boundingBox=a}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new Ba;this.getBoundingBoxAt(e,iw),iw.getCenter(a.center);const o=r.index,s=r.attributes.position;let l=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let h=u;o&&(h=o.getX(h)),vb.fromBufferAttribute(s,h),l=Math.max(l,a.center.distanceToSquared(vb))}a.radius=Math.sqrt(l),i.boundingSphere=a}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(VR);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);cp(this._multiDrawCounts,i),cp(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),cp(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),cp(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),cp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new In,this._initializeGeometry(a));const o=this.geometry;a.index&&cp(a.index.array,o.index.array);for(const s in a.attributes)cp(a.attributes[s].array,o.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;xo.material=this.material,xo.geometry.index=o.index,xo.geometry.attributes=o.attributes,xo.geometry.boundingBox===null&&(xo.geometry.boundingBox=new Ua),xo.geometry.boundingSphere===null&&(xo.geometry.boundingSphere=new Ba);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,d=i[u];xo.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(s,xo.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,xo.geometry.boundingBox),this.getBoundingSphereAt(u,xo.geometry.boundingSphere),xo.raycast(e,aw);for(let h=0,g=aw.length;h<g;h++){const y=aw[h];y.object=this,y.batchId=s,n.push(y)}aw.length=0}xo.material=null,xo.geometry.index=null,xo.geometry.attributes={},xo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex();let s=o===null?1:o.array.BYTES_PER_ELEMENT,l=1;a.wireframe&&(l=2,s=i.attributes.position.count>65535?4:2);const u=this._instanceInfo,d=this._multiDrawStarts,h=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data,x=r.isArrayCamera?zne:EB;y&&!r.isArrayCamera&&(bs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),EB.setFromProjectionMatrix(bs,r.coordinateSystem,r.reversedDepth));let w=0;if(this.sortObjects){bs.copy(this.matrixWorld).invert(),vb.setFromMatrixPosition(r.matrixWorld).applyMatrix4(bs),AB.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(bs);for(let C=0,T=u.length;C<T;C++)if(u[C].visible&&u[C].active){const O=u[C].geometryIndex;this.getMatrixAt(C,bs),this.getBoundingSphereAt(O,lp).applyMatrix4(bs);let N=!1;if(y&&(N=!x.intersectsSphere(lp,r)),!N){const R=g[O],k=Hne.subVectors(lp.center,vb).dot(AB);GR.push(R.start,R.count,k,C)}}const E=GR.list,A=this.customSort;A===null?E.sort(a.transparent?Bne:Une):A.call(this,E,r);for(let C=0,T=E.length;C<T;C++){const O=E[C];d[w]=O.start*s*l,h[w]=O.count*l,_[w]=O.index,w++}GR.reset()}else for(let E=0,A=u.length;E<A;E++)if(u[E].visible&&u[E].active){const C=u[E].geometryIndex;let T=!1;if(y&&(this.getMatrixAt(E,bs),this.getBoundingSphereAt(C,lp).applyMatrix4(bs),T=!x.intersectsSphere(lp,r)),!T){const O=g[C];d[w]=O.start*s*l,h[w]=O.count*l,_[w]=E,w++}}b.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Co extends To{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const hE=new de,pE=new de,TB=new wn,yb=new vm,ow=new Ba,$R=new de,CB=new de;class lh extends br{constructor(e=new In,n=new Co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)hE.fromBufferAttribute(n,i-1),pE.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=hE.distanceTo(pE);e.setAttribute("lineDistance",new Yt(r,1))}else Ht("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ow.copy(r.boundingSphere),ow.applyMatrix4(i),ow.radius+=a,e.ray.intersectsSphere(ow)===!1)return;TB.copy(i).invert(),yb.copy(e.ray).applyMatrix4(TB);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,d=r.index,g=r.attributes.position;if(d!==null){const y=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let _=y,x=b-1;_<x;_+=u){const w=d.getX(_),E=d.getX(_+1),A=sw(this,e,yb,l,w,E,_);A&&n.push(A)}if(this.isLineLoop){const _=d.getX(b-1),x=d.getX(y),w=sw(this,e,yb,l,_,x,b-1);w&&n.push(w)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let _=y,x=b-1;_<x;_+=u){const w=sw(this,e,yb,l,_,_+1,_);w&&n.push(w)}if(this.isLineLoop){const _=sw(this,e,yb,l,b-1,y,b-1);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function sw(t,e,n,r,i,a,o){const s=t.geometry.attributes.position;if(hE.fromBufferAttribute(s,i),pE.fromBufferAttribute(s,a),n.distanceSqToSegment(hE,pE,$R,CB)>r)return;$R.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo($R);if(!(u<e.near||u>e.far))return{distance:u,point:CB.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const RB=new de,OB=new de;class Iu extends lh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)RB.fromBufferAttribute(n,i),OB.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+RB.distanceTo(OB);e.setAttribute("lineDistance",new Yt(r,1))}else Ht("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class R9 extends lh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class zL extends To{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const PB=new wn,iN=new vm,lw=new Ba,cw=new de;class O9 extends br{constructor(e=new In,n=new zL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lw.copy(r.boundingSphere),lw.applyMatrix4(i),lw.radius+=a,e.ray.intersectsSphere(lw)===!1)return;PB.copy(i).invert(),iN.copy(e.ray).applyMatrix4(PB);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,h=r.attributes.position;if(u!==null){const g=Math.max(0,o.start),y=Math.min(u.count,o.start+o.count);for(let b=g,_=y;b<_;b++){const x=u.getX(b);cw.fromBufferAttribute(h,x),DB(cw,x,l,i,e,n,this)}}else{const g=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let b=g,_=y;b<_;b++)cw.fromBufferAttribute(h,b),DB(cw,b,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function DB(t,e,n,r,i,a,o){const s=iN.distanceSqToPoint(t);if(s<n){const l=new de;iN.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class P9 extends Fr{constructor(e,n,r,i,a=or,o=or,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function h(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Gne extends P9{constructor(e,n,r,i,a,o,s,l){super({},e,n,r,i,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class $ne extends Fr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ea,this.minFilter=ea,this.generateMipmaps=!1,this.needsUpdate=!0}}class ZA extends Fr{constructor(e,n,r,i,a,o,s,l,u,d,h,g){super(null,o,s,l,u,d,i,a,h,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Wne extends ZA{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=$i,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qne extends ZA{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,wc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class I_ extends Fr{constructor(e=[],n=wc,r,i,a,o,s,l,u,d){super(e,n,r,i,a,o,s,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Xne extends Fr{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zv extends Fr{constructor(e,n,r=Xs,i,a,o,s=ea,l=ea,u,d=Tu,h=1){if(d!==Tu&&d!==Jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const g={width:e,height:n,depth:h};super(g,i,a,o,s,l,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Qd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class D9 extends zv{constructor(e,n=Xs,r=wc,i,a,o=ea,s=ea,l,u=Tu){const d={width:e,height:e,depth:1},h=[d,d,d,d,d,d];super(e,e,n,r,i,a,o,s,l,u),this.image=h,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class HL extends Fr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class ph extends In{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],d=[],h=[];let g=0,y=0;b("z","y","x",-1,-1,r,n,e,o,a,0),b("z","y","x",1,-1,r,n,-e,o,a,1),b("x","z","y",1,1,e,r,n,i,o,2),b("x","z","y",1,-1,e,r,-n,i,o,3),b("x","y","z",1,-1,e,n,r,i,a,4),b("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(d,3)),this.setAttribute("uv",new Yt(h,2));function b(_,x,w,E,A,C,T,O,N,R,k){const z=C/N,F=T/R,G=C/2,V=T/2,W=O/2,K=N+1,H=R+1;let q=0,Z=0;const ee=new de;for(let ae=0;ae<H;ae++){const $=ae*F-V;for(let J=0;J<K;J++){const ne=J*z-G;ee[_]=ne*E,ee[x]=$*A,ee[w]=W,u.push(ee.x,ee.y,ee.z),ee[_]=0,ee[x]=0,ee[w]=O>0?1:-1,d.push(ee.x,ee.y,ee.z),h.push(J/N),h.push(1-ae/R),q+=1}}for(let ae=0;ae<R;ae++)for(let $=0;$<N;$++){const J=g+$+K*ae,ne=g+$+K*(ae+1),fe=g+($+1)+K*(ae+1),ge=g+($+1)+K*ae;l.push(J,ne,ge),l.push(ne,fe,ge),Z+=6}s.addGroup(y,Z,k),y+=Z,g+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ph(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class JA extends In{constructor(e=1,n=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:a},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],d=n/2,h=Math.PI/2*e,g=n,y=2*h+g,b=r*2+a,_=i+1,x=new de,w=new de;for(let E=0;E<=b;E++){let A=0,C=0,T=0,O=0;if(E<=r){const k=E/r,z=k*Math.PI/2;C=-d-e*Math.cos(z),T=e*Math.sin(z),O=-e*Math.cos(z),A=k*h}else if(E<=r+a){const k=(E-r)/a;C=-d+k*n,T=e,O=0,A=h+k*g}else{const k=(E-r-a)/r,z=k*Math.PI/2;C=d+e*Math.sin(z),T=e*Math.cos(z),O=e*Math.sin(z),A=h+g+k*h}const N=Math.max(0,Math.min(1,A/y));let R=0;E===0?R=.5/i:E===b&&(R=-.5/i);for(let k=0;k<=i;k++){const z=k/i,F=z*Math.PI*2,G=Math.sin(F),V=Math.cos(F);w.x=-T*V,w.y=C,w.z=T*G,s.push(w.x,w.y,w.z),x.set(-T*V,O,T*G),x.normalize(),l.push(x.x,x.y,x.z),u.push(z+R,N)}if(E>0){const k=(E-1)*_;for(let z=0;z<i;z++){const F=k+z,G=k+z+1,V=E*_+z,W=E*_+z+1;o.push(F,G,V),o.push(G,W,V)}}}this.setIndex(o),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(l,3)),this.setAttribute("uv",new Yt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JA(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class QA extends In{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new de,d=new mt;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let h=0,g=3;h<=n;h++,g+=3){const y=r+h/n*i;u.x=e*Math.cos(y),u.y=e*Math.sin(y),o.push(u.x,u.y,u.z),s.push(0,0,1),d.x=(o[g]/e+1)/2,d.y=(o[g+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=n;h++)a.push(h,h+1,0);this.setIndex(a),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(s,3)),this.setAttribute("uv",new Yt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class N_ extends In{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const d=[],h=[],g=[],y=[];let b=0;const _=[],x=r/2;let w=0;E(),o===!1&&(e>0&&A(!0),n>0&&A(!1)),this.setIndex(d),this.setAttribute("position",new Yt(h,3)),this.setAttribute("normal",new Yt(g,3)),this.setAttribute("uv",new Yt(y,2));function E(){const C=new de,T=new de;let O=0;const N=(n-e)/r;for(let R=0;R<=a;R++){const k=[],z=R/a,F=z*(n-e)+e;for(let G=0;G<=i;G++){const V=G/i,W=V*l+s,K=Math.sin(W),H=Math.cos(W);T.x=F*K,T.y=-z*r+x,T.z=F*H,h.push(T.x,T.y,T.z),C.set(K,N,H).normalize(),g.push(C.x,C.y,C.z),y.push(V,1-z),k.push(b++)}_.push(k)}for(let R=0;R<i;R++)for(let k=0;k<a;k++){const z=_[k][R],F=_[k+1][R],G=_[k+1][R+1],V=_[k][R+1];(e>0||k!==0)&&(d.push(z,F,V),O+=3),(n>0||k!==a-1)&&(d.push(F,G,V),O+=3)}u.addGroup(w,O,0),w+=O}function A(C){const T=b,O=new mt,N=new de;let R=0;const k=C===!0?e:n,z=C===!0?1:-1;for(let G=1;G<=i;G++)h.push(0,x*z,0),g.push(0,z,0),y.push(.5,.5),b++;const F=b;for(let G=0;G<=i;G++){const W=G/i*l+s,K=Math.cos(W),H=Math.sin(W);N.x=k*H,N.y=x*z,N.z=k*K,h.push(N.x,N.y,N.z),g.push(0,z,0),O.x=K*.5+.5,O.y=H*.5*z+.5,y.push(O.x,O.y),b++}for(let G=0;G<i;G++){const V=T+G,W=F+G;C===!0?d.push(W,W+1,V):d.push(W+1,W,V),R+=3}u.addGroup(w,R,C===!0?1:2),w+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class k_ extends N_{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new k_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mh extends In{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),d(),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(a.slice(),3)),this.setAttribute("uv",new Yt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(E){const A=new de,C=new de,T=new de;for(let O=0;O<n.length;O+=3)y(n[O+0],A),y(n[O+1],C),y(n[O+2],T),l(A,C,T,E)}function l(E,A,C,T){const O=T+1,N=[];for(let R=0;R<=O;R++){N[R]=[];const k=E.clone().lerp(C,R/O),z=A.clone().lerp(C,R/O),F=O-R;for(let G=0;G<=F;G++)G===0&&R===O?N[R][G]=k:N[R][G]=k.clone().lerp(z,G/F)}for(let R=0;R<O;R++)for(let k=0;k<2*(O-R)-1;k++){const z=Math.floor(k/2);k%2===0?(g(N[R][z+1]),g(N[R+1][z]),g(N[R][z])):(g(N[R][z+1]),g(N[R+1][z+1]),g(N[R+1][z]))}}function u(E){const A=new de;for(let C=0;C<a.length;C+=3)A.x=a[C+0],A.y=a[C+1],A.z=a[C+2],A.normalize().multiplyScalar(E),a[C+0]=A.x,a[C+1]=A.y,a[C+2]=A.z}function d(){const E=new de;for(let A=0;A<a.length;A+=3){E.x=a[A+0],E.y=a[A+1],E.z=a[A+2];const C=x(E)/2/Math.PI+.5,T=w(E)/Math.PI+.5;o.push(C,1-T)}b(),h()}function h(){for(let E=0;E<o.length;E+=6){const A=o[E+0],C=o[E+2],T=o[E+4],O=Math.max(A,C,T),N=Math.min(A,C,T);O>.9&&N<.1&&(A<.2&&(o[E+0]+=1),C<.2&&(o[E+2]+=1),T<.2&&(o[E+4]+=1))}}function g(E){a.push(E.x,E.y,E.z)}function y(E,A){const C=E*3;A.x=e[C+0],A.y=e[C+1],A.z=e[C+2]}function b(){const E=new de,A=new de,C=new de,T=new de,O=new mt,N=new mt,R=new mt;for(let k=0,z=0;k<a.length;k+=9,z+=6){E.set(a[k+0],a[k+1],a[k+2]),A.set(a[k+3],a[k+4],a[k+5]),C.set(a[k+6],a[k+7],a[k+8]),O.set(o[z+0],o[z+1]),N.set(o[z+2],o[z+3]),R.set(o[z+4],o[z+5]),T.copy(E).add(A).add(C).divideScalar(3);const F=x(T);_(O,z+0,E,F),_(N,z+2,A,F),_(R,z+4,C,F)}}function _(E,A,C,T){T<0&&E.x===1&&(o[A]=E.x-1),C.x===0&&C.z===0&&(o[A]=T/2/Math.PI+.5)}function x(E){return Math.atan2(E.z,-E.x)}function w(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mh(e.vertices,e.indices,e.radius,e.detail)}}class eT extends mh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eT(e.radius,e.detail)}}const uw=new de,fw=new de,WR=new de,dw=new Ss;class I9 extends In{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(qp*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),g={},y=[];for(let b=0;b<l;b+=3){o?(u[0]=o.getX(b),u[1]=o.getX(b+1),u[2]=o.getX(b+2)):(u[0]=b,u[1]=b+1,u[2]=b+2);const{a:_,b:x,c:w}=dw;if(_.fromBufferAttribute(s,u[0]),x.fromBufferAttribute(s,u[1]),w.fromBufferAttribute(s,u[2]),dw.getNormal(WR),h[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let E=0;E<3;E++){const A=(E+1)%3,C=h[E],T=h[A],O=dw[d[E]],N=dw[d[A]],R=`${C}_${T}`,k=`${T}_${C}`;k in g&&g[k]?(WR.dot(g[k].normal)<=a&&(y.push(O.x,O.y,O.z),y.push(N.x,N.y,N.z)),g[k]=null):R in g||(g[R]={index0:u[E],index1:u[A],normal:WR.clone()})}}for(const b in g)if(g[b]){const{index0:_,index1:x}=g[b];uw.fromBufferAttribute(s,_),fw.fromBufferAttribute(s,x),y.push(uw.x,uw.y,uw.z),y.push(fw.x,fw.y,fw.z)}this.setAttribute("position",new Yt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Tc=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ht("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const d=r[i],g=r[i+1]-d,y=(o-d)/g;return(i+y)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new mt:new de);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new de,i=[],a=[],o=[],s=new de,l=new wn;for(let y=0;y<=e;y++){const b=y/e;i[y]=this.getTangentAt(b,new de)}a[0]=new de,o[0]=new de;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),g=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),g<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),o[y]=o[y-1].clone(),s.crossVectors(i[y-1],i[y]),s.length()>Number.EPSILON){s.normalize();const b=Math.acos(Sn(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(l.makeRotationAxis(s,b))}o[y].crossVectors(i[y],a[y])}if(n===!0){let y=Math.acos(Sn(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(y=-y);for(let b=1;b<=e;b++)a[b].applyMatrix4(l.makeRotationAxis(i[b],y*b)),o[b].crossVectors(i[b],a[b])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class tT extends Tc{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new mt){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),g=l-this.aX,y=u-this.aY;l=g*d-y*h+this.aX,u=g*h+y*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class N9 extends tT{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function VL(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,d,h){let g=(o-a)/u-(s-a)/(u+d)+(s-o)/d,y=(s-o)/d-(l-o)/(d+h)+(l-s)/h;g*=d,y*=d,i(o,s,g,y)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const hw=new de,qR=new VL,XR=new VL,YR=new VL;class k9 extends Tc{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new de){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,d;this.closed||s>0?u=i[(s-1)%a]:(hw.subVectors(i[0],i[1]).add(i[0]),u=hw);const h=i[s%a],g=i[(s+1)%a];if(this.closed||s+2<a?d=i[(s+2)%a]:(hw.subVectors(i[a-1],i[a-2]).add(i[a-1]),d=hw),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let b=Math.pow(u.distanceToSquared(h),y),_=Math.pow(h.distanceToSquared(g),y),x=Math.pow(g.distanceToSquared(d),y);_<1e-4&&(_=1),b<1e-4&&(b=_),x<1e-4&&(x=_),qR.initNonuniformCatmullRom(u.x,h.x,g.x,d.x,b,_,x),XR.initNonuniformCatmullRom(u.y,h.y,g.y,d.y,b,_,x),YR.initNonuniformCatmullRom(u.z,h.z,g.z,d.z,b,_,x)}else this.curveType==="catmullrom"&&(qR.initCatmullRom(u.x,h.x,g.x,d.x,this.tension),XR.initCatmullRom(u.y,h.y,g.y,d.y,this.tension),YR.initCatmullRom(u.z,h.z,g.z,d.z,this.tension));return r.set(qR.calc(l),XR.calc(l),YR.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new de().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function IB(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function Yne(t,e){const n=1-t;return n*n*e}function Kne(t,e){return 2*(1-t)*t*e}function Zne(t,e){return t*t*e}function nx(t,e,n,r){return Yne(t,e)+Kne(t,n)+Zne(t,r)}function Jne(t,e){const n=1-t;return n*n*n*e}function Qne(t,e){const n=1-t;return 3*n*n*t*e}function ere(t,e){return 3*(1-t)*t*t*e}function tre(t,e){return t*t*t*e}function rx(t,e,n,r,i){return Jne(t,e)+Qne(t,n)+ere(t,r)+tre(t,i)}class GL extends Tc{constructor(e=new mt,n=new mt,r=new mt,i=new mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new mt){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(rx(e,i.x,a.x,o.x,s.x),rx(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L9 extends Tc{constructor(e=new de,n=new de,r=new de,i=new de){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new de){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(rx(e,i.x,a.x,o.x,s.x),rx(e,i.y,a.y,o.y,s.y),rx(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $L extends Tc{constructor(e=new mt,n=new mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new mt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new mt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U9 extends Tc{constructor(e=new de,n=new de){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new de){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new de){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WL extends Tc{constructor(e=new mt,n=new mt,r=new mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new mt){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(nx(e,i.x,a.x,o.x),nx(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qL extends Tc{constructor(e=new de,n=new de,r=new de){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new de){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(nx(e,i.x,a.x,o.x),nx(e,i.y,a.y,o.y),nx(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XL extends Tc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new mt){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(IB(s,l.x,u.x,d.x,h.x),IB(s,l.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new mt().fromArray(i))}return this}}var mE=Object.freeze({__proto__:null,ArcCurve:N9,CatmullRomCurve3:k9,CubicBezierCurve:GL,CubicBezierCurve3:L9,EllipseCurve:tT,LineCurve:$L,LineCurve3:U9,QuadraticBezierCurve:WL,QuadraticBezierCurve3:qL,SplineCurve:XL});class B9 extends Tc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new mE[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new mE[i.type]().fromJSON(i))}return this}}let gE=class extends B9{constructor(e){super(),this.type="Path",this.currentPoint=new mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new $L(this.currentPoint.clone(),new mt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new WL(this.currentPoint.clone(),new mt(e,n),new mt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new GL(this.currentPoint.clone(),new mt(e,n),new mt(r,i),new mt(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new XL(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new tT(e,n,r,i,a,o,s,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Xp=class extends gE{constructor(e){super(e),this.uuid=Gs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new gE().fromJSON(i))}return this}};function nre(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=F9(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(r&&(a=sre(t,e,a,n)),t.length>80*n){s=t[0],l=t[1];let d=s,h=l;for(let g=n;g<i;g+=n){const y=t[g],b=t[g+1];y<s&&(s=y),b<l&&(l=b),y>d&&(d=y),b>h&&(h=b)}u=Math.max(d-s,h-l),u=u!==0?32767/u:0}return Ax(a,o,n,s,l,u,0),o}function F9(t,e,n,r,i){let a;if(i===yre(t,e,n,r)>0)for(let o=e;o<n;o+=r)a=NB(o/r|0,t[o],t[o+1],a);else for(let o=n-r;o>=e;o-=r)a=NB(o/r|0,t[o],t[o+1],a);return a&&Hv(a,a.next)&&(Cx(a),a=a.next),a}function im(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Hv(n,n.next)||ki(n.prev,n,n.next)===0)){if(Cx(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ax(t,e,n,r,i,a,o){if(!t)return;!o&&a&&dre(t,r,i,a);let s=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(a?ire(t,r,i,a):rre(t)){e.push(l.i,t.i,u.i),Cx(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=are(im(t),e),Ax(t,e,n,r,i,a,2)):o===2&&ore(t,e,n,r,i,a):Ax(im(t),e,n,r,i,a,1);break}}}function rre(t){const e=t.prev,n=t,r=t.next;if(ki(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,d=Math.min(i,a,o),h=Math.min(s,l,u),g=Math.max(i,a,o),y=Math.max(s,l,u);let b=r.next;for(;b!==e;){if(b.x>=d&&b.x<=g&&b.y>=h&&b.y<=y&&Bb(i,s,a,l,o,u,b.x,b.y)&&ki(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function ire(t,e,n,r){const i=t.prev,a=t,o=t.next;if(ki(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,d=i.y,h=a.y,g=o.y,y=Math.min(s,l,u),b=Math.min(d,h,g),_=Math.max(s,l,u),x=Math.max(d,h,g),w=aN(y,b,e,n,r),E=aN(_,x,e,n,r);let A=t.prevZ,C=t.nextZ;for(;A&&A.z>=w&&C&&C.z<=E;){if(A.x>=y&&A.x<=_&&A.y>=b&&A.y<=x&&A!==i&&A!==o&&Bb(s,d,l,h,u,g,A.x,A.y)&&ki(A.prev,A,A.next)>=0||(A=A.prevZ,C.x>=y&&C.x<=_&&C.y>=b&&C.y<=x&&C!==i&&C!==o&&Bb(s,d,l,h,u,g,C.x,C.y)&&ki(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;A&&A.z>=w;){if(A.x>=y&&A.x<=_&&A.y>=b&&A.y<=x&&A!==i&&A!==o&&Bb(s,d,l,h,u,g,A.x,A.y)&&ki(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;C&&C.z<=E;){if(C.x>=y&&C.x<=_&&C.y>=b&&C.y<=x&&C!==i&&C!==o&&Bb(s,d,l,h,u,g,C.x,C.y)&&ki(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function are(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Hv(r,i)&&z9(r,n,n.next,i)&&Tx(r,i)&&Tx(i,r)&&(e.push(r.i,n.i,i.i),Cx(n),Cx(n.next),n=t=i),n=n.next}while(n!==t);return im(n)}function ore(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&mre(o,s)){let l=H9(o,s);o=im(o,o.next),l=im(l,l.next),Ax(o,e,n,r,i,a,0),Ax(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function sre(t,e,n,r){const i=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=F9(t,s,l,r,!1);u===u.next&&(u.steiner=!0),i.push(pre(u))}i.sort(lre);for(let a=0;a<i.length;a++)n=cre(i[a],n);return n}function lre(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function cre(t,e){const n=ure(t,e);if(!n)return e;const r=H9(n,t);return im(r,r.next),im(n,n.next)}function ure(t,e){let n=e;const r=t.x,i=t.y;let a=-1/0,o;if(Hv(t,n))return n;do{if(Hv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const h=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=r&&h>a&&(a=h,o=n.x<n.next.x?n:n.next,h===r))return o}n=n.next}while(n!==e);if(!o)return null;const s=o,l=o.x,u=o.y;let d=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&j9(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)){const h=Math.abs(i-n.y)/(r-n.x);Tx(n,t)&&(h<d||h===d&&(n.x>o.x||n.x===o.x&&fre(o,n)))&&(o=n,d=h)}n=n.next}while(n!==s);return o}function fre(t,e){return ki(t.prev,t,e.prev)<0&&ki(e.next,t,t.next)<0}function dre(t,e,n,r){let i=t;do i.z===0&&(i.z=aN(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hre(i)}function hre(t){let e,n=1;do{let r=t,i;t=null;let a=null;for(e=0;r;){e++;let o=r,s=0;for(let u=0;u<n&&(s++,o=o.nextZ,!!o);u++);let l=n;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(e>1);return t}function aN(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pre(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function j9(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Bb(t,e,n,r,i,a,o,s){return!(t===o&&e===s)&&j9(t,e,n,r,i,a,o,s)}function mre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gre(t,e)&&(Tx(t,e)&&Tx(e,t)&&vre(t,e)&&(ki(t.prev,t,e.prev)||ki(t,e.prev,e))||Hv(t,e)&&ki(t.prev,t,t.next)>0&&ki(e.prev,e,e.next)>0)}function ki(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Hv(t,e){return t.x===e.x&&t.y===e.y}function z9(t,e,n,r){const i=mw(ki(t,e,n)),a=mw(ki(t,e,r)),o=mw(ki(n,r,t)),s=mw(ki(n,r,e));return!!(i!==a&&o!==s||i===0&&pw(t,n,e)||a===0&&pw(t,r,e)||o===0&&pw(n,t,r)||s===0&&pw(n,e,r))}function pw(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function mw(t){return t>0?1:t<0?-1:0}function gre(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&z9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Tx(t,e){return ki(t.prev,t,t.next)<0?ki(t,e,t.next)>=0&&ki(t,t.prev,e)>=0:ki(t,e,t.prev)<0||ki(t,t.next,e)<0}function vre(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function H9(t,e){const n=oN(t.i,t.x,t.y),r=oN(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function NB(t,e,n,r){const i=oN(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Cx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function oN(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function yre(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class bre{static triangulate(e,n,r=2){return nre(e,n,r)}}class xc{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return xc.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];kB(e),LB(r,e);let o=e.length;n.forEach(kB);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,LB(r,n[l]);const s=bre.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function kB(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function LB(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class nT extends In{constructor(e=new Xp([new mt(.5,.5),new mt(-.5,.5),new mt(-.5,-.5),new mt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Yt(i,3)),this.setAttribute("uv",new Yt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,b=n.bevelSize!==void 0?n.bevelSize:y-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,E=n.UVGenerator!==void 0?n.UVGenerator:xre;let A,C=!1,T,O,N,R;if(w){A=w.getSpacedPoints(d),C=!0,g=!1;const Ee=w.isCatmullRomCurve3?w.closed:!1;T=w.computeFrenetFrames(d,Ee),O=new de,N=new de,R=new de}g||(x=0,y=0,b=0,_=0);const k=s.extractPoints(u);let z=k.shape;const F=k.holes;if(!xc.isClockWise(z)){z=z.reverse();for(let Ee=0,Fe=F.length;Ee<Fe;Ee++){const Ne=F[Ee];xc.isClockWise(Ne)&&(F[Ee]=Ne.reverse())}}function V(Ee){const Ne=10000000000000001e-36;let Ge=Ee[0];for(let ie=1;ie<=Ee.length;ie++){const et=ie%Ee.length,Ke=Ee[et],Be=Ke.x-Ge.x,He=Ke.y-Ge.y,re=Be*Be+He*He,X=Math.max(Math.abs(Ke.x),Math.abs(Ke.y),Math.abs(Ge.x),Math.abs(Ge.y)),ye=Ne*X*X;if(re<=ye){Ee.splice(et,1),ie--;continue}Ge=Ke}}V(z),F.forEach(V);const W=F.length,K=z;for(let Ee=0;Ee<W;Ee++){const Fe=F[Ee];z=z.concat(Fe)}function H(Ee,Fe,Ne){return Fe||ln("ExtrudeGeometry: vec does not exist"),Ee.clone().addScaledVector(Fe,Ne)}const q=z.length;function Z(Ee,Fe,Ne){let Ge,ie,et;const Ke=Ee.x-Fe.x,Be=Ee.y-Fe.y,He=Ne.x-Ee.x,re=Ne.y-Ee.y,X=Ke*Ke+Be*Be,ye=Ke*re-Be*He;if(Math.abs(ye)>Number.EPSILON){const je=Math.sqrt(X),Ue=Math.sqrt(He*He+re*re),ke=Fe.x-Be/je,ut=Fe.y+Ke/je,lt=Ne.x-re/Ue,Tt=Ne.y+He/Ue,Dt=((lt-ke)*re-(Tt-ut)*He)/(Ke*re-Be*He);Ge=ke+Ke*Dt-Ee.x,ie=ut+Be*Dt-Ee.y;const Ye=Ge*Ge+ie*ie;if(Ye<=2)return new mt(Ge,ie);et=Math.sqrt(Ye/2)}else{let je=!1;Ke>Number.EPSILON?He>Number.EPSILON&&(je=!0):Ke<-Number.EPSILON?He<-Number.EPSILON&&(je=!0):Math.sign(Be)===Math.sign(re)&&(je=!0),je?(Ge=-Be,ie=Ke,et=Math.sqrt(X)):(Ge=Ke,ie=Be,et=Math.sqrt(X/2))}return new mt(Ge/et,ie/et)}const ee=[];for(let Ee=0,Fe=K.length,Ne=Fe-1,Ge=Ee+1;Ee<Fe;Ee++,Ne++,Ge++)Ne===Fe&&(Ne=0),Ge===Fe&&(Ge=0),ee[Ee]=Z(K[Ee],K[Ne],K[Ge]);const ae=[];let $,J=ee.concat();for(let Ee=0,Fe=W;Ee<Fe;Ee++){const Ne=F[Ee];$=[];for(let Ge=0,ie=Ne.length,et=ie-1,Ke=Ge+1;Ge<ie;Ge++,et++,Ke++)et===ie&&(et=0),Ke===ie&&(Ke=0),$[Ge]=Z(Ne[Ge],Ne[et],Ne[Ke]);ae.push($),J=J.concat($)}let ne;if(x===0)ne=xc.triangulateShape(K,F);else{const Ee=[],Fe=[];for(let Ne=0;Ne<x;Ne++){const Ge=Ne/x,ie=y*Math.cos(Ge*Math.PI/2),et=b*Math.sin(Ge*Math.PI/2)+_;for(let Ke=0,Be=K.length;Ke<Be;Ke++){const He=H(K[Ke],ee[Ke],et);xe(He.x,He.y,-ie),Ge===0&&Ee.push(He)}for(let Ke=0,Be=W;Ke<Be;Ke++){const He=F[Ke];$=ae[Ke];const re=[];for(let X=0,ye=He.length;X<ye;X++){const je=H(He[X],$[X],et);xe(je.x,je.y,-ie),Ge===0&&re.push(je)}Ge===0&&Fe.push(re)}}ne=xc.triangulateShape(Ee,Fe)}const fe=ne.length,ge=b+_;for(let Ee=0;Ee<q;Ee++){const Fe=g?H(z[Ee],J[Ee],ge):z[Ee];C?(N.copy(T.normals[0]).multiplyScalar(Fe.x),O.copy(T.binormals[0]).multiplyScalar(Fe.y),R.copy(A[0]).add(N).add(O),xe(R.x,R.y,R.z)):xe(Fe.x,Fe.y,0)}for(let Ee=1;Ee<=d;Ee++)for(let Fe=0;Fe<q;Fe++){const Ne=g?H(z[Fe],J[Fe],ge):z[Fe];C?(N.copy(T.normals[Ee]).multiplyScalar(Ne.x),O.copy(T.binormals[Ee]).multiplyScalar(Ne.y),R.copy(A[Ee]).add(N).add(O),xe(R.x,R.y,R.z)):xe(Ne.x,Ne.y,h/d*Ee)}for(let Ee=x-1;Ee>=0;Ee--){const Fe=Ee/x,Ne=y*Math.cos(Fe*Math.PI/2),Ge=b*Math.sin(Fe*Math.PI/2)+_;for(let ie=0,et=K.length;ie<et;ie++){const Ke=H(K[ie],ee[ie],Ge);xe(Ke.x,Ke.y,h+Ne)}for(let ie=0,et=F.length;ie<et;ie++){const Ke=F[ie];$=ae[ie];for(let Be=0,He=Ke.length;Be<He;Be++){const re=H(Ke[Be],$[Be],Ge);C?xe(re.x,re.y+A[d-1].y,A[d-1].x+Ne):xe(re.x,re.y,h+Ne)}}}ce(),le();function ce(){const Ee=i.length/3;if(g){let Fe=0,Ne=q*Fe;for(let Ge=0;Ge<fe;Ge++){const ie=ne[Ge];Oe(ie[2]+Ne,ie[1]+Ne,ie[0]+Ne)}Fe=d+x*2,Ne=q*Fe;for(let Ge=0;Ge<fe;Ge++){const ie=ne[Ge];Oe(ie[0]+Ne,ie[1]+Ne,ie[2]+Ne)}}else{for(let Fe=0;Fe<fe;Fe++){const Ne=ne[Fe];Oe(Ne[2],Ne[1],Ne[0])}for(let Fe=0;Fe<fe;Fe++){const Ne=ne[Fe];Oe(Ne[0]+q*d,Ne[1]+q*d,Ne[2]+q*d)}}r.addGroup(Ee,i.length/3-Ee,0)}function le(){const Ee=i.length/3;let Fe=0;pe(K,Fe),Fe+=K.length;for(let Ne=0,Ge=F.length;Ne<Ge;Ne++){const ie=F[Ne];pe(ie,Fe),Fe+=ie.length}r.addGroup(Ee,i.length/3-Ee,1)}function pe(Ee,Fe){let Ne=Ee.length;for(;--Ne>=0;){const Ge=Ne;let ie=Ne-1;ie<0&&(ie=Ee.length-1);for(let et=0,Ke=d+x*2;et<Ke;et++){const Be=q*et,He=q*(et+1),re=Fe+Ge+Be,X=Fe+ie+Be,ye=Fe+ie+He,je=Fe+Ge+He;_e(re,X,ye,je)}}}function xe(Ee,Fe,Ne){l.push(Ee),l.push(Fe),l.push(Ne)}function Oe(Ee,Fe,Ne){ve(Ee),ve(Fe),ve(Ne);const Ge=i.length/3,ie=E.generateTopUV(r,i,Ge-3,Ge-2,Ge-1);Qe(ie[0]),Qe(ie[1]),Qe(ie[2])}function _e(Ee,Fe,Ne,Ge){ve(Ee),ve(Fe),ve(Ge),ve(Fe),ve(Ne),ve(Ge);const ie=i.length/3,et=E.generateSideWallUV(r,i,ie-6,ie-3,ie-2,ie-1);Qe(et[0]),Qe(et[1]),Qe(et[3]),Qe(et[1]),Qe(et[2]),Qe(et[3])}function ve(Ee){i.push(l[Ee*3+0]),i.push(l[Ee*3+1]),i.push(l[Ee*3+2])}function Qe(Ee){a.push(Ee.x),a.push(Ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return _re(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new mE[i.type]().fromJSON(i)),new nT(r,e.options)}}const xre={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new mt(a,o),new mt(s,l),new mt(u,d)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],g=e[i*3],y=e[i*3+1],b=e[i*3+2],_=e[a*3],x=e[a*3+1],w=e[a*3+2];return Math.abs(s-d)<Math.abs(o-u)?[new mt(o,1-l),new mt(u,1-h),new mt(g,1-b),new mt(_,1-w)]:[new mt(s,1-l),new mt(d,1-h),new mt(y,1-b),new mt(x,1-w)]}};function _re(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class L_ extends mh{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new L_(e.radius,e.detail)}}class rT extends In{constructor(e=[new mt(0,-.5),new mt(.5,0),new mt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Sn(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],d=1/n,h=new de,g=new mt,y=new de,b=new de,_=new de;let x=0,w=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:x=e[E+1].x-e[E].x,w=e[E+1].y-e[E].y,y.x=w*1,y.y=-x,y.z=w*0,_.copy(y),y.normalize(),l.push(y.x,y.y,y.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[E+1].x-e[E].x,w=e[E+1].y-e[E].y,y.x=w*1,y.y=-x,y.z=w*0,b.copy(y),y.x+=_.x,y.y+=_.y,y.z+=_.z,y.normalize(),l.push(y.x,y.y,y.z),_.copy(b)}for(let E=0;E<=n;E++){const A=r+E*d*i,C=Math.sin(A),T=Math.cos(A);for(let O=0;O<=e.length-1;O++){h.x=e[O].x*C,h.y=e[O].y,h.z=e[O].x*T,o.push(h.x,h.y,h.z),g.x=E/n,g.y=O/(e.length-1),s.push(g.x,g.y);const N=l[3*O+0]*C,R=l[3*O+1],k=l[3*O+0]*T;u.push(N,R,k)}}for(let E=0;E<n;E++)for(let A=0;A<e.length-1;A++){const C=A+E*e.length,T=C,O=C+e.length,N=C+e.length+1,R=C+1;a.push(T,O,R),a.push(N,R,O)}this.setIndex(a),this.setAttribute("position",new Yt(o,3)),this.setAttribute("uv",new Yt(s,2)),this.setAttribute("normal",new Yt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rT(e.points,e.segments,e.phiStart,e.phiLength)}}class U_ extends mh{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new U_(e.radius,e.detail)}}class Cc extends In{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,d=l+1,h=e/s,g=n/l,y=[],b=[],_=[],x=[];for(let w=0;w<d;w++){const E=w*g-o;for(let A=0;A<u;A++){const C=A*h-a;b.push(C,-E,0),_.push(0,0,1),x.push(A/s),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let E=0;E<s;E++){const A=E+u*w,C=E+u*(w+1),T=E+1+u*(w+1),O=E+1+u*w;y.push(A,C,O),y.push(C,T,O)}this.setIndex(y),this.setAttribute("position",new Yt(b,3)),this.setAttribute("normal",new Yt(_,3)),this.setAttribute("uv",new Yt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cc(e.width,e.height,e.widthSegments,e.heightSegments)}}class iT extends In{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],d=[];let h=e;const g=(n-e)/i,y=new de,b=new mt;for(let _=0;_<=i;_++){for(let x=0;x<=r;x++){const w=a+x/r*o;y.x=h*Math.cos(w),y.y=h*Math.sin(w),l.push(y.x,y.y,y.z),u.push(0,0,1),b.x=(y.x/n+1)/2,b.y=(y.y/n+1)/2,d.push(b.x,b.y)}h+=g}for(let _=0;_<i;_++){const x=_*(r+1);for(let w=0;w<r;w++){const E=w+x,A=E,C=E+r+1,T=E+r+2,O=E+1;s.push(A,C,O),s.push(C,T,O)}}this.setIndex(s),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iT(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class aT extends In{constructor(e=new Xp([new mt(0,.5),new mt(-.5,-.5),new mt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(s,l,d),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Yt(i,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(o,2));function u(d){const h=i.length/3,g=d.extractPoints(n);let y=g.shape;const b=g.holes;xc.isClockWise(y)===!1&&(y=y.reverse());for(let x=0,w=b.length;x<w;x++){const E=b[x];xc.isClockWise(E)===!0&&(b[x]=E.reverse())}const _=xc.triangulateShape(y,b);for(let x=0,w=b.length;x<w;x++){const E=b[x];y=y.concat(E)}for(let x=0,w=y.length;x<w;x++){const E=y[x];i.push(E.x,E.y,0),a.push(0,0,1),o.push(E.x,E.y)}for(let x=0,w=_.length;x<w;x++){const E=_[x],A=E[0]+h,C=E[1]+h,T=E[2]+h;r.push(A,C,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Sre(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new aT(r,e.curveSegments)}}function Sre(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class B_ extends In{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const d=[],h=new de,g=new de,y=[],b=[],_=[],x=[];for(let w=0;w<=r;w++){const E=[],A=w/r;let C=0;w===0&&o===0?C=.5/n:w===r&&l===Math.PI&&(C=-.5/n);for(let T=0;T<=n;T++){const O=T/n;h.x=-e*Math.cos(i+O*a)*Math.sin(o+A*s),h.y=e*Math.cos(o+A*s),h.z=e*Math.sin(i+O*a)*Math.sin(o+A*s),b.push(h.x,h.y,h.z),g.copy(h).normalize(),_.push(g.x,g.y,g.z),x.push(O+C,1-A),E.push(u++)}d.push(E)}for(let w=0;w<r;w++)for(let E=0;E<n;E++){const A=d[w][E+1],C=d[w][E],T=d[w+1][E],O=d[w+1][E+1];(w!==0||o>0)&&y.push(A,C,O),(w!==r-1||l<Math.PI)&&y.push(C,T,O)}this.setIndex(y),this.setAttribute("position",new Yt(b,3)),this.setAttribute("normal",new Yt(_,3)),this.setAttribute("uv",new Yt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class oT extends mh{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new oT(e.radius,e.detail)}}class sT extends In{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2,o=0,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a,thetaStart:o,thetaLength:s},r=Math.floor(r),i=Math.floor(i);const l=[],u=[],d=[],h=[],g=new de,y=new de,b=new de;for(let _=0;_<=r;_++){const x=o+_/r*s;for(let w=0;w<=i;w++){const E=w/i*a;y.x=(e+n*Math.cos(x))*Math.cos(E),y.y=(e+n*Math.cos(x))*Math.sin(E),y.z=n*Math.sin(x),u.push(y.x,y.y,y.z),g.x=e*Math.cos(E),g.y=e*Math.sin(E),b.subVectors(y,g).normalize(),d.push(b.x,b.y,b.z),h.push(w/i),h.push(_/r)}}for(let _=1;_<=r;_++)for(let x=1;x<=i;x++){const w=(i+1)*_+x-1,E=(i+1)*(_-1)+x-1,A=(i+1)*(_-1)+x,C=(i+1)*_+x;l.push(w,E,C),l.push(E,A,C)}this.setIndex(l),this.setAttribute("position",new Yt(u,3)),this.setAttribute("normal",new Yt(d,3)),this.setAttribute("uv",new Yt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sT(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class lT extends In{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],d=[],h=new de,g=new de,y=new de,b=new de,_=new de,x=new de,w=new de;for(let A=0;A<=r;++A){const C=A/r*a*Math.PI*2;E(C,a,o,e,y),E(C+.01,a,o,e,b),x.subVectors(b,y),w.addVectors(b,y),_.crossVectors(x,w),w.crossVectors(_,x),_.normalize(),w.normalize();for(let T=0;T<=i;++T){const O=T/i*Math.PI*2,N=-n*Math.cos(O),R=n*Math.sin(O);h.x=y.x+(N*w.x+R*_.x),h.y=y.y+(N*w.y+R*_.y),h.z=y.z+(N*w.z+R*_.z),l.push(h.x,h.y,h.z),g.subVectors(h,y).normalize(),u.push(g.x,g.y,g.z),d.push(A/r),d.push(T/i)}}for(let A=1;A<=r;A++)for(let C=1;C<=i;C++){const T=(i+1)*(A-1)+(C-1),O=(i+1)*A+(C-1),N=(i+1)*A+C,R=(i+1)*(A-1)+C;s.push(T,O,R),s.push(O,N,R)}this.setIndex(s),this.setAttribute("position",new Yt(l,3)),this.setAttribute("normal",new Yt(u,3)),this.setAttribute("uv",new Yt(d,2));function E(A,C,T,O,N){const R=Math.cos(A),k=Math.sin(A),z=T/C*A,F=Math.cos(z);N.x=O*(2+F)*.5*R,N.y=O*(2+F)*k*.5,N.z=O*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lT(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class cT extends In{constructor(e=new qL(new de(-1,-1,0),new de(-1,1,0),new de(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new de,l=new de,u=new mt;let d=new de;const h=[],g=[],y=[],b=[];_(),this.setIndex(b),this.setAttribute("position",new Yt(h,3)),this.setAttribute("normal",new Yt(g,3)),this.setAttribute("uv",new Yt(y,2));function _(){for(let A=0;A<n;A++)x(A);x(a===!1?n:0),E(),w()}function x(A){d=e.getPointAt(A/n,d);const C=o.normals[A],T=o.binormals[A];for(let O=0;O<=i;O++){const N=O/i*Math.PI*2,R=Math.sin(N),k=-Math.cos(N);l.x=k*C.x+R*T.x,l.y=k*C.y+R*T.y,l.z=k*C.z+R*T.z,l.normalize(),g.push(l.x,l.y,l.z),s.x=d.x+r*l.x,s.y=d.y+r*l.y,s.z=d.z+r*l.z,h.push(s.x,s.y,s.z)}}function w(){for(let A=1;A<=n;A++)for(let C=1;C<=i;C++){const T=(i+1)*(A-1)+(C-1),O=(i+1)*A+(C-1),N=(i+1)*A+C,R=(i+1)*(A-1)+C;b.push(T,O,R),b.push(O,N,R)}}function E(){for(let A=0;A<=n;A++)for(let C=0;C<=i;C++)u.x=A/n,u.y=C/i,y.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new cT(new mE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class V9 extends In{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new de,a=new de;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],g=h.start,y=h.count;for(let b=g,_=g+y;b<_;b+=3)for(let x=0;x<3;x++){const w=s.getX(b+x),E=s.getX(b+(x+1)%3);i.fromBufferAttribute(o,w),a.fromBufferAttribute(o,E),UB(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const d=3*s+u,h=3*s+(u+1)%3;i.fromBufferAttribute(o,d),a.fromBufferAttribute(o,h),UB(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Yt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function UB(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var BB=Object.freeze({__proto__:null,BoxGeometry:ph,CapsuleGeometry:JA,CircleGeometry:QA,ConeGeometry:k_,CylinderGeometry:N_,DodecahedronGeometry:eT,EdgesGeometry:I9,ExtrudeGeometry:nT,IcosahedronGeometry:L_,LatheGeometry:rT,OctahedronGeometry:U_,PlaneGeometry:Cc,PolyhedronGeometry:mh,RingGeometry:iT,ShapeGeometry:aT,SphereGeometry:B_,TetrahedronGeometry:oT,TorusGeometry:sT,TorusKnotGeometry:lT,TubeGeometry:cT,WireframeGeometry:V9});class G9 extends To{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}function Vv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Ht("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vo(t){const e={};for(let n=0;n<t.length;n++){const r=Vv(t[n]);for(const i in r)e[i]=r[i]}return e}function wre(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function $9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:cr.workingColorSpace}const uT={clone:Vv,merge:Vo};var Mre=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ere=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ro extends To{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Mre,this.fragmentShader=Ere,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vv(e.uniforms),this.uniformsGroups=wre(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class YL extends ro{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fT extends To{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W9 extends fT{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class q9 extends To{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vt(16777215),this.specular=new Vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.combine=C_,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class X9 extends To{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Y9 extends To{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class K9 extends To{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ys,this.combine=C_,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dT extends To{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=l9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class hT extends To{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Z9 extends To{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hh,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J9 extends Co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fp(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Q9(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function sN(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function KL(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function Are(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],d=u.getValueSize(),h=[],g=[];for(let y=0;y<u.times.length;++y){const b=u.times[y]*i;if(!(b<n||b>=r)){h.push(u.times[y]);for(let _=0;_<d;++_)g.push(u.values[y*d+_])}}h.length!==0&&(u.times=Fp(h,u.times.constructor),u.values=Fp(g,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Tre(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===s.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let g=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const b=s.times.length-1;let _;if(a<=s.times[0]){const w=d,E=h-d;_=s.values.slice(w,E)}else if(a>=s.times[b]){const w=b*h+d,E=w+h-d;_=s.values.slice(w,E)}else{const w=s.createInterpolant(),E=d,A=h-d;w.evaluate(a),_=w.resultBuffer.slice(E,A)}l==="quaternion"&&new no().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let w=0;w<x;++w){const E=w*y+g;if(l==="quaternion")no.multiplyQuaternionsFlat(u.values,E,_,0,u.values,E);else{const A=y-g*2;for(let C=0;C<A;++C)u.values[E+C]-=_[C]}}}return t.blendMode=NL,t}class Cre{static convertArray(e,n){return Fp(e,n)}static isTypedArray(e){return v9(e)}static getKeyframeOrder(e){return Q9(e)}static sortedArray(e,n,r){return sN(e,n,r)}static flattenJSON(e,n,r,i){KL(e,n,r,i)}static subclip(e,n,r,i,a=30){return Are(e,n,r,i,a)}static makeClipAdditive(e,n=0,r=e,i=30){return Tre(e,n,r,i)}}class _y{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class e$ extends _y{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lp,endingEnd:Lp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Up:a=e,s=2*n-r;break;case xx:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Up:o=e,l=2*r-n;break;case xx:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,d=this._offsetPrev,h=this._offsetNext,g=this._weightPrev,y=this._weightNext,b=(r-n)/(i-n),_=b*b,x=_*b,w=-g*x+2*g*_-g*b,E=(1+g)*x+(-1.5-2*g)*_+(-.5+g)*b+1,A=(-1-y)*x+(1.5+y)*_+.5*b,C=y*x-y*_;for(let T=0;T!==s;++T)a[T]=w*o[d+T]+E*o[u+T]+A*o[l+T]+C*o[h+T];return a}}class ZL extends _y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,d=(r-n)/(i-n),h=1-d;for(let g=0;g!==s;++g)a[g]=o[u+g]*h+o[l+g]*d;return a}}class t$ extends _y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class n$ extends _y{interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,d=this.settings||this.DefaultSettings_,h=d.inTangents,g=d.outTangents;if(!h||!g){const _=(r-n)/(i-n),x=1-_;for(let w=0;w!==s;++w)a[w]=o[u+w]*x+o[l+w]*_;return a}const y=s*2,b=e-1;for(let _=0;_!==s;++_){const x=o[u+_],w=o[l+_],E=b*y+_*2,A=g[E],C=g[E+1],T=e*y+_*2,O=h[T],N=h[T+1];let R=(r-n)/(i-n),k,z,F,G,V;for(let W=0;W<8;W++){k=R*R,z=k*R,F=1-R,G=F*F,V=G*F;const H=V*n+3*G*R*A+3*F*k*O+z*i-r;if(Math.abs(H)<1e-10)break;const q=3*G*(A-n)+6*F*R*(O-A)+3*k*(i-O);if(Math.abs(q)<1e-10)break;R=R-H/q,R=Math.max(0,Math.min(1,R))}a[_]=V*x+3*G*R*C+3*F*k*N+z*w}return a}}class Fl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fp(n,this.TimeBufferType),this.values=Fp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Fp(e.times,Array),values:Fp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new t$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ZL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new e$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){const n=new n$(this.times,this.values,this.getValueSize(),e);return this.settings&&(n.settings=this.settings),n}setInterpolation(e){let n;switch(e){case bx:n=this.InterpolantFactoryMethodDiscrete;break;case dE:n=this.InterpolantFactoryMethodLinear;break;case hM:n=this.InterpolantFactoryMethodSmooth;break;case tN:n=this.InterpolantFactoryMethodBezier;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Ht("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bx;case this.InterpolantFactoryMethodLinear:return dE;case this.InterpolantFactoryMethodSmooth:return hM;case this.InterpolantFactoryMethodBezier:return tN}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(ln("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(ln("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){ln("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){ln("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&v9(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){ln("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===hM,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],d=e[s+1];if(u!==d&&(s!==1||u!==e[0]))if(i)l=!0;else{const h=s*r,g=h-r,y=h+r;for(let b=0;b!==r;++b){const _=n[h+b];if(_!==n[g+b]||_!==n[y+b]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const h=s*r,g=o*r;for(let y=0;y!==r;++y)n[g+y]=n[h+y]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Fl.prototype.ValueTypeName="";Fl.prototype.TimeBufferType=Float32Array;Fl.prototype.ValueBufferType=Float32Array;Fl.prototype.DefaultInterpolation=dE;class ym extends Fl{constructor(e,n,r){super(e,n,r)}}ym.prototype.ValueTypeName="bool";ym.prototype.ValueBufferType=Array;ym.prototype.DefaultInterpolation=bx;ym.prototype.InterpolantFactoryMethodLinear=void 0;ym.prototype.InterpolantFactoryMethodSmooth=void 0;class JL extends Fl{constructor(e,n,r,i){super(e,n,r,i)}}JL.prototype.ValueTypeName="color";class Rx extends Fl{constructor(e,n,r,i){super(e,n,r,i)}}Rx.prototype.ValueTypeName="number";class r$ extends _y{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let d=u+s;u!==d;u+=4)no.slerpFlat(a,0,o,u-s,o,u,l);return a}}class F_ extends Fl{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new r$(this.times,this.values,this.getValueSize(),e)}}F_.prototype.ValueTypeName="quaternion";F_.prototype.InterpolantFactoryMethodSmooth=void 0;class bm extends Fl{constructor(e,n,r){super(e,n,r)}}bm.prototype.ValueTypeName="string";bm.prototype.ValueBufferType=Array;bm.prototype.DefaultInterpolation=bx;bm.prototype.InterpolantFactoryMethodLinear=void 0;bm.prototype.InterpolantFactoryMethodSmooth=void 0;class Ox extends Fl{constructor(e,n,r,i){super(e,n,r,i)}}Ox.prototype.ValueTypeName="vector";class Px{constructor(e="",n=-1,r=[],i=zA){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Gs(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push(Ore(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=r.length;a!==o;++a)n.push(Fl.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const d=Q9(l);l=sN(l,1,d),u=sN(u,1,d),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new Rx(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],d=u.name.match(a);if(d&&d.length>1){const h=d[1];let g=i[h];g||(i[h]=g=[]),g.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(Ht("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return ln("AnimationClip: No animation in JSONLoader data."),null;const r=function(h,g,y,b,_){if(y.length!==0){const x=[],w=[];KL(y,x,w,b),x.length!==0&&_.push(new h(g,x,w))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const g=u[h].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let b;for(b=0;b<g.length;b++)if(g[b].morphTargets)for(let _=0;_<g[b].morphTargets.length;_++)y[g[b].morphTargets[_]]=-1;for(const _ in y){const x=[],w=[];for(let E=0;E!==g[b].morphTargets.length;++E){const A=g[b];x.push(A.time),w.push(A.morphTarget===_?1:0)}i.push(new Rx(".morphTargetInfluence["+_+"]",x,w))}l=y.length*o}else{const y=".bones["+n[h].name+"]";r(Ox,y+".position",g,"pos",i),r(F_,y+".quaternion",g,"rot",i),r(Ox,y+".scale",g,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Rre(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rx;case"vector":case"vector2":case"vector3":case"vector4":return Ox;case"color":return JL;case"quaternion":return F_;case"bool":case"boolean":return ym;case"string":return bm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Ore(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Rre(t.type);if(t.times===void 0){const n=[],r=[];KL(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const xu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(FB(t)||(this.files[t]=e))},get:function(t){if(this.enabled!==!1&&!FB(t))return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function FB(t){try{const e=t.slice(t.indexOf(":")+1);return new URL(e).protocol==="blob:"}catch{return!1}}class pT{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(d){s++,a===!1&&i.onStart!==void 0&&i.onStart(d,o,s),a=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,g=u.length;h<g;h+=2){const y=u[h],b=u[h+1];if(y.global&&(y.lastIndex=0),y.test(d))return b}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const yv=new pT;let Ko=class{constructor(e){this.manager=e!==void 0?e:yv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Ko.DEFAULT_MATERIAL_NAME="__DEFAULT";const Sf={};class Pre extends Error{constructor(e,n){super(e),this.response=n}}class $s extends Ko{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=xu.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Sf[e]!==void 0){Sf[e].push({onLoad:n,onProgress:r,onError:i});return}Sf[e]=[],Sf[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&Ht("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Sf[e],h=u.body.getReader(),g=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),y=g?parseInt(g):0,b=y!==0;let _=0;const x=new ReadableStream({start(w){E();function E(){h.read().then(({done:A,value:C})=>{if(A)w.close();else{_+=C.byteLength;const T=new ProgressEvent("progress",{lengthComputable:b,loaded:_,total:y});for(let O=0,N=d.length;O<N;O++){const R=d[O];R.onProgress&&R.onProgress(T)}w.enqueue(C),E()}},A=>{w.error(A)})}}});return new Response(x)}else throw new Pre(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,s));case"json":return u.json();default:if(s==="")return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(s),g=h&&h[1]?h[1].toLowerCase():void 0,y=new TextDecoder(g);return u.arrayBuffer().then(b=>y.decode(b))}}}).then(u=>{xu.add(`file:${e}`,u);const d=Sf[e];delete Sf[e];for(let h=0,g=d.length;h<g;h++){const y=d[h];y.onLoad&&y.onLoad(u)}}).catch(u=>{const d=Sf[e];if(d===void 0)throw this.manager.itemError(e),u;delete Sf[e];for(let h=0,g=d.length;h<g;h++){const y=d[h];y.onError&&y.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Dre extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new $s(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):ln(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Px.parse(e[r]);n.push(i)}return n}}class Ire extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new ZA,l=new $s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function d(h){l.load(e[h],function(g){const y=a.parse(g,!0);o[h]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},u+=1,u===6&&(y.mipmapCount===1&&(s.minFilter=or),s.image=o,s.format=y.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let h=0,g=e.length;h<g;++h)d(h);else l.load(e,function(h){const g=a.parse(h,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let b=0;b<y;b++){o[b]={mipmaps:[]};for(let _=0;_<g.mipmapCount;_++)o[b].mipmaps.push(g.mipmaps[b*g.mipmapCount+_]),o[b].format=g.format,o[b].width=g.width,o[b].height=g.height}s.image=o}else s.image.width=g.width,s.image.height=g.height,s.mipmaps=g.mipmaps;g.mipmapCount===1&&(s.minFilter=or),s.format=g.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}const Vg=new WeakMap;class Dx extends Ko{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=xu.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0);else{let h=Vg.get(o);h===void 0&&(h=[],Vg.set(o,h)),h.push({onLoad:n,onError:i})}return o}const s=wx("img");function l(){d(),n&&n(this);const h=Vg.get(this)||[];for(let g=0;g<h.length;g++){const y=h[g];y.onLoad&&y.onLoad(this)}Vg.delete(this),a.manager.itemEnd(e)}function u(h){d(),i&&i(h),xu.remove(`image:${e}`);const g=Vg.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onError&&b.onError(h)}Vg.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),xu.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class i$ extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=new I_;a.colorSpace=to;const o=new Dx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(d){a.images[u]=d,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class QL extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new Nl,s=new $s(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(d){if(i!==void 0)i(d);else{d(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:$i,o.wrapT=u.wrapT!==void 0?u.wrapT:$i,o.magFilter=u.magFilter!==void 0?u.magFilter:or,o.minFilter=u.minFilter!==void 0?u.minFilter:or,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=bu),u.mipmapCount===1&&(o.minFilter=or),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class Nre extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=new Fr,o=new Dx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class gh extends br{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class a$ extends gh{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const KR=new wn,jB=new de,zB=new de;class eU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mt(512,512),this.mapType=La,this.map=null,this.mapPass=null,this.matrix=new wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xy,this._frameExtents=new mt(1,1),this._viewportCount=1,this._viewports=[new Ur(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;jB.setFromMatrixPosition(e.matrixWorld),n.position.copy(jB),zB.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(zB),n.updateMatrixWorld(),KR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KR,n.coordinateSystem,n.reversedDepth),n.coordinateSystem===tm||n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(KR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const gw=new de,vw=new no,hu=new de;class mT extends br{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wn,this.projectionMatrix=new wn,this.projectionMatrixInverse=new wn,this.coordinateSystem=Vs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(gw,vw,hu),hu.x===1&&hu.y===1&&hu.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(gw,vw,hu.set(1,1,1)).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorld.decompose(gw,vw,hu),hu.x===1&&hu.y===1&&hu.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(gw,vw,hu.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const zd=new de,HB=new mt,VB=new mt;class Ni extends mT{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Fv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Fv*2*Math.atan(Math.tan(qp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){zd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zd.x,zd.y).multiplyScalar(-e/zd.z),zd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(zd.x,zd.y).multiplyScalar(-e/zd.z)}getViewSize(e,n){return this.getViewBounds(e,HB,VB),n.subVectors(VB,HB)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(qp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}class kre extends eU{constructor(){super(new Ni(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Fv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class o$ extends gh{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new kre}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class Lre extends eU{constructor(){super(new Ni(90,1,.5,500)),this.isPointLightShadow=!0}}class s$ extends gh{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Lre}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class kl extends mT{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=d*this.view.offsetY,l=s-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Ure extends eU{constructor(){super(new kl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class l$ extends gh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(br.DEFAULT_UP),this.updateMatrix(),this.target=new br,this.shadow=new Ure}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class c$ extends gh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class u$ extends gh{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class tU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new de)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class f$ extends gh{constructor(e=new tU,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class gT extends Ko{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new $s(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):ln(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&Ht("MaterialLoader: Undefined texture",a),n[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new Vt().setHex(o.value);break;case"v2":i.uniforms[a].value=new mt().fromArray(o.value);break;case"v3":i.uniforms[a].value=new de().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Ur().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Dn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new wn().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new mt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new mt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return gT.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:G9,SpriteMaterial:FL,RawShaderMaterial:YL,ShaderMaterial:ro,PointsMaterial:zL,MeshPhysicalMaterial:W9,MeshStandardMaterial:fT,MeshPhongMaterial:q9,MeshToonMaterial:X9,MeshNormalMaterial:Y9,MeshLambertMaterial:K9,MeshDepthMaterial:dT,MeshDistanceMaterial:hT,MeshBasicMaterial:Du,MeshMatcapMaterial:Z9,LineDashedMaterial:J9,LineBasicMaterial:Co,Material:To};return new n[e]}}class lN{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class nU extends In{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class d$ extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new $s(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):ln(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(y,b){if(n[b]!==void 0)return n[b];const x=y.interleavedBuffers[b],w=a(y,x.buffer),E=gv(x.type,w),A=new XA(E,x.stride);return A.uuid=x.uuid,n[b]=A,A}function a(y,b){if(r[b]!==void 0)return r[b];const x=y.arrayBuffers[b],w=new Uint32Array(x).buffer;return r[b]=w,w}const o=e.isInstancedBufferGeometry?new nU:new In,s=e.data.index;if(s!==void 0){const y=gv(s.type,s.array);o.setIndex(new Wr(y,1))}const l=e.data.attributes;for(const y in l){const b=l[y];let _;if(b.isInterleavedBufferAttribute){const x=i(e.data,b.data);_=new nm(x,b.itemSize,b.offset,b.normalized)}else{const x=gv(b.type,b.array),w=b.isInstancedBufferAttribute?rm:Wr;_=new w(x,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),b.usage!==void 0&&_.setUsage(b.usage),o.setAttribute(y,_)}const u=e.data.morphAttributes;if(u)for(const y in u){const b=u[y],_=[];for(let x=0,w=b.length;x<w;x++){const E=b[x];let A;if(E.isInterleavedBufferAttribute){const C=i(e.data,E.data);A=new nm(C,E.itemSize,E.offset,E.normalized)}else{const C=gv(E.type,E.array);A=new Wr(C,E.itemSize,E.normalized)}E.name!==void 0&&(A.name=E.name),_.push(A)}o.morphAttributes[y]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let y=0,b=h.length;y!==b;++y){const _=h[y];o.addGroup(_.start,_.count,_.materialIndex)}const g=e.data.boundingSphere;return g!==void 0&&(o.boundingSphere=new Ba().fromJSON(g)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Bre extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?lN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new $s(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),h("ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),ln("ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?lN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new $s(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n);let s;try{s=JSON.parse(o)}catch(u){throw new Error("ObjectLoader: Can't parse "+e+". "+u.message)}const l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),n!==void 0){let h=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Xp().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new YA().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new d$;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in BB?s=BB[l.type].fromJSON(l,n):Ht(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new gT;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Px.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return l.data?{data:gv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pT(n);a=new Dx(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],g=h.url;if(Array.isArray(g)){const y=[];for(let b=0,_=g.length;b<_;b++){const x=g[b],w=s(x);w!==null&&(w instanceof HTMLImageElement?y.push(w):y.push(new Nl(w.data,w.width,w.height)))}i[h.uuid]=new Qd(y)}else{const y=s(h.url);i[h.uuid]=new Qd(y)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:gv(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Dx(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,g=u.length;h<g;h++){const y=u[h],b=await a(y);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new Nl(b.data,b.width,b.height)))}r[l.uuid]=new Qd(d)}else{const d=await a(l.url);r[l.uuid]=new Qd(d)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(Ht("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&Ht('ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&Ht("ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let d;Array.isArray(u)?(d=new I_,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Nl:d=new Fr,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=s.uuid,s.name!==void 0&&(d.name=s.name),s.mapping!==void 0&&(d.mapping=r(s.mapping,Fre)),s.channel!==void 0&&(d.channel=s.channel),s.offset!==void 0&&d.offset.fromArray(s.offset),s.repeat!==void 0&&d.repeat.fromArray(s.repeat),s.center!==void 0&&d.center.fromArray(s.center),s.rotation!==void 0&&(d.rotation=s.rotation),s.wrap!==void 0&&(d.wrapS=r(s.wrap[0],GB),d.wrapT=r(s.wrap[1],GB)),s.format!==void 0&&(d.format=s.format),s.internalFormat!==void 0&&(d.internalFormat=s.internalFormat),s.type!==void 0&&(d.type=s.type),s.colorSpace!==void 0&&(d.colorSpace=s.colorSpace),s.minFilter!==void 0&&(d.minFilter=r(s.minFilter,$B)),s.magFilter!==void 0&&(d.magFilter=r(s.magFilter,$B)),s.anisotropy!==void 0&&(d.anisotropy=s.anisotropy),s.flipY!==void 0&&(d.flipY=s.flipY),s.generateMipmaps!==void 0&&(d.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(d.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(d.compareFunction=s.compareFunction),s.userData!==void 0&&(d.userData=s.userData),i[s.uuid]=d}return i}parseObject(e,n,r,i,a){let o;function s(g){return n[g]===void 0&&Ht("ObjectLoader: Undefined geometry",g),n[g]}function l(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let b=0,_=g.length;b<_;b++){const x=g[b];r[x]===void 0&&Ht("ObjectLoader: Undefined material",x),y.push(r[x])}return y}return r[g]===void 0&&Ht("ObjectLoader: Undefined material",g),r[g]}}function u(g){return i[g]===void 0&&Ht("ObjectLoader: Undefined texture",g),i[g]}let d,h;switch(e.type){case"Scene":o=new D_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Vt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new qA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new WA(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ni(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new kl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new c$(e.color,e.intensity);break;case"DirectionalLight":o=new l$(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new s$(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new u$(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new o$(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new a$(e.color,e.groundColor,e.intensity);break;case"LightProbe":const g=new tU().fromArray(e.sh);o=new f$(g,e.intensity);break;case"SkinnedMesh":d=s(e.geometry),h=l(e.material),o=new A9(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=s(e.geometry),h=l(e.material),o=new li(d,h);break;case"InstancedMesh":d=s(e.geometry),h=l(e.material);const y=e.count,b=e.instanceMatrix,_=e.instanceColor;o=new T9(d,h,y),o.instanceMatrix=new rm(new Float32Array(b.array),16),_!==void 0&&(o.instanceColor=new rm(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":d=s(e.geometry),h=l(e.material),o=new C9(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let w=null,E=null;return x.boundingBox!==void 0&&(w=new Ua().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(E=new Ba().fromJSON(x.boundingSphere)),{...x,boundingBox:w,boundingSphere:E}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Ba().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Ua().fromJSON(e.boundingBox));break;case"LOD":o=new E9;break;case"Line":o=new lh(s(e.geometry),l(e.material));break;case"LineLoop":o=new R9(s(e.geometry),l(e.material));break;case"LineSegments":o=new Iu(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new O9(s(e.geometry),l(e.material));break;case"Sprite":o=new M9(l(e.material));break;case"Group":o=new vv;break;case"Bone":o=new jL;break;default:o=new br}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.pivot!==void 0&&(o.pivot=new de().fromArray(e.pivot)),e.morphTargetDictionary!==void 0&&(o.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),e.morphTargetInfluences!==void 0&&(o.morphTargetInfluences=e.morphTargetInfluences.slice()),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.static!==void 0&&(o.static=e.static),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)o.add(this.parseObject(g[y],n,r,i,a))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const b=g[y];o.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const b=g[y],_=o.getObjectByProperty("uuid",b.object);_!==void 0&&o.addLevel(_,b.distance,b.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?Ht("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new br}})}}const Fre={UVMapping:ah,CubeReflectionMapping:wc,CubeRefractionMapping:oh,EquirectangularReflectionMapping:Tv,EquirectangularRefractionMapping:Yb,CubeUVReflectionMapping:by},GB={RepeatWrapping:vx,ClampToEdgeWrapping:$i,MirroredRepeatWrapping:yx},$B={NearestFilter:ea,NearestMipmapNearestFilter:RL,NearestMipmapLinearFilter:mv,LinearFilter:or,LinearMipmapNearestFilter:Kb,LinearMipmapLinearFilter:bu},ZR=new WeakMap;class jre extends Ko{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ht("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ht("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=xu.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{if(ZR.has(o)===!0)i&&i(ZR.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return xu.add(`image-bitmap:${e}`,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),ZR.set(l,u),xu.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});xu.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let yw;class rU{static getContext(){return yw===void 0&&(yw=new(window.AudioContext||window.webkitAudioContext)),yw}static setContext(e){yw=e}}class zre extends Ko{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new $s(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);rU.getContext().decodeAudioData(u,function(h){n(h)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):ln(l),a.manager.itemError(e)}}}const WB=new wn,qB=new wn,up=new wn;class Hre{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ni,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ni,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,up.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(qp*n.fov*.5)/n.zoom;let s,l;qB.elements[12]=-i,WB.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,up.elements[0]=2*n.near/(l-s),up.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(up),s=-o*n.aspect-a,l=o*n.aspect-a,up.elements[0]=2*n.near/(l-s),up.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(up)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WB)}}const Gg=-90,$g=1;class h$ extends br{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ni(Gg,$g,e,n);i.layers=this.layers,this.add(i);const a=new Ni(Gg,$g,e,n);a.layers=this.layers,this.add(a);const o=new Ni(Gg,$g,e,n);o.layers=this.layers,this.add(o);const s=new Ni(Gg,$g,e,n);s.layers=this.layers,this.add(s);const l=new Ni(Gg,$g,e,n);l.layers=this.layers,this.add(l);const u=new Ni(Gg,$g,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===Vs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===tm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,d]=this.children,h=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1;let x=!1;e.isWebGLRenderer===!0?x=e.state.buffers.depth.getReversed():x=e.reversedDepthBuffer,e.setRenderTarget(r,0,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,a),e.setRenderTarget(r,1,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,o),e.setRenderTarget(r,2,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,s),e.setRenderTarget(r,3,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,l),e.setRenderTarget(r,4,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,u),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),x&&e.autoClear===!1&&e.clearDepth(),e.render(n,d),e.setRenderTarget(h,g,y),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class p$ extends Ni{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}let m$=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Vre.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function Vre(){this._document.hidden===!1&&this.reset()}const fp=new de,JR=new no,Gre=new de,dp=new de,hp=new de;class $re extends br{constructor(){super(),this.type="AudioListener",this.context=rU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new m$}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e),this._timer.update();const n=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(fp,JR,Gre),dp.set(0,0,-1).applyQuaternion(JR),hp.set(0,1,0).applyQuaternion(JR),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(fp.x,r),n.positionY.linearRampToValueAtTime(fp.y,r),n.positionZ.linearRampToValueAtTime(fp.z,r),n.forwardX.linearRampToValueAtTime(dp.x,r),n.forwardY.linearRampToValueAtTime(dp.y,r),n.forwardZ.linearRampToValueAtTime(dp.z,r),n.upX.linearRampToValueAtTime(hp.x,r),n.upY.linearRampToValueAtTime(hp.y,r),n.upZ.linearRampToValueAtTime(hp.z,r)}else n.setPosition(fp.x,fp.y,fp.z),n.setOrientation(dp.x,dp.y,dp.z,hp.x,hp.y,hp.z)}}class g$ extends br{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ht("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ht("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ht("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ht("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ht("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ht("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ht("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Ht("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const pp=new de,XB=new no,Wre=new de,mp=new de;class qre extends g${constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pp,XB,Wre),mp.set(0,0,1).applyQuaternion(XB);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(pp.x,r),n.positionY.linearRampToValueAtTime(pp.y,r),n.positionZ.linearRampToValueAtTime(pp.z,r),n.orientationX.linearRampToValueAtTime(mp.x,r),n.orientationY.linearRampToValueAtTime(mp.y,r),n.orientationZ.linearRampToValueAtTime(mp.z,r)}else n.setPosition(pp.x,pp.y,pp.z),n.setOrientation(mp.x,mp.y,mp.z)}}class Xre{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class v${constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){no.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;no.multiplyQuaternionsFlat(e,o,e,n,e,r),no.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const iU="\\[\\]\\.:\\/",Yre=new RegExp("["+iU+"]","g"),aU="[^"+iU+"]",Kre="[^"+iU.replace("\\.","")+"]",Zre=/((?:WC+[\/:])*)/.source.replace("WC",aU),Jre=/(WCOD+)?/.source.replace("WCOD",Kre),Qre=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",aU),eie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",aU),tie=new RegExp("^"+Zre+Jre+Qre+eie+"$"),nie=["material","materials","bones","map"];class rie{constructor(e,n,r){const i=r||yr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class yr{constructor(e,n,r){this.path=n,this.parsedPath=r||yr.parseTrackName(n),this.node=yr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new yr.Composite(e,n,r):new yr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Yre,"")}static parseTrackName(e){const n=tie.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);nie.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=yr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ht("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){ln("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){ln("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){ln("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){ln("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){ln("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){ln("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){ln("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;ln("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){ln("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){ln("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yr.Composite=rie;yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yr.prototype.GetterByBindingType=[yr.prototype._getValue_direct,yr.prototype._getValue_array,yr.prototype._getValue_arrayElement,yr.prototype._getValue_toArray];yr.prototype.SetterByBindingTypeAndVersioning=[[yr.prototype._setValue_direct,yr.prototype._setValue_direct_setNeedsUpdate,yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_array,yr.prototype._setValue_array_setNeedsUpdate,yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_arrayElement,yr.prototype._setValue_arrayElement_setNeedsUpdate,yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_fromArray,yr.prototype._setValue_fromArray_setNeedsUpdate,yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class iie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const g=arguments[d],y=g.uuid;let b=n[y];if(b===void 0){b=l++,n[y]=b,e.push(g);for(let _=0,x=o;_!==x;++_)a[_].push(new yr(g,r[_],i[_]))}else if(b<u){s=e[b];const _=--u,x=e[_];n[x.uuid]=b,e[b]=x,n[y]=_,e[_]=g;for(let w=0,E=o;w!==E;++w){const A=a[w],C=A[_];let T=A[b];A[b]=C,T===void 0&&(T=new yr(g,r[w],i[w])),A[_]=T}}else e[b]!==s&&ln("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,d=n[u];if(d!==void 0&&d>=a){const h=a++,g=e[h];n[g.uuid]=d,e[d]=g,n[u]=h,e[h]=l;for(let y=0,b=i;y!==b;++y){const _=r[y],x=_[h],w=_[d];_[d]=x,_[h]=w}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],d=u.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<a){const g=--a,y=e[g],b=--o,_=e[b];n[y.uuid]=h,e[h]=y,n[_.uuid]=g,e[g]=_,e.pop();for(let x=0,w=i;x!==w;++x){const E=r[x],A=E[g],C=E[b];E[h]=A,E[g]=C,E.pop()}}else{const g=--o,y=e[g];g>0&&(n[y.uuid]=h),e[h]=y,e.pop();for(let b=0,_=i;b!==_;++b){const x=r[b];x[h]=x[g],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(h);for(let g=d,y=l.length;g!==y;++g){const b=l[g];h[g]=new yr(b,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class y${constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Lp,endingEnd:Lp};for(let u=0;u!==o;++u){const d=a[u].createInterpolant(null);s[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=o9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case NL:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(s);break;case zA:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===s9;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===a9){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Up,i.endingEnd=Up):(e?i.endingStart=this.zeroSlopeAtStart?Up:Lp:i.endingStart=xx,n?i.endingEnd=this.zeroSlopeAtEnd?Up:Lp:i.endingEnd=xx)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const aie=new Float32Array(1);class oie extends Pu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==a;++h){const g=i[h],y=g.name;let b=d[y];if(b!==void 0)++b.referenceCount,o[h]=b;else{if(b=o[h],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,l,y));continue}const _=n&&n._propertyBindings[h].binding.parsedPath;b=new v$(yr.create(r,y,_),g.ValueTypeName,g.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,l,y),o[h]=b}s[h].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=s.actionByRoot,g=(e._localRoot||this._root).uuid;delete h[g],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new ZL(new Float32Array(2),new Float32Array(2),1,aie),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?Px.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=zA),l!==void 0){const h=l.actionByRoot[a];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new y$(this,o,n,r);return this._bindAction(d,u),this._addInactiveAction(d,s,a),d}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?Px.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const d=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class sie extends LL{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new $A(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class vT{constructor(e){this.value=e}clone(){return new vT(this.value.clone===void 0?this.value:this.value.clone())}}let lie=0;class cie extends Pu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lie++}),this.name="",this.usage=Sx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class uie extends XA{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class fie{constructor(e,n,r,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const YB=new wn;class oU{constructor(e,n,r=0,i=1/0){this.ray=new vm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new jv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):ln("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return YB.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(YB),this}intersectObject(e,n=!0,r=[]){return cN(e,this,r,n),r.sort(KB),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)cN(e[i],this,r,n);return r.sort(KB),r}}function KB(t,e){return t.distance-e.distance}function cN(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const a=t.children;for(let o=0,s=a.length;o<s;o++)cN(a[o],e,n,!0)}}class b${constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,Ht("THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.")}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class vE{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Sn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Sn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class die{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class sU{constructor(e,n,r,i){sU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=i,this}}const ZB=new mt;class hie{constructor(e=new mt(1/0,1/0),n=new mt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ZB.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ZB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JB=new de,bw=new de,Wg=new de,qg=new de,QR=new de,pie=new de,mie=new de;class gie{constructor(e=new de,n=new de){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){JB.subVectors(e,this.start),bw.subVectors(this.end,this.start);const r=bw.dot(bw);let a=bw.dot(JB)/r;return n&&(a=Sn(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=pie,r=mie){const i=10000000000000001e-32;let a,o;const s=this.start,l=e.start,u=this.end,d=e.end;Wg.subVectors(u,s),qg.subVectors(d,l),QR.subVectors(s,l);const h=Wg.dot(Wg),g=qg.dot(qg),y=qg.dot(QR);if(h<=i&&g<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(h<=i)a=0,o=y/g,o=Sn(o,0,1);else{const b=Wg.dot(QR);if(g<=i)o=0,a=Sn(-b/h,0,1);else{const _=Wg.dot(qg),x=h*g-_*_;x!==0?a=Sn((_*y-b*g)/x,0,1):a=0,o=(_*a+y)/g,o<0?(o=0,a=Sn(-b/h,0,1)):o>1&&(o=1,a=Sn((_-b)/h,0,1))}}return n.copy(s).addScaledVector(Wg,a),r.copy(l).addScaledVector(qg,o),n.distanceToSquared(r)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const QB=new de;class vie extends br{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new In,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,d=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Yt(i,3));const a=new Co({fog:!1,toneMapped:!1});this.cone=new Iu(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),QB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(QB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Hd=new de,xw=new wn,eO=new wn;class yie extends Iu{constructor(e){const n=x$(e),r=new In,i=[],a=[];for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new Yt(i,3)),r.setAttribute("color",new Yt(a,3));const o=new Co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new Vt(255),l=new Vt(65280);this.setColors(s,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");eO.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(xw.multiplyMatrices(eO,s.matrixWorld),Hd.setFromMatrixPosition(xw),i.setXYZ(o,Hd.x,Hd.y,Hd.z),xw.multiplyMatrices(eO,s.parent.matrixWorld),Hd.setFromMatrixPosition(xw),i.setXYZ(o+1,Hd.x,Hd.y,Hd.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function x$(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...x$(t.children[n]));return e}class bie extends li{constructor(e,n,r){const i=new B_(n,4,2),a=new Du({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const xie=new de,eF=new Vt,tF=new Vt;class _ie extends br{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new U_(n);i.rotateY(Math.PI*.5),this.material=new Du({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Wr(o,3)),this.add(new li(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");eF.copy(this.light.color),tF.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?eF:tF;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(xie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Sie extends Iu{constructor(e=10,n=10,r=4473924,i=8947848){r=new Vt(r),i=new Vt(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let g=0,y=0,b=-s;g<=n;g++,b+=o){l.push(-s,0,b,s,0,b),l.push(b,0,-s,b,0,s);const _=g===a?r:i;_.toArray(u,y),y+=3,_.toArray(u,y),y+=3,_.toArray(u,y),y+=3,_.toArray(u,y),y+=3}const d=new In;d.setAttribute("position",new Yt(l,3)),d.setAttribute("color",new Yt(u,3));const h=new Co({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class wie extends Iu{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new Vt(a),o=new Vt(o);const s=[],l=[];if(n>1)for(let h=0;h<n;h++){const g=h/n*(Math.PI*2),y=Math.sin(g)*e,b=Math.cos(g)*e;s.push(0,0,0),s.push(y,0,b);const _=h&1?a:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<r;h++){const g=h&1?a:o,y=e-e/r*h;for(let b=0;b<i;b++){let _=b/i*(Math.PI*2),x=Math.sin(_)*y,w=Math.cos(_)*y;s.push(x,0,w),l.push(g.r,g.g,g.b),_=(b+1)/i*(Math.PI*2),x=Math.sin(_)*y,w=Math.cos(_)*y,s.push(x,0,w),l.push(g.r,g.g,g.b)}}const u=new In;u.setAttribute("position",new Yt(s,3)),u.setAttribute("color",new Yt(l,3));const d=new Co({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nF=new de,_w=new de,rF=new de;class Mie extends br{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new In;i.setAttribute("position",new Yt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Co({fog:!1,toneMapped:!1});this.lightPlane=new lh(i,a),this.add(this.lightPlane),i=new In,i.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new lh(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nF.setFromMatrixPosition(this.light.matrixWorld),_w.setFromMatrixPosition(this.light.target.matrixWorld),rF.subVectors(_w,nF),this.lightPlane.lookAt(_w),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_w),this.targetLine.scale.z=rF.length()}}const Sw=new de,Hi=new mT;class Eie extends Iu{constructor(e){const n=new In,r=new Co({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(b,_){l(b),l(_)}function l(b){i.push(0,0,0),a.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(i.length/3-1)}n.setAttribute("position",new Yt(i,3)),n.setAttribute("color",new Yt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Vt(16755200),d=new Vt(16711680),h=new Vt(43775),g=new Vt(16777215),y=new Vt(3355443);this.setColors(u,d,h,g,y)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let a,o;if(Hi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Vs)a=-1,o=1;else if(this.camera.coordinateSystem===tm)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ji("c",n,e,Hi,0,0,a),Ji("t",n,e,Hi,0,0,o),Ji("n1",n,e,Hi,-r,-i,a),Ji("n2",n,e,Hi,r,-i,a),Ji("n3",n,e,Hi,-r,i,a),Ji("n4",n,e,Hi,r,i,a),Ji("f1",n,e,Hi,-r,-i,o),Ji("f2",n,e,Hi,r,-i,o),Ji("f3",n,e,Hi,-r,i,o),Ji("f4",n,e,Hi,r,i,o),Ji("u1",n,e,Hi,r*.7,i*1.1,a),Ji("u2",n,e,Hi,-r*.7,i*1.1,a),Ji("u3",n,e,Hi,0,i*2,a),Ji("cf1",n,e,Hi,-r,0,o),Ji("cf2",n,e,Hi,r,0,o),Ji("cf3",n,e,Hi,0,-i,o),Ji("cf4",n,e,Hi,0,i,o),Ji("cn1",n,e,Hi,-r,0,a),Ji("cn2",n,e,Hi,r,0,a),Ji("cn3",n,e,Hi,0,-i,a),Ji("cn4",n,e,Hi,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ji(t,e,n,r,i,a,o){Sw.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,d=s.length;u<d;u++)l.setXYZ(s[u],Sw.x,Sw.y,Sw.z)}}const ww=new Ua;class Aie extends Iu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new In;a.setIndex(new Wr(r,1)),a.setAttribute("position",new Wr(i,3)),super(a,new Co({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ww.setFromObject(this.object),ww.isEmpty())return;const e=ww.min,n=ww.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tie extends Iu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new In;a.setIndex(new Wr(r,1)),a.setAttribute("position",new Yt(i,3)),super(a,new Co({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cie extends lh{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new In;o.setAttribute("position",new Yt(a,3)),o.computeBoundingSphere(),super(o,new Co({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new In;l.setAttribute("position",new Yt(s,3)),l.computeBoundingSphere(),this.add(new li(l,new Du({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const iF=new de;let Mw,tO;class Rie extends br{constructor(e=new de(0,0,1),n=new de(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Mw===void 0&&(Mw=new In,Mw.setAttribute("position",new Yt([0,0,0,0,1,0],3)),tO=new k_(.5,1,5,1),tO.translate(0,-.5,0)),this.position.copy(n),this.line=new lh(Mw,new Co({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new li(tO,new Du({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{iF.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(iF,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Oie extends Iu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new In;i.setAttribute("position",new Yt(n,3)),i.setAttribute("color",new Yt(r,3));const a=new Co({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new Vt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Pie{constructor(){this.type="ShapePath",this.color=new Vt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new gE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const E=[];for(let A=0,C=w.length;A<C;A++){const T=w[A],O=new Xp;O.curves=T.curves,E.push(O)}return E}function r(w,E){const A=E.length;let C=!1;for(let T=A-1,O=0;O<A;T=O++){let N=E[T],R=E[O],k=R.x-N.x,z=R.y-N.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(N=E[O],k=-k,R=E[T],z=-z),w.y<N.y||w.y>R.y)continue;if(w.y===N.y){if(w.x===N.x)return!0}else{const F=z*(w.x-N.x)-k*(w.y-N.y);if(F===0)return!0;if(F<0)continue;C=!C}}else{if(w.y!==N.y)continue;if(R.x<=w.x&&w.x<=N.x||N.x<=w.x&&w.x<=R.x)return!0}}return C}const i=xc.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new Xp,l.curves=s.curves,u.push(l),u;let d=!i(a[0].getPoints());d=e?!d:d;const h=[],g=[];let y=[],b=0,_;g[b]=void 0,y[b]=[];for(let w=0,E=a.length;w<E;w++)s=a[w],_=s.getPoints(),o=i(_),o=e?!o:o,o?(!d&&g[b]&&b++,g[b]={s:new Xp,p:_},g[b].s.curves=s.curves,d&&b++,y[b]=[]):y[b].push({h:s,p:_[0]});if(!g[0])return n(a);if(g.length>1){let w=!1,E=0;for(let A=0,C=g.length;A<C;A++)h[A]=[];for(let A=0,C=g.length;A<C;A++){const T=y[A];for(let O=0;O<T.length;O++){const N=T[O];let R=!0;for(let k=0;k<g.length;k++)r(N.p,g[k].p)&&(A!==k&&E++,R?(R=!1,h[k].push(N)):w=!0);R&&h[A].push(N)}}E>0&&w===!1&&(y=h)}let x;for(let w=0,E=g.length;w<E;w++){l=g[w].s,u.push(l),x=y[w];for(let A=0,C=x.length;A<C;A++)l.holes.push(x[A].h)}return u}}class Die extends Pu{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ht("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Iie(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Nie(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function kie(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function uN(t,e,n,r){const i=Lie(r);switch(n){case DL:return t*e;case O_:return t*e/i.components*i.byteLength;case P_:return t*e/i.components*i.byteLength;case em:return t*e*2/i.components*i.byteLength;case FA:return t*e*2/i.components*i.byteLength;case IL:return t*e*3/i.components*i.byteLength;case ta:return t*e*4/i.components*i.byteLength;case jA:return t*e*4/i.components*i.byteLength;case Zb:case Jb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qb:case ex:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case kM:case UM:return Math.max(t,16)*Math.max(e,8)/4;case NM:case LM:return Math.max(t,8)*Math.max(e,8)/2;case BM:case FM:case zM:case HM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case jM:case VM:case GM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case $M:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case WM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case qM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case XM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case YM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case KM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case ZM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case JM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case QM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case eE:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case tE:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case nE:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case rE:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case iE:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case aE:case oE:case sE:return Math.ceil(t/4)*Math.ceil(e/4)*16;case lE:case cE:return Math.ceil(t/4)*Math.ceil(e/4)*8;case uE:case fE:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Lie(t){switch(t){case La:case kA:return{byteLength:1,components:1};case Uv:case LA:case Wi:return{byteLength:2,components:1};case UA:case BA:return{byteLength:2,components:4};case Xs:case R_:case Mi:return{byteLength:4,components:1};case OL:case PL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Uie{static contain(e,n){return Iie(e,n)}static cover(e,n){return Nie(e,n)}static fill(e){return kie(e)}static getByteLength(e,n,r,i){return uN(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:yy}}));typeof window<"u"&&(window.__THREE__?Ht("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=yy);function _$(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Bie(t){const e=new WeakMap;function n(s,l){const u=s.array,d=s.usage,h=u.byteLength,g=t.createBuffer();t.bindBuffer(l,g),t.bufferData(l,u,d),s.onUploadCallback();let y;if(u instanceof Float32Array)y=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)y=t.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)y=t.SHORT;else if(u instanceof Uint32Array)y=t.UNSIGNED_INT;else if(u instanceof Int32Array)y=t.INT;else if(u instanceof Int8Array)y=t.BYTE;else if(u instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:g,type:y,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:h}}function r(s,l,u){const d=l.array,h=l.updateRanges;if(t.bindBuffer(u,s),h.length===0)t.bufferSubData(u,0,d);else{h.sort((y,b)=>y.start-b.start);let g=0;for(let y=1;y<h.length;y++){const b=h[g],_=h[y];_.start<=b.start+b.count+1?b.count=Math.max(b.count,_.start+_.count-b.start):(++g,h[g]=_)}h.length=g+1;for(let y=0,b=h.length;y<b;y++){const _=h[y];t.bufferSubData(u,_.start*d.BYTES_PER_ELEMENT,d,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const d=e.get(s);(!d||d.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}var Fie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jie=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,zie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Hie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vie=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Gie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$ie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Wie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qie=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,Xie=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Yie=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Kie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Zie=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Jie=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Qie=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,tae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iae=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,aae=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,oae=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,sae=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,lae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uae=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mae="gl_FragColor = linearToOutputTexel( gl_FragColor );",gae=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,yae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,bae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_ae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Sae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Mae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Eae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Aae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Tae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Cae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Rae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Oae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Pae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Dae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Iae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Nae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Lae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Uae=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Bae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Fae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jae=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,zae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Hae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Gae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,$ae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Wae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Xae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Yae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Kae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Jae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Qae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,eoe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,toe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,noe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,roe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ioe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ooe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,soe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,loe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,coe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,uoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,foe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,doe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hoe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,poe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,moe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,goe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,voe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yoe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,boe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,xoe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,_oe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Soe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,woe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Moe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Eoe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Aoe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Toe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Coe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Roe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ooe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Poe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Doe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ioe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Noe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,koe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Loe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Uoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Boe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Foe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,joe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zoe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Voe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Goe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$oe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Woe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qoe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,Xoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Yoe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Koe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zoe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Joe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Qoe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ese=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tse=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nse=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rse=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ise=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ase=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ose=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lse=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cse=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,use=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fse=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pse=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gse=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fn={alphahash_fragment:Fie,alphahash_pars_fragment:jie,alphamap_fragment:zie,alphamap_pars_fragment:Hie,alphatest_fragment:Vie,alphatest_pars_fragment:Gie,aomap_fragment:$ie,aomap_pars_fragment:Wie,batching_pars_vertex:qie,batching_vertex:Xie,begin_vertex:Yie,beginnormal_vertex:Kie,bsdfs:Zie,iridescence_fragment:Jie,bumpmap_pars_fragment:Qie,clipping_planes_fragment:eae,clipping_planes_pars_fragment:tae,clipping_planes_pars_vertex:nae,clipping_planes_vertex:rae,color_fragment:iae,color_pars_fragment:aae,color_pars_vertex:oae,color_vertex:sae,common:lae,cube_uv_reflection_fragment:cae,defaultnormal_vertex:uae,displacementmap_pars_vertex:fae,displacementmap_vertex:dae,emissivemap_fragment:hae,emissivemap_pars_fragment:pae,colorspace_fragment:mae,colorspace_pars_fragment:gae,envmap_fragment:vae,envmap_common_pars_fragment:yae,envmap_pars_fragment:bae,envmap_pars_vertex:xae,envmap_physical_pars_fragment:Pae,envmap_vertex:_ae,fog_vertex:Sae,fog_pars_vertex:wae,fog_fragment:Mae,fog_pars_fragment:Eae,gradientmap_pars_fragment:Aae,lightmap_pars_fragment:Tae,lights_lambert_fragment:Cae,lights_lambert_pars_fragment:Rae,lights_pars_begin:Oae,lights_toon_fragment:Dae,lights_toon_pars_fragment:Iae,lights_phong_fragment:Nae,lights_phong_pars_fragment:kae,lights_physical_fragment:Lae,lights_physical_pars_fragment:Uae,lights_fragment_begin:Bae,lights_fragment_maps:Fae,lights_fragment_end:jae,logdepthbuf_fragment:zae,logdepthbuf_pars_fragment:Hae,logdepthbuf_pars_vertex:Vae,logdepthbuf_vertex:Gae,map_fragment:$ae,map_pars_fragment:Wae,map_particle_fragment:qae,map_particle_pars_fragment:Xae,metalnessmap_fragment:Yae,metalnessmap_pars_fragment:Kae,morphinstance_vertex:Zae,morphcolor_vertex:Jae,morphnormal_vertex:Qae,morphtarget_pars_vertex:eoe,morphtarget_vertex:toe,normal_fragment_begin:noe,normal_fragment_maps:roe,normal_pars_fragment:ioe,normal_pars_vertex:aoe,normal_vertex:ooe,normalmap_pars_fragment:soe,clearcoat_normal_fragment_begin:loe,clearcoat_normal_fragment_maps:coe,clearcoat_pars_fragment:uoe,iridescence_pars_fragment:foe,opaque_fragment:doe,packing:hoe,premultiplied_alpha_fragment:poe,project_vertex:moe,dithering_fragment:goe,dithering_pars_fragment:voe,roughnessmap_fragment:yoe,roughnessmap_pars_fragment:boe,shadowmap_pars_fragment:xoe,shadowmap_pars_vertex:_oe,shadowmap_vertex:Soe,shadowmask_pars_fragment:woe,skinbase_vertex:Moe,skinning_pars_vertex:Eoe,skinning_vertex:Aoe,skinnormal_vertex:Toe,specularmap_fragment:Coe,specularmap_pars_fragment:Roe,tonemapping_fragment:Ooe,tonemapping_pars_fragment:Poe,transmission_fragment:Doe,transmission_pars_fragment:Ioe,uv_pars_fragment:Noe,uv_pars_vertex:koe,uv_vertex:Loe,worldpos_vertex:Uoe,background_vert:Boe,background_frag:Foe,backgroundCube_vert:joe,backgroundCube_frag:zoe,cube_vert:Hoe,cube_frag:Voe,depth_vert:Goe,depth_frag:$oe,distance_vert:Woe,distance_frag:qoe,equirect_vert:Xoe,equirect_frag:Yoe,linedashed_vert:Koe,linedashed_frag:Zoe,meshbasic_vert:Joe,meshbasic_frag:Qoe,meshlambert_vert:ese,meshlambert_frag:tse,meshmatcap_vert:nse,meshmatcap_frag:rse,meshnormal_vert:ise,meshnormal_frag:ase,meshphong_vert:ose,meshphong_frag:sse,meshphysical_vert:lse,meshphysical_frag:cse,meshtoon_vert:use,meshtoon_frag:fse,points_vert:dse,points_frag:hse,shadow_vert:pse,shadow_frag:mse,sprite_vert:gse,sprite_frag:vse},Gt={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dn}},envmap:{envMap:{value:null},envMapRotation:{value:new Dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dn},normalScale:{value:new mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0},uvTransform:{value:new Dn}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}}},yc={basic:{uniforms:Vo([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.fog]),vertexShader:Fn.meshbasic_vert,fragmentShader:Fn.meshbasic_frag},lambert:{uniforms:Vo([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new Vt(0)},envMapIntensity:{value:1}}]),vertexShader:Fn.meshlambert_vert,fragmentShader:Fn.meshlambert_frag},phong:{uniforms:Vo([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:Fn.meshphong_vert,fragmentShader:Fn.meshphong_frag},standard:{uniforms:Vo([Gt.common,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.roughnessmap,Gt.metalnessmap,Gt.fog,Gt.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fn.meshphysical_vert,fragmentShader:Fn.meshphysical_frag},toon:{uniforms:Vo([Gt.common,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.gradientmap,Gt.fog,Gt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Fn.meshtoon_vert,fragmentShader:Fn.meshtoon_frag},matcap:{uniforms:Vo([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,{matcap:{value:null}}]),vertexShader:Fn.meshmatcap_vert,fragmentShader:Fn.meshmatcap_frag},points:{uniforms:Vo([Gt.points,Gt.fog]),vertexShader:Fn.points_vert,fragmentShader:Fn.points_frag},dashed:{uniforms:Vo([Gt.common,Gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fn.linedashed_vert,fragmentShader:Fn.linedashed_frag},depth:{uniforms:Vo([Gt.common,Gt.displacementmap]),vertexShader:Fn.depth_vert,fragmentShader:Fn.depth_frag},normal:{uniforms:Vo([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,{opacity:{value:1}}]),vertexShader:Fn.meshnormal_vert,fragmentShader:Fn.meshnormal_frag},sprite:{uniforms:Vo([Gt.sprite,Gt.fog]),vertexShader:Fn.sprite_vert,fragmentShader:Fn.sprite_frag},background:{uniforms:{uvTransform:{value:new Dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fn.background_vert,fragmentShader:Fn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dn}},vertexShader:Fn.backgroundCube_vert,fragmentShader:Fn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fn.cube_vert,fragmentShader:Fn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fn.equirect_vert,fragmentShader:Fn.equirect_frag},distance:{uniforms:Vo([Gt.common,Gt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fn.distance_vert,fragmentShader:Fn.distance_frag},shadow:{uniforms:Vo([Gt.lights,Gt.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:Fn.shadow_vert,fragmentShader:Fn.shadow_frag}};yc.physical={uniforms:Vo([yc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dn},clearcoatNormalScale:{value:new mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dn},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dn},transmissionSamplerSize:{value:new mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dn},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dn},anisotropyVector:{value:new mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dn}}]),vertexShader:Fn.meshphysical_vert,fragmentShader:Fn.meshphysical_frag};const Ew={r:0,b:0,g:0},gp=new Ys,yse=new wn;function bse(t,e,n,r,i,a){const o=new Vt(0);let s=i===!0?0:1,l,u,d=null,h=0,g=null;function y(E){let A=E.isScene===!0?E.background:null;if(A&&A.isTexture){const C=E.backgroundBlurriness>0;A=e.get(A,C)}return A}function b(E){let A=!1;const C=y(E);C===null?x(o,s):C&&C.isColor&&(x(C,1),A=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?n.buffers.color.setClear(0,0,0,1,a):T==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(t.autoClear||A)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(E,A){const C=y(A);C&&(C.isCubeTexture||C.mapping===by)?(u===void 0&&(u=new li(new ph(1,1,1),new ro({name:"BackgroundCubeMaterial",uniforms:Vv(yc.backgroundCube.uniforms),vertexShader:yc.backgroundCube.vertexShader,fragmentShader:yc.backgroundCube.fragmentShader,side:Eo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,O,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),gp.copy(A.backgroundRotation),gp.x*=-1,gp.y*=-1,gp.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(gp.y*=-1,gp.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(yse.makeRotationFromEuler(gp)),u.material.toneMapped=cr.getTransfer(C.colorSpace)!==Nr,(d!==C||h!==C.version||g!==t.toneMapping)&&(u.material.needsUpdate=!0,d=C,h=C.version,g=t.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(l===void 0&&(l=new li(new Cc(2,2),new ro({name:"BackgroundMaterial",uniforms:Vv(yc.background.uniforms),vertexShader:yc.background.vertexShader,fragmentShader:yc.background.fragmentShader,side:Lf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=C,l.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,l.material.toneMapped=cr.getTransfer(C.colorSpace)!==Nr,C.matrixAutoUpdate===!0&&C.updateMatrix(),l.material.uniforms.uvTransform.value.copy(C.matrix),(d!==C||h!==C.version||g!==t.toneMapping)&&(l.material.needsUpdate=!0,d=C,h=C.version,g=t.toneMapping),l.layers.enableAll(),E.unshift(l,l.geometry,l.material,0,0,null))}function x(E,A){E.getRGB(Ew,$9(t)),n.buffers.color.setClear(Ew.r,Ew.g,Ew.b,A,a)}function w(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return o},setClearColor:function(E,A=1){o.set(E),s=A,x(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(E){s=E,x(o,s)},render:b,addToRenderList:_,dispose:w}}function xse(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=g(null);let a=i,o=!1;function s(F,G,V,W,K){let H=!1;const q=h(F,W,V,G);a!==q&&(a=q,u(a.object)),H=y(F,W,V,K),H&&b(F,W,V,K),K!==null&&e.update(K,t.ELEMENT_ARRAY_BUFFER),(H||o)&&(o=!1,C(F,G,V,W),K!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return t.createVertexArray()}function u(F){return t.bindVertexArray(F)}function d(F){return t.deleteVertexArray(F)}function h(F,G,V,W){const K=W.wireframe===!0;let H=r[G.id];H===void 0&&(H={},r[G.id]=H);const q=F.isInstancedMesh===!0?F.id:0;let Z=H[q];Z===void 0&&(Z={},H[q]=Z);let ee=Z[V.id];ee===void 0&&(ee={},Z[V.id]=ee);let ae=ee[K];return ae===void 0&&(ae=g(l()),ee[K]=ae),ae}function g(F){const G=[],V=[],W=[];for(let K=0;K<n;K++)G[K]=0,V[K]=0,W[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:V,attributeDivisors:W,object:F,attributes:{},index:null}}function y(F,G,V,W){const K=a.attributes,H=G.attributes;let q=0;const Z=V.getAttributes();for(const ee in Z)if(Z[ee].location>=0){const $=K[ee];let J=H[ee];if(J===void 0&&(ee==="instanceMatrix"&&F.instanceMatrix&&(J=F.instanceMatrix),ee==="instanceColor"&&F.instanceColor&&(J=F.instanceColor)),$===void 0||$.attribute!==J||J&&$.data!==J.data)return!0;q++}return a.attributesNum!==q||a.index!==W}function b(F,G,V,W){const K={},H=G.attributes;let q=0;const Z=V.getAttributes();for(const ee in Z)if(Z[ee].location>=0){let $=H[ee];$===void 0&&(ee==="instanceMatrix"&&F.instanceMatrix&&($=F.instanceMatrix),ee==="instanceColor"&&F.instanceColor&&($=F.instanceColor));const J={};J.attribute=$,$&&$.data&&(J.data=$.data),K[ee]=J,q++}a.attributes=K,a.attributesNum=q,a.index=W}function _(){const F=a.newAttributes;for(let G=0,V=F.length;G<V;G++)F[G]=0}function x(F){w(F,0)}function w(F,G){const V=a.newAttributes,W=a.enabledAttributes,K=a.attributeDivisors;V[F]=1,W[F]===0&&(t.enableVertexAttribArray(F),W[F]=1),K[F]!==G&&(t.vertexAttribDivisor(F,G),K[F]=G)}function E(){const F=a.newAttributes,G=a.enabledAttributes;for(let V=0,W=G.length;V<W;V++)G[V]!==F[V]&&(t.disableVertexAttribArray(V),G[V]=0)}function A(F,G,V,W,K,H,q){q===!0?t.vertexAttribIPointer(F,G,V,K,H):t.vertexAttribPointer(F,G,V,W,K,H)}function C(F,G,V,W){_();const K=W.attributes,H=V.getAttributes(),q=G.defaultAttributeValues;for(const Z in H){const ee=H[Z];if(ee.location>=0){let ae=K[Z];if(ae===void 0&&(Z==="instanceMatrix"&&F.instanceMatrix&&(ae=F.instanceMatrix),Z==="instanceColor"&&F.instanceColor&&(ae=F.instanceColor)),ae!==void 0){const $=ae.normalized,J=ae.itemSize,ne=e.get(ae);if(ne===void 0)continue;const fe=ne.buffer,ge=ne.type,ce=ne.bytesPerElement,le=ge===t.INT||ge===t.UNSIGNED_INT||ae.gpuType===R_;if(ae.isInterleavedBufferAttribute){const pe=ae.data,xe=pe.stride,Oe=ae.offset;if(pe.isInstancedInterleavedBuffer){for(let _e=0;_e<ee.locationSize;_e++)w(ee.location+_e,pe.meshPerAttribute);F.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let _e=0;_e<ee.locationSize;_e++)x(ee.location+_e);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let _e=0;_e<ee.locationSize;_e++)A(ee.location+_e,J/ee.locationSize,ge,$,xe*ce,(Oe+J/ee.locationSize*_e)*ce,le)}else{if(ae.isInstancedBufferAttribute){for(let pe=0;pe<ee.locationSize;pe++)w(ee.location+pe,ae.meshPerAttribute);F.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let pe=0;pe<ee.locationSize;pe++)x(ee.location+pe);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let pe=0;pe<ee.locationSize;pe++)A(ee.location+pe,J/ee.locationSize,ge,$,J*ce,J/ee.locationSize*pe*ce,le)}}else if(q!==void 0){const $=q[Z];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(ee.location,$);break;case 3:t.vertexAttrib3fv(ee.location,$);break;case 4:t.vertexAttrib4fv(ee.location,$);break;default:t.vertexAttrib1fv(ee.location,$)}}}}E()}function T(){k();for(const F in r){const G=r[F];for(const V in G){const W=G[V];for(const K in W){const H=W[K];for(const q in H)d(H[q].object),delete H[q];delete W[K]}}delete r[F]}}function O(F){if(r[F.id]===void 0)return;const G=r[F.id];for(const V in G){const W=G[V];for(const K in W){const H=W[K];for(const q in H)d(H[q].object),delete H[q];delete W[K]}}delete r[F.id]}function N(F){for(const G in r){const V=r[G];for(const W in V){const K=V[W];if(K[F.id]===void 0)continue;const H=K[F.id];for(const q in H)d(H[q].object),delete H[q];delete K[F.id]}}}function R(F){for(const G in r){const V=r[G],W=F.isInstancedMesh===!0?F.id:0,K=V[W];if(K!==void 0){for(const H in K){const q=K[H];for(const Z in q)d(q[Z].object),delete q[Z];delete K[H]}delete V[W],Object.keys(V).length===0&&delete r[G]}}}function k(){z(),o=!0,a!==i&&(a=i,u(a.object))}function z(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:k,resetDefaultState:z,dispose:T,releaseStatesOfGeometry:O,releaseStatesOfObject:R,releaseStatesOfProgram:N,initAttributes:_,enableAttribute:x,disableUnusedAttributes:E}}function _se(t,e,n){let r;function i(u){r=u}function a(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function o(u,d,h){h!==0&&(t.drawArraysInstanced(r,u,d,h),n.update(d,r,h))}function s(u,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,h);let y=0;for(let b=0;b<h;b++)y+=d[b];n.update(y,r,1)}function l(u,d,h,g){if(h===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<u.length;b++)o(u[b],d[b],g[b]);else{y.multiDrawArraysInstancedWEBGL(r,u,0,d,0,g,0,h);let b=0;for(let _=0;_<h;_++)b+=d[_]*g[_];n.update(b,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function Sse(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(N){return!(N!==ta&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(N){const R=N===Wi&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==La&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==Mi&&!R)}function l(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=l(u);d!==u&&(Ht("WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=n.logarithmicDepthBuffer===!0,g=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),E=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),A=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=t.getParameter(t.MAX_SAMPLES),O=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:h,reversedDepthBuffer:g,maxTextures:y,maxVertexTextures:b,maxTextureSize:_,maxCubemapSize:x,maxAttributes:w,maxVertexUniforms:E,maxVaryings:A,maxFragmentUniforms:C,maxSamples:T,samples:O}}function wse(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new gu,s=new Dn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,g){const y=h.length!==0||g||r!==0||i;return i=g,r=h.length,y},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(h,g){n=d(h,g,0)},this.setState=function(h,g,y){const b=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,w=t.get(h);if(!i||b===null||b.length===0||a&&!x)a?d(null):u();else{const E=a?0:r,A=E*4;let C=w.clippingState||null;l.value=C,C=d(b,g,A,y);for(let T=0;T!==A;++T)C[T]=n[T];w.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=E}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,g,y,b){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,b!==!0||x===null){const w=y+_*4,E=g.matrixWorldInverse;s.getNormalMatrix(E),(x===null||x.length<w)&&(x=new Float32Array(w));for(let A=0,C=y;A!==_;++A,C+=4)o.copy(h[A]).applyMatrix4(E,s),o.normal.toArray(x,C),x[C+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}const eh=4,aF=[.125,.215,.35,.446,.526,.582],Pp=20,Mse=256,bb=new kl,oF=new Vt;let nO=null,rO=0,iO=0,aO=!1;const Ese=new de;class fN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,a={}){const{size:o=256,position:s=Ese}=a;nO=this._renderer.getRenderTarget(),rO=this._renderer.getActiveCubeFace(),iO=this._renderer.getActiveMipmapLevel(),aO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=cF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(nO,rO,iO),this._renderer.xr.enabled=aO,e.scissorTest=!1,Xg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===wc||e.mapping===oh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),nO=this._renderer.getRenderTarget(),rO=this._renderer.getActiveCubeFace(),iO=this._renderer.getActiveMipmapLevel(),aO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:or,minFilter:or,generateMipmaps:!1,type:Wi,format:ta,colorSpace:Mc,depthBuffer:!1},i=sF(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sF(e,n,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Ase(a)),this._blurMaterial=Cse(a,e,n),this._ggxMaterial=Tse(a,e,n)}return i}_compileMaterial(e){const n=new li(new In,e);this._renderer.compile(n,bb)}_sceneToCubeUV(e,n,r,i,a){const l=new Ni(90,1,n,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,g=h.autoClear,y=h.toneMapping;h.getClearColor(oF),h.toneMapping=Il,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(i),h.clearDepth(),h.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new li(new ph,new Du({name:"PMREM.Background",side:Eo,depthWrite:!1,depthTest:!1})));const _=this._backgroundBox,x=_.material;let w=!1;const E=e.background;E?E.isColor&&(x.color.copy(E),e.background=null,w=!0):(x.color.copy(oF),w=!0);for(let A=0;A<6;A++){const C=A%3;C===0?(l.up.set(0,u[A],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+d[A],a.y,a.z)):C===1?(l.up.set(0,0,u[A]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+d[A],a.z)):(l.up.set(0,u[A],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+d[A]));const T=this._cubeSize;Xg(i,C*T,A>2?T:0,T,T),h.setRenderTarget(i),w&&h.render(_,l),h.render(e,l)}h.toneMapping=y,h.autoClear=g,e.background=E}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===wc||e.mapping===oh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=cF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lF());const a=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;Xg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,bb)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[r];s.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),h=Math.sqrt(u*u-d*d),g=0+u*1.25,y=h*g,{_lodMax:b}=this,_=this._sizeLods[r],x=3*_*(r>b-eh?r-b+eh:0),w=4*(this._cubeSize-_);l.envMap.value=e.texture,l.roughness.value=y,l.mipInt.value=b-n,Xg(a,x,w,3*_,2*_),i.setRenderTarget(a),i.render(s,bb),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=b-r,Xg(e,x,w,3*_,2*_),i.setRenderTarget(e),i.render(s,bb)}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&ln("blur direction must be either latitudinal or longitudinal!");const d=3,h=this._lodMeshes[i];h.material=u;const g=u.uniforms,y=this._sizeLods[r]-1,b=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*Pp-1),_=a/b,x=isFinite(a)?1+Math.floor(d*_):Pp;x>Pp&&Ht(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Pp}`);const w=[];let E=0;for(let N=0;N<Pp;++N){const R=N/_,k=Math.exp(-R*R/2);w.push(k),N===0?E+=k:N<x&&(E+=2*k)}for(let N=0;N<w.length;N++)w[N]=w[N]/E;g.envMap.value=e.texture,g.samples.value=x,g.weights.value=w,g.latitudinal.value=o==="latitudinal",s&&(g.poleAxis.value=s);const{_lodMax:A}=this;g.dTheta.value=b,g.mipInt.value=A-r;const C=this._sizeLods[i],T=3*C*(i>A-eh?i-A+eh:0),O=4*(this._cubeSize-C);Xg(n,T,O,3*C,2*C),l.setRenderTarget(n),l.render(h,bb)}}function Ase(t){const e=[],n=[],r=[];let i=t;const a=t-eh+1+aF.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);e.push(s);let l=1/s;o>t-eh?l=aF[o-t+eh-1]:o===0&&(l=0),n.push(l);const u=1/(s-2),d=-u,h=1+u,g=[d,d,h,d,h,h,d,d,h,h,d,h],y=6,b=6,_=3,x=2,w=1,E=new Float32Array(_*b*y),A=new Float32Array(x*b*y),C=new Float32Array(w*b*y);for(let O=0;O<y;O++){const N=O%3*2/3-1,R=O>2?0:-1,k=[N,R,0,N+2/3,R,0,N+2/3,R+1,0,N,R,0,N+2/3,R+1,0,N,R+1,0];E.set(k,_*b*O),A.set(g,x*b*O);const z=[O,O,O,O,O,O];C.set(z,w*b*O)}const T=new In;T.setAttribute("position",new Wr(E,_)),T.setAttribute("uv",new Wr(A,x)),T.setAttribute("faceIndex",new Wr(C,w)),r.push(new li(T,null)),i>eh&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function sF(t,e,n){const r=new Yo(t,e,n);return r.texture.mapping=by,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Xg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Tse(t,e,n){return new ro({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Mse,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:yT(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function Cse(t,e,n){const r=new Float32Array(Pp),i=new de(0,1,0);return new ro({name:"SphericalGaussianBlur",defines:{n:Pp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:yT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function lF(){return new ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:yT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function cF(){return new ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:yT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function yT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}class bT extends Yo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new I_(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ph(5,5,5),a=new ro({name:"CubemapFromEquirect",uniforms:Vv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Eo,blending:_c});a.uniforms.tEquirect.value=n;const o=new li(i,a),s=n.minFilter;return n.minFilter===bu&&(n.minFilter=or),new h$(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}function Rse(t){let e=new WeakMap,n=new WeakMap,r=null;function i(g,y=!1){return g==null?null:y?o(g):a(g)}function a(g){if(g&&g.isTexture){const y=g.mapping;if(y===Tv||y===Yb)if(e.has(g)){const b=e.get(g).texture;return s(b,g.mapping)}else{const b=g.image;if(b&&b.height>0){const _=new bT(b.height);return _.fromEquirectangularTexture(t,g),e.set(g,_),g.addEventListener("dispose",u),s(_.texture,g.mapping)}else return null}}return g}function o(g){if(g&&g.isTexture){const y=g.mapping,b=y===Tv||y===Yb,_=y===wc||y===oh;if(b||_){let x=n.get(g);const w=x!==void 0?x.texture.pmremVersion:0;if(g.isRenderTargetTexture&&g.pmremVersion!==w)return r===null&&(r=new fN(t)),x=b?r.fromEquirectangular(g,x):r.fromCubemap(g,x),x.texture.pmremVersion=g.pmremVersion,n.set(g,x),x.texture;if(x!==void 0)return x.texture;{const E=g.image;return b&&E&&E.height>0||_&&E&&l(E)?(r===null&&(r=new fN(t)),x=b?r.fromEquirectangular(g):r.fromCubemap(g),x.texture.pmremVersion=g.pmremVersion,n.set(g,x),g.addEventListener("dispose",d),x.texture):null}}}return g}function s(g,y){return y===Tv?g.mapping=wc:y===Yb&&(g.mapping=oh),g}function l(g){let y=0;const b=6;for(let _=0;_<b;_++)g[_]!==void 0&&y++;return y===b}function u(g){const y=g.target;y.removeEventListener("dispose",u);const b=e.get(y);b!==void 0&&(e.delete(y),b.dispose())}function d(g){const y=g.target;y.removeEventListener("dispose",d);const b=n.get(y);b!==void 0&&(n.delete(y),b.dispose())}function h(){e=new WeakMap,n=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:h}}function Ose(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Ex("WebGLRenderer: "+r+" extension not supported."),i}}}function Pse(t,e,n,r){const i={},a=new WeakMap;function o(h){const g=h.target;g.index!==null&&e.remove(g.index);for(const b in g.attributes)e.remove(g.attributes[b]);g.removeEventListener("dispose",o),delete i[g.id];const y=a.get(g);y&&(e.remove(y),a.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function s(h,g){return i[g.id]===!0||(g.addEventListener("dispose",o),i[g.id]=!0,n.memory.geometries++),g}function l(h){const g=h.attributes;for(const y in g)e.update(g[y],t.ARRAY_BUFFER)}function u(h){const g=[],y=h.index,b=h.attributes.position;let _=0;if(b===void 0)return;if(y!==null){const E=y.array;_=y.version;for(let A=0,C=E.length;A<C;A+=3){const T=E[A+0],O=E[A+1],N=E[A+2];g.push(T,O,O,N,N,T)}}else{const E=b.array;_=b.version;for(let A=0,C=E.length/3-1;A<C;A+=3){const T=A+0,O=A+1,N=A+2;g.push(T,O,O,N,N,T)}}const x=new(b.count>=65535?BL:UL)(g,1);x.version=_;const w=a.get(h);w&&e.remove(w),a.set(h,x)}function d(h){const g=a.get(h);if(g){const y=h.index;y!==null&&g.version<y.version&&u(h)}else u(h);return a.get(h)}return{get:s,update:l,getWireframeAttribute:d}}function Dse(t,e,n){let r;function i(g){r=g}let a,o;function s(g){a=g.type,o=g.bytesPerElement}function l(g,y){t.drawElements(r,y,a,g*o),n.update(y,r,1)}function u(g,y,b){b!==0&&(t.drawElementsInstanced(r,y,a,g*o,b),n.update(y,r,b))}function d(g,y,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,y,0,a,g,0,b);let x=0;for(let w=0;w<b;w++)x+=y[w];n.update(x,r,1)}function h(g,y,b,_){if(b===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let w=0;w<g.length;w++)u(g[w]/o,y[w],_[w]);else{x.multiDrawElementsInstancedWEBGL(r,y,0,a,g,0,_,0,b);let w=0;for(let E=0;E<b;E++)w+=y[E]*_[E];n.update(w,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function Ise(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:ln("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Nse(t,e,n){const r=new WeakMap,i=new Ur;function a(o,s,l){const u=o.morphTargetInfluences,d=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,h=d!==void 0?d.length:0;let g=r.get(s);if(g===void 0||g.count!==h){let z=function(){R.dispose(),r.delete(s),s.removeEventListener("dispose",z)};var y=z;g!==void 0&&g.texture.dispose();const b=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,x=s.morphAttributes.color!==void 0,w=s.morphAttributes.position||[],E=s.morphAttributes.normal||[],A=s.morphAttributes.color||[];let C=0;b===!0&&(C=1),_===!0&&(C=2),x===!0&&(C=3);let T=s.attributes.position.count*C,O=1;T>e.maxTextureSize&&(O=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const N=new Float32Array(T*O*4*h),R=new GA(N,T,O,h);R.type=Mi,R.needsUpdate=!0;const k=C*4;for(let F=0;F<h;F++){const G=w[F],V=E[F],W=A[F],K=T*O*4*F;for(let H=0;H<G.count;H++){const q=H*k;b===!0&&(i.fromBufferAttribute(G,H),N[K+q+0]=i.x,N[K+q+1]=i.y,N[K+q+2]=i.z,N[K+q+3]=0),_===!0&&(i.fromBufferAttribute(V,H),N[K+q+4]=i.x,N[K+q+5]=i.y,N[K+q+6]=i.z,N[K+q+7]=0),x===!0&&(i.fromBufferAttribute(W,H),N[K+q+8]=i.x,N[K+q+9]=i.y,N[K+q+10]=i.z,N[K+q+11]=W.itemSize===4?i.w:1)}}g={count:h,texture:R,size:new mt(T,O)},r.set(s,g),s.addEventListener("dispose",z)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let b=0;for(let x=0;x<u.length;x++)b+=u[x];const _=s.morphTargetsRelative?1:1-b;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}return{update:a}}function kse(t,e,n,r,i){let a=new WeakMap;function o(u){const d=i.render.frame,h=u.geometry,g=e.get(u,h);if(a.get(g)!==d&&(e.update(g),a.set(g,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),a.get(u)!==d&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),a.set(u,d))),u.isSkinnedMesh){const y=u.skeleton;a.get(y)!==d&&(y.update(),a.set(y,d))}return g}function s(){a=new WeakMap}function l(u){const d=u.target;d.removeEventListener("dispose",l),r.releaseStatesOfObject(d),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:o,dispose:s}}const Lse={[wL]:"LINEAR_TONE_MAPPING",[ML]:"REINHARD_TONE_MAPPING",[EL]:"CINEON_TONE_MAPPING",[NA]:"ACES_FILMIC_TONE_MAPPING",[TL]:"AGX_TONE_MAPPING",[CL]:"NEUTRAL_TONE_MAPPING",[AL]:"CUSTOM_TONE_MAPPING"};function Use(t,e,n,r,i){const a=new Yo(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),o=new Yo(e,n,{type:Wi,depthBuffer:!1,stencilBuffer:!1}),s=new In;s.setAttribute("position",new Yt([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new Yt([0,2,0,0,2,0],2));const l=new YL({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new li(s,l),d=new kl(-1,1,1,-1,0,1);let h=null,g=null,y=!1,b,_=null,x=[],w=!1;this.setSize=function(E,A){a.setSize(E,A),o.setSize(E,A);for(let C=0;C<x.length;C++){const T=x[C];T.setSize&&T.setSize(E,A)}},this.setEffects=function(E){x=E,w=x.length>0&&x[0].isRenderPass===!0;const A=a.width,C=a.height;for(let T=0;T<x.length;T++){const O=x[T];O.setSize&&O.setSize(A,C)}},this.begin=function(E,A){if(y||E.toneMapping===Il&&x.length===0)return!1;if(_=A,A!==null){const C=A.width,T=A.height;(a.width!==C||a.height!==T)&&this.setSize(C,T)}return w===!1&&E.setRenderTarget(a),b=E.toneMapping,E.toneMapping=Il,!0},this.hasRenderPass=function(){return w},this.end=function(E,A){E.toneMapping=b,y=!0;let C=a,T=o;for(let O=0;O<x.length;O++){const N=x[O];if(N.enabled!==!1&&(N.render(E,T,C,A),N.needsSwap!==!1)){const R=C;C=T,T=R}}if(h!==E.outputColorSpace||g!==E.toneMapping){h=E.outputColorSpace,g=E.toneMapping,l.defines={},cr.getTransfer(h)===Nr&&(l.defines.SRGB_TRANSFER="");const O=Lse[g];O&&(l.defines[O]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=C.texture,E.setRenderTarget(_),E.render(u,d),_=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const S$=new Fr,dN=new zv(1,1),w$=new GA,M$=new $A,E$=new I_,uF=[],fF=[],dF=new Float32Array(16),hF=new Float32Array(9),pF=new Float32Array(4);function Sy(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=uF[i];if(a===void 0&&(a=new Float32Array(i),uF[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function wa(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ma(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function xT(t,e){let n=fF[e];n===void 0&&(n=new Int32Array(e),fF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Bse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Fse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wa(n,e))return;t.uniform2fv(this.addr,e),Ma(n,e)}}function jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(wa(n,e))return;t.uniform3fv(this.addr,e),Ma(n,e)}}function zse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wa(n,e))return;t.uniform4fv(this.addr,e),Ma(n,e)}}function Hse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wa(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ma(n,e)}else{if(wa(n,r))return;pF.set(r),t.uniformMatrix2fv(this.addr,!1,pF),Ma(n,r)}}function Vse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wa(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ma(n,e)}else{if(wa(n,r))return;hF.set(r),t.uniformMatrix3fv(this.addr,!1,hF),Ma(n,r)}}function Gse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(wa(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ma(n,e)}else{if(wa(n,r))return;dF.set(r),t.uniformMatrix4fv(this.addr,!1,dF),Ma(n,r)}}function $se(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wa(n,e))return;t.uniform2iv(this.addr,e),Ma(n,e)}}function qse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wa(n,e))return;t.uniform3iv(this.addr,e),Ma(n,e)}}function Xse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wa(n,e))return;t.uniform4iv(this.addr,e),Ma(n,e)}}function Yse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(wa(n,e))return;t.uniform2uiv(this.addr,e),Ma(n,e)}}function Zse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(wa(n,e))return;t.uniform3uiv(this.addr,e),Ma(n,e)}}function Jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(wa(n,e))return;t.uniform4uiv(this.addr,e),Ma(n,e)}}function Qse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(dN.compareFunction=n.isReversedDepthBuffer()?VA:HA,a=dN):a=S$,n.setTexture2D(e||a,i)}function ele(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||M$,i)}function tle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||E$,i)}function nle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||w$,i)}function rle(t){switch(t){case 5126:return Bse;case 35664:return Fse;case 35665:return jse;case 35666:return zse;case 35674:return Hse;case 35675:return Vse;case 35676:return Gse;case 5124:case 35670:return $se;case 35667:case 35671:return Wse;case 35668:case 35672:return qse;case 35669:case 35673:return Xse;case 5125:return Yse;case 36294:return Kse;case 36295:return Zse;case 36296:return Jse;case 35678:case 36198:case 36298:case 36306:case 35682:return Qse;case 35679:case 36299:case 36307:return ele;case 35680:case 36300:case 36308:case 36293:return tle;case 36289:case 36303:case 36311:case 36292:return nle}}function ile(t,e){t.uniform1fv(this.addr,e)}function ale(t,e){const n=Sy(e,this.size,2);t.uniform2fv(this.addr,n)}function ole(t,e){const n=Sy(e,this.size,3);t.uniform3fv(this.addr,n)}function sle(t,e){const n=Sy(e,this.size,4);t.uniform4fv(this.addr,n)}function lle(t,e){const n=Sy(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function cle(t,e){const n=Sy(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ule(t,e){const n=Sy(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function fle(t,e){t.uniform1iv(this.addr,e)}function dle(t,e){t.uniform2iv(this.addr,e)}function hle(t,e){t.uniform3iv(this.addr,e)}function ple(t,e){t.uniform4iv(this.addr,e)}function mle(t,e){t.uniform1uiv(this.addr,e)}function gle(t,e){t.uniform2uiv(this.addr,e)}function vle(t,e){t.uniform3uiv(this.addr,e)}function yle(t,e){t.uniform4uiv(this.addr,e)}function ble(t,e,n){const r=this.cache,i=e.length,a=xT(n,i);wa(r,a)||(t.uniform1iv(this.addr,a),Ma(r,a));let o;this.type===t.SAMPLER_2D_SHADOW?o=dN:o=S$;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||o,a[s])}function xle(t,e,n){const r=this.cache,i=e.length,a=xT(n,i);wa(r,a)||(t.uniform1iv(this.addr,a),Ma(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||M$,a[o])}function _le(t,e,n){const r=this.cache,i=e.length,a=xT(n,i);wa(r,a)||(t.uniform1iv(this.addr,a),Ma(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||E$,a[o])}function Sle(t,e,n){const r=this.cache,i=e.length,a=xT(n,i);wa(r,a)||(t.uniform1iv(this.addr,a),Ma(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||w$,a[o])}function wle(t){switch(t){case 5126:return ile;case 35664:return ale;case 35665:return ole;case 35666:return sle;case 35674:return lle;case 35675:return cle;case 35676:return ule;case 5124:case 35670:return fle;case 35667:case 35671:return dle;case 35668:case 35672:return hle;case 35669:case 35673:return ple;case 5125:return mle;case 36294:return gle;case 36295:return vle;case 36296:return yle;case 35678:case 36198:case 36298:case 36306:case 35682:return ble;case 35679:case 36299:case 36307:return xle;case 35680:case 36300:case 36308:case 36293:return _le;case 36289:case 36303:case 36311:case 36292:return Sle}}class Mle{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=rle(n.type)}}class Ele{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=wle(n.type)}}class Ale{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const oO=/(\w+)(\])?(\[|\.)?/g;function mF(t,e){t.seq.push(e),t.map[e.id]=e}function Tle(t,e,n){const r=t.name,i=r.length;for(oO.lastIndex=0;;){const a=oO.exec(r),o=oO.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){mF(n,u===void 0?new Mle(s,t,e):new Ele(s,t,e));break}else{let h=n.map[s];h===void 0&&(h=new Ale(s),mF(n,h)),n=h}}}class mM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(n,o),l=e.getUniformLocation(n,s.name);Tle(s,l,this)}const i=[],a=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(o):a.push(o);i.length>0&&(this.seq=i.concat(a))}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function gF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Cle=37297;let Rle=0;function Ole(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}const vF=new Dn;function Ple(t){cr._getMatrix(vF,cr.workingColorSpace,t);const e=`mat3( ${vF.elements.map(n=>n.toFixed(4))} )`;switch(cr.getTransfer(t)){case _x:return[e,"LinearTransferOETF"];case Nr:return[e,"sRGBTransferOETF"];default:return Ht("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function yF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+Ole(t.getShaderSource(e),s)}else return a}function Dle(t,e){const n=Ple(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Ile={[wL]:"Linear",[ML]:"Reinhard",[EL]:"Cineon",[NA]:"ACESFilmic",[TL]:"AgX",[CL]:"Neutral",[AL]:"Custom"};function Nle(t,e){const n=Ile[e];return n===void 0?(Ht("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Aw=new de;function kle(){cr.getLuminanceCoefficients(Aw);const t=Aw.x.toFixed(4),e=Aw.y.toFixed(4),n=Aw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Lle(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fb).join(`
`)}function Ule(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Ble(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function Fb(t){return t!==""}function bF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fle=/^[ \t]*#include +<([\w\d./]+)>/gm;function hN(t){return t.replace(Fle,zle)}const jle=new Map;function zle(t,e){let n=Fn[e];if(n===void 0){const r=jle.get(e);if(r!==void 0)n=Fn[r],Ht('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return hN(n)}const Hle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _F(t){return t.replace(Hle,Vle)}function Vle(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function SF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Gle={[Av]:"SHADOWMAP_TYPE_PCF",[kp]:"SHADOWMAP_TYPE_VSM"};function $le(t){return Gle[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Wle={[wc]:"ENVMAP_TYPE_CUBE",[oh]:"ENVMAP_TYPE_CUBE",[by]:"ENVMAP_TYPE_CUBE_UV"};function qle(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Wle[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const Xle={[oh]:"ENVMAP_MODE_REFRACTION"};function Yle(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":Xle[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Kle={[C_]:"ENVMAP_BLENDING_MULTIPLY",[n9]:"ENVMAP_BLENDING_MIX",[r9]:"ENVMAP_BLENDING_ADD"};function Zle(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Kle[t.combine]||"ENVMAP_BLENDING_NONE"}function Jle(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function Qle(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=$le(n),u=qle(n),d=Yle(n),h=Zle(n),g=Jle(n),y=Lle(n),b=Ule(a),_=i.createProgram();let x,w,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Fb).join(`
`),x.length>0&&(x+=`
`),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Fb).join(`
`),w.length>0&&(w+=`
`)):(x=[SF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fb).join(`
`),w=[SF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas||n.batchingColor?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Il?"#define TONE_MAPPING":"",n.toneMapping!==Il?Fn.tonemapping_pars_fragment:"",n.toneMapping!==Il?Nle("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Fn.colorspace_pars_fragment,Dle("linearToOutputTexel",n.outputColorSpace),kle(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Fb).join(`
`)),o=hN(o),o=bF(o,n),o=xF(o,n),s=hN(s),s=bF(s,n),s=xF(s,n),o=_F(o),s=_F(s),n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,x=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",n.glslVersion===rN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===rN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=E+x+o,C=E+w+s,T=gF(i,i.VERTEX_SHADER,A),O=gF(i,i.FRAGMENT_SHADER,C);i.attachShader(_,T),i.attachShader(_,O),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function N(F){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(_)||"",V=i.getShaderInfoLog(T)||"",W=i.getShaderInfoLog(O)||"",K=G.trim(),H=V.trim(),q=W.trim();let Z=!0,ee=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(Z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,T,O);else{const ae=yF(i,T,"vertex"),$=yF(i,O,"fragment");ln("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+K+`
`+ae+`
`+$)}else K!==""?Ht("WebGLProgram: Program Info Log:",K):(H===""||q==="")&&(ee=!1);ee&&(F.diagnostics={runnable:Z,programLog:K,vertexShader:{log:H,prefix:x},fragmentShader:{log:q,prefix:w}})}i.deleteShader(T),i.deleteShader(O),R=new mM(i,_),k=Ble(i,_)}let R;this.getUniforms=function(){return R===void 0&&N(this),R};let k;this.getAttributes=function(){return k===void 0&&N(this),k};let z=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=i.getProgramParameter(_,Cle)),z},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Rle++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=O,this}let ece=0;class tce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new nce(e),n.set(e,r)),r}}class nce{constructor(e){this.id=ece++,this.code=e,this.usedTimes=0}}function rce(t,e,n,r,i,a){const o=new jv,s=new tce,l=new Set,u=[],d=new Map,h=r.logarithmicDepthBuffer;let g=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(R){return l.add(R),R===0?"uv":`uv${R}`}function _(R,k,z,F,G){const V=F.fog,W=G.geometry,K=R.isMeshStandardMaterial||R.isMeshLambertMaterial||R.isMeshPhongMaterial?F.environment:null,H=R.isMeshStandardMaterial||R.isMeshLambertMaterial&&!R.envMap||R.isMeshPhongMaterial&&!R.envMap,q=e.get(R.envMap||K,H),Z=q&&q.mapping===by?q.image.height:null,ee=y[R.type];R.precision!==null&&(g=r.getMaxPrecision(R.precision),g!==R.precision&&Ht("WebGLProgram.getParameters:",R.precision,"not supported, using",g,"instead."));const ae=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,$=ae!==void 0?ae.length:0;let J=0;W.morphAttributes.position!==void 0&&(J=1),W.morphAttributes.normal!==void 0&&(J=2),W.morphAttributes.color!==void 0&&(J=3);let ne,fe,ge,ce;if(ee){const $t=yc[ee];ne=$t.vertexShader,fe=$t.fragmentShader}else ne=R.vertexShader,fe=R.fragmentShader,s.update(R),ge=s.getVertexShaderID(R),ce=s.getFragmentShaderID(R);const le=t.getRenderTarget(),pe=t.state.buffers.depth.getReversed(),xe=G.isInstancedMesh===!0,Oe=G.isBatchedMesh===!0,_e=!!R.map,ve=!!R.matcap,Qe=!!q,Ee=!!R.aoMap,Fe=!!R.lightMap,Ne=!!R.bumpMap,Ge=!!R.normalMap,ie=!!R.displacementMap,et=!!R.emissiveMap,Ke=!!R.metalnessMap,Be=!!R.roughnessMap,He=R.anisotropy>0,re=R.clearcoat>0,X=R.dispersion>0,ye=R.iridescence>0,je=R.sheen>0,Ue=R.transmission>0,ke=He&&!!R.anisotropyMap,ut=re&&!!R.clearcoatMap,lt=re&&!!R.clearcoatNormalMap,Tt=re&&!!R.clearcoatRoughnessMap,Dt=ye&&!!R.iridescenceMap,Ye=ye&&!!R.iridescenceThicknessMap,$e=je&&!!R.sheenColorMap,rt=je&&!!R.sheenRoughnessMap,me=!!R.specularMap,Le=!!R.specularColorMap,dt=!!R.specularIntensityMap,be=Ue&&!!R.transmissionMap,Ae=Ue&&!!R.thicknessMap,it=!!R.gradientMap,Pt=!!R.alphaMap,ct=R.alphaTest>0,Ce=!!R.alphaHash,gt=!!R.extensions;let Et=Il;R.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(Et=t.toneMapping);const Ct={shaderID:ee,shaderType:R.type,shaderName:R.name,vertexShader:ne,fragmentShader:fe,defines:R.defines,customVertexShaderID:ge,customFragmentShaderID:ce,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:g,batching:Oe,batchingColor:Oe&&G._colorsTexture!==null,instancing:xe,instancingColor:xe&&G.instanceColor!==null,instancingMorph:xe&&G.morphTexture!==null,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:Mc,alphaToCoverage:!!R.alphaToCoverage,map:_e,matcap:ve,envMap:Qe,envMapMode:Qe&&q.mapping,envMapCubeUVHeight:Z,aoMap:Ee,lightMap:Fe,bumpMap:Ne,normalMap:Ge,displacementMap:ie,emissiveMap:et,normalMapObjectSpace:Ge&&R.normalMapType===u9,normalMapTangentSpace:Ge&&R.normalMapType===hh,metalnessMap:Ke,roughnessMap:Be,anisotropy:He,anisotropyMap:ke,clearcoat:re,clearcoatMap:ut,clearcoatNormalMap:lt,clearcoatRoughnessMap:Tt,dispersion:X,iridescence:ye,iridescenceMap:Dt,iridescenceThicknessMap:Ye,sheen:je,sheenColorMap:$e,sheenRoughnessMap:rt,specularMap:me,specularColorMap:Le,specularIntensityMap:dt,transmission:Ue,transmissionMap:be,thicknessMap:Ae,gradientMap:it,opaque:R.transparent===!1&&R.blending===Wp&&R.alphaToCoverage===!1,alphaMap:Pt,alphaTest:ct,alphaHash:Ce,combine:R.combine,mapUv:_e&&b(R.map.channel),aoMapUv:Ee&&b(R.aoMap.channel),lightMapUv:Fe&&b(R.lightMap.channel),bumpMapUv:Ne&&b(R.bumpMap.channel),normalMapUv:Ge&&b(R.normalMap.channel),displacementMapUv:ie&&b(R.displacementMap.channel),emissiveMapUv:et&&b(R.emissiveMap.channel),metalnessMapUv:Ke&&b(R.metalnessMap.channel),roughnessMapUv:Be&&b(R.roughnessMap.channel),anisotropyMapUv:ke&&b(R.anisotropyMap.channel),clearcoatMapUv:ut&&b(R.clearcoatMap.channel),clearcoatNormalMapUv:lt&&b(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Tt&&b(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&b(R.iridescenceMap.channel),iridescenceThicknessMapUv:Ye&&b(R.iridescenceThicknessMap.channel),sheenColorMapUv:$e&&b(R.sheenColorMap.channel),sheenRoughnessMapUv:rt&&b(R.sheenRoughnessMap.channel),specularMapUv:me&&b(R.specularMap.channel),specularColorMapUv:Le&&b(R.specularColorMap.channel),specularIntensityMapUv:dt&&b(R.specularIntensityMap.channel),transmissionMapUv:be&&b(R.transmissionMap.channel),thicknessMapUv:Ae&&b(R.thicknessMap.channel),alphaMapUv:Pt&&b(R.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Ge||He),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!W.attributes.uv&&(_e||Pt),fog:!!V,useFog:R.fog===!0,fogExp2:!!V&&V.isFogExp2,flatShading:R.wireframe===!1&&(R.flatShading===!0||W.attributes.normal===void 0&&Ge===!1&&(R.isMeshLambertMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isMeshPhysicalMaterial)),sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:pe,skinning:G.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:J,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:Et,decodeVideoTexture:_e&&R.map.isVideoTexture===!0&&cr.getTransfer(R.map.colorSpace)===Nr,decodeVideoTextureEmissive:et&&R.emissiveMap.isVideoTexture===!0&&cr.getTransfer(R.emissiveMap.colorSpace)===Nr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===js,flipSided:R.side===Eo,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:gt&&R.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(gt&&R.extensions.multiDraw===!0||Oe)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return Ct.vertexUv1s=l.has(1),Ct.vertexUv2s=l.has(2),Ct.vertexUv3s=l.has(3),l.clear(),Ct}function x(R){const k=[];if(R.shaderID?k.push(R.shaderID):(k.push(R.customVertexShaderID),k.push(R.customFragmentShaderID)),R.defines!==void 0)for(const z in R.defines)k.push(z),k.push(R.defines[z]);return R.isRawShaderMaterial===!1&&(w(k,R),E(k,R),k.push(t.outputColorSpace)),k.push(R.customProgramCacheKey),k.join()}function w(R,k){R.push(k.precision),R.push(k.outputColorSpace),R.push(k.envMapMode),R.push(k.envMapCubeUVHeight),R.push(k.mapUv),R.push(k.alphaMapUv),R.push(k.lightMapUv),R.push(k.aoMapUv),R.push(k.bumpMapUv),R.push(k.normalMapUv),R.push(k.displacementMapUv),R.push(k.emissiveMapUv),R.push(k.metalnessMapUv),R.push(k.roughnessMapUv),R.push(k.anisotropyMapUv),R.push(k.clearcoatMapUv),R.push(k.clearcoatNormalMapUv),R.push(k.clearcoatRoughnessMapUv),R.push(k.iridescenceMapUv),R.push(k.iridescenceThicknessMapUv),R.push(k.sheenColorMapUv),R.push(k.sheenRoughnessMapUv),R.push(k.specularMapUv),R.push(k.specularColorMapUv),R.push(k.specularIntensityMapUv),R.push(k.transmissionMapUv),R.push(k.thicknessMapUv),R.push(k.combine),R.push(k.fogExp2),R.push(k.sizeAttenuation),R.push(k.morphTargetsCount),R.push(k.morphAttributeCount),R.push(k.numDirLights),R.push(k.numPointLights),R.push(k.numSpotLights),R.push(k.numSpotLightMaps),R.push(k.numHemiLights),R.push(k.numRectAreaLights),R.push(k.numDirLightShadows),R.push(k.numPointLightShadows),R.push(k.numSpotLightShadows),R.push(k.numSpotLightShadowsWithMaps),R.push(k.numLightProbes),R.push(k.shadowMapType),R.push(k.toneMapping),R.push(k.numClippingPlanes),R.push(k.numClipIntersection),R.push(k.depthPacking)}function E(R,k){o.disableAll(),k.instancing&&o.enable(0),k.instancingColor&&o.enable(1),k.instancingMorph&&o.enable(2),k.matcap&&o.enable(3),k.envMap&&o.enable(4),k.normalMapObjectSpace&&o.enable(5),k.normalMapTangentSpace&&o.enable(6),k.clearcoat&&o.enable(7),k.iridescence&&o.enable(8),k.alphaTest&&o.enable(9),k.vertexColors&&o.enable(10),k.vertexAlphas&&o.enable(11),k.vertexUv1s&&o.enable(12),k.vertexUv2s&&o.enable(13),k.vertexUv3s&&o.enable(14),k.vertexTangents&&o.enable(15),k.anisotropy&&o.enable(16),k.alphaHash&&o.enable(17),k.batching&&o.enable(18),k.dispersion&&o.enable(19),k.batchingColor&&o.enable(20),k.gradientMap&&o.enable(21),R.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reversedDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),R.push(o.mask)}function A(R){const k=y[R.type];let z;if(k){const F=yc[k];z=uT.clone(F.uniforms)}else z=R.uniforms;return z}function C(R,k){let z=d.get(k);return z!==void 0?++z.usedTimes:(z=new Qle(t,k,R,i),u.push(z),d.set(k,z)),z}function T(R){if(--R.usedTimes===0){const k=u.indexOf(R);u[k]=u[u.length-1],u.pop(),d.delete(R.cacheKey),R.destroy()}}function O(R){s.remove(R)}function N(){s.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:A,acquireProgram:C,releaseProgram:T,releaseShaderCache:O,programs:u,dispose:N}}function ice(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function r(o){t.delete(o)}function i(o,s,l){t.get(o)[s]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function ace(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.materialVariant!==e.materialVariant?t.materialVariant-e.materialVariant:t.z!==e.z?t.z-e.z:t.id-e.id}function wF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function MF(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(g){let y=0;return g.isInstancedMesh&&(y+=2),g.isSkinnedMesh&&(y+=1),y}function s(g,y,b,_,x,w){let E=t[e];return E===void 0?(E={id:g.id,object:g,geometry:y,material:b,materialVariant:o(g),groupOrder:_,renderOrder:g.renderOrder,z:x,group:w},t[e]=E):(E.id=g.id,E.object=g,E.geometry=y,E.material=b,E.materialVariant=o(g),E.groupOrder=_,E.renderOrder=g.renderOrder,E.z=x,E.group=w),e++,E}function l(g,y,b,_,x,w){const E=s(g,y,b,_,x,w);b.transmission>0?r.push(E):b.transparent===!0?i.push(E):n.push(E)}function u(g,y,b,_,x,w){const E=s(g,y,b,_,x,w);b.transmission>0?r.unshift(E):b.transparent===!0?i.unshift(E):n.unshift(E)}function d(g,y){n.length>1&&n.sort(g||ace),r.length>1&&r.sort(y||wF),i.length>1&&i.sort(y||wF)}function h(){for(let g=e,y=t.length;g<y;g++){const b=t[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:l,unshift:u,finish:h,sort:d}}function oce(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new MF,t.set(r,[o])):i>=a.length?(o=new MF,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function sce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new de,color:new Vt};break;case"SpotLight":n={position:new de,direction:new de,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new de,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new de,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":n={color:new Vt,position:new de,halfWidth:new de,halfHeight:new de};break}return t[e.id]=n,n}}}function lce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let cce=0;function uce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function fce(t){const e=new sce,n=lce(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new de);const i=new de,a=new wn,o=new wn;function s(u){let d=0,h=0,g=0;for(let k=0;k<9;k++)r.probe[k].set(0,0,0);let y=0,b=0,_=0,x=0,w=0,E=0,A=0,C=0,T=0,O=0,N=0;u.sort(uce);for(let k=0,z=u.length;k<z;k++){const F=u[k],G=F.color,V=F.intensity,W=F.distance;let K=null;if(F.shadow&&F.shadow.map&&(F.shadow.map.texture.format===em?K=F.shadow.map.texture:K=F.shadow.map.depthTexture||F.shadow.map.texture),F.isAmbientLight)d+=G.r*V,h+=G.g*V,g+=G.b*V;else if(F.isLightProbe){for(let H=0;H<9;H++)r.probe[H].addScaledVector(F.sh.coefficients[H],V);N++}else if(F.isDirectionalLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const q=F.shadow,Z=n.get(F);Z.shadowIntensity=q.intensity,Z.shadowBias=q.bias,Z.shadowNormalBias=q.normalBias,Z.shadowRadius=q.radius,Z.shadowMapSize=q.mapSize,r.directionalShadow[y]=Z,r.directionalShadowMap[y]=K,r.directionalShadowMatrix[y]=F.shadow.matrix,E++}r.directional[y]=H,y++}else if(F.isSpotLight){const H=e.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(G).multiplyScalar(V),H.distance=W,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,r.spot[_]=H;const q=F.shadow;if(F.map&&(r.spotLightMap[T]=F.map,T++,q.updateMatrices(F),F.castShadow&&O++),r.spotLightMatrix[_]=q.matrix,F.castShadow){const Z=n.get(F);Z.shadowIntensity=q.intensity,Z.shadowBias=q.bias,Z.shadowNormalBias=q.normalBias,Z.shadowRadius=q.radius,Z.shadowMapSize=q.mapSize,r.spotShadow[_]=Z,r.spotShadowMap[_]=K,C++}_++}else if(F.isRectAreaLight){const H=e.get(F);H.color.copy(G).multiplyScalar(V),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),r.rectArea[x]=H,x++}else if(F.isPointLight){const H=e.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity),H.distance=F.distance,H.decay=F.decay,F.castShadow){const q=F.shadow,Z=n.get(F);Z.shadowIntensity=q.intensity,Z.shadowBias=q.bias,Z.shadowNormalBias=q.normalBias,Z.shadowRadius=q.radius,Z.shadowMapSize=q.mapSize,Z.shadowCameraNear=q.camera.near,Z.shadowCameraFar=q.camera.far,r.pointShadow[b]=Z,r.pointShadowMap[b]=K,r.pointShadowMatrix[b]=F.shadow.matrix,A++}r.point[b]=H,b++}else if(F.isHemisphereLight){const H=e.get(F);H.skyColor.copy(F.color).multiplyScalar(V),H.groundColor.copy(F.groundColor).multiplyScalar(V),r.hemi[w]=H,w++}}x>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Gt.LTC_FLOAT_1,r.rectAreaLTC2=Gt.LTC_FLOAT_2):(r.rectAreaLTC1=Gt.LTC_HALF_1,r.rectAreaLTC2=Gt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=g;const R=r.hash;(R.directionalLength!==y||R.pointLength!==b||R.spotLength!==_||R.rectAreaLength!==x||R.hemiLength!==w||R.numDirectionalShadows!==E||R.numPointShadows!==A||R.numSpotShadows!==C||R.numSpotMaps!==T||R.numLightProbes!==N)&&(r.directional.length=y,r.spot.length=_,r.rectArea.length=x,r.point.length=b,r.hemi.length=w,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=C+T-O,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=O,r.numLightProbes=N,R.directionalLength=y,R.pointLength=b,R.spotLength=_,R.rectAreaLength=x,R.hemiLength=w,R.numDirectionalShadows=E,R.numPointShadows=A,R.numSpotShadows=C,R.numSpotMaps=T,R.numLightProbes=N,r.version=cce++)}function l(u,d){let h=0,g=0,y=0,b=0,_=0;const x=d.matrixWorldInverse;for(let w=0,E=u.length;w<E;w++){const A=u[w];if(A.isDirectionalLight){const C=r.directional[h];C.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(x),h++}else if(A.isSpotLight){const C=r.spot[y];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(x),y++}else if(A.isRectAreaLight){const C=r.rectArea[b];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),o.identity(),a.copy(A.matrixWorld),a.premultiply(x),o.extractRotation(a),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),b++}else if(A.isPointLight){const C=r.point[g];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(x),g++}else if(A.isHemisphereLight){const C=r.hemi[_];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(x),_++}}}return{setup:s,setupView:l,state:r}}function EF(t){const e=new fce(t),n=[],r=[];function i(d){u.camera=d,n.length=0,r.length=0}function a(d){n.push(d)}function o(d){r.push(d)}function s(){e.setup(n)}function l(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function dce(t){let e=new WeakMap;function n(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new EF(t),e.set(i,[s])):a>=o.length?(s=new EF(t),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const hce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,pce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,mce=[new de(1,0,0),new de(-1,0,0),new de(0,1,0),new de(0,-1,0),new de(0,0,1),new de(0,0,-1)],gce=[new de(0,-1,0),new de(0,-1,0),new de(0,0,1),new de(0,0,-1),new de(0,-1,0),new de(0,-1,0)],AF=new wn,xb=new de,sO=new de;function vce(t,e,n){let r=new xy;const i=new mt,a=new mt,o=new Ur,s=new dT,l=new hT,u={},d=n.maxTextureSize,h={[Lf]:Eo,[Eo]:Lf,[js]:js},g=new ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mt},radius:{value:4}},vertexShader:hce,fragmentShader:pce}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const b=new In;b.setAttribute("position",new Wr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new li(b,g),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Av;let w=this.type;this.render=function(O,N,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||O.length===0)return;this.type===Xb&&(Ht("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=Av);const k=t.getRenderTarget(),z=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),G=t.state;G.setBlending(_c),G.buffers.depth.getReversed()===!0?G.buffers.color.setClear(0,0,0,0):G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const V=w!==this.type;V&&N.traverse(function(W){W.material&&(Array.isArray(W.material)?W.material.forEach(K=>K.needsUpdate=!0):W.material.needsUpdate=!0)});for(let W=0,K=O.length;W<K;W++){const H=O[W],q=H.shadow;if(q===void 0){Ht("WebGLShadowMap:",H,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const Z=q.getFrameExtents();i.multiply(Z),a.copy(q.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/Z.x),i.x=a.x*Z.x,q.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/Z.y),i.y=a.y*Z.y,q.mapSize.y=a.y));const ee=t.state.buffers.depth.getReversed();if(q.camera._reversedDepth=ee,q.map===null||V===!0){if(q.map!==null&&(q.map.depthTexture!==null&&(q.map.depthTexture.dispose(),q.map.depthTexture=null),q.map.dispose()),this.type===kp){if(H.isPointLight){Ht("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}q.map=new Yo(i.x,i.y,{format:em,type:Wi,minFilter:or,magFilter:or,generateMipmaps:!1}),q.map.texture.name=H.name+".shadowMap",q.map.depthTexture=new zv(i.x,i.y,Mi),q.map.depthTexture.name=H.name+".shadowMapDepth",q.map.depthTexture.format=Tu,q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=ea,q.map.depthTexture.magFilter=ea}else H.isPointLight?(q.map=new bT(i.x),q.map.depthTexture=new D9(i.x,Xs)):(q.map=new Yo(i.x,i.y),q.map.depthTexture=new zv(i.x,i.y,Xs)),q.map.depthTexture.name=H.name+".shadowMap",q.map.depthTexture.format=Tu,this.type===Av?(q.map.depthTexture.compareFunction=ee?VA:HA,q.map.depthTexture.minFilter=or,q.map.depthTexture.magFilter=or):(q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=ea,q.map.depthTexture.magFilter=ea);q.camera.updateProjectionMatrix()}const ae=q.map.isWebGLCubeRenderTarget?6:1;for(let $=0;$<ae;$++){if(q.map.isWebGLCubeRenderTarget)t.setRenderTarget(q.map,$),t.clear();else{$===0&&(t.setRenderTarget(q.map),t.clear());const J=q.getViewport($);o.set(a.x*J.x,a.y*J.y,a.x*J.z,a.y*J.w),G.viewport(o)}if(H.isPointLight){const J=q.camera,ne=q.matrix,fe=H.distance||J.far;fe!==J.far&&(J.far=fe,J.updateProjectionMatrix()),xb.setFromMatrixPosition(H.matrixWorld),J.position.copy(xb),sO.copy(J.position),sO.add(mce[$]),J.up.copy(gce[$]),J.lookAt(sO),J.updateMatrixWorld(),ne.makeTranslation(-xb.x,-xb.y,-xb.z),AF.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),q._frustum.setFromProjectionMatrix(AF,J.coordinateSystem,J.reversedDepth)}else q.updateMatrices(H);r=q.getFrustum(),C(N,R,q.camera,H,this.type)}q.isPointLightShadow!==!0&&this.type===kp&&E(q,R),q.needsUpdate=!1}w=this.type,x.needsUpdate=!1,t.setRenderTarget(k,z,F)};function E(O,N){const R=e.update(_);g.defines.VSM_SAMPLES!==O.blurSamples&&(g.defines.VSM_SAMPLES=O.blurSamples,y.defines.VSM_SAMPLES=O.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new Yo(i.x,i.y,{format:em,type:Wi})),g.uniforms.shadow_pass.value=O.map.depthTexture,g.uniforms.resolution.value=O.mapSize,g.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(N,null,R,g,_,null),y.uniforms.shadow_pass.value=O.mapPass.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(N,null,R,y,_,null)}function A(O,N,R,k){let z=null;const F=R.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(F!==void 0)z=F;else if(z=R.isPointLight===!0?l:s,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0||N.alphaToCoverage===!0){const G=z.uuid,V=N.uuid;let W=u[G];W===void 0&&(W={},u[G]=W);let K=W[V];K===void 0&&(K=z.clone(),W[V]=K,N.addEventListener("dispose",T)),z=K}if(z.visible=N.visible,z.wireframe=N.wireframe,k===kp?z.side=N.shadowSide!==null?N.shadowSide:N.side:z.side=N.shadowSide!==null?N.shadowSide:h[N.side],z.alphaMap=N.alphaMap,z.alphaTest=N.alphaToCoverage===!0?.5:N.alphaTest,z.map=N.map,z.clipShadows=N.clipShadows,z.clippingPlanes=N.clippingPlanes,z.clipIntersection=N.clipIntersection,z.displacementMap=N.displacementMap,z.displacementScale=N.displacementScale,z.displacementBias=N.displacementBias,z.wireframeLinewidth=N.wireframeLinewidth,z.linewidth=N.linewidth,R.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const G=t.properties.get(z);G.light=R}return z}function C(O,N,R,k,z){if(O.visible===!1)return;if(O.layers.test(N.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&z===kp)&&(!O.frustumCulled||r.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,O.matrixWorld);const V=e.update(O),W=O.material;if(Array.isArray(W)){const K=V.groups;for(let H=0,q=K.length;H<q;H++){const Z=K[H],ee=W[Z.materialIndex];if(ee&&ee.visible){const ae=A(O,ee,k,z);O.onBeforeShadow(t,O,N,R,V,ae,Z),t.renderBufferDirect(R,null,V,ae,O,Z),O.onAfterShadow(t,O,N,R,V,ae,Z)}}}else if(W.visible){const K=A(O,W,k,z);O.onBeforeShadow(t,O,N,R,V,K,null),t.renderBufferDirect(R,null,V,K,O,null),O.onAfterShadow(t,O,N,R,V,K,null)}}const G=O.children;for(let V=0,W=G.length;V<W;V++)C(G[V],N,R,k,z)}function T(O){O.target.removeEventListener("dispose",T);for(const R in u){const k=u[R],z=O.target.uuid;z in k&&(k[z].dispose(),delete k[z])}}}function yce(t,e){function n(){let be=!1;const Ae=new Ur;let it=null;const Pt=new Ur(0,0,0,0);return{setMask:function(ct){it!==ct&&!be&&(t.colorMask(ct,ct,ct,ct),it=ct)},setLocked:function(ct){be=ct},setClear:function(ct,Ce,gt,Et,Ct){Ct===!0&&(ct*=Et,Ce*=Et,gt*=Et),Ae.set(ct,Ce,gt,Et),Pt.equals(Ae)===!1&&(t.clearColor(ct,Ce,gt,Et),Pt.copy(Ae))},reset:function(){be=!1,it=null,Pt.set(-1,0,0,0)}}}function r(){let be=!1,Ae=!1,it=null,Pt=null,ct=null;return{setReversed:function(Ce){if(Ae!==Ce){const gt=e.get("EXT_clip_control");Ce?gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.ZERO_TO_ONE_EXT):gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.NEGATIVE_ONE_TO_ONE_EXT),Ae=Ce;const Et=ct;ct=null,this.setClear(Et)}},getReversed:function(){return Ae},setTest:function(Ce){Ce?le(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(Ce){it!==Ce&&!be&&(t.depthMask(Ce),it=Ce)},setFunc:function(Ce){if(Ae&&(Ce=Gte[Ce]),Pt!==Ce){switch(Ce){case TM:t.depthFunc(t.NEVER);break;case CM:t.depthFunc(t.ALWAYS);break;case RM:t.depthFunc(t.LESS);break;case Qp:t.depthFunc(t.LEQUAL);break;case OM:t.depthFunc(t.EQUAL);break;case PM:t.depthFunc(t.GEQUAL);break;case DM:t.depthFunc(t.GREATER);break;case IM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pt=Ce}},setLocked:function(Ce){be=Ce},setClear:function(Ce){ct!==Ce&&(ct=Ce,Ae&&(Ce=1-Ce),t.clearDepth(Ce))},reset:function(){be=!1,it=null,Pt=null,ct=null,Ae=!1}}}function i(){let be=!1,Ae=null,it=null,Pt=null,ct=null,Ce=null,gt=null,Et=null,Ct=null;return{setTest:function($t){be||($t?le(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function($t){Ae!==$t&&!be&&(t.stencilMask($t),Ae=$t)},setFunc:function($t,rn,hn){(it!==$t||Pt!==rn||ct!==hn)&&(t.stencilFunc($t,rn,hn),it=$t,Pt=rn,ct=hn)},setOp:function($t,rn,hn){(Ce!==$t||gt!==rn||Et!==hn)&&(t.stencilOp($t,rn,hn),Ce=$t,gt=rn,Et=hn)},setLocked:function($t){be=$t},setClear:function($t){Ct!==$t&&(t.clearStencil($t),Ct=$t)},reset:function(){be=!1,Ae=null,it=null,Pt=null,ct=null,Ce=null,gt=null,Et=null,Ct=null}}}const a=new n,o=new r,s=new i,l=new WeakMap,u=new WeakMap;let d={},h={},g=new WeakMap,y=[],b=null,_=!1,x=null,w=null,E=null,A=null,C=null,T=null,O=null,N=new Vt(0,0,0),R=0,k=!1,z=null,F=null,G=null,V=null,W=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const Z=t.getParameter(t.VERSION);Z.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(Z)[1]),H=q>=1):Z.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),H=q>=2);let ee=null,ae={};const $=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),ne=new Ur().fromArray($),fe=new Ur().fromArray(J);function ge(be,Ae,it,Pt){const ct=new Uint8Array(4),Ce=t.createTexture();t.bindTexture(be,Ce),t.texParameteri(be,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(be,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let gt=0;gt<it;gt++)be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?t.texImage3D(Ae,0,t.RGBA,1,1,Pt,0,t.RGBA,t.UNSIGNED_BYTE,ct):t.texImage2D(Ae+gt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ct);return Ce}const ce={};ce[t.TEXTURE_2D]=ge(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=ge(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=ge(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=ge(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),le(t.DEPTH_TEST),o.setFunc(Qp),Ne(!1),Ge(KI),le(t.CULL_FACE),Ee(_c);function le(be){d[be]!==!0&&(t.enable(be),d[be]=!0)}function pe(be){d[be]!==!1&&(t.disable(be),d[be]=!1)}function xe(be,Ae){return h[be]!==Ae?(t.bindFramebuffer(be,Ae),h[be]=Ae,be===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Ae),be===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Ae),!0):!1}function Oe(be,Ae){let it=y,Pt=!1;if(be){it=g.get(Ae),it===void 0&&(it=[],g.set(Ae,it));const ct=be.textures;if(it.length!==ct.length||it[0]!==t.COLOR_ATTACHMENT0){for(let Ce=0,gt=ct.length;Ce<gt;Ce++)it[Ce]=t.COLOR_ATTACHMENT0+Ce;it.length=ct.length,Pt=!0}}else it[0]!==t.BACK&&(it[0]=t.BACK,Pt=!0);Pt&&t.drawBuffers(it)}function _e(be){return b!==be?(t.useProgram(be),b=be,!0):!1}const ve={[Yd]:t.FUNC_ADD,[F7]:t.FUNC_SUBTRACT,[j7]:t.FUNC_REVERSE_SUBTRACT};ve[z7]=t.MIN,ve[H7]=t.MAX;const Qe={[V7]:t.ZERO,[G7]:t.ONE,[$7]:t.SRC_COLOR,[EM]:t.SRC_ALPHA,[Z7]:t.SRC_ALPHA_SATURATE,[Y7]:t.DST_COLOR,[q7]:t.DST_ALPHA,[W7]:t.ONE_MINUS_SRC_COLOR,[AM]:t.ONE_MINUS_SRC_ALPHA,[K7]:t.ONE_MINUS_DST_COLOR,[X7]:t.ONE_MINUS_DST_ALPHA,[J7]:t.CONSTANT_COLOR,[Q7]:t.ONE_MINUS_CONSTANT_COLOR,[e9]:t.CONSTANT_ALPHA,[t9]:t.ONE_MINUS_CONSTANT_ALPHA};function Ee(be,Ae,it,Pt,ct,Ce,gt,Et,Ct,$t){if(be===_c){_===!0&&(pe(t.BLEND),_=!1);return}if(_===!1&&(le(t.BLEND),_=!0),be!==B7){if(be!==x||$t!==k){if((w!==Yd||C!==Yd)&&(t.blendEquation(t.FUNC_ADD),w=Yd,C=Yd),$t)switch(be){case Wp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MM:t.blendFunc(t.ONE,t.ONE);break;case ZI:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case JI:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:ln("WebGLState: Invalid blending: ",be);break}else switch(be){case Wp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case MM:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case ZI:ln("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case JI:ln("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:ln("WebGLState: Invalid blending: ",be);break}E=null,A=null,T=null,O=null,N.set(0,0,0),R=0,x=be,k=$t}return}ct=ct||Ae,Ce=Ce||it,gt=gt||Pt,(Ae!==w||ct!==C)&&(t.blendEquationSeparate(ve[Ae],ve[ct]),w=Ae,C=ct),(it!==E||Pt!==A||Ce!==T||gt!==O)&&(t.blendFuncSeparate(Qe[it],Qe[Pt],Qe[Ce],Qe[gt]),E=it,A=Pt,T=Ce,O=gt),(Et.equals(N)===!1||Ct!==R)&&(t.blendColor(Et.r,Et.g,Et.b,Ct),N.copy(Et),R=Ct),x=be,k=!1}function Fe(be,Ae){be.side===js?pe(t.CULL_FACE):le(t.CULL_FACE);let it=be.side===Eo;Ae&&(it=!it),Ne(it),be.blending===Wp&&be.transparent===!1?Ee(_c):Ee(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.blendColor,be.blendAlpha,be.premultipliedAlpha),o.setFunc(be.depthFunc),o.setTest(be.depthTest),o.setMask(be.depthWrite),a.setMask(be.colorWrite);const Pt=be.stencilWrite;s.setTest(Pt),Pt&&(s.setMask(be.stencilWriteMask),s.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),s.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),et(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?le(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(be){z!==be&&(be?t.frontFace(t.CW):t.frontFace(t.CCW),z=be)}function Ge(be){be!==k7?(le(t.CULL_FACE),be!==F&&(be===KI?t.cullFace(t.BACK):be===L7?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),F=be}function ie(be){be!==G&&(H&&t.lineWidth(be),G=be)}function et(be,Ae,it){be?(le(t.POLYGON_OFFSET_FILL),(V!==Ae||W!==it)&&(V=Ae,W=it,o.getReversed()&&(Ae=-Ae),t.polygonOffset(Ae,it))):pe(t.POLYGON_OFFSET_FILL)}function Ke(be){be?le(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function Be(be){be===void 0&&(be=t.TEXTURE0+K-1),ee!==be&&(t.activeTexture(be),ee=be)}function He(be,Ae,it){it===void 0&&(ee===null?it=t.TEXTURE0+K-1:it=ee);let Pt=ae[it];Pt===void 0&&(Pt={type:void 0,texture:void 0},ae[it]=Pt),(Pt.type!==be||Pt.texture!==Ae)&&(ee!==it&&(t.activeTexture(it),ee=it),t.bindTexture(be,Ae||ce[be]),Pt.type=be,Pt.texture=Ae)}function re(){const be=ae[ee];be!==void 0&&be.type!==void 0&&(t.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function X(){try{t.compressedTexImage2D(...arguments)}catch(be){ln("WebGLState:",be)}}function ye(){try{t.compressedTexImage3D(...arguments)}catch(be){ln("WebGLState:",be)}}function je(){try{t.texSubImage2D(...arguments)}catch(be){ln("WebGLState:",be)}}function Ue(){try{t.texSubImage3D(...arguments)}catch(be){ln("WebGLState:",be)}}function ke(){try{t.compressedTexSubImage2D(...arguments)}catch(be){ln("WebGLState:",be)}}function ut(){try{t.compressedTexSubImage3D(...arguments)}catch(be){ln("WebGLState:",be)}}function lt(){try{t.texStorage2D(...arguments)}catch(be){ln("WebGLState:",be)}}function Tt(){try{t.texStorage3D(...arguments)}catch(be){ln("WebGLState:",be)}}function Dt(){try{t.texImage2D(...arguments)}catch(be){ln("WebGLState:",be)}}function Ye(){try{t.texImage3D(...arguments)}catch(be){ln("WebGLState:",be)}}function $e(be){ne.equals(be)===!1&&(t.scissor(be.x,be.y,be.z,be.w),ne.copy(be))}function rt(be){fe.equals(be)===!1&&(t.viewport(be.x,be.y,be.z,be.w),fe.copy(be))}function me(be,Ae){let it=u.get(Ae);it===void 0&&(it=new WeakMap,u.set(Ae,it));let Pt=it.get(be);Pt===void 0&&(Pt=t.getUniformBlockIndex(Ae,be.name),it.set(be,Pt))}function Le(be,Ae){const Pt=u.get(Ae).get(be);l.get(Ae)!==Pt&&(t.uniformBlockBinding(Ae,Pt,be.__bindingPointIndex),l.set(Ae,Pt))}function dt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},ee=null,ae={},h={},g=new WeakMap,y=[],b=null,_=!1,x=null,w=null,E=null,A=null,C=null,T=null,O=null,N=new Vt(0,0,0),R=0,k=!1,z=null,F=null,G=null,V=null,W=null,ne.set(0,0,t.canvas.width,t.canvas.height),fe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:le,disable:pe,bindFramebuffer:xe,drawBuffers:Oe,useProgram:_e,setBlending:Ee,setMaterial:Fe,setFlipSided:Ne,setCullFace:Ge,setLineWidth:ie,setPolygonOffset:et,setScissorTest:Ke,activeTexture:Be,bindTexture:He,unbindTexture:re,compressedTexImage2D:X,compressedTexImage3D:ye,texImage2D:Dt,texImage3D:Ye,updateUBOMapping:me,uniformBlockBinding:Le,texStorage2D:lt,texStorage3D:Tt,texSubImage2D:je,texSubImage3D:Ue,compressedTexSubImage2D:ke,compressedTexSubImage3D:ut,scissor:$e,viewport:rt,reset:dt}}function bce(t,e,n,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new mt,d=new WeakMap;let h;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(re,X){return y?new OffscreenCanvas(re,X):wx("canvas")}function _(re,X,ye){let je=1;const Ue=He(re);if((Ue.width>ye||Ue.height>ye)&&(je=ye/Math.max(Ue.width,Ue.height)),je<1)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const ke=Math.floor(je*Ue.width),ut=Math.floor(je*Ue.height);h===void 0&&(h=b(ke,ut));const lt=X?b(ke,ut):h;return lt.width=ke,lt.height=ut,lt.getContext("2d").drawImage(re,0,0,ke,ut),Ht("WebGLRenderer: Texture has been resized from ("+Ue.width+"x"+Ue.height+") to ("+ke+"x"+ut+")."),lt}else return"data"in re&&Ht("WebGLRenderer: Image in DataTexture is too big ("+Ue.width+"x"+Ue.height+")."),re;return re}function x(re){return re.generateMipmaps}function w(re){t.generateMipmap(re)}function E(re){return re.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?t.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function A(re,X,ye,je,Ue=!1){if(re!==null){if(t[re]!==void 0)return t[re];Ht("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let ke=X;if(X===t.RED&&(ye===t.FLOAT&&(ke=t.R32F),ye===t.HALF_FLOAT&&(ke=t.R16F),ye===t.UNSIGNED_BYTE&&(ke=t.R8)),X===t.RED_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ke=t.R8UI),ye===t.UNSIGNED_SHORT&&(ke=t.R16UI),ye===t.UNSIGNED_INT&&(ke=t.R32UI),ye===t.BYTE&&(ke=t.R8I),ye===t.SHORT&&(ke=t.R16I),ye===t.INT&&(ke=t.R32I)),X===t.RG&&(ye===t.FLOAT&&(ke=t.RG32F),ye===t.HALF_FLOAT&&(ke=t.RG16F),ye===t.UNSIGNED_BYTE&&(ke=t.RG8)),X===t.RG_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ke=t.RG8UI),ye===t.UNSIGNED_SHORT&&(ke=t.RG16UI),ye===t.UNSIGNED_INT&&(ke=t.RG32UI),ye===t.BYTE&&(ke=t.RG8I),ye===t.SHORT&&(ke=t.RG16I),ye===t.INT&&(ke=t.RG32I)),X===t.RGB_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ke=t.RGB8UI),ye===t.UNSIGNED_SHORT&&(ke=t.RGB16UI),ye===t.UNSIGNED_INT&&(ke=t.RGB32UI),ye===t.BYTE&&(ke=t.RGB8I),ye===t.SHORT&&(ke=t.RGB16I),ye===t.INT&&(ke=t.RGB32I)),X===t.RGBA_INTEGER&&(ye===t.UNSIGNED_BYTE&&(ke=t.RGBA8UI),ye===t.UNSIGNED_SHORT&&(ke=t.RGBA16UI),ye===t.UNSIGNED_INT&&(ke=t.RGBA32UI),ye===t.BYTE&&(ke=t.RGBA8I),ye===t.SHORT&&(ke=t.RGBA16I),ye===t.INT&&(ke=t.RGBA32I)),X===t.RGB&&(ye===t.UNSIGNED_INT_5_9_9_9_REV&&(ke=t.RGB9_E5),ye===t.UNSIGNED_INT_10F_11F_11F_REV&&(ke=t.R11F_G11F_B10F)),X===t.RGBA){const ut=Ue?_x:cr.getTransfer(je);ye===t.FLOAT&&(ke=t.RGBA32F),ye===t.HALF_FLOAT&&(ke=t.RGBA16F),ye===t.UNSIGNED_BYTE&&(ke=ut===Nr?t.SRGB8_ALPHA8:t.RGBA8),ye===t.UNSIGNED_SHORT_4_4_4_4&&(ke=t.RGBA4),ye===t.UNSIGNED_SHORT_5_5_5_1&&(ke=t.RGB5_A1)}return(ke===t.R16F||ke===t.R32F||ke===t.RG16F||ke===t.RG32F||ke===t.RGBA16F||ke===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ke}function C(re,X){let ye;return re?X===null||X===Xs||X===Bv?ye=t.DEPTH24_STENCIL8:X===Mi?ye=t.DEPTH32F_STENCIL8:X===Uv&&(ye=t.DEPTH24_STENCIL8,Ht("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===Xs||X===Bv?ye=t.DEPTH_COMPONENT24:X===Mi?ye=t.DEPTH_COMPONENT32F:X===Uv&&(ye=t.DEPTH_COMPONENT16),ye}function T(re,X){return x(re)===!0||re.isFramebufferTexture&&re.minFilter!==ea&&re.minFilter!==or?Math.log2(Math.max(X.width,X.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?X.mipmaps.length:1}function O(re){const X=re.target;X.removeEventListener("dispose",O),R(X),X.isVideoTexture&&d.delete(X)}function N(re){const X=re.target;X.removeEventListener("dispose",N),z(X)}function R(re){const X=r.get(re);if(X.__webglInit===void 0)return;const ye=re.source,je=g.get(ye);if(je){const Ue=je[X.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&k(re),Object.keys(je).length===0&&g.delete(ye)}r.remove(re)}function k(re){const X=r.get(re);t.deleteTexture(X.__webglTexture);const ye=re.source,je=g.get(ye);delete je[X.__cacheKey],o.memory.textures--}function z(re){const X=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let je=0;je<6;je++){if(Array.isArray(X.__webglFramebuffer[je]))for(let Ue=0;Ue<X.__webglFramebuffer[je].length;Ue++)t.deleteFramebuffer(X.__webglFramebuffer[je][Ue]);else t.deleteFramebuffer(X.__webglFramebuffer[je]);X.__webglDepthbuffer&&t.deleteRenderbuffer(X.__webglDepthbuffer[je])}else{if(Array.isArray(X.__webglFramebuffer))for(let je=0;je<X.__webglFramebuffer.length;je++)t.deleteFramebuffer(X.__webglFramebuffer[je]);else t.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&t.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&t.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let je=0;je<X.__webglColorRenderbuffer.length;je++)X.__webglColorRenderbuffer[je]&&t.deleteRenderbuffer(X.__webglColorRenderbuffer[je]);X.__webglDepthRenderbuffer&&t.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const ye=re.textures;for(let je=0,Ue=ye.length;je<Ue;je++){const ke=r.get(ye[je]);ke.__webglTexture&&(t.deleteTexture(ke.__webglTexture),o.memory.textures--),r.remove(ye[je])}r.remove(re)}let F=0;function G(){F=0}function V(){const re=F;return re>=i.maxTextures&&Ht("WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),F+=1,re}function W(re){const X=[];return X.push(re.wrapS),X.push(re.wrapT),X.push(re.wrapR||0),X.push(re.magFilter),X.push(re.minFilter),X.push(re.anisotropy),X.push(re.internalFormat),X.push(re.format),X.push(re.type),X.push(re.generateMipmaps),X.push(re.premultiplyAlpha),X.push(re.flipY),X.push(re.unpackAlignment),X.push(re.colorSpace),X.join()}function K(re,X){const ye=r.get(re);if(re.isVideoTexture&&Ke(re),re.isRenderTargetTexture===!1&&re.isExternalTexture!==!0&&re.version>0&&ye.__version!==re.version){const je=re.image;if(je===null)Ht("WebGLRenderer: Texture marked for update but no image data found.");else if(je.complete===!1)Ht("WebGLRenderer: Texture marked for update but image is incomplete");else{ce(ye,re,X);return}}else re.isExternalTexture&&(ye.__webglTexture=re.sourceTexture?re.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ye.__webglTexture,t.TEXTURE0+X)}function H(re,X){const ye=r.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ye.__version!==re.version){ce(ye,re,X);return}else re.isExternalTexture&&(ye.__webglTexture=re.sourceTexture?re.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ye.__webglTexture,t.TEXTURE0+X)}function q(re,X){const ye=r.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ye.__version!==re.version){ce(ye,re,X);return}n.bindTexture(t.TEXTURE_3D,ye.__webglTexture,t.TEXTURE0+X)}function Z(re,X){const ye=r.get(re);if(re.isCubeDepthTexture!==!0&&re.version>0&&ye.__version!==re.version){le(ye,re,X);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture,t.TEXTURE0+X)}const ee={[vx]:t.REPEAT,[$i]:t.CLAMP_TO_EDGE,[yx]:t.MIRRORED_REPEAT},ae={[ea]:t.NEAREST,[RL]:t.NEAREST_MIPMAP_NEAREST,[mv]:t.NEAREST_MIPMAP_LINEAR,[or]:t.LINEAR,[Kb]:t.LINEAR_MIPMAP_NEAREST,[bu]:t.LINEAR_MIPMAP_LINEAR},$={[f9]:t.NEVER,[g9]:t.ALWAYS,[d9]:t.LESS,[HA]:t.LEQUAL,[h9]:t.EQUAL,[VA]:t.GEQUAL,[p9]:t.GREATER,[m9]:t.NOTEQUAL};function J(re,X){if(X.type===Mi&&e.has("OES_texture_float_linear")===!1&&(X.magFilter===or||X.magFilter===Kb||X.magFilter===mv||X.magFilter===bu||X.minFilter===or||X.minFilter===Kb||X.minFilter===mv||X.minFilter===bu)&&Ht("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(re,t.TEXTURE_WRAP_S,ee[X.wrapS]),t.texParameteri(re,t.TEXTURE_WRAP_T,ee[X.wrapT]),(re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY)&&t.texParameteri(re,t.TEXTURE_WRAP_R,ee[X.wrapR]),t.texParameteri(re,t.TEXTURE_MAG_FILTER,ae[X.magFilter]),t.texParameteri(re,t.TEXTURE_MIN_FILTER,ae[X.minFilter]),X.compareFunction&&(t.texParameteri(re,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(re,t.TEXTURE_COMPARE_FUNC,$[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===ea||X.minFilter!==mv&&X.minFilter!==bu||X.type===Mi&&e.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||r.get(X).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");t.texParameterf(re,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy}}}function ne(re,X){let ye=!1;re.__webglInit===void 0&&(re.__webglInit=!0,X.addEventListener("dispose",O));const je=X.source;let Ue=g.get(je);Ue===void 0&&(Ue={},g.set(je,Ue));const ke=W(X);if(ke!==re.__cacheKey){Ue[ke]===void 0&&(Ue[ke]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ye=!0),Ue[ke].usedTimes++;const ut=Ue[re.__cacheKey];ut!==void 0&&(Ue[re.__cacheKey].usedTimes--,ut.usedTimes===0&&k(X)),re.__cacheKey=ke,re.__webglTexture=Ue[ke].texture}return ye}function fe(re,X,ye){return Math.floor(Math.floor(re/ye)/X)}function ge(re,X,ye,je){const ke=re.updateRanges;if(ke.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,X.width,X.height,ye,je,X.data);else{ke.sort((Ye,$e)=>Ye.start-$e.start);let ut=0;for(let Ye=1;Ye<ke.length;Ye++){const $e=ke[ut],rt=ke[Ye],me=$e.start+$e.count,Le=fe(rt.start,X.width,4),dt=fe($e.start,X.width,4);rt.start<=me+1&&Le===dt&&fe(rt.start+rt.count-1,X.width,4)===Le?$e.count=Math.max($e.count,rt.start+rt.count-$e.start):(++ut,ke[ut]=rt)}ke.length=ut+1;const lt=t.getParameter(t.UNPACK_ROW_LENGTH),Tt=t.getParameter(t.UNPACK_SKIP_PIXELS),Dt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,X.width);for(let Ye=0,$e=ke.length;Ye<$e;Ye++){const rt=ke[Ye],me=Math.floor(rt.start/4),Le=Math.ceil(rt.count/4),dt=me%X.width,be=Math.floor(me/X.width),Ae=Le,it=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,dt),t.pixelStorei(t.UNPACK_SKIP_ROWS,be),n.texSubImage2D(t.TEXTURE_2D,0,dt,be,Ae,it,ye,je,X.data)}re.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,lt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Tt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Dt)}}function ce(re,X,ye){let je=t.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(je=t.TEXTURE_2D_ARRAY),X.isData3DTexture&&(je=t.TEXTURE_3D);const Ue=ne(re,X),ke=X.source;n.bindTexture(je,re.__webglTexture,t.TEXTURE0+ye);const ut=r.get(ke);if(ke.version!==ut.__version||Ue===!0){n.activeTexture(t.TEXTURE0+ye);const lt=cr.getPrimaries(cr.workingColorSpace),Tt=X.colorSpace===Cf?null:cr.getPrimaries(X.colorSpace),Dt=X.colorSpace===Cf||lt===Tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);let Ye=_(X.image,!1,i.maxTextureSize);Ye=Be(X,Ye);const $e=a.convert(X.format,X.colorSpace),rt=a.convert(X.type);let me=A(X.internalFormat,$e,rt,X.colorSpace,X.isVideoTexture);J(je,X);let Le;const dt=X.mipmaps,be=X.isVideoTexture!==!0,Ae=ut.__version===void 0||Ue===!0,it=ke.dataReady,Pt=T(X,Ye);if(X.isDepthTexture)me=C(X.format===Jd,X.type),Ae&&(be?n.texStorage2D(t.TEXTURE_2D,1,me,Ye.width,Ye.height):n.texImage2D(t.TEXTURE_2D,0,me,Ye.width,Ye.height,0,$e,rt,null));else if(X.isDataTexture)if(dt.length>0){be&&Ae&&n.texStorage2D(t.TEXTURE_2D,Pt,me,dt[0].width,dt[0].height);for(let ct=0,Ce=dt.length;ct<Ce;ct++)Le=dt[ct],be?it&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,Le.width,Le.height,$e,rt,Le.data):n.texImage2D(t.TEXTURE_2D,ct,me,Le.width,Le.height,0,$e,rt,Le.data);X.generateMipmaps=!1}else be?(Ae&&n.texStorage2D(t.TEXTURE_2D,Pt,me,Ye.width,Ye.height),it&&ge(X,Ye,$e,rt)):n.texImage2D(t.TEXTURE_2D,0,me,Ye.width,Ye.height,0,$e,rt,Ye.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){be&&Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pt,me,dt[0].width,dt[0].height,Ye.depth);for(let ct=0,Ce=dt.length;ct<Ce;ct++)if(Le=dt[ct],X.format!==ta)if($e!==null)if(be){if(it)if(X.layerUpdates.size>0){const gt=uN(Le.width,Le.height,X.format,X.type);for(const Et of X.layerUpdates){const Ct=Le.data.subarray(Et*gt/Le.data.BYTES_PER_ELEMENT,(Et+1)*gt/Le.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ct,0,0,Et,Le.width,Le.height,1,$e,Ct)}X.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ct,0,0,0,Le.width,Le.height,Ye.depth,$e,Le.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ct,me,Le.width,Le.height,Ye.depth,0,Le.data,0,0);else Ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else be?it&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ct,0,0,0,Le.width,Le.height,Ye.depth,$e,rt,Le.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ct,me,Le.width,Le.height,Ye.depth,0,$e,rt,Le.data)}else{be&&Ae&&n.texStorage2D(t.TEXTURE_2D,Pt,me,dt[0].width,dt[0].height);for(let ct=0,Ce=dt.length;ct<Ce;ct++)Le=dt[ct],X.format!==ta?$e!==null?be?it&&n.compressedTexSubImage2D(t.TEXTURE_2D,ct,0,0,Le.width,Le.height,$e,Le.data):n.compressedTexImage2D(t.TEXTURE_2D,ct,me,Le.width,Le.height,0,Le.data):Ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?it&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,Le.width,Le.height,$e,rt,Le.data):n.texImage2D(t.TEXTURE_2D,ct,me,Le.width,Le.height,0,$e,rt,Le.data)}else if(X.isDataArrayTexture)if(be){if(Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pt,me,Ye.width,Ye.height,Ye.depth),it)if(X.layerUpdates.size>0){const ct=uN(Ye.width,Ye.height,X.format,X.type);for(const Ce of X.layerUpdates){const gt=Ye.data.subarray(Ce*ct/Ye.data.BYTES_PER_ELEMENT,(Ce+1)*ct/Ye.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ce,Ye.width,Ye.height,1,$e,rt,gt)}X.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,$e,rt,Ye.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,me,Ye.width,Ye.height,Ye.depth,0,$e,rt,Ye.data);else if(X.isData3DTexture)be?(Ae&&n.texStorage3D(t.TEXTURE_3D,Pt,me,Ye.width,Ye.height,Ye.depth),it&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,$e,rt,Ye.data)):n.texImage3D(t.TEXTURE_3D,0,me,Ye.width,Ye.height,Ye.depth,0,$e,rt,Ye.data);else if(X.isFramebufferTexture){if(Ae)if(be)n.texStorage2D(t.TEXTURE_2D,Pt,me,Ye.width,Ye.height);else{let ct=Ye.width,Ce=Ye.height;for(let gt=0;gt<Pt;gt++)n.texImage2D(t.TEXTURE_2D,gt,me,ct,Ce,0,$e,rt,null),ct>>=1,Ce>>=1}}else if(dt.length>0){if(be&&Ae){const ct=He(dt[0]);n.texStorage2D(t.TEXTURE_2D,Pt,me,ct.width,ct.height)}for(let ct=0,Ce=dt.length;ct<Ce;ct++)Le=dt[ct],be?it&&n.texSubImage2D(t.TEXTURE_2D,ct,0,0,$e,rt,Le):n.texImage2D(t.TEXTURE_2D,ct,me,$e,rt,Le);X.generateMipmaps=!1}else if(be){if(Ae){const ct=He(Ye);n.texStorage2D(t.TEXTURE_2D,Pt,me,ct.width,ct.height)}it&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e,rt,Ye)}else n.texImage2D(t.TEXTURE_2D,0,me,$e,rt,Ye);x(X)&&w(je),ut.__version=ke.version,X.onUpdate&&X.onUpdate(X)}re.__version=X.version}function le(re,X,ye){if(X.image.length!==6)return;const je=ne(re,X),Ue=X.source;n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+ye);const ke=r.get(Ue);if(Ue.version!==ke.__version||je===!0){n.activeTexture(t.TEXTURE0+ye);const ut=cr.getPrimaries(cr.workingColorSpace),lt=X.colorSpace===Cf?null:cr.getPrimaries(X.colorSpace),Tt=X.colorSpace===Cf||ut===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const Dt=X.isCompressedTexture||X.image[0].isCompressedTexture,Ye=X.image[0]&&X.image[0].isDataTexture,$e=[];for(let Ce=0;Ce<6;Ce++)!Dt&&!Ye?$e[Ce]=_(X.image[Ce],!0,i.maxCubemapSize):$e[Ce]=Ye?X.image[Ce].image:X.image[Ce],$e[Ce]=Be(X,$e[Ce]);const rt=$e[0],me=a.convert(X.format,X.colorSpace),Le=a.convert(X.type),dt=A(X.internalFormat,me,Le,X.colorSpace),be=X.isVideoTexture!==!0,Ae=ke.__version===void 0||je===!0,it=Ue.dataReady;let Pt=T(X,rt);J(t.TEXTURE_CUBE_MAP,X);let ct;if(Dt){be&&Ae&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Pt,dt,rt.width,rt.height);for(let Ce=0;Ce<6;Ce++){ct=$e[Ce].mipmaps;for(let gt=0;gt<ct.length;gt++){const Et=ct[gt];X.format!==ta?me!==null?be?it&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt,0,0,Et.width,Et.height,me,Et.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt,dt,Et.width,Et.height,0,Et.data):Ht("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt,0,0,Et.width,Et.height,me,Le,Et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt,dt,Et.width,Et.height,0,me,Le,Et.data)}}}else{if(ct=X.mipmaps,be&&Ae){ct.length>0&&Pt++;const Ce=He($e[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Pt,dt,Ce.width,Ce.height)}for(let Ce=0;Ce<6;Ce++)if(Ye){be?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,$e[Ce].width,$e[Ce].height,me,Le,$e[Ce].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,dt,$e[Ce].width,$e[Ce].height,0,me,Le,$e[Ce].data);for(let gt=0;gt<ct.length;gt++){const Ct=ct[gt].image[Ce].image;be?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt+1,0,0,Ct.width,Ct.height,me,Le,Ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt+1,dt,Ct.width,Ct.height,0,me,Le,Ct.data)}}else{be?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,me,Le,$e[Ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,dt,me,Le,$e[Ce]);for(let gt=0;gt<ct.length;gt++){const Et=ct[gt];be?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt+1,0,0,me,Le,Et.image[Ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,gt+1,dt,me,Le,Et.image[Ce])}}}x(X)&&w(t.TEXTURE_CUBE_MAP),ke.__version=Ue.version,X.onUpdate&&X.onUpdate(X)}re.__version=X.version}function pe(re,X,ye,je,Ue,ke){const ut=a.convert(ye.format,ye.colorSpace),lt=a.convert(ye.type),Tt=A(ye.internalFormat,ut,lt,ye.colorSpace),Dt=r.get(X),Ye=r.get(ye);if(Ye.__renderTarget=X,!Dt.__hasExternalTextures){const $e=Math.max(1,X.width>>ke),rt=Math.max(1,X.height>>ke);Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,ke,Tt,$e,rt,X.depth,0,ut,lt,null):n.texImage2D(Ue,ke,Tt,$e,rt,0,ut,lt,null)}n.bindFramebuffer(t.FRAMEBUFFER,re),et(X)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,je,Ue,Ye.__webglTexture,0,ie(X)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,je,Ue,Ye.__webglTexture,ke),n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(re,X,ye){if(t.bindRenderbuffer(t.RENDERBUFFER,re),X.depthBuffer){const je=X.depthTexture,Ue=je&&je.isDepthTexture?je.type:null,ke=C(X.stencilBuffer,Ue),ut=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;et(X)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie(X),ke,X.width,X.height):ye?t.renderbufferStorageMultisample(t.RENDERBUFFER,ie(X),ke,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,ke,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ut,t.RENDERBUFFER,re)}else{const je=X.textures;for(let Ue=0;Ue<je.length;Ue++){const ke=je[Ue],ut=a.convert(ke.format,ke.colorSpace),lt=a.convert(ke.type),Tt=A(ke.internalFormat,ut,lt,ke.colorSpace);et(X)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie(X),Tt,X.width,X.height):ye?t.renderbufferStorageMultisample(t.RENDERBUFFER,ie(X),Tt,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,Tt,X.width,X.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Oe(re,X,ye){const je=X.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,re),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=r.get(X.depthTexture);if(Ue.__renderTarget=X,(!Ue.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),je){if(Ue.__webglInit===void 0&&(Ue.__webglInit=!0,X.depthTexture.addEventListener("dispose",O)),Ue.__webglTexture===void 0){Ue.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Ue.__webglTexture),J(t.TEXTURE_CUBE_MAP,X.depthTexture);const Dt=a.convert(X.depthTexture.format),Ye=a.convert(X.depthTexture.type);let $e;X.depthTexture.format===Tu?$e=t.DEPTH_COMPONENT24:X.depthTexture.format===Jd&&($e=t.DEPTH24_STENCIL8);for(let rt=0;rt<6;rt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,$e,X.width,X.height,0,Dt,Ye,null)}}else K(X.depthTexture,0);const ke=Ue.__webglTexture,ut=ie(X),lt=je?t.TEXTURE_CUBE_MAP_POSITIVE_X+ye:t.TEXTURE_2D,Tt=X.depthTexture.format===Jd?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(X.depthTexture.format===Tu)et(X)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Tt,lt,ke,0,ut):t.framebufferTexture2D(t.FRAMEBUFFER,Tt,lt,ke,0);else if(X.depthTexture.format===Jd)et(X)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Tt,lt,ke,0,ut):t.framebufferTexture2D(t.FRAMEBUFFER,Tt,lt,ke,0);else throw new Error("Unknown depthTexture format")}function _e(re){const X=r.get(re),ye=re.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==re.depthTexture){const je=re.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),je){const Ue=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,je.removeEventListener("dispose",Ue)};je.addEventListener("dispose",Ue),X.__depthDisposeCallback=Ue}X.__boundDepthTexture=je}if(re.depthTexture&&!X.__autoAllocateDepthBuffer)if(ye)for(let je=0;je<6;je++)Oe(X.__webglFramebuffer[je],re,je);else{const je=re.texture.mipmaps;je&&je.length>0?Oe(X.__webglFramebuffer[0],re,0):Oe(X.__webglFramebuffer,re,0)}else if(ye){X.__webglDepthbuffer=[];for(let je=0;je<6;je++)if(n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer[je]),X.__webglDepthbuffer[je]===void 0)X.__webglDepthbuffer[je]=t.createRenderbuffer(),xe(X.__webglDepthbuffer[je],re,!1);else{const Ue=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=X.__webglDepthbuffer[je];t.bindRenderbuffer(t.RENDERBUFFER,ke),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ue,t.RENDERBUFFER,ke)}}else{const je=re.texture.mipmaps;if(je&&je.length>0?n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=t.createRenderbuffer(),xe(X.__webglDepthbuffer,re,!1);else{const Ue=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=X.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ke),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ue,t.RENDERBUFFER,ke)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(re,X,ye){const je=r.get(re);X!==void 0&&pe(je.__webglFramebuffer,re,re.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ye!==void 0&&_e(re)}function Qe(re){const X=re.texture,ye=r.get(re),je=r.get(X);re.addEventListener("dispose",N);const Ue=re.textures,ke=re.isWebGLCubeRenderTarget===!0,ut=Ue.length>1;if(ut||(je.__webglTexture===void 0&&(je.__webglTexture=t.createTexture()),je.__version=X.version,o.memory.textures++),ke){ye.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(X.mipmaps&&X.mipmaps.length>0){ye.__webglFramebuffer[lt]=[];for(let Tt=0;Tt<X.mipmaps.length;Tt++)ye.__webglFramebuffer[lt][Tt]=t.createFramebuffer()}else ye.__webglFramebuffer[lt]=t.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){ye.__webglFramebuffer=[];for(let lt=0;lt<X.mipmaps.length;lt++)ye.__webglFramebuffer[lt]=t.createFramebuffer()}else ye.__webglFramebuffer=t.createFramebuffer();if(ut)for(let lt=0,Tt=Ue.length;lt<Tt;lt++){const Dt=r.get(Ue[lt]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=t.createTexture(),o.memory.textures++)}if(re.samples>0&&et(re)===!1){ye.__webglMultisampledFramebuffer=t.createFramebuffer(),ye.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let lt=0;lt<Ue.length;lt++){const Tt=Ue[lt];ye.__webglColorRenderbuffer[lt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ye.__webglColorRenderbuffer[lt]);const Dt=a.convert(Tt.format,Tt.colorSpace),Ye=a.convert(Tt.type),$e=A(Tt.internalFormat,Dt,Ye,Tt.colorSpace,re.isXRRenderTarget===!0),rt=ie(re);t.renderbufferStorageMultisample(t.RENDERBUFFER,rt,$e,re.width,re.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.RENDERBUFFER,ye.__webglColorRenderbuffer[lt])}t.bindRenderbuffer(t.RENDERBUFFER,null),re.depthBuffer&&(ye.__webglDepthRenderbuffer=t.createRenderbuffer(),xe(ye.__webglDepthRenderbuffer,re,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ke){n.bindTexture(t.TEXTURE_CUBE_MAP,je.__webglTexture),J(t.TEXTURE_CUBE_MAP,X);for(let lt=0;lt<6;lt++)if(X.mipmaps&&X.mipmaps.length>0)for(let Tt=0;Tt<X.mipmaps.length;Tt++)pe(ye.__webglFramebuffer[lt][Tt],re,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Tt);else pe(ye.__webglFramebuffer[lt],re,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);x(X)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ut){for(let lt=0,Tt=Ue.length;lt<Tt;lt++){const Dt=Ue[lt],Ye=r.get(Dt);let $e=t.TEXTURE_2D;(re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&($e=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture($e,Ye.__webglTexture),J($e,Dt),pe(ye.__webglFramebuffer,re,Dt,t.COLOR_ATTACHMENT0+lt,$e,0),x(Dt)&&w($e)}n.unbindTexture()}else{let lt=t.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(lt=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(lt,je.__webglTexture),J(lt,X),X.mipmaps&&X.mipmaps.length>0)for(let Tt=0;Tt<X.mipmaps.length;Tt++)pe(ye.__webglFramebuffer[Tt],re,X,t.COLOR_ATTACHMENT0,lt,Tt);else pe(ye.__webglFramebuffer,re,X,t.COLOR_ATTACHMENT0,lt,0);x(X)&&w(lt),n.unbindTexture()}re.depthBuffer&&_e(re)}function Ee(re){const X=re.textures;for(let ye=0,je=X.length;ye<je;ye++){const Ue=X[ye];if(x(Ue)){const ke=E(re),ut=r.get(Ue).__webglTexture;n.bindTexture(ke,ut),w(ke),n.unbindTexture()}}}const Fe=[],Ne=[];function Ge(re){if(re.samples>0){if(et(re)===!1){const X=re.textures,ye=re.width,je=re.height;let Ue=t.COLOR_BUFFER_BIT;const ke=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ut=r.get(re),lt=X.length>1;if(lt)for(let Dt=0;Dt<X.length;Dt++)n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Dt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Dt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ut.__webglMultisampledFramebuffer);const Tt=re.texture.mipmaps;Tt&&Tt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglFramebuffer);for(let Dt=0;Dt<X.length;Dt++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),lt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ut.__webglColorRenderbuffer[Dt]);const Ye=r.get(X[Dt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ye,0)}t.blitFramebuffer(0,0,ye,je,0,0,ye,je,Ue,t.NEAREST),l===!0&&(Fe.length=0,Ne.length=0,Fe.push(t.COLOR_ATTACHMENT0+Dt),re.depthBuffer&&re.resolveDepthBuffer===!1&&(Fe.push(ke),Ne.push(ke),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ne)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),lt)for(let Dt=0;Dt<X.length;Dt++){n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Dt,t.RENDERBUFFER,ut.__webglColorRenderbuffer[Dt]);const Ye=r.get(X[Dt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ut.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Dt,t.TEXTURE_2D,Ye,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ut.__webglMultisampledFramebuffer)}else if(re.depthBuffer&&re.resolveDepthBuffer===!1&&l){const X=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[X])}}}function ie(re){return Math.min(i.maxSamples,re.samples)}function et(re){const X=r.get(re);return re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function Ke(re){const X=o.render.frame;d.get(re)!==X&&(d.set(re,X),re.update())}function Be(re,X){const ye=re.colorSpace,je=re.format,Ue=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||ye!==Mc&&ye!==Cf&&(cr.getTransfer(ye)===Nr?(je!==ta||Ue!==La)&&Ht("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):ln("WebGLTextures: Unsupported texture color space:",ye)),X}function He(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(u.width=re.naturalWidth||re.width,u.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(u.width=re.displayWidth,u.height=re.displayHeight):(u.width=re.width,u.height=re.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=G,this.setTexture2D=K,this.setTexture2DArray=H,this.setTexture3D=q,this.setTextureCube=Z,this.rebindTextures=ve,this.setupRenderTarget=Qe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=et,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function A$(t,e){function n(r,i=Cf){let a;const o=cr.getTransfer(i);if(r===La)return t.UNSIGNED_BYTE;if(r===UA)return t.UNSIGNED_SHORT_4_4_4_4;if(r===BA)return t.UNSIGNED_SHORT_5_5_5_1;if(r===OL)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===PL)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===kA)return t.BYTE;if(r===LA)return t.SHORT;if(r===Uv)return t.UNSIGNED_SHORT;if(r===R_)return t.INT;if(r===Xs)return t.UNSIGNED_INT;if(r===Mi)return t.FLOAT;if(r===Wi)return t.HALF_FLOAT;if(r===DL)return t.ALPHA;if(r===IL)return t.RGB;if(r===ta)return t.RGBA;if(r===Tu)return t.DEPTH_COMPONENT;if(r===Jd)return t.DEPTH_STENCIL;if(r===O_)return t.RED;if(r===P_)return t.RED_INTEGER;if(r===em)return t.RG;if(r===FA)return t.RG_INTEGER;if(r===jA)return t.RGBA_INTEGER;if(r===Zb||r===Jb||r===Qb||r===ex)if(o===Nr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Zb)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Jb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Qb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ex)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Zb)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Jb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Qb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ex)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===NM||r===kM||r===LM||r===UM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===NM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===kM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===LM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===UM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===BM||r===FM||r===jM||r===zM||r===HM||r===VM||r===GM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===BM||r===FM)return o===Nr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===jM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===zM)return a.COMPRESSED_R11_EAC;if(r===HM)return a.COMPRESSED_SIGNED_R11_EAC;if(r===VM)return a.COMPRESSED_RG11_EAC;if(r===GM)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===$M||r===WM||r===qM||r===XM||r===YM||r===KM||r===ZM||r===JM||r===QM||r===eE||r===tE||r===nE||r===rE||r===iE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===$M)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===WM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===qM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===XM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===YM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===KM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ZM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===JM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===QM)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===eE)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===tE)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===nE)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===rE)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===iE)return o===Nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===aE||r===oE||r===sE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===aE)return o===Nr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===oE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===sE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===lE||r===cE||r===uE||r===fE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===lE)return a.COMPRESSED_RED_RGTC1_EXT;if(r===cE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===uE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===fE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Bv?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const xce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_ce=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Sce{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new HL(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ro({vertexShader:xce,fragmentShader:_ce,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new li(new Cc(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class wce extends Pu{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,d=null,h=null,g=null,y=null,b=null;const _=typeof XRWebGLBinding<"u",x=new Sce,w={},E=n.getContextAttributes();let A=null,C=null;const T=[],O=[],N=new mt;let R=null;const k=new Ni;k.viewport=new Ur;const z=new Ni;z.viewport=new Ur;const F=[k,z],G=new p$;let V=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let le=T[ce];return le===void 0&&(le=new pM,T[ce]=le),le.getTargetRaySpace()},this.getControllerGrip=function(ce){let le=T[ce];return le===void 0&&(le=new pM,T[ce]=le),le.getGripSpace()},this.getHand=function(ce){let le=T[ce];return le===void 0&&(le=new pM,T[ce]=le),le.getHandSpace()};function K(ce){const le=O.indexOf(ce.inputSource);if(le===-1)return;const pe=T[le];pe!==void 0&&(pe.update(ce.inputSource,ce.frame,u||o),pe.dispatchEvent({type:ce.type,data:ce.inputSource}))}function H(){i.removeEventListener("select",K),i.removeEventListener("selectstart",K),i.removeEventListener("selectend",K),i.removeEventListener("squeeze",K),i.removeEventListener("squeezestart",K),i.removeEventListener("squeezeend",K),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",q);for(let ce=0;ce<T.length;ce++){const le=O[ce];le!==null&&(O[ce]=null,T[ce].disconnect(le))}V=null,W=null,x.reset();for(const ce in w)delete w[ce];e.setRenderTarget(A),y=null,g=null,h=null,i=null,C=null,ge.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(N.width,N.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){a=ce,r.isPresenting===!0&&Ht("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){s=ce,r.isPresenting===!0&&Ht("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ce){u=ce},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return h===null&&_&&(h=new XRWebGLBinding(i,n)),h},this.getFrame=function(){return b},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",K),i.addEventListener("selectstart",K),i.addEventListener("selectend",K),i.addEventListener("squeeze",K),i.addEventListener("squeezestart",K),i.addEventListener("squeezeend",K),i.addEventListener("end",H),i.addEventListener("inputsourceschange",q),E.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(N),_&&"createProjectionLayer"in XRWebGLBinding.prototype){let pe=null,xe=null,Oe=null;E.depth&&(Oe=E.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,pe=E.stencil?Jd:Tu,xe=E.stencil?Bv:Xs);const _e={colorFormat:n.RGBA8,depthFormat:Oe,scaleFactor:a};h=this.getBinding(),g=h.createProjectionLayer(_e),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),C=new Yo(g.textureWidth,g.textureHeight,{format:ta,type:La,depthTexture:new zv(g.textureWidth,g.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const pe={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,n,pe),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),C=new Yo(y.framebufferWidth,y.framebufferHeight,{format:ta,type:La,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),ge.setContext(i),ge.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function q(ce){for(let le=0;le<ce.removed.length;le++){const pe=ce.removed[le],xe=O.indexOf(pe);xe>=0&&(O[xe]=null,T[xe].disconnect(pe))}for(let le=0;le<ce.added.length;le++){const pe=ce.added[le];let xe=O.indexOf(pe);if(xe===-1){for(let _e=0;_e<T.length;_e++)if(_e>=O.length){O.push(pe),xe=_e;break}else if(O[_e]===null){O[_e]=pe,xe=_e;break}if(xe===-1)break}const Oe=T[xe];Oe&&Oe.connect(pe)}}const Z=new de,ee=new de;function ae(ce,le,pe){Z.setFromMatrixPosition(le.matrixWorld),ee.setFromMatrixPosition(pe.matrixWorld);const xe=Z.distanceTo(ee),Oe=le.projectionMatrix.elements,_e=pe.projectionMatrix.elements,ve=Oe[14]/(Oe[10]-1),Qe=Oe[14]/(Oe[10]+1),Ee=(Oe[9]+1)/Oe[5],Fe=(Oe[9]-1)/Oe[5],Ne=(Oe[8]-1)/Oe[0],Ge=(_e[8]+1)/_e[0],ie=ve*Ne,et=ve*Ge,Ke=xe/(-Ne+Ge),Be=Ke*-Ne;if(le.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(Be),ce.translateZ(Ke),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Oe[10]===-1)ce.projectionMatrix.copy(le.projectionMatrix),ce.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const He=ve+Ke,re=Qe+Ke,X=ie-Be,ye=et+(xe-Be),je=Ee*Qe/re*He,Ue=Fe*Qe/re*He;ce.projectionMatrix.makePerspective(X,ye,je,Ue,He,re),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function $(ce,le){le===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(le.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;let le=ce.near,pe=ce.far;x.texture!==null&&(x.depthNear>0&&(le=x.depthNear),x.depthFar>0&&(pe=x.depthFar)),G.near=z.near=k.near=le,G.far=z.far=k.far=pe,(V!==G.near||W!==G.far)&&(i.updateRenderState({depthNear:G.near,depthFar:G.far}),V=G.near,W=G.far),G.layers.mask=ce.layers.mask|6,k.layers.mask=G.layers.mask&-5,z.layers.mask=G.layers.mask&-3;const xe=ce.parent,Oe=G.cameras;$(G,xe);for(let _e=0;_e<Oe.length;_e++)$(Oe[_e],xe);Oe.length===2?ae(G,k,z):G.projectionMatrix.copy(k.projectionMatrix),J(ce,G,xe)};function J(ce,le,pe){pe===null?ce.matrix.copy(le.matrixWorld):(ce.matrix.copy(pe.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(le.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(le.projectionMatrix),ce.projectionMatrixInverse.copy(le.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Fv*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return G},this.getFoveation=function(){if(!(g===null&&y===null))return l},this.setFoveation=function(ce){l=ce,g!==null&&(g.fixedFoveation=ce),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ce)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(G)},this.getCameraTexture=function(ce){return w[ce]};let ne=null;function fe(ce,le){if(d=le.getViewerPose(u||o),b=le,d!==null){const pe=d.views;y!==null&&(e.setRenderTargetFramebuffer(C,y.framebuffer),e.setRenderTarget(C));let xe=!1;pe.length!==G.cameras.length&&(G.cameras.length=0,xe=!0);for(let Qe=0;Qe<pe.length;Qe++){const Ee=pe[Qe];let Fe=null;if(y!==null)Fe=y.getViewport(Ee);else{const Ge=h.getViewSubImage(g,Ee);Fe=Ge.viewport,Qe===0&&(e.setRenderTargetTextures(C,Ge.colorTexture,Ge.depthStencilTexture),e.setRenderTarget(C))}let Ne=F[Qe];Ne===void 0&&(Ne=new Ni,Ne.layers.enable(Qe),Ne.viewport=new Ur,F[Qe]=Ne),Ne.matrix.fromArray(Ee.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(Ee.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),Qe===0&&(G.matrix.copy(Ne.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale)),xe===!0&&G.cameras.push(Ne)}const Oe=i.enabledFeatures;if(Oe&&Oe.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&_){h=r.getBinding();const Qe=h.getDepthInformation(pe[0]);Qe&&Qe.isValid&&Qe.texture&&x.init(Qe,i.renderState)}if(Oe&&Oe.includes("camera-access")&&_){e.state.unbindTexture(),h=r.getBinding();for(let Qe=0;Qe<pe.length;Qe++){const Ee=pe[Qe].camera;if(Ee){let Fe=w[Ee];Fe||(Fe=new HL,w[Ee]=Fe);const Ne=h.getCameraImage(Ee);Fe.sourceTexture=Ne}}}}for(let pe=0;pe<T.length;pe++){const xe=O[pe],Oe=T[pe];xe!==null&&Oe!==void 0&&Oe.update(xe,le,u||o)}ne&&ne(ce,le),le.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:le}),b=null}const ge=new _$;ge.setAnimationLoop(fe),this.setAnimationLoop=function(ce){ne=ce},this.dispose=function(){}}}const vp=new Ys,Mce=new wn;function Ece(t,e){function n(x,w){x.matrixAutoUpdate===!0&&x.updateMatrix(),w.value.copy(x.matrix)}function r(x,w){w.color.getRGB(x.fogColor.value,$9(t)),w.isFog?(x.fogNear.value=w.near,x.fogFar.value=w.far):w.isFogExp2&&(x.fogDensity.value=w.density)}function i(x,w,E,A,C){w.isMeshBasicMaterial?a(x,w):w.isMeshLambertMaterial?(a(x,w),w.envMap&&(x.envMapIntensity.value=w.envMapIntensity)):w.isMeshToonMaterial?(a(x,w),h(x,w)):w.isMeshPhongMaterial?(a(x,w),d(x,w),w.envMap&&(x.envMapIntensity.value=w.envMapIntensity)):w.isMeshStandardMaterial?(a(x,w),g(x,w),w.isMeshPhysicalMaterial&&y(x,w,C)):w.isMeshMatcapMaterial?(a(x,w),b(x,w)):w.isMeshDepthMaterial?a(x,w):w.isMeshDistanceMaterial?(a(x,w),_(x,w)):w.isMeshNormalMaterial?a(x,w):w.isLineBasicMaterial?(o(x,w),w.isLineDashedMaterial&&s(x,w)):w.isPointsMaterial?l(x,w,E,A):w.isSpriteMaterial?u(x,w):w.isShadowMaterial?(x.color.value.copy(w.color),x.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function a(x,w){x.opacity.value=w.opacity,w.color&&x.diffuse.value.copy(w.color),w.emissive&&x.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.bumpMap&&(x.bumpMap.value=w.bumpMap,n(w.bumpMap,x.bumpMapTransform),x.bumpScale.value=w.bumpScale,w.side===Eo&&(x.bumpScale.value*=-1)),w.normalMap&&(x.normalMap.value=w.normalMap,n(w.normalMap,x.normalMapTransform),x.normalScale.value.copy(w.normalScale),w.side===Eo&&x.normalScale.value.negate()),w.displacementMap&&(x.displacementMap.value=w.displacementMap,n(w.displacementMap,x.displacementMapTransform),x.displacementScale.value=w.displacementScale,x.displacementBias.value=w.displacementBias),w.emissiveMap&&(x.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,x.emissiveMapTransform)),w.specularMap&&(x.specularMap.value=w.specularMap,n(w.specularMap,x.specularMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest);const E=e.get(w),A=E.envMap,C=E.envMapRotation;A&&(x.envMap.value=A,vp.copy(C),vp.x*=-1,vp.y*=-1,vp.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(vp.y*=-1,vp.z*=-1),x.envMapRotation.value.setFromMatrix4(Mce.makeRotationFromEuler(vp)),x.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=w.reflectivity,x.ior.value=w.ior,x.refractionRatio.value=w.refractionRatio),w.lightMap&&(x.lightMap.value=w.lightMap,x.lightMapIntensity.value=w.lightMapIntensity,n(w.lightMap,x.lightMapTransform)),w.aoMap&&(x.aoMap.value=w.aoMap,x.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,x.aoMapTransform))}function o(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform))}function s(x,w){x.dashSize.value=w.dashSize,x.totalSize.value=w.dashSize+w.gapSize,x.scale.value=w.scale}function l(x,w,E,A){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.size.value=w.size*E,x.scale.value=A*.5,w.map&&(x.map.value=w.map,n(w.map,x.uvTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function u(x,w){x.diffuse.value.copy(w.color),x.opacity.value=w.opacity,x.rotation.value=w.rotation,w.map&&(x.map.value=w.map,n(w.map,x.mapTransform)),w.alphaMap&&(x.alphaMap.value=w.alphaMap,n(w.alphaMap,x.alphaMapTransform)),w.alphaTest>0&&(x.alphaTest.value=w.alphaTest)}function d(x,w){x.specular.value.copy(w.specular),x.shininess.value=Math.max(w.shininess,1e-4)}function h(x,w){w.gradientMap&&(x.gradientMap.value=w.gradientMap)}function g(x,w){x.metalness.value=w.metalness,w.metalnessMap&&(x.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,x.metalnessMapTransform)),x.roughness.value=w.roughness,w.roughnessMap&&(x.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,x.roughnessMapTransform)),w.envMap&&(x.envMapIntensity.value=w.envMapIntensity)}function y(x,w,E){x.ior.value=w.ior,w.sheen>0&&(x.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),x.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(x.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,x.sheenColorMapTransform)),w.sheenRoughnessMap&&(x.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,x.sheenRoughnessMapTransform))),w.clearcoat>0&&(x.clearcoat.value=w.clearcoat,x.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(x.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,x.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(x.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Eo&&x.clearcoatNormalScale.value.negate())),w.dispersion>0&&(x.dispersion.value=w.dispersion),w.iridescence>0&&(x.iridescence.value=w.iridescence,x.iridescenceIOR.value=w.iridescenceIOR,x.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(x.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,x.iridescenceMapTransform)),w.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),w.transmission>0&&(x.transmission.value=w.transmission,x.transmissionSamplerMap.value=E.texture,x.transmissionSamplerSize.value.set(E.width,E.height),w.transmissionMap&&(x.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,x.transmissionMapTransform)),x.thickness.value=w.thickness,w.thicknessMap&&(x.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=w.attenuationDistance,x.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(x.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(x.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=w.specularIntensity,x.specularColor.value.copy(w.specularColor),w.specularColorMap&&(x.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,x.specularColorMapTransform)),w.specularIntensityMap&&(x.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,x.specularIntensityMapTransform))}function b(x,w){w.matcap&&(x.matcap.value=w.matcap)}function _(x,w){const E=e.get(w).light;x.referencePosition.value.setFromMatrixPosition(E.matrixWorld),x.nearDistance.value=E.shadow.camera.near,x.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ace(t,e,n,r){let i={},a={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(E,A){const C=A.program;r.uniformBlockBinding(E,C)}function u(E,A){let C=i[E.id];C===void 0&&(b(E),C=d(E),i[E.id]=C,E.addEventListener("dispose",x));const T=A.program;r.updateUBOMapping(E,T);const O=e.render.frame;a[E.id]!==O&&(g(E),a[E.id]=O)}function d(E){const A=h();E.__bindingPointIndex=A;const C=t.createBuffer(),T=E.__size,O=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,T,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,A,C),C}function h(){for(let E=0;E<s;E++)if(o.indexOf(E)===-1)return o.push(E),E;return ln("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(E){const A=i[E.id],C=E.uniforms,T=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,A);for(let O=0,N=C.length;O<N;O++){const R=Array.isArray(C[O])?C[O]:[C[O]];for(let k=0,z=R.length;k<z;k++){const F=R[k];if(y(F,O,k,T)===!0){const G=F.__offset,V=Array.isArray(F.value)?F.value:[F.value];let W=0;for(let K=0;K<V.length;K++){const H=V[K],q=_(H);typeof H=="number"||typeof H=="boolean"?(F.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,G+W,F.__data)):H.isMatrix3?(F.__data[0]=H.elements[0],F.__data[1]=H.elements[1],F.__data[2]=H.elements[2],F.__data[3]=0,F.__data[4]=H.elements[3],F.__data[5]=H.elements[4],F.__data[6]=H.elements[5],F.__data[7]=0,F.__data[8]=H.elements[6],F.__data[9]=H.elements[7],F.__data[10]=H.elements[8],F.__data[11]=0):(H.toArray(F.__data,W),W+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(E,A,C,T){const O=E.value,N=A+"_"+C;if(T[N]===void 0)return typeof O=="number"||typeof O=="boolean"?T[N]=O:T[N]=O.clone(),!0;{const R=T[N];if(typeof O=="number"||typeof O=="boolean"){if(R!==O)return T[N]=O,!0}else if(R.equals(O)===!1)return R.copy(O),!0}return!1}function b(E){const A=E.uniforms;let C=0;const T=16;for(let N=0,R=A.length;N<R;N++){const k=Array.isArray(A[N])?A[N]:[A[N]];for(let z=0,F=k.length;z<F;z++){const G=k[z],V=Array.isArray(G.value)?G.value:[G.value];for(let W=0,K=V.length;W<K;W++){const H=V[W],q=_(H),Z=C%T,ee=Z%q.boundary,ae=Z+ee;C+=ee,ae!==0&&T-ae<q.storage&&(C+=T-ae),G.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=C,C+=q.storage}}}const O=C%T;return O>0&&(C+=T-O),E.__size=C,E.__cache={},this}function _(E){const A={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(A.boundary=4,A.storage=4):E.isVector2?(A.boundary=8,A.storage=8):E.isVector3||E.isColor?(A.boundary=16,A.storage=12):E.isVector4?(A.boundary=16,A.storage=16):E.isMatrix3?(A.boundary=48,A.storage=48):E.isMatrix4?(A.boundary=64,A.storage=64):E.isTexture?Ht("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ht("WebGLRenderer: Unsupported uniform value type.",E),A}function x(E){const A=E.target;A.removeEventListener("dispose",x);const C=o.indexOf(A.__bindingPointIndex);o.splice(C,1),t.deleteBuffer(i[A.id]),delete i[A.id],delete a[A.id]}function w(){for(const E in i)t.deleteBuffer(i[E]);o=[],i={},a={}}return{bind:l,update:u,dispose:w}}const Tce=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let pu=null;function Cce(){return pu===null&&(pu=new Nl(Tce,16,16,em,Wi),pu.name="DFG_LUT",pu.minFilter=or,pu.magFilter=or,pu.wrapS=$i,pu.wrapT=$i,pu.generateMipmaps=!1,pu.needsUpdate=!0),pu}class lU{constructor(e={}){const{canvas:n=y9(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:g=!1,outputBufferType:y=La}=e;this.isWebGLRenderer=!0;let b;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=r.getContextAttributes().alpha}else b=o;const _=y,x=new Set([jA,FA,P_]),w=new Set([La,Xs,Uv,Bv,UA,BA]),E=new Uint32Array(4),A=new Int32Array(4);let C=null,T=null;const O=[],N=[];let R=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Il,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const k=this;let z=!1;this._outputColorSpace=to;let F=0,G=0,V=null,W=-1,K=null;const H=new Ur,q=new Ur;let Z=null;const ee=new Vt(0);let ae=0,$=n.width,J=n.height,ne=1,fe=null,ge=null;const ce=new Ur(0,0,$,J),le=new Ur(0,0,$,J);let pe=!1;const xe=new xy;let Oe=!1,_e=!1;const ve=new wn,Qe=new de,Ee=new Ur,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ne=!1;function Ge(){return V===null?ne:1}let ie=r;function et(Q,Se){return n.getContext(Q,Se)}try{const Q={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${yy}`),n.addEventListener("webglcontextlost",gt,!1),n.addEventListener("webglcontextrestored",Et,!1),n.addEventListener("webglcontextcreationerror",Ct,!1),ie===null){const Se="webgl2";if(ie=et(Se,Q),ie===null)throw et(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw ln("WebGLRenderer: "+Q.message),Q}let Ke,Be,He,re,X,ye,je,Ue,ke,ut,lt,Tt,Dt,Ye,$e,rt,me,Le,dt,be,Ae,it,Pt;function ct(){Ke=new Ose(ie),Ke.init(),Ae=new A$(ie,Ke),Be=new Sse(ie,Ke,e,Ae),He=new yce(ie,Ke),Be.reversedDepthBuffer&&g&&He.buffers.depth.setReversed(!0),re=new Ise(ie),X=new ice,ye=new bce(ie,Ke,He,X,Be,Ae,re),je=new Rse(k),Ue=new Bie(ie),it=new xse(ie,Ue),ke=new Pse(ie,Ue,re,it),ut=new kse(ie,ke,Ue,it,re),Le=new Nse(ie,Be,ye),$e=new wse(X),lt=new rce(k,je,Ke,Be,it,$e),Tt=new Ece(k,X),Dt=new oce,Ye=new dce(Ke),me=new bse(k,je,He,ut,b,l),rt=new vce(k,ut,Be),Pt=new Ace(ie,re,Be,He),dt=new _se(ie,Ke,re),be=new Dse(ie,Ke,re),re.programs=lt.programs,k.capabilities=Be,k.extensions=Ke,k.properties=X,k.renderLists=Dt,k.shadowMap=rt,k.state=He,k.info=re}ct(),_!==La&&(R=new Use(_,n.width,n.height,i,a));const Ce=new wce(k,ie);this.xr=Ce,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const Q=Ke.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=Ke.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(Q){Q!==void 0&&(ne=Q,this.setSize($,J,!1))},this.getSize=function(Q){return Q.set($,J)},this.setSize=function(Q,Se,De=!0){if(Ce.isPresenting){Ht("WebGLRenderer: Can't change size while VR device is presenting.");return}$=Q,J=Se,n.width=Math.floor(Q*ne),n.height=Math.floor(Se*ne),De===!0&&(n.style.width=Q+"px",n.style.height=Se+"px"),R!==null&&R.setSize(n.width,n.height),this.setViewport(0,0,Q,Se)},this.getDrawingBufferSize=function(Q){return Q.set($*ne,J*ne).floor()},this.setDrawingBufferSize=function(Q,Se,De){$=Q,J=Se,ne=De,n.width=Math.floor(Q*De),n.height=Math.floor(Se*De),this.setViewport(0,0,Q,Se)},this.setEffects=function(Q){if(_===La){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(Q){for(let Se=0;Se<Q.length;Se++)if(Q[Se].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}R.setEffects(Q||[])},this.getCurrentViewport=function(Q){return Q.copy(H)},this.getViewport=function(Q){return Q.copy(ce)},this.setViewport=function(Q,Se,De,Re){Q.isVector4?ce.set(Q.x,Q.y,Q.z,Q.w):ce.set(Q,Se,De,Re),He.viewport(H.copy(ce).multiplyScalar(ne).round())},this.getScissor=function(Q){return Q.copy(le)},this.setScissor=function(Q,Se,De,Re){Q.isVector4?le.set(Q.x,Q.y,Q.z,Q.w):le.set(Q,Se,De,Re),He.scissor(q.copy(le).multiplyScalar(ne).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(Q){He.setScissorTest(pe=Q)},this.setOpaqueSort=function(Q){fe=Q},this.setTransparentSort=function(Q){ge=Q},this.getClearColor=function(Q){return Q.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor(...arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha(...arguments)},this.clear=function(Q=!0,Se=!0,De=!0){let Re=0;if(Q){let Pe=!1;if(V!==null){const ft=V.texture.format;Pe=x.has(ft)}if(Pe){const ft=V.texture.type,bt=w.has(ft),xt=me.getClearColor(),_t=me.getClearAlpha(),zt=xt.r,jt=xt.g,tn=xt.b;bt?(E[0]=zt,E[1]=jt,E[2]=tn,E[3]=_t,ie.clearBufferuiv(ie.COLOR,0,E)):(A[0]=zt,A[1]=jt,A[2]=tn,A[3]=_t,ie.clearBufferiv(ie.COLOR,0,A))}else Re|=ie.COLOR_BUFFER_BIT}Se&&(Re|=ie.DEPTH_BUFFER_BIT),De&&(Re|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Re!==0&&ie.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",gt,!1),n.removeEventListener("webglcontextrestored",Et,!1),n.removeEventListener("webglcontextcreationerror",Ct,!1),me.dispose(),Dt.dispose(),Ye.dispose(),X.dispose(),je.dispose(),ut.dispose(),it.dispose(),Pt.dispose(),lt.dispose(),Ce.dispose(),Ce.removeEventListener("sessionstart",Zr),Ce.removeEventListener("sessionend",hr),kr.stop()};function gt(Q){Q.preventDefault(),Mx("WebGLRenderer: Context Lost."),z=!0}function Et(){Mx("WebGLRenderer: Context Restored."),z=!1;const Q=re.autoReset,Se=rt.enabled,De=rt.autoUpdate,Re=rt.needsUpdate,Pe=rt.type;ct(),re.autoReset=Q,rt.enabled=Se,rt.autoUpdate=De,rt.needsUpdate=Re,rt.type=Pe}function Ct(Q){ln("WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function $t(Q){const Se=Q.target;Se.removeEventListener("dispose",$t),rn(Se)}function rn(Q){hn(Q),X.remove(Q)}function hn(Q){const Se=X.get(Q).programs;Se!==void 0&&(Se.forEach(function(De){lt.releaseProgram(De)}),Q.isShaderMaterial&&lt.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,Se,De,Re,Pe,ft){Se===null&&(Se=Fe);const bt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,xt=at(Q,Se,De,Re,Pe);He.setMaterial(Re,bt);let _t=De.index,zt=1;if(Re.wireframe===!0){if(_t=ke.getWireframeAttribute(De),_t===void 0)return;zt=2}const jt=De.drawRange,tn=De.attributes.position;let Ot=jt.start*zt,Kt=(jt.start+jt.count)*zt;ft!==null&&(Ot=Math.max(Ot,ft.start*zt),Kt=Math.min(Kt,(ft.start+ft.count)*zt)),_t!==null?(Ot=Math.max(Ot,0),Kt=Math.min(Kt,_t.count)):tn!=null&&(Ot=Math.max(Ot,0),Kt=Math.min(Kt,tn.count));const Cn=Kt-Ot;if(Cn<0||Cn===1/0)return;it.setup(Pe,Re,xt,De,_t);let Qn,cn=dt;if(_t!==null&&(Qn=Ue.get(_t),cn=be,cn.setIndex(Qn)),Pe.isMesh)Re.wireframe===!0?(He.setLineWidth(Re.wireframeLinewidth*Ge()),cn.setMode(ie.LINES)):cn.setMode(ie.TRIANGLES);else if(Pe.isLine){let qt=Re.linewidth;qt===void 0&&(qt=1),He.setLineWidth(qt*Ge()),Pe.isLineSegments?cn.setMode(ie.LINES):Pe.isLineLoop?cn.setMode(ie.LINE_LOOP):cn.setMode(ie.LINE_STRIP)}else Pe.isPoints?cn.setMode(ie.POINTS):Pe.isSprite&&cn.setMode(ie.TRIANGLES);if(Pe.isBatchedMesh)if(Pe._multiDrawInstances!==null)Ex("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),cn.renderMultiDrawInstances(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount,Pe._multiDrawInstances);else if(Ke.get("WEBGL_multi_draw"))cn.renderMultiDraw(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount);else{const qt=Pe._multiDrawStarts,wt=Pe._multiDrawCounts,_n=Pe._multiDrawCount,Lt=_t?Ue.get(_t).bytesPerElement:1,fr=X.get(Re).currentProgram.getUniforms();for(let Cr=0;Cr<_n;Cr++)fr.setValue(ie,"_gl_DrawID",Cr),cn.render(qt[Cr]/Lt,wt[Cr])}else if(Pe.isInstancedMesh)cn.renderInstances(Ot,Cn,Pe.count);else if(De.isInstancedBufferGeometry){const qt=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,wt=Math.min(De.instanceCount,qt);cn.renderInstances(Ot,Cn,wt)}else cn.render(Ot,Cn)};function Jn(Q,Se,De){Q.transparent===!0&&Q.side===js&&Q.forceSinglePass===!1?(Q.side=Eo,Q.needsUpdate=!0,we(Q,Se,De),Q.side=Lf,Q.needsUpdate=!0,we(Q,Se,De),Q.side=js):we(Q,Se,De)}this.compile=function(Q,Se,De=null){De===null&&(De=Q),T=Ye.get(De),T.init(Se),N.push(T),De.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Se.layers)&&(T.pushLight(Pe),Pe.castShadow&&T.pushShadow(Pe))}),Q!==De&&Q.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Se.layers)&&(T.pushLight(Pe),Pe.castShadow&&T.pushShadow(Pe))}),T.setupLights();const Re=new Set;return Q.traverse(function(Pe){if(!(Pe.isMesh||Pe.isPoints||Pe.isLine||Pe.isSprite))return;const ft=Pe.material;if(ft)if(Array.isArray(ft))for(let bt=0;bt<ft.length;bt++){const xt=ft[bt];Jn(xt,De,Pe),Re.add(xt)}else Jn(ft,De,Pe),Re.add(ft)}),T=N.pop(),Re},this.compileAsync=function(Q,Se,De=null){const Re=this.compile(Q,Se,De);return new Promise(Pe=>{function ft(){if(Re.forEach(function(bt){X.get(bt).currentProgram.isReady()&&Re.delete(bt)}),Re.size===0){Pe(Q);return}setTimeout(ft,10)}Ke.get("KHR_parallel_shader_compile")!==null?ft():setTimeout(ft,10)})};let rr=null;function gr(Q){rr&&rr(Q)}function Zr(){kr.stop()}function hr(){kr.start()}const kr=new _$;kr.setAnimationLoop(gr),typeof self<"u"&&kr.setContext(self),this.setAnimationLoop=function(Q){rr=Q,Ce.setAnimationLoop(Q),Q===null?kr.stop():kr.start()},Ce.addEventListener("sessionstart",Zr),Ce.addEventListener("sessionend",hr),this.render=function(Q,Se){if(Se!==void 0&&Se.isCamera!==!0){ln("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;const De=Ce.enabled===!0&&Ce.isPresenting===!0,Re=R!==null&&(V===null||De)&&R.begin(k,V);if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),Se.parent===null&&Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),Ce.enabled===!0&&Ce.isPresenting===!0&&(R===null||R.isCompositing()===!1)&&(Ce.cameraAutoUpdate===!0&&Ce.updateCamera(Se),Se=Ce.getCamera()),Q.isScene===!0&&Q.onBeforeRender(k,Q,Se,V),T=Ye.get(Q,N.length),T.init(Se),N.push(T),ve.multiplyMatrices(Se.projectionMatrix,Se.matrixWorldInverse),xe.setFromProjectionMatrix(ve,Vs,Se.reversedDepth),_e=this.localClippingEnabled,Oe=$e.init(this.clippingPlanes,_e),C=Dt.get(Q,O.length),C.init(),O.push(C),Ce.enabled===!0&&Ce.isPresenting===!0){const bt=k.xr.getDepthSensingMesh();bt!==null&&an(bt,Se,-1/0,k.sortObjects)}an(Q,Se,0,k.sortObjects),C.finish(),k.sortObjects===!0&&C.sort(fe,ge),Ne=Ce.enabled===!1||Ce.isPresenting===!1||Ce.hasDepthSensing()===!1,Ne&&me.addToRenderList(C,Q),this.info.render.frame++,Oe===!0&&$e.beginShadows();const Pe=T.state.shadowsArray;if(rt.render(Pe,Q,Se),Oe===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Re&&R.hasRenderPass())===!1){const bt=C.opaque,xt=C.transmissive;if(T.setupLights(),Se.isArrayCamera){const _t=Se.cameras;if(xt.length>0)for(let zt=0,jt=_t.length;zt<jt;zt++){const tn=_t[zt];ur(bt,xt,Q,tn)}Ne&&me.render(Q);for(let zt=0,jt=_t.length;zt<jt;zt++){const tn=_t[zt];vr(C,Q,tn,tn.viewport)}}else xt.length>0&&ur(bt,xt,Q,Se),Ne&&me.render(Q),vr(C,Q,Se)}V!==null&&G===0&&(ye.updateMultisampleRenderTarget(V),ye.updateRenderTargetMipmap(V)),Re&&R.end(k),Q.isScene===!0&&Q.onAfterRender(k,Q,Se),it.resetDefaultState(),W=-1,K=null,N.pop(),N.length>0?(T=N[N.length-1],Oe===!0&&$e.setGlobalState(k.clippingPlanes,T.state.camera)):T=null,O.pop(),O.length>0?C=O[O.length-1]:C=null};function an(Q,Se,De,Re){if(Q.visible===!1)return;if(Q.layers.test(Se.layers)){if(Q.isGroup)De=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(Se);else if(Q.isLight)T.pushLight(Q),Q.castShadow&&T.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||xe.intersectsSprite(Q)){Re&&Ee.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ve);const bt=ut.update(Q),xt=Q.material;xt.visible&&C.push(Q,bt,xt,De,Ee.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||xe.intersectsObject(Q))){const bt=ut.update(Q),xt=Q.material;if(Re&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),Ee.copy(Q.boundingSphere.center)):(bt.boundingSphere===null&&bt.computeBoundingSphere(),Ee.copy(bt.boundingSphere.center)),Ee.applyMatrix4(Q.matrixWorld).applyMatrix4(ve)),Array.isArray(xt)){const _t=bt.groups;for(let zt=0,jt=_t.length;zt<jt;zt++){const tn=_t[zt],Ot=xt[tn.materialIndex];Ot&&Ot.visible&&C.push(Q,bt,Ot,De,Ee.z,tn)}}else xt.visible&&C.push(Q,bt,xt,De,Ee.z,null)}}const ft=Q.children;for(let bt=0,xt=ft.length;bt<xt;bt++)an(ft[bt],Se,De,Re)}function vr(Q,Se,De,Re){const{opaque:Pe,transmissive:ft,transparent:bt}=Q;T.setupLightsView(De),Oe===!0&&$e.setGlobalState(k.clippingPlanes,De),Re&&He.viewport(H.copy(Re)),Pe.length>0&&te(Pe,Se,De),ft.length>0&&te(ft,Se,De),bt.length>0&&te(bt,Se,De),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function ur(Q,Se,De,Re){if((De.isScene===!0?De.overrideMaterial:null)!==null)return;if(T.state.transmissionRenderTarget[Re.id]===void 0){const Ot=Ke.has("EXT_color_buffer_half_float")||Ke.has("EXT_color_buffer_float");T.state.transmissionRenderTarget[Re.id]=new Yo(1,1,{generateMipmaps:!0,type:Ot?Wi:La,minFilter:bu,samples:Be.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:cr.workingColorSpace})}const ft=T.state.transmissionRenderTarget[Re.id],bt=Re.viewport||H;ft.setSize(bt.z*k.transmissionResolutionScale,bt.w*k.transmissionResolutionScale);const xt=k.getRenderTarget(),_t=k.getActiveCubeFace(),zt=k.getActiveMipmapLevel();k.setRenderTarget(ft),k.getClearColor(ee),ae=k.getClearAlpha(),ae<1&&k.setClearColor(16777215,.5),k.clear(),Ne&&me.render(De);const jt=k.toneMapping;k.toneMapping=Il;const tn=Re.viewport;if(Re.viewport!==void 0&&(Re.viewport=void 0),T.setupLightsView(Re),Oe===!0&&$e.setGlobalState(k.clippingPlanes,Re),te(Q,De,Re),ye.updateMultisampleRenderTarget(ft),ye.updateRenderTargetMipmap(ft),Ke.has("WEBGL_multisampled_render_to_texture")===!1){let Ot=!1;for(let Kt=0,Cn=Se.length;Kt<Cn;Kt++){const Qn=Se[Kt],{object:cn,geometry:qt,material:wt,group:_n}=Qn;if(wt.side===js&&cn.layers.test(Re.layers)){const Lt=wt.side;wt.side=Eo,wt.needsUpdate=!0,ue(cn,De,Re,qt,wt,_n),wt.side=Lt,wt.needsUpdate=!0,Ot=!0}}Ot===!0&&(ye.updateMultisampleRenderTarget(ft),ye.updateRenderTargetMipmap(ft))}k.setRenderTarget(xt,_t,zt),k.setClearColor(ee,ae),tn!==void 0&&(Re.viewport=tn),k.toneMapping=jt}function te(Q,Se,De){const Re=Se.isScene===!0?Se.overrideMaterial:null;for(let Pe=0,ft=Q.length;Pe<ft;Pe++){const bt=Q[Pe],{object:xt,geometry:_t,group:zt}=bt;let jt=bt.material;jt.allowOverride===!0&&Re!==null&&(jt=Re),xt.layers.test(De.layers)&&ue(xt,Se,De,_t,jt,zt)}}function ue(Q,Se,De,Re,Pe,ft){Q.onBeforeRender(k,Se,De,Re,Pe,ft),Q.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Pe.onBeforeRender(k,Se,De,Re,Q,ft),Pe.transparent===!0&&Pe.side===js&&Pe.forceSinglePass===!1?(Pe.side=Eo,Pe.needsUpdate=!0,k.renderBufferDirect(De,Se,Re,Pe,Q,ft),Pe.side=Lf,Pe.needsUpdate=!0,k.renderBufferDirect(De,Se,Re,Pe,Q,ft),Pe.side=js):k.renderBufferDirect(De,Se,Re,Pe,Q,ft),Q.onAfterRender(k,Se,De,Re,Pe,ft)}function we(Q,Se,De){Se.isScene!==!0&&(Se=Fe);const Re=X.get(Q),Pe=T.state.lights,ft=T.state.shadowsArray,bt=Pe.state.version,xt=lt.getParameters(Q,Pe.state,ft,Se,De),_t=lt.getProgramCacheKey(xt);let zt=Re.programs;Re.environment=Q.isMeshStandardMaterial||Q.isMeshLambertMaterial||Q.isMeshPhongMaterial?Se.environment:null,Re.fog=Se.fog;const jt=Q.isMeshStandardMaterial||Q.isMeshLambertMaterial&&!Q.envMap||Q.isMeshPhongMaterial&&!Q.envMap;Re.envMap=je.get(Q.envMap||Re.environment,jt),Re.envMapRotation=Re.environment!==null&&Q.envMap===null?Se.environmentRotation:Q.envMapRotation,zt===void 0&&(Q.addEventListener("dispose",$t),zt=new Map,Re.programs=zt);let tn=zt.get(_t);if(tn!==void 0){if(Re.currentProgram===tn&&Re.lightsStateVersion===bt)return tt(Q,xt),tn}else xt.uniforms=lt.getUniforms(Q),Q.onBeforeCompile(xt,k),tn=lt.acquireProgram(xt,_t),zt.set(_t,tn),Re.uniforms=xt.uniforms;const Ot=Re.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(Ot.clippingPlanes=$e.uniform),tt(Q,xt),Re.needsLights=St(Q),Re.lightsStateVersion=bt,Re.needsLights&&(Ot.ambientLightColor.value=Pe.state.ambient,Ot.lightProbe.value=Pe.state.probe,Ot.directionalLights.value=Pe.state.directional,Ot.directionalLightShadows.value=Pe.state.directionalShadow,Ot.spotLights.value=Pe.state.spot,Ot.spotLightShadows.value=Pe.state.spotShadow,Ot.rectAreaLights.value=Pe.state.rectArea,Ot.ltc_1.value=Pe.state.rectAreaLTC1,Ot.ltc_2.value=Pe.state.rectAreaLTC2,Ot.pointLights.value=Pe.state.point,Ot.pointLightShadows.value=Pe.state.pointShadow,Ot.hemisphereLights.value=Pe.state.hemi,Ot.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,Ot.spotLightMatrix.value=Pe.state.spotLightMatrix,Ot.spotLightMap.value=Pe.state.spotLightMap,Ot.pointShadowMatrix.value=Pe.state.pointShadowMatrix),Re.currentProgram=tn,Re.uniformsList=null,tn}function We(Q){if(Q.uniformsList===null){const Se=Q.currentProgram.getUniforms();Q.uniformsList=mM.seqWithValue(Se.seq,Q.uniforms)}return Q.uniformsList}function tt(Q,Se){const De=X.get(Q);De.outputColorSpace=Se.outputColorSpace,De.batching=Se.batching,De.batchingColor=Se.batchingColor,De.instancing=Se.instancing,De.instancingColor=Se.instancingColor,De.instancingMorph=Se.instancingMorph,De.skinning=Se.skinning,De.morphTargets=Se.morphTargets,De.morphNormals=Se.morphNormals,De.morphColors=Se.morphColors,De.morphTargetsCount=Se.morphTargetsCount,De.numClippingPlanes=Se.numClippingPlanes,De.numIntersection=Se.numClipIntersection,De.vertexAlphas=Se.vertexAlphas,De.vertexTangents=Se.vertexTangents,De.toneMapping=Se.toneMapping}function at(Q,Se,De,Re,Pe){Se.isScene!==!0&&(Se=Fe),ye.resetTextureUnits();const ft=Se.fog,bt=Re.isMeshStandardMaterial||Re.isMeshLambertMaterial||Re.isMeshPhongMaterial?Se.environment:null,xt=V===null?k.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Mc,_t=Re.isMeshStandardMaterial||Re.isMeshLambertMaterial&&!Re.envMap||Re.isMeshPhongMaterial&&!Re.envMap,zt=je.get(Re.envMap||bt,_t),jt=Re.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,tn=!!De.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),Ot=!!De.morphAttributes.position,Kt=!!De.morphAttributes.normal,Cn=!!De.morphAttributes.color;let Qn=Il;Re.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Qn=k.toneMapping);const cn=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,qt=cn!==void 0?cn.length:0,wt=X.get(Re),_n=T.state.lights;if(Oe===!0&&(_e===!0||Q!==K)){const Jr=Q===K&&Re.id===W;$e.setState(Re,Q,Jr)}let Lt=!1;Re.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==_n.state.version||wt.outputColorSpace!==xt||Pe.isBatchedMesh&&wt.batching===!1||!Pe.isBatchedMesh&&wt.batching===!0||Pe.isBatchedMesh&&wt.batchingColor===!0&&Pe.colorTexture===null||Pe.isBatchedMesh&&wt.batchingColor===!1&&Pe.colorTexture!==null||Pe.isInstancedMesh&&wt.instancing===!1||!Pe.isInstancedMesh&&wt.instancing===!0||Pe.isSkinnedMesh&&wt.skinning===!1||!Pe.isSkinnedMesh&&wt.skinning===!0||Pe.isInstancedMesh&&wt.instancingColor===!0&&Pe.instanceColor===null||Pe.isInstancedMesh&&wt.instancingColor===!1&&Pe.instanceColor!==null||Pe.isInstancedMesh&&wt.instancingMorph===!0&&Pe.morphTexture===null||Pe.isInstancedMesh&&wt.instancingMorph===!1&&Pe.morphTexture!==null||wt.envMap!==zt||Re.fog===!0&&wt.fog!==ft||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==$e.numPlanes||wt.numIntersection!==$e.numIntersection)||wt.vertexAlphas!==jt||wt.vertexTangents!==tn||wt.morphTargets!==Ot||wt.morphNormals!==Kt||wt.morphColors!==Cn||wt.toneMapping!==Qn||wt.morphTargetsCount!==qt)&&(Lt=!0):(Lt=!0,wt.__version=Re.version);let fr=wt.currentProgram;Lt===!0&&(fr=we(Re,Se,Pe));let Cr=!1,zn=!1,Rr=!1;const Wn=fr.getUniforms(),Lr=wt.uniforms;if(He.useProgram(fr.program)&&(Cr=!0,zn=!0,Rr=!0),Re.id!==W&&(W=Re.id,zn=!0),Cr||K!==Q){He.buffers.depth.getReversed()&&Q.reversedDepth!==!0&&(Q._reversedDepth=!0,Q.updateProjectionMatrix()),Wn.setValue(ie,"projectionMatrix",Q.projectionMatrix),Wn.setValue(ie,"viewMatrix",Q.matrixWorldInverse);const ja=Wn.map.cameraPosition;ja!==void 0&&ja.setValue(ie,Qe.setFromMatrixPosition(Q.matrixWorld)),Be.logarithmicDepthBuffer&&Wn.setValue(ie,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&Wn.setValue(ie,"isOrthographic",Q.isOrthographicCamera===!0),K!==Q&&(K=Q,zn=!0,Rr=!0)}if(wt.needsLights&&(_n.state.directionalShadowMap.length>0&&Wn.setValue(ie,"directionalShadowMap",_n.state.directionalShadowMap,ye),_n.state.spotShadowMap.length>0&&Wn.setValue(ie,"spotShadowMap",_n.state.spotShadowMap,ye),_n.state.pointShadowMap.length>0&&Wn.setValue(ie,"pointShadowMap",_n.state.pointShadowMap,ye)),Pe.isSkinnedMesh){Wn.setOptional(ie,Pe,"bindMatrix"),Wn.setOptional(ie,Pe,"bindMatrixInverse");const Jr=Pe.skeleton;Jr&&(Jr.boneTexture===null&&Jr.computeBoneTexture(),Wn.setValue(ie,"boneTexture",Jr.boneTexture,ye))}Pe.isBatchedMesh&&(Wn.setOptional(ie,Pe,"batchingTexture"),Wn.setValue(ie,"batchingTexture",Pe._matricesTexture,ye),Wn.setOptional(ie,Pe,"batchingIdTexture"),Wn.setValue(ie,"batchingIdTexture",Pe._indirectTexture,ye),Wn.setOptional(ie,Pe,"batchingColorTexture"),Pe._colorsTexture!==null&&Wn.setValue(ie,"batchingColorTexture",Pe._colorsTexture,ye));const Li=De.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&Le.update(Pe,De,fr),(zn||wt.receiveShadow!==Pe.receiveShadow)&&(wt.receiveShadow=Pe.receiveShadow,Wn.setValue(ie,"receiveShadow",Pe.receiveShadow)),(Re.isMeshStandardMaterial||Re.isMeshLambertMaterial||Re.isMeshPhongMaterial)&&Re.envMap===null&&Se.environment!==null&&(Lr.envMapIntensity.value=Se.environmentIntensity),Lr.dfgLUT!==void 0&&(Lr.dfgLUT.value=Cce()),zn&&(Wn.setValue(ie,"toneMappingExposure",k.toneMappingExposure),wt.needsLights&&At(Lr,Rr),ft&&Re.fog===!0&&Tt.refreshFogUniforms(Lr,ft),Tt.refreshMaterialUniforms(Lr,Re,ne,J,T.state.transmissionRenderTarget[Q.id]),mM.upload(ie,We(wt),Lr,ye)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(mM.upload(ie,We(wt),Lr,ye),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&Wn.setValue(ie,"center",Pe.center),Wn.setValue(ie,"modelViewMatrix",Pe.modelViewMatrix),Wn.setValue(ie,"normalMatrix",Pe.normalMatrix),Wn.setValue(ie,"modelMatrix",Pe.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const Jr=Re.uniformsGroups;for(let ja=0,ao=Jr.length;ja<ao;ja++){const Ro=Jr[ja];Pt.update(Ro,fr),Pt.bind(Ro,fr)}}return fr}function At(Q,Se){Q.ambientLightColor.needsUpdate=Se,Q.lightProbe.needsUpdate=Se,Q.directionalLights.needsUpdate=Se,Q.directionalLightShadows.needsUpdate=Se,Q.pointLights.needsUpdate=Se,Q.pointLightShadows.needsUpdate=Se,Q.spotLights.needsUpdate=Se,Q.spotLightShadows.needsUpdate=Se,Q.rectAreaLights.needsUpdate=Se,Q.hemisphereLights.needsUpdate=Se}function St(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(Q,Se,De){const Re=X.get(Q);Re.__autoAllocateDepthBuffer=Q.resolveDepthBuffer===!1,Re.__autoAllocateDepthBuffer===!1&&(Re.__useRenderToTexture=!1),X.get(Q.texture).__webglTexture=Se,X.get(Q.depthTexture).__webglTexture=Re.__autoAllocateDepthBuffer?void 0:De,Re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Q,Se){const De=X.get(Q);De.__webglFramebuffer=Se,De.__useDefaultFramebuffer=Se===void 0};const It=ie.createFramebuffer();this.setRenderTarget=function(Q,Se=0,De=0){V=Q,F=Se,G=De;let Re=null,Pe=!1,ft=!1;if(Q){const xt=X.get(Q);if(xt.__useDefaultFramebuffer!==void 0){He.bindFramebuffer(ie.FRAMEBUFFER,xt.__webglFramebuffer),H.copy(Q.viewport),q.copy(Q.scissor),Z=Q.scissorTest,He.viewport(H),He.scissor(q),He.setScissorTest(Z),W=-1;return}else if(xt.__webglFramebuffer===void 0)ye.setupRenderTarget(Q);else if(xt.__hasExternalTextures)ye.rebindTextures(Q,X.get(Q.texture).__webglTexture,X.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const jt=Q.depthTexture;if(xt.__boundDepthTexture!==jt){if(jt!==null&&X.has(jt)&&(Q.width!==jt.image.width||Q.height!==jt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ye.setupDepthRenderbuffer(Q)}}const _t=Q.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(ft=!0);const zt=X.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(zt[Se])?Re=zt[Se][De]:Re=zt[Se],Pe=!0):Q.samples>0&&ye.useMultisampledRTT(Q)===!1?Re=X.get(Q).__webglMultisampledFramebuffer:Array.isArray(zt)?Re=zt[De]:Re=zt,H.copy(Q.viewport),q.copy(Q.scissor),Z=Q.scissorTest}else H.copy(ce).multiplyScalar(ne).floor(),q.copy(le).multiplyScalar(ne).floor(),Z=pe;if(De!==0&&(Re=It),He.bindFramebuffer(ie.FRAMEBUFFER,Re)&&He.drawBuffers(Q,Re),He.viewport(H),He.scissor(q),He.setScissorTest(Z),Pe){const xt=X.get(Q.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+Se,xt.__webglTexture,De)}else if(ft){const xt=Se;for(let _t=0;_t<Q.textures.length;_t++){const zt=X.get(Q.textures[_t]);ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0+_t,zt.__webglTexture,De,xt)}}else if(Q!==null&&De!==0){const xt=X.get(Q.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,xt.__webglTexture,De)}W=-1},this.readRenderTargetPixels=function(Q,Se,De,Re,Pe,ft,bt,xt=0){if(!(Q&&Q.isWebGLRenderTarget)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=X.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&bt!==void 0&&(_t=_t[bt]),_t){He.bindFramebuffer(ie.FRAMEBUFFER,_t);try{const zt=Q.textures[xt],jt=zt.format,tn=zt.type;if(Q.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+xt),!Be.textureFormatReadable(jt)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Be.textureTypeReadable(tn)){ln("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Se>=0&&Se<=Q.width-Re&&De>=0&&De<=Q.height-Pe&&ie.readPixels(Se,De,Re,Pe,Ae.convert(jt),Ae.convert(tn),ft)}finally{const zt=V!==null?X.get(V).__webglFramebuffer:null;He.bindFramebuffer(ie.FRAMEBUFFER,zt)}}},this.readRenderTargetPixelsAsync=async function(Q,Se,De,Re,Pe,ft,bt,xt=0){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _t=X.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&bt!==void 0&&(_t=_t[bt]),_t)if(Se>=0&&Se<=Q.width-Re&&De>=0&&De<=Q.height-Pe){He.bindFramebuffer(ie.FRAMEBUFFER,_t);const zt=Q.textures[xt],jt=zt.format,tn=zt.type;if(Q.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+xt),!Be.textureFormatReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(tn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ot=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Ot),ie.bufferData(ie.PIXEL_PACK_BUFFER,ft.byteLength,ie.STREAM_READ),ie.readPixels(Se,De,Re,Pe,Ae.convert(jt),Ae.convert(tn),0);const Kt=V!==null?X.get(V).__webglFramebuffer:null;He.bindFramebuffer(ie.FRAMEBUFFER,Kt);const Cn=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);return ie.flush(),await Vte(ie,Cn,4),ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Ot),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,ft),ie.deleteBuffer(Ot),ie.deleteSync(Cn),ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Q,Se=null,De=0){const Re=Math.pow(2,-De),Pe=Math.floor(Q.image.width*Re),ft=Math.floor(Q.image.height*Re),bt=Se!==null?Se.x:0,xt=Se!==null?Se.y:0;ye.setTexture2D(Q,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,De,0,0,bt,xt,Pe,ft),He.unbindTexture()};const Nt=ie.createFramebuffer(),kt=ie.createFramebuffer();this.copyTextureToTexture=function(Q,Se,De=null,Re=null,Pe=0,ft=0){let bt,xt,_t,zt,jt,tn,Ot,Kt,Cn;const Qn=Q.isCompressedTexture?Q.mipmaps[ft]:Q.image;if(De!==null)bt=De.max.x-De.min.x,xt=De.max.y-De.min.y,_t=De.isBox3?De.max.z-De.min.z:1,zt=De.min.x,jt=De.min.y,tn=De.isBox3?De.min.z:0;else{const Lr=Math.pow(2,-Pe);bt=Math.floor(Qn.width*Lr),xt=Math.floor(Qn.height*Lr),Q.isDataArrayTexture?_t=Qn.depth:Q.isData3DTexture?_t=Math.floor(Qn.depth*Lr):_t=1,zt=0,jt=0,tn=0}Re!==null?(Ot=Re.x,Kt=Re.y,Cn=Re.z):(Ot=0,Kt=0,Cn=0);const cn=Ae.convert(Se.format),qt=Ae.convert(Se.type);let wt;Se.isData3DTexture?(ye.setTexture3D(Se,0),wt=ie.TEXTURE_3D):Se.isDataArrayTexture||Se.isCompressedArrayTexture?(ye.setTexture2DArray(Se,0),wt=ie.TEXTURE_2D_ARRAY):(ye.setTexture2D(Se,0),wt=ie.TEXTURE_2D),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,Se.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Se.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,Se.unpackAlignment);const _n=ie.getParameter(ie.UNPACK_ROW_LENGTH),Lt=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),fr=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Cr=ie.getParameter(ie.UNPACK_SKIP_ROWS),zn=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Qn.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Qn.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,zt),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,jt),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,tn);const Rr=Q.isDataArrayTexture||Q.isData3DTexture,Wn=Se.isDataArrayTexture||Se.isData3DTexture;if(Q.isDepthTexture){const Lr=X.get(Q),Li=X.get(Se),Jr=X.get(Lr.__renderTarget),ja=X.get(Li.__renderTarget);He.bindFramebuffer(ie.READ_FRAMEBUFFER,Jr.__webglFramebuffer),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,ja.__webglFramebuffer);for(let ao=0;ao<_t;ao++)Rr&&(ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,X.get(Q).__webglTexture,Pe,tn+ao),ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,X.get(Se).__webglTexture,ft,Cn+ao)),ie.blitFramebuffer(zt,jt,bt,xt,Ot,Kt,bt,xt,ie.DEPTH_BUFFER_BIT,ie.NEAREST);He.bindFramebuffer(ie.READ_FRAMEBUFFER,null),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else if(Pe!==0||Q.isRenderTargetTexture||X.has(Q)){const Lr=X.get(Q),Li=X.get(Se);He.bindFramebuffer(ie.READ_FRAMEBUFFER,Nt),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,kt);for(let Jr=0;Jr<_t;Jr++)Rr?ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Lr.__webglTexture,Pe,tn+Jr):ie.framebufferTexture2D(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Lr.__webglTexture,Pe),Wn?ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Li.__webglTexture,ft,Cn+Jr):ie.framebufferTexture2D(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Li.__webglTexture,ft),Pe!==0?ie.blitFramebuffer(zt,jt,bt,xt,Ot,Kt,bt,xt,ie.COLOR_BUFFER_BIT,ie.NEAREST):Wn?ie.copyTexSubImage3D(wt,ft,Ot,Kt,Cn+Jr,zt,jt,bt,xt):ie.copyTexSubImage2D(wt,ft,Ot,Kt,zt,jt,bt,xt);He.bindFramebuffer(ie.READ_FRAMEBUFFER,null),He.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else Wn?Q.isDataTexture||Q.isData3DTexture?ie.texSubImage3D(wt,ft,Ot,Kt,Cn,bt,xt,_t,cn,qt,Qn.data):Se.isCompressedArrayTexture?ie.compressedTexSubImage3D(wt,ft,Ot,Kt,Cn,bt,xt,_t,cn,Qn.data):ie.texSubImage3D(wt,ft,Ot,Kt,Cn,bt,xt,_t,cn,qt,Qn):Q.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,ft,Ot,Kt,bt,xt,cn,qt,Qn.data):Q.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,ft,Ot,Kt,Qn.width,Qn.height,cn,Qn.data):ie.texSubImage2D(ie.TEXTURE_2D,ft,Ot,Kt,bt,xt,cn,qt,Qn);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,_n),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Lt),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,fr),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Cr),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,zn),ft===0&&Se.generateMipmaps&&ie.generateMipmap(wt),He.unbindTexture()},this.initRenderTarget=function(Q){X.get(Q).__webglFramebuffer===void 0&&ye.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?ye.setTextureCube(Q,0):Q.isData3DTexture?ye.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?ye.setTexture2DArray(Q,0):ye.setTexture2D(Q,0),He.unbindTexture()},this.resetState=function(){F=0,G=0,V=null,He.reset(),it.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=cr._getDrawingBufferColorSpace(e),n.unpackColorSpace=cr._getUnpackColorSpace()}}const Rce=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:NA,AddEquation:Yd,AddOperation:r9,AdditiveAnimationBlendMode:NL,AdditiveBlending:MM,AgXToneMapping:TL,AlphaFormat:DL,AlwaysCompare:g9,AlwaysDepth:CM,AlwaysStencilFunc:nN,AmbientLight:c$,AnimationAction:y$,AnimationClip:Px,AnimationLoader:Dre,AnimationMixer:oie,AnimationObjectGroup:iie,AnimationUtils:Cre,ArcCurve:N9,ArrayCamera:p$,ArrowHelper:Rie,AttachedBindMode:QI,Audio:g$,AudioAnalyser:Xre,AudioContext:rU,AudioListener:$re,AudioLoader:zre,AxesHelper:Oie,BackSide:Eo,BasicDepthPacking:l9,BasicShadowMap:U7,BatchedMesh:C9,BezierInterpolant:n$,Bone:jL,BooleanKeyframeTrack:ym,Box2:hie,Box3:Ua,Box3Helper:Tie,BoxGeometry:ph,BoxHelper:Aie,BufferAttribute:Wr,BufferGeometry:In,BufferGeometryLoader:d$,ByteType:kA,Cache:xu,Camera:mT,CameraHelper:Eie,CanvasTexture:Xne,CapsuleGeometry:JA,CatmullRomCurve3:k9,CineonToneMapping:EL,CircleGeometry:QA,ClampToEdgeWrapping:$i,Clock:b$,Color:Vt,ColorKeyframeTrack:JL,ColorManagement:cr,Compatibility:Bte,CompressedArrayTexture:Wne,CompressedCubeTexture:qne,CompressedTexture:ZA,CompressedTextureLoader:Ire,ConeGeometry:k_,ConstantAlphaFactor:e9,ConstantColorFactor:J7,Controls:Die,CubeCamera:h$,CubeDepthTexture:D9,CubeReflectionMapping:wc,CubeRefractionMapping:oh,CubeTexture:I_,CubeTextureLoader:i$,CubeUVReflectionMapping:by,CubicBezierCurve:GL,CubicBezierCurve3:L9,CubicInterpolant:e$,CullFaceBack:KI,CullFaceFront:L7,CullFaceFrontBack:Jee,CullFaceNone:k7,Curve:Tc,CurvePath:B9,CustomBlending:B7,CustomToneMapping:AL,CylinderGeometry:N_,Cylindrical:die,Data3DTexture:$A,DataArrayTexture:GA,DataTexture:Nl,DataTextureLoader:QL,DataUtils:Bp,DecrementStencilOp:mte,DecrementWrapStencilOp:vte,DefaultLoadingManager:yv,DepthFormat:Tu,DepthStencilFormat:Jd,DepthTexture:zv,DetachedBindMode:i9,DirectionalLight:l$,DirectionalLightHelper:Mie,DiscreteInterpolant:t$,DodecahedronGeometry:eT,DoubleSide:js,DstAlphaFactor:q7,DstColorFactor:Y7,DynamicCopyUsage:Dte,DynamicDrawUsage:Ate,DynamicReadUsage:Rte,EdgesGeometry:I9,EllipseCurve:tT,EqualCompare:h9,EqualDepth:OM,EqualStencilFunc:_te,EquirectangularReflectionMapping:Tv,EquirectangularRefractionMapping:Yb,Euler:Ys,EventDispatcher:Pu,ExternalTexture:HL,ExtrudeGeometry:nT,FileLoader:$s,Float16BufferAttribute:Ane,Float32BufferAttribute:Yt,FloatType:Mi,Fog:qA,FogExp2:WA,FramebufferTexture:$ne,FrontSide:Lf,Frustum:xy,FrustumArray:KA,GLBufferAttribute:fie,GLSL1:Nte,GLSL3:rN,GreaterCompare:p9,GreaterDepth:DM,GreaterEqualCompare:VA,GreaterEqualDepth:PM,GreaterEqualStencilFunc:Ete,GreaterStencilFunc:wte,GridHelper:Sie,Group:vv,HalfFloatType:Wi,HemisphereLight:a$,HemisphereLightHelper:_ie,IcosahedronGeometry:L_,ImageBitmapLoader:jre,ImageLoader:Dx,ImageUtils:_9,IncrementStencilOp:pte,IncrementWrapStencilOp:gte,InstancedBufferAttribute:rm,InstancedBufferGeometry:nU,InstancedInterleavedBuffer:uie,InstancedMesh:T9,Int16BufferAttribute:Mne,Int32BufferAttribute:Ene,Int8BufferAttribute:_ne,IntType:R_,InterleavedBuffer:XA,InterleavedBufferAttribute:nm,Interpolant:_y,InterpolateBezier:tN,InterpolateDiscrete:bx,InterpolateLinear:dE,InterpolateSmooth:hM,InterpolationSamplingMode:Ute,InterpolationSamplingType:Lte,InvertStencilOp:yte,KeepStencilOp:Tp,KeyframeTrack:Fl,LOD:E9,LatheGeometry:rT,Layers:jv,LessCompare:d9,LessDepth:RM,LessEqualCompare:HA,LessEqualDepth:Qp,LessEqualStencilFunc:Ste,LessStencilFunc:xte,Light:gh,LightProbe:f$,Line:lh,Line3:gie,LineBasicMaterial:Co,LineCurve:$L,LineCurve3:U9,LineDashedMaterial:J9,LineLoop:R9,LineSegments:Iu,LinearFilter:or,LinearInterpolant:ZL,LinearMipMapLinearFilter:eN,LinearMipMapNearestFilter:nte,LinearMipmapLinearFilter:bu,LinearMipmapNearestFilter:Kb,LinearSRGBColorSpace:Mc,LinearToneMapping:wL,LinearTransfer:_x,Loader:Ko,LoaderUtils:lN,LoadingManager:pT,LoopOnce:a9,LoopPingPong:s9,LoopRepeat:o9,MOUSE:Ep,Material:To,MaterialBlending:Qee,MaterialLoader:gT,MathUtils:x9,Matrix2:sU,Matrix3:Dn,Matrix4:wn,MaxEquation:H7,Mesh:li,MeshBasicMaterial:Du,MeshDepthMaterial:dT,MeshDistanceMaterial:hT,MeshLambertMaterial:K9,MeshMatcapMaterial:Z9,MeshNormalMaterial:Y9,MeshPhongMaterial:q9,MeshPhysicalMaterial:W9,MeshStandardMaterial:fT,MeshToonMaterial:X9,MinEquation:z7,MirroredRepeatWrapping:yx,MixOperation:n9,MultiplyBlending:JI,MultiplyOperation:C_,NearestFilter:ea,NearestMipMapLinearFilter:tte,NearestMipMapNearestFilter:ete,NearestMipmapLinearFilter:mv,NearestMipmapNearestFilter:RL,NeutralToneMapping:CL,NeverCompare:f9,NeverDepth:TM,NeverStencilFunc:bte,NoBlending:_c,NoColorSpace:Cf,NoNormalPacking:cte,NoToneMapping:Il,NormalAnimationBlendMode:zA,NormalBlending:Wp,NormalGAPacking:fte,NormalRGPacking:ute,NotEqualCompare:m9,NotEqualDepth:IM,NotEqualStencilFunc:Mte,NumberKeyframeTrack:Rx,Object3D:br,ObjectLoader:Bre,ObjectSpaceNormalMap:u9,OctahedronGeometry:U_,OneFactor:G7,OneMinusConstantAlphaFactor:t9,OneMinusConstantColorFactor:Q7,OneMinusDstAlphaFactor:X7,OneMinusDstColorFactor:K7,OneMinusSrcAlphaFactor:AM,OneMinusSrcColorFactor:W7,OrthographicCamera:kl,PCFShadowMap:Av,PCFSoftShadowMap:Xb,PMREMGenerator:fN,Path:gE,PerspectiveCamera:Ni,Plane:gu,PlaneGeometry:Cc,PlaneHelper:Cie,PointLight:s$,PointLightHelper:bie,Points:O9,PointsMaterial:zL,PolarGridHelper:wie,PolyhedronGeometry:mh,PositionalAudio:qre,PropertyBinding:yr,PropertyMixer:v$,QuadraticBezierCurve:WL,QuadraticBezierCurve3:qL,Quaternion:no,QuaternionKeyframeTrack:F_,QuaternionLinearInterpolant:r$,R11_EAC_Format:zM,RED_GREEN_RGTC2_Format:uE,RED_RGTC1_Format:lE,REVISION:yy,RG11_EAC_Format:VM,RGBADepthPacking:c9,RGBAFormat:ta,RGBAIntegerFormat:jA,RGBA_ASTC_10x10_Format:nE,RGBA_ASTC_10x5_Format:QM,RGBA_ASTC_10x6_Format:eE,RGBA_ASTC_10x8_Format:tE,RGBA_ASTC_12x10_Format:rE,RGBA_ASTC_12x12_Format:iE,RGBA_ASTC_4x4_Format:$M,RGBA_ASTC_5x4_Format:WM,RGBA_ASTC_5x5_Format:qM,RGBA_ASTC_6x5_Format:XM,RGBA_ASTC_6x6_Format:YM,RGBA_ASTC_8x5_Format:KM,RGBA_ASTC_8x6_Format:ZM,RGBA_ASTC_8x8_Format:JM,RGBA_BPTC_Format:aE,RGBA_ETC2_EAC_Format:jM,RGBA_PVRTC_2BPPV1_Format:UM,RGBA_PVRTC_4BPPV1_Format:LM,RGBA_S3TC_DXT1_Format:Jb,RGBA_S3TC_DXT3_Format:Qb,RGBA_S3TC_DXT5_Format:ex,RGBDepthPacking:ste,RGBFormat:IL,RGBIntegerFormat:rte,RGB_BPTC_SIGNED_Format:oE,RGB_BPTC_UNSIGNED_Format:sE,RGB_ETC1_Format:BM,RGB_ETC2_Format:FM,RGB_PVRTC_2BPPV1_Format:kM,RGB_PVRTC_4BPPV1_Format:NM,RGB_S3TC_DXT1_Format:Zb,RGDepthPacking:lte,RGFormat:em,RGIntegerFormat:FA,RawShaderMaterial:YL,Ray:vm,Raycaster:oU,RectAreaLight:u$,RedFormat:O_,RedIntegerFormat:P_,ReinhardToneMapping:ML,RenderTarget:LL,RenderTarget3D:sie,RepeatWrapping:vx,ReplaceStencilOp:hte,ReverseSubtractEquation:j7,RingGeometry:iT,SIGNED_R11_EAC_Format:HM,SIGNED_RED_GREEN_RGTC2_Format:fE,SIGNED_RED_RGTC1_Format:cE,SIGNED_RG11_EAC_Format:GM,SRGBColorSpace:to,SRGBTransfer:Nr,Scene:D_,ShaderChunk:Fn,ShaderLib:yc,ShaderMaterial:ro,ShadowMaterial:G9,Shape:Xp,ShapeGeometry:aT,ShapePath:Pie,ShapeUtils:xc,ShortType:LA,Skeleton:YA,SkeletonHelper:yie,SkinnedMesh:A9,Source:Qd,Sphere:Ba,SphereGeometry:B_,Spherical:vE,SphericalHarmonics3:tU,SplineCurve:XL,SpotLight:o$,SpotLightHelper:vie,Sprite:M9,SpriteMaterial:FL,SrcAlphaFactor:EM,SrcAlphaSaturateFactor:Z7,SrcColorFactor:$7,StaticCopyUsage:Pte,StaticDrawUsage:Sx,StaticReadUsage:Cte,StereoCamera:Hre,StreamCopyUsage:Ite,StreamDrawUsage:Tte,StreamReadUsage:Ote,StringKeyframeTrack:bm,SubtractEquation:F7,SubtractiveBlending:ZI,TOUCH:Ap,TangentSpaceNormalMap:hh,TetrahedronGeometry:oT,Texture:Fr,TextureLoader:Nre,TextureUtils:Uie,Timer:m$,TimestampQuery:kte,TorusGeometry:sT,TorusKnotGeometry:lT,Triangle:Ss,TriangleFanDrawMode:ote,TriangleStripDrawMode:ate,TrianglesDrawMode:ite,TubeGeometry:cT,UVMapping:ah,Uint16BufferAttribute:UL,Uint32BufferAttribute:BL,Uint8BufferAttribute:Sne,Uint8ClampedBufferAttribute:wne,Uniform:vT,UniformsGroup:cie,UniformsLib:Gt,UniformsUtils:uT,UnsignedByteType:La,UnsignedInt101111Type:PL,UnsignedInt248Type:Bv,UnsignedInt5999Type:OL,UnsignedIntType:Xs,UnsignedShort4444Type:UA,UnsignedShort5551Type:BA,UnsignedShortType:Uv,VSMShadowMap:kp,Vector2:mt,Vector3:de,Vector4:Ur,VectorKeyframeTrack:Ox,VideoFrameTexture:Gne,VideoTexture:P9,WebGL3DRenderTarget:fne,WebGLArrayRenderTarget:une,WebGLCoordinateSystem:Vs,WebGLCubeRenderTarget:bT,WebGLRenderTarget:Yo,WebGLRenderer:lU,WebGLUtils:A$,WebGPUCoordinateSystem:tm,WebXRController:pM,WireframeGeometry:V9,WrapAroundEnding:xx,ZeroCurvatureEnding:Lp,ZeroFactor:V7,ZeroSlopeEnding:Up,ZeroStencilOp:dte,createCanvasElement:y9,error:ln,getConsoleFunction:Hte,log:Mx,setConsoleFunction:zte,warn:Ht,warnOnce:Ex},Symbol.toStringTag,{value:"Module"}));var lO={exports:{}},cO={},uO={exports:{}},fO={};var TF;function Oce(){if(TF)return fO;TF=1;var t=T_();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(h,g){var y=g(),b=r({inst:{value:y,getSnapshot:g}}),_=b[0].inst,x=b[1];return a(function(){_.value=y,_.getSnapshot=g,l(_)&&x({inst:_})},[h,y,g]),i(function(){return l(_)&&x({inst:_}),h(function(){l(_)&&x({inst:_})})},[h]),o(y),y}function l(h){var g=h.getSnapshot;h=h.value;try{var y=g();return!n(h,y)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return fO.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,fO}var CF;function Pce(){return CF||(CF=1,uO.exports=Oce()),uO.exports}var RF;function Dce(){if(RF)return cO;RF=1;var t=T_(),e=Pce();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,l=t.useDebugValue;return cO.useSyncExternalStoreWithSelector=function(u,d,h,g,y){var b=a(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=s(function(){function w(O){if(!E){if(E=!0,A=O,O=g(O),y!==void 0&&_.hasValue){var N=_.value;if(y(N,O))return C=N}return C=O}if(N=C,r(A,O))return N;var R=g(O);return y!==void 0&&y(N,R)?(A=O,N):(A=O,C=R)}var E=!1,A,C,T=h===void 0?null:h;return[function(){return w(d())},T===null?void 0:function(){return w(T())}]},[d,h,g,y]);var x=i(u,b[0],b[1]);return o(function(){_.hasValue=!0,_.value=x},[x]),l(x),x},cO}var OF;function Ice(){return OF||(OF=1,lO.exports=Dce()),lO.exports}var Nce=Ice();const kce=Mr(Nce),{useSyncExternalStoreWithSelector:Lce}=kce,Uce=t=>t;function Bce(t,e=Uce,n){const r=Lce(t.subscribe,t.getState,t.getInitialState,e,n);return he.useDebugValue(r),r}const PF=(t,e)=>{const n=P7(t),r=(i,a=e)=>Bce(n,i,a);return Object.assign(r,n),r},T$=((t,e)=>t?PF(t,e):PF),Fce=t=>typeof t=="object"&&typeof t.then=="function",jp=[];function C$(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function R$(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of jp)if(C$(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=jp.indexOf(i);a!==-1&&jp.splice(a,1)},promise:(Fce(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(jp.push(i),!n)throw i.promise}const O$=(t,e,n)=>R$(t,e,!1,n),jce=(t,e,n)=>{R$(t,e,!0,n)},zce=t=>{if(t===void 0||t.length===0)jp.splice(0,jp.length);else{const e=jp.find(n=>C$(t,n.keys,n.equal));e&&e.remove()}};var pN=w7();const Hce=Mr(pN);function cU(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=cU(r,e,n);if(i)return i;r=e?null:r.sibling}}function P$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const uU=P$(B.createContext(null));class D$ extends B.Component{render(){return B.createElement(uU.Provider,{value:this._reactInternals},this.props.children)}}function I$(){const t=B.useContext(uU);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=cU(n,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}const Vce=Symbol.for("react.context"),Gce=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Vce;function $ce(){const t=I$(),[e]=B.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;Gce(r)&&r!==uU&&!e.has(r)&&e.set(r,B.use(P$(r))),n=n.return}return e}function Wce(){const t=$ce();return B.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>B.createElement(e,null,B.createElement(n.Provider,{...r,value:t.get(n)})),e=>B.createElement(D$,{...e})),[t])}function N$(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const k$=t=>t&&t.isOrthographicCamera,qce=t=>t&&t.hasOwnProperty("current"),Xce=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),j_=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?B.useLayoutEffect:B.useEffect;function fU(t){const e=B.useRef(t);return j_(()=>{e.current=t},[t]),e}function Yce(){const t=I$(),e=Wce();return B.useMemo(()=>({children:n})=>{const i=!!cU(t,!0,a=>a.type===B.StrictMode)?B.StrictMode:B.Fragment;return I.jsx(i,{children:I.jsx(e,{children:n})})},[t,e])}function Kce({set:t}){return j_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Zce=(t=>(t=class extends B.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function L$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Yg(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const wi={obj:t=>t===Object(t)&&!wi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(wi.str(t)||wi.num(t)||wi.boo(t))return t===e;const a=wi.obj(t);if(a&&r==="reference")return t===e;const o=wi.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!wi.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(wi.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Jce(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function Qce(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const U$=["children","key","ref"];function eue(t){const e={};for(const n in t)U$.includes(n)||(e[n]=t[n]);return e}function yE(t,e,n,r){const i=t;let a=i?.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:eue(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function Ix(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const r=e.split("-");for(const i of r){if(typeof n!="object"||n===null){if(n!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=i,t=n,n=n[e]}return{root:t,key:e,target:n}}const DF=/-\d+$/;function bE(t,e){if(wi.str(e.props.attach)){if(DF.test(e.props.attach)){const i=e.props.attach.replace(DF,""),{root:a,key:o}=Ix(t.object,i);Array.isArray(a[o])||(a[o]=[])}const{root:n,key:r}=Ix(t.object,e.props.attach);e.previousAttach=n[r],n[r]=e.object}else wi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function xE(t,e){if(wi.str(e.props.attach)){const{root:n,key:r}=Ix(t.object,e.props.attach),i=e.previousAttach;i===void 0?delete n[r]:n[r]=i}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const mN=[...U$,"args","dispose","attach","object","onUpdate","dispose"],IF=new Map;function tue(t){let e=IF.get(t.constructor);try{e||(e=new t.constructor,IF.set(t.constructor,e))}catch{}return e}function nue(t,e){const n={};for(const r in e)if(!mN.includes(r)&&!wi.equ(e[r],t.props[r])){n[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(n[i]=e[i])}for(const r in t.props){if(mN.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=Ix(t.object,r);if(i.constructor&&i.constructor.length===0){const o=tue(i);wi.und(o)||(n[a]=o[a])}else n[a]=0}return n}const rue=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],iue=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function vu(t,e){var n;const r=t.__r3f,i=r&&N$(r).getState(),a=r?.eventCount;for(const s in e){let l=e[s];if(mN.includes(s))continue;if(r&&iue.test(s)){typeof l=="function"?r.handlers[s]=l:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:u,key:d,target:h}=Ix(t,s);if(h===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${d}".`);if(h instanceof jv&&l instanceof jv)h.mask=l.mask;else if(h instanceof Vt&&Xce(l))h.set(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&l!=null&&l.constructor&&h.constructor===l.constructor)h.copy(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(l))typeof h.fromArray=="function"?h.fromArray(l):h.set(...l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof l=="number")typeof h.setScalar=="function"?h.setScalar(l):h.set(l);else{var o;u[d]=l,i&&!i.linear&&rue.includes(d)&&(o=u[d])!=null&&o.isTexture&&u[d].format===ta&&u[d].type===La&&(u[d].colorSpace=to)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(n=r.object)!=null&&n.isObject3D&&a!==r.eventCount){const s=r.object,l=i.internal.interaction.indexOf(s);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&s.raycast!==null&&i.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&wy(r),t}function wy(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function B$(t,e){t.manual||(k$(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Go=t=>t?.isObject3D;function Tw(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function F$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function aue(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{F$(n.capturedMap,e,r,i)})}function oue(t){function e(l){const{internal:u}=t.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(l,u){const d=t.getState(),h=new Set,g=[],y=u?u(d.internal.interaction):d.internal.interaction;for(let w=0;w<y.length;w++){const E=Yg(y[w]);E&&(E.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function b(w){const E=Yg(w);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var A;E.events.compute==null||E.events.compute(l,E,(A=E.previousRoot)==null?void 0:A.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(w,!0):[]}let _=y.flatMap(b).sort((w,E)=>{const A=Yg(w.object),C=Yg(E.object);return!A||!C?w.distance-E.distance:C.events.priority-A.events.priority||w.distance-E.distance}).filter(w=>{const E=Tw(w);return h.has(E)?!1:(h.add(E),!0)});d.events.filter&&(_=d.events.filter(_,d));for(const w of _){let E=w.object;for(;E;){var x;(x=E.__r3f)!=null&&x.eventCount&&g.push({...w,eventObject:E}),E=E.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())h.has(Tw(w.intersection))||g.push(w.intersection);return g}function i(l,u,d,h){if(l.length){const g={stopped:!1};for(const y of l){let b=Yg(y.object);if(b||y.object.traverseAncestors(_=>{const x=Yg(_);if(x)return b=x,!1}),b){const{raycaster:_,pointer:x,camera:w,internal:E}=b,A=new de(x.x,x.y,0).unproject(w),C=k=>{var z,F;return(z=(F=E.capturedMap.get(k))==null?void 0:F.has(y.eventObject))!=null?z:!1},T=k=>{const z={intersection:y,target:u.target};E.capturedMap.has(k)?E.capturedMap.get(k).set(y.eventObject,z):E.capturedMap.set(k,new Map([[y.eventObject,z]])),u.target.setPointerCapture(k)},O=k=>{const z=E.capturedMap.get(k);z&&F$(E.capturedMap,y.eventObject,z,k)};let N={};for(let k in u){let z=u[k];typeof z!="function"&&(N[k]=z)}let R={...y,...N,pointer:x,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:A,ray:_.ray,camera:w,stopPropagation(){const k="pointerId"in u&&E.capturedMap.get(u.pointerId);if((!k||k.has(y.eventObject))&&(R.stopped=g.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(z=>z.eventObject===y.eventObject))){const z=l.slice(0,l.indexOf(y));a([...z,y])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:O},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:O},nativeEvent:u};if(h(R),g.stopped===!0)break}}}return l}function a(l){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const g=d.eventObject.__r3f;if(u.hovered.delete(Tw(d)),g!=null&&g.eventCount){const y=g.handlers,b={...d,intersections:l};y.onPointerOut==null||y.onPointerOut(b),y.onPointerLeave==null||y.onPointerLeave(b)}}}function o(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),a([]))})}}return function(d){const{onPointerMissed:h,internal:g}=t.getState();g.lastEvent.current=d;const y=l==="onPointerMove",b=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(d,y?n:void 0),w=b?e(d):0;l==="onPointerDown"&&(g.initialClick=[d.offsetX,d.offsetY],g.initialHits=x.map(A=>A.eventObject)),b&&!x.length&&w<=2&&(o(d,g.interaction),h&&h(d)),y&&a(x);function E(A){const C=A.eventObject,T=C.__r3f;if(!(T!=null&&T.eventCount))return;const O=T.handlers;if(y){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const N=Tw(A),R=g.hovered.get(N);R?R.stopped&&A.stopPropagation():(g.hovered.set(N,A),O.onPointerOver==null||O.onPointerOver(A),O.onPointerEnter==null||O.onPointerEnter(A))}O.onPointerMove==null||O.onPointerMove(A)}else{const N=O[l];N?(!b||g.initialHits.includes(C))&&(o(d,g.interaction.filter(R=>!g.initialHits.includes(R))),N(A)):b&&g.initialHits.includes(C)&&o(d,g.interaction.filter(R=>!g.initialHits.includes(R)))}}i(x,d,w,E)}}return{handlePointer:s}}const NF=t=>!!(t!=null&&t.render),dU=B.createContext(null),sue=(t,e)=>{const n=T$((s,l)=>{const u=new de,d=new de,h=new de;function g(w=l().camera,E=d,A=l().size){const{width:C,height:T,top:O,left:N}=A,R=C/T;E.isVector3?h.copy(E):h.set(...E);const k=w.getWorldPosition(u).distanceTo(h);if(k$(w))return{width:C/w.zoom,height:T/w.zoom,top:O,left:N,factor:1,distance:k,aspect:R};{const z=w.fov*Math.PI/180,F=2*Math.tan(z/2)*k,G=F*(C/T);return{width:G,height:F,top:O,left:N,factor:C/G,distance:k,aspect:R}}}let y;const b=w=>s(E=>({performance:{...E.performance,current:w}})),_=new mt;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(w=1)=>t(l(),w),advance:(w,E)=>e(w,E,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new b$,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();y&&clearTimeout(y),w.performance.current!==w.performance.min&&b(w.performance.min),y=setTimeout(()=>b(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:w=>s(E=>({...E,events:{...E.events,...w}})),setSize:(w,E,A=0,C=0)=>{const T=l().camera,O={width:w,height:E,top:A,left:C};s(N=>({size:O,viewport:{...N.viewport,...g(T,d,O)}}))},setDpr:w=>s(E=>{const A=L$(w);return{viewport:{...E.viewport,dpr:A,initialDpr:E.viewport.initialDpr||A}}}),setFrameloop:(w="always")=>{const E=l().clock;E.stop(),E.elapsedTime=0,w!=="never"&&(E.start(),E.elapsedTime=0),s(()=>({frameloop:w}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:B.createRef(),active:!1,frames:0,priority:0,subscribe:(w,E,A)=>{const C=l().internal;return C.priority=C.priority+(E>0?1:0),C.subscribers.push({ref:w,priority:E,store:A}),C.subscribers=C.subscribers.sort((T,O)=>T.priority-O.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(E>0?1:0),T.subscribers=T.subscribers.filter(O=>O.ref!==w))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:d,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){i=l,a=u.dpr,B$(s,l),u.dpr>0&&d.setPixelRatio(u.dpr);const g=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,g)}s!==o&&(o=s,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};function hU(){const t=B.useContext(dU);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function So(t=n=>n,e){return hU()(t,e)}function xm(t,e=0){const n=hU(),r=n.getState().internal.subscribe,i=fU(t);return j_(()=>r(i,e,n),[e,r,n]),null}const kF=new WeakMap,lue=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function j$(t,e){return function(n,...r){let i;return lue(n)?(i=kF.get(n),i||(i=new n,kF.set(n,i))):i=n,t&&t(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{Go(l?.scene)&&Object.assign(l,Jce(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l?.message}`))))))}}function Gv(t,e,n,r){const i=Array.isArray(e)?e:[e],a=O$(j$(n,r),[t,...i],{equal:wi.equ});return Array.isArray(e)?a:a[0]}Gv.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return jce(j$(n),[t,...r])};Gv.clear=function(t,e){const n=Array.isArray(e)?e:[e];return zce([t,...n])};const cue=1,uue=8,fue=32,due=2;var hue={version:"9.5.0"};function pue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LF={exports:{}},UF={exports:{}},BF;function mue(){return BF||(BF=1,(function(t){t.exports=function(e){function n(p,m,M,P){return new o0(p,m,M,P)}function r(){}function i(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)m+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(p){var m=p,M=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,(m.flags&4098)!==0&&(M=m.return),p=m.return;while(p)}return m.tag===3?M:null}function o(p){if(a(p)!==p)throw Error(i(188))}function s(p){var m=p.alternate;if(!m){if(m=a(p),m===null)throw Error(i(188));return m!==p?null:p}for(var M=p,P=m;;){var U=M.return;if(U===null)break;var j=U.alternate;if(j===null){if(P=U.return,P!==null){M=P;continue}break}if(U.child===j.child){for(j=U.child;j;){if(j===M)return o(U),p;if(j===P)return o(U),m;j=j.sibling}throw Error(i(188))}if(M.return!==P.return)M=U,P=j;else{for(var oe=!1,Te=U.child;Te;){if(Te===M){oe=!0,M=U,P=j;break}if(Te===P){oe=!0,P=U,M=j;break}Te=Te.sibling}if(!oe){for(Te=j.child;Te;){if(Te===M){oe=!0,M=j,P=U;break}if(Te===P){oe=!0,P=j,M=U;break}Te=Te.sibling}if(!oe)throw Error(i(189))}}if(M.alternate!==P)throw Error(i(190))}if(M.tag!==3)throw Error(i(188));return M.stateNode.current===M?p:m}function l(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p;for(p=p.child;p!==null;){if(m=l(p),m!==null)return m;p=p.sibling}return null}function u(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(m=u(p),m!==null))return m;p=p.sibling}return null}function d(p){return p===null||typeof p!="object"?null:(p=Yl&&p[Yl]||p["@@iterator"],typeof p=="function"?p:null)}function h(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===Yc?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case Ju:return"Fragment";case ef:return"Profiler";case Qu:return"StrictMode";case Km:return"Suspense";case Xl:return"SuspenseList";case Fh:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case Zu:return"Portal";case ss:return p.displayName||"Context";case Bh:return(p._context.displayName||"Context")+".Consumer";case hd:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case Zm:return m=p.displayName||null,m!==null?m:h(p.type)||"Memo";case Ga:m=p._payload,p=p._init;try{return h(p(m))}catch{}}return null}function g(p){return{current:p}}function y(p){0>of||(p.current=ug[of],ug[of]=null,of--)}function b(p,m){of++,ug[of]=p.current,p.current=m}function _(p){return p>>>=0,p===0?32:31-(fg(p)/hS|0)|0}function x(p){var m=p&42;if(m!==0)return m;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function w(p,m,M){var P=p.pendingLanes;if(P===0)return 0;var U=0,j=p.suspendedLanes,oe=p.pingedLanes;p=p.warmLanes;var Te=P&134217727;return Te!==0?(P=Te&~j,P!==0?U=x(P):(oe&=Te,oe!==0?U=x(oe):M||(M=Te&~p,M!==0&&(U=x(M))))):(Te=P&~j,Te!==0?U=x(Te):oe!==0?U=x(oe):M||(M=P&~p,M!==0&&(U=x(M)))),U===0?0:m!==0&&m!==U&&(m&j)===0&&(j=U&-U,M=m&-m,j>=M||j===32&&(M&4194048)!==0)?m:U}function E(p,m){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&m)===0}function A(p,m){switch(p){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(){var p=xd;return xd<<=1,(xd&62914560)===0&&(xd=4194304),p}function T(p){for(var m=[],M=0;31>M;M++)m.push(p);return m}function O(p,m){p.pendingLanes|=m,m!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function N(p,m,M,P,U,j){var oe=p.pendingLanes;p.pendingLanes=M,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=M,p.entangledLanes&=M,p.errorRecoveryDisabledLanes&=M,p.shellSuspendCounter=0;var Te=p.entanglements,ot=p.expirationTimes,Mt=p.hiddenUpdates;for(M=oe&~M;0<M;){var Bt=31-fo(M),Rt=1<<Bt;Te[Bt]=0,ot[Bt]=-1;var Wt=Mt[Bt];if(Wt!==null)for(Mt[Bt]=null,Bt=0;Bt<Wt.length;Bt++){var Tn=Wt[Bt];Tn!==null&&(Tn.lane&=-536870913)}M&=~Rt}P!==0&&R(p,P,0),j!==0&&U===0&&p.tag!==0&&(p.suspendedLanes|=j&~(oe&~m))}function R(p,m,M){p.pendingLanes|=m,p.suspendedLanes&=~m;var P=31-fo(m);p.entangledLanes|=m,p.entanglements[P]=p.entanglements[P]|1073741824|M&261930}function k(p,m){var M=p.entangledLanes|=m;for(p=p.entanglements;M;){var P=31-fo(M),U=1<<P;U&m|p[P]&m&&(p[P]|=m),M&=~U}}function z(p,m){var M=m&-m;return M=(M&42)!==0?1:F(M),(M&(p.suspendedLanes|m))!==0?0:M}function F(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function G(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function V(p){if(typeof $0=="function"&&gS(p),ho&&typeof ho.setStrictMode=="function")try{ho.setStrictMode(lf,p)}catch{}}function W(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}function K(p){if(vg===void 0)try{throw Error()}catch(M){var m=M.stack.trim().match(/\n( *(at )?)/);vg=m&&m[1]||"",ml=-1<M.stack.indexOf(`
    at`)?" (<anonymous>)":-1<M.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vg+p+ml}function H(p,m){if(!p||Xh)return"";Xh=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(m){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(Tn){var Wt=Tn}Reflect.construct(p,[],Rt)}else{try{Rt.call()}catch(Tn){Wt=Tn}p.call(Rt.prototype)}}else{try{throw Error()}catch(Tn){Wt=Tn}(Rt=p())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(Tn){if(Tn&&Wt&&typeof Tn.stack=="string")return[Tn.stack,Wt.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=P.DetermineComponentFrameRoot(),oe=j[0],Te=j[1];if(oe&&Te){var ot=oe.split(`
`),Mt=Te.split(`
`);for(U=P=0;P<ot.length&&!ot[P].includes("DetermineComponentFrameRoot");)P++;for(;U<Mt.length&&!Mt[U].includes("DetermineComponentFrameRoot");)U++;if(P===ot.length||U===Mt.length)for(P=ot.length-1,U=Mt.length-1;1<=P&&0<=U&&ot[P]!==Mt[U];)U--;for(;1<=P&&0<=U;P--,U--)if(ot[P]!==Mt[U]){if(P!==1||U!==1)do if(P--,U--,0>U||ot[P]!==Mt[U]){var Bt=`
`+ot[P].replace(" at new "," at ");return p.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",p.displayName)),Bt}while(1<=P&&0<=U);break}}}finally{Xh=!1,Error.prepareStackTrace=M}return(M=p?p.displayName||p.name:"")?K(M):""}function q(p,m){switch(p.tag){case 26:case 27:case 5:return K(p.type);case 16:return K("Lazy");case 13:return p.child!==m&&m!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return H(p.type,!1);case 11:return H(p.type.render,!1);case 1:return H(p.type,!0);case 31:return K("Activity");default:return""}}function Z(p){try{var m="",M=null;do m+=q(p,M),M=p,p=p.return;while(p);return m}catch(P){return`
Error generating stack: `+P.message+`
`+P.stack}}function ee(p,m){if(typeof p=="object"&&p!==null){var M=W0.get(p);return M!==void 0?M:(m={value:p,source:m,stack:Z(m)},W0.set(p,m),m)}return{value:p,source:m,stack:Z(m)}}function ae(p,m){Jl[gl++]=Yh,Jl[gl++]=Pr,Pr=p,Yh=m}function $(p,m,M){us[Uo++]=pa,us[Uo++]=Rs,us[Uo++]=fs,fs=p;var P=pa;p=Rs;var U=32-fo(P)-1;P&=~(1<<U),M+=1;var j=32-fo(m)+U;if(30<j){var oe=U-U%5;j=(P&(1<<oe)-1).toString(32),P>>=oe,U-=oe,pa=1<<32-fo(m)+U|M<<U|P,Rs=j+p}else pa=1<<j|M<<U|P,Rs=p}function J(p){p.return!==null&&(ae(p,1),$(p,1,0))}function ne(p){for(;p===Pr;)Pr=Jl[--gl],Jl[gl]=null,Yh=Jl[--gl],Jl[gl]=null;for(;p===fs;)fs=us[--Uo],us[Uo]=null,Rs=us[--Uo],us[Uo]=null,pa=us[--Uo],us[Uo]=null}function fe(p,m){us[Uo++]=pa,us[Uo++]=Rs,us[Uo++]=fs,pa=m.id,Rs=m.overflow,fs=p}function ge(p,m){b(ma,m),b(Ql,p),b(aa,null),p=R1(m),y(aa),b(aa,p)}function ce(){y(aa),y(Ql),y(ma)}function le(p){p.memoizedState!==null&&b(Kh,p);var m=aa.current,M=gd(m,p.type);m!==M&&(b(Ql,p),b(aa,M))}function pe(p){Ql.current===p&&(y(aa),y(Ql)),Kh.current===p&&(y(Kh),Ai?rf._currentValue=nf:rf._currentValue2=nf)}function xe(p){var m=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fe(ee(m,p)),yg}function Oe(p,m){if(!ti)throw Error(i(175));tS(p.stateNode,p.type,p.memoizedProps,m,p)||xe(p,!0)}function _e(p){for(Yi=p.return;Yi;)switch(Yi.tag){case 5:case 31:case 13:Wa=!1;return;case 27:case 3:Wa=!0;return;default:Yi=Yi.return}}function ve(p){if(!ti||p!==Yi)return!1;if(!Xn)return _e(p),Xn=!0,!1;var m=p.tag;if(Xi?m!==3&&m!==27&&(m!==5||bd(p.type)&&!$a(p.type,p.memoizedProps))&&ni&&xe(p):m!==3&&(m!==5||bd(p.type)&&!$a(p.type,p.memoizedProps))&&ni&&xe(p),_e(p),m===13){if(!ti)throw Error(i(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));ni=N0(p)}else if(m===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));ni=rS(p)}else ni=Xi&&m===27?q1(p.type,ni):Yi?W1(p.stateNode):null;return!0}function Qe(){ti&&(ni=Yi=null,Xn=!1)}function Ee(){var p=vl;return p!==null&&(go===null?go=p:go.push.apply(go,p),vl=null),p}function Fe(p){vl===null?vl=[p]:vl.push(p)}function Ne(p,m,M){Ai?(b(ds,m._currentValue),m._currentValue=M):(b(ds,m._currentValue2),m._currentValue2=M)}function Ge(p){var m=ds.current;Ai?p._currentValue=m:p._currentValue2=m,y(ds)}function ie(p,m,M){for(;p!==null;){var P=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,P!==null&&(P.childLanes|=m)):P!==null&&(P.childLanes&m)!==m&&(P.childLanes|=m),p===M)break;p=p.return}}function et(p,m,M,P){var U=p.child;for(U!==null&&(U.return=p);U!==null;){var j=U.dependencies;if(j!==null){var oe=U.child;j=j.firstContext;e:for(;j!==null;){var Te=j;j=U;for(var ot=0;ot<m.length;ot++)if(Te.context===m[ot]){j.lanes|=M,Te=j.alternate,Te!==null&&(Te.lanes|=M),ie(j.return,M,p),P||(oe=null);break e}j=Te.next}}else if(U.tag===18){if(oe=U.return,oe===null)throw Error(i(341));oe.lanes|=M,j=oe.alternate,j!==null&&(j.lanes|=M),ie(oe,M,p),oe=null}else oe=U.child;if(oe!==null)oe.return=U;else for(oe=U;oe!==null;){if(oe===p){oe=null;break}if(U=oe.sibling,U!==null){U.return=oe.return,oe=U;break}oe=oe.return}U=oe}}function Ke(p,m,M,P){p=null;for(var U=m,j=!1;U!==null;){if(!j){if((U.flags&524288)!==0)j=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var oe=U.alternate;if(oe===null)throw Error(i(387));if(oe=oe.memoizedProps,oe!==null){var Te=U.type;Ci(U.pendingProps.value,oe.value)||(p!==null?p.push(Te):p=[Te])}}else if(U===Kh.current){if(oe=U.alternate,oe===null)throw Error(i(387));oe.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(p!==null?p.push(rf):p=[rf])}U=U.return}p!==null&&et(m,p,M,P),m.flags|=262144}function Be(p){for(p=p.firstContext;p!==null;){var m=p.context;if(!Ci(Ai?m._currentValue:m._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function He(p){Hr=p,Os=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function re(p){return ye(Hr,p)}function X(p,m){return Hr===null&&He(p),ye(p,m)}function ye(p,m){var M=Ai?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:M,next:null},Os===null){if(p===null)throw Error(i(308));Os=m,p.dependencies={lanes:0,firstContext:m},p.flags|=524288}else Os=Os.next=m;return M}function je(){return{controller:new vS,data:new Map,refCount:0}}function Ue(p){p.refCount--,p.refCount===0&&oa(GC,function(){p.controller.abort()})}function ke(){}function ut(p){p!==Er&&p.next===null&&(Er===null?Zh=Er=p:Er=Er.next=p),hs=!0,Pa||(Pa=!0,me())}function lt(p,m){if(!bg&&hs){bg=!0;do for(var M=!1,P=Zh;P!==null;){if(p!==0){var U=P.pendingLanes;if(U===0)var j=0;else{var oe=P.suspendedLanes,Te=P.pingedLanes;j=(1<<31-fo(42|p)+1)-1,j&=U&~(oe&~Te),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(M=!0,rt(P,j))}else j=Yn,j=w(P,P===Bn?j:0,P.cancelPendingCommit!==null||P.timeoutHandle!==uo),(j&3)===0||E(P,j)||(M=!0,rt(P,j));P=P.next}while(M);bg=!1}}function Tt(){Dt()}function Dt(){hs=Pa=!1;var p=0;eu!==0&&tf()&&(p=eu);for(var m=Oa(),M=null,P=Zh;P!==null;){var U=P.next,j=Ye(P,m);j===0?(P.next=null,M===null?Zh=U:M.next=U,U===null&&(Er=M)):(M=P,(p!==0||(j&3)!==0)&&(hs=!0)),P=U}zi!==0&&zi!==5||lt(p),eu!==0&&(eu=0)}function Ye(p,m){for(var M=p.suspendedLanes,P=p.pingedLanes,U=p.expirationTimes,j=p.pendingLanes&-62914561;0<j;){var oe=31-fo(j),Te=1<<oe,ot=U[oe];ot===-1?((Te&M)===0||(Te&P)!==0)&&(U[oe]=A(Te,m)):ot<=m&&(p.expiredLanes|=Te),j&=~Te}if(m=Bn,M=Yn,M=w(p,p===m?M:0,p.cancelPendingCommit!==null||p.timeoutHandle!==uo),P=p.callbackNode,M===0||p===m&&(Tr===2||Tr===9)||p.cancelPendingCommit!==null)return P!==null&&P!==null&&hg(P),p.callbackNode=null,p.callbackPriority=0;if((M&3)===0||E(p,M)){if(m=M&-M,m===p.callbackPriority)return m;switch(P!==null&&hg(P),G(M)){case 2:case 8:M=mS;break;case 32:M=qh;break;case 268435456:M=mg;break;default:M=qh}return P=$e.bind(null,p),M=Wh(M,P),p.callbackPriority=m,p.callbackNode=M,m}return P!==null&&P!==null&&hg(P),p.callbackPriority=2,p.callbackNode=null,2}function $e(p,m){if(zi!==0&&zi!==5)return p.callbackNode=null,p.callbackPriority=0,null;var M=p.callbackNode;if(dl()&&p.callbackNode!==M)return null;var P=Yn;return P=w(p,p===Bn?P:0,p.cancelPendingCommit!==null||p.timeoutHandle!==uo),P===0?null:(Cs(p,P,m),Ye(p,Oa()),p.callbackNode!=null&&p.callbackNode===M?$e.bind(null,p):null)}function rt(p,m){if(dl())return null;Cs(p,m,!0)}function me(){y0?b0(function(){(Gn&6)!==0?Wh(pg,Tt):Dt()}):Wh(pg,Tt)}function Le(){if(eu===0){var p=ec;p===0&&(p=dg,dg<<=1,(dg&261888)===0&&(dg=256)),eu=p}return eu}function dt(p,m){if(_d===null){var M=_d=[];q0=0,ec=Le(),Ki={status:"pending",value:void 0,then:function(P){M.push(P)}}}return q0++,m.then(be,be),m}function be(){if(--q0===0&&_d!==null){Ki!==null&&(Ki.status="fulfilled");var p=_d;_d=null,ec=0,Ki=null;for(var m=0;m<p.length;m++)(0,p[m])()}}function Ae(p,m){var M=[],P={status:"pending",value:null,reason:null,then:function(U){M.push(U)}};return p.then(function(){P.status="fulfilled",P.value=m;for(var U=0;U<M.length;U++)(0,M[U])(m)},function(U){for(P.status="rejected",P.reason=U,U=0;U<M.length;U++)(0,M[U])(void 0)}),P}function it(){var p=tu.current;return p!==null?p:Bn.pooledCache}function Pt(p,m){m===null?b(tu,tu.current):b(tu,m.pool)}function ct(){var p=it();return p===null?null:{parent:Ai?ri._currentValue:ri._currentValue2,pool:p}}function Ce(p,m){if(Ci(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var M=Object.keys(p),P=Object.keys(m);if(M.length!==P.length)return!1;for(P=0;P<M.length;P++){var U=M[P];if(!VC.call(m,U)||!Ci(p[U],m[U]))return!1}return!0}function gt(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Et(p,m,M){switch(M=p[M],M===void 0?p.push(m):M!==m&&(m.then(ke,ke),m=M),m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,rn(p),p;default:if(typeof m.status=="string")m.then(ke,ke);else{if(p=Bn,p!==null&&100<p.shellSuspendCounter)throw Error(i(482));p=m,p.status="pending",p.then(function(P){if(m.status==="pending"){var U=m;U.status="fulfilled",U.value=P}},function(P){if(m.status==="pending"){var U=m;U.status="rejected",U.reason=P}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,rn(p),p}throw qa=m,Zi}}function Ct(p){try{var m=p._init;return m(p._payload)}catch(M){throw M!==null&&typeof M=="object"&&typeof M.then=="function"?(qa=M,Zi):M}}function $t(){if(qa===null)throw Error(i(459));var p=qa;return qa=null,p}function rn(p){if(p===Zi||p===ms)throw Error(i(483))}function hn(p){var m=cf;return cf+=1,nu===null&&(nu=[]),Et(nu,p,m)}function Jn(p,m){m=m.props.ref,p.ref=m!==void 0?m:null}function rr(p,m){throw m.$$typeof===Ku?Error(i(525)):(p=Object.prototype.toString.call(m),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p)))}function gr(p){function m(Ze,Ve){if(p){var nt=Ze.deletions;nt===null?(Ze.deletions=[Ve],Ze.flags|=16):nt.push(Ve)}}function M(Ze,Ve){if(!p)return null;for(;Ve!==null;)m(Ze,Ve),Ve=Ve.sibling;return null}function P(Ze){for(var Ve=new Map;Ze!==null;)Ze.key!==null?Ve.set(Ze.key,Ze):Ve.set(Ze.index,Ze),Ze=Ze.sibling;return Ve}function U(Ze,Ve){return Ze=ko(Ze,Ve),Ze.index=0,Ze.sibling=null,Ze}function j(Ze,Ve,nt){return Ze.index=nt,p?(nt=Ze.alternate,nt!==null?(nt=nt.index,nt<Ve?(Ze.flags|=67108866,Ve):nt):(Ze.flags|=67108866,Ve)):(Ze.flags|=1048576,Ve)}function oe(Ze){return p&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function Te(Ze,Ve,nt,Ut){return Ve===null||Ve.tag!==6?(Ve=s0(nt,Ze.mode,Ut),Ve.return=Ze,Ve):(Ve=U(Ve,nt),Ve.return=Ze,Ve)}function ot(Ze,Ve,nt,Ut){var dn=nt.type;return dn===Ju?Bt(Ze,Ve,nt.props.children,Ut,nt.key):Ve!==null&&(Ve.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Ga&&Ct(dn)===Ve.type)?(Ve=U(Ve,nt.props),Jn(Ve,nt),Ve.return=Ze,Ve):(Ve=ql(nt.type,nt.key,nt.props,null,Ze.mode,Ut),Jn(Ve,nt),Ve.return=Ze,Ve)}function Mt(Ze,Ve,nt,Ut){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==nt.containerInfo||Ve.stateNode.implementation!==nt.implementation?(Ve=c0(nt,Ze.mode,Ut),Ve.return=Ze,Ve):(Ve=U(Ve,nt.children||[]),Ve.return=Ze,Ve)}function Bt(Ze,Ve,nt,Ut,dn){return Ve===null||Ve.tag!==7?(Ve=os(nt,Ze.mode,Ut,dn),Ve.return=Ze,Ve):(Ve=U(Ve,nt),Ve.return=Ze,Ve)}function Rt(Ze,Ve,nt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=s0(""+Ve,Ze.mode,nt),Ve.return=Ze,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case hl:return nt=ql(Ve.type,Ve.key,Ve.props,null,Ze.mode,nt),Jn(nt,Ve),nt.return=Ze,nt;case Zu:return Ve=c0(Ve,Ze.mode,nt),Ve.return=Ze,Ve;case Ga:return Ve=Ct(Ve),Rt(Ze,Ve,nt)}if(Kc(Ve)||d(Ve))return Ve=os(Ve,Ze.mode,nt,null),Ve.return=Ze,Ve;if(typeof Ve.then=="function")return Rt(Ze,hn(Ve),nt);if(Ve.$$typeof===ss)return Rt(Ze,X(Ze,Ve),nt);rr(Ze,Ve)}return null}function Wt(Ze,Ve,nt,Ut){var dn=Ve!==null?Ve.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return dn!==null?null:Te(Ze,Ve,""+nt,Ut);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case hl:return nt.key===dn?ot(Ze,Ve,nt,Ut):null;case Zu:return nt.key===dn?Mt(Ze,Ve,nt,Ut):null;case Ga:return nt=Ct(nt),Wt(Ze,Ve,nt,Ut)}if(Kc(nt)||d(nt))return dn!==null?null:Bt(Ze,Ve,nt,Ut,null);if(typeof nt.then=="function")return Wt(Ze,Ve,hn(nt),Ut);if(nt.$$typeof===ss)return Wt(Ze,Ve,X(Ze,nt),Ut);rr(Ze,nt)}return null}function Tn(Ze,Ve,nt,Ut,dn){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return Ze=Ze.get(nt)||null,Te(Ve,Ze,""+Ut,dn);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case hl:return Ze=Ze.get(Ut.key===null?nt:Ut.key)||null,ot(Ve,Ze,Ut,dn);case Zu:return Ze=Ze.get(Ut.key===null?nt:Ut.key)||null,Mt(Ve,Ze,Ut,dn);case Ga:return Ut=Ct(Ut),Tn(Ze,Ve,nt,Ut,dn)}if(Kc(Ut)||d(Ut))return Ze=Ze.get(nt)||null,Bt(Ve,Ze,Ut,dn,null);if(typeof Ut.then=="function")return Tn(Ze,Ve,nt,hn(Ut),dn);if(Ut.$$typeof===ss)return Tn(Ze,Ve,nt,X(Ve,Ut),dn);rr(Ve,Ut)}return null}function Pi(Ze,Ve,nt,Ut){for(var dn=null,gi=null,pn=Ve,sr=Ve=0,sa=null;pn!==null&&sr<nt.length;sr++){pn.index>sr?(sa=pn,pn=null):sa=pn.sibling;var pr=Wt(Ze,pn,nt[sr],Ut);if(pr===null){pn===null&&(pn=sa);break}p&&pn&&pr.alternate===null&&m(Ze,pn),Ve=j(pr,Ve,sr),gi===null?dn=pr:gi.sibling=pr,gi=pr,pn=sa}if(sr===nt.length)return M(Ze,pn),Xn&&ae(Ze,sr),dn;if(pn===null){for(;sr<nt.length;sr++)pn=Rt(Ze,nt[sr],Ut),pn!==null&&(Ve=j(pn,Ve,sr),gi===null?dn=pn:gi.sibling=pn,gi=pn);return Xn&&ae(Ze,sr),dn}for(pn=P(pn);sr<nt.length;sr++)sa=Tn(pn,Ze,sr,nt[sr],Ut),sa!==null&&(p&&sa.alternate!==null&&pn.delete(sa.key===null?sr:sa.key),Ve=j(sa,Ve,sr),gi===null?dn=sa:gi.sibling=sa,gi=sa);return p&&pn.forEach(function(ys){return m(Ze,ys)}),Xn&&ae(Ze,sr),dn}function Rd(Ze,Ve,nt,Ut){if(nt==null)throw Error(i(151));for(var dn=null,gi=null,pn=Ve,sr=Ve=0,sa=null,pr=nt.next();pn!==null&&!pr.done;sr++,pr=nt.next()){pn.index>sr?(sa=pn,pn=null):sa=pn.sibling;var ys=Wt(Ze,pn,pr.value,Ut);if(ys===null){pn===null&&(pn=sa);break}p&&pn&&ys.alternate===null&&m(Ze,pn),Ve=j(ys,Ve,sr),gi===null?dn=ys:gi.sibling=ys,gi=ys,pn=sa}if(pr.done)return M(Ze,pn),Xn&&ae(Ze,sr),dn;if(pn===null){for(;!pr.done;sr++,pr=nt.next())pr=Rt(Ze,pr.value,Ut),pr!==null&&(Ve=j(pr,Ve,sr),gi===null?dn=pr:gi.sibling=pr,gi=pr);return Xn&&ae(Ze,sr),dn}for(pn=P(pn);!pr.done;sr++,pr=nt.next())pr=Tn(pn,Ze,sr,pr.value,Ut),pr!==null&&(p&&pr.alternate!==null&&pn.delete(pr.key===null?sr:pr.key),Ve=j(pr,Ve,sr),gi===null?dn=pr:gi.sibling=pr,gi=pr);return p&&pn.forEach(function($C){return m(Ze,$C)}),Xn&&ae(Ze,sr),dn}function uu(Ze,Ve,nt,Ut){if(typeof nt=="object"&&nt!==null&&nt.type===Ju&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case hl:e:{for(var dn=nt.key;Ve!==null;){if(Ve.key===dn){if(dn=nt.type,dn===Ju){if(Ve.tag===7){M(Ze,Ve.sibling),Ut=U(Ve,nt.props.children),Ut.return=Ze,Ze=Ut;break e}}else if(Ve.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Ga&&Ct(dn)===Ve.type){M(Ze,Ve.sibling),Ut=U(Ve,nt.props),Jn(Ut,nt),Ut.return=Ze,Ze=Ut;break e}M(Ze,Ve);break}else m(Ze,Ve);Ve=Ve.sibling}nt.type===Ju?(Ut=os(nt.props.children,Ze.mode,Ut,nt.key),Ut.return=Ze,Ze=Ut):(Ut=ql(nt.type,nt.key,nt.props,null,Ze.mode,Ut),Jn(Ut,nt),Ut.return=Ze,Ze=Ut)}return oe(Ze);case Zu:e:{for(dn=nt.key;Ve!==null;){if(Ve.key===dn)if(Ve.tag===4&&Ve.stateNode.containerInfo===nt.containerInfo&&Ve.stateNode.implementation===nt.implementation){M(Ze,Ve.sibling),Ut=U(Ve,nt.children||[]),Ut.return=Ze,Ze=Ut;break e}else{M(Ze,Ve);break}else m(Ze,Ve);Ve=Ve.sibling}Ut=c0(nt,Ze.mode,Ut),Ut.return=Ze,Ze=Ut}return oe(Ze);case Ga:return nt=Ct(nt),uu(Ze,Ve,nt,Ut)}if(Kc(nt))return Pi(Ze,Ve,nt,Ut);if(d(nt)){if(dn=d(nt),typeof dn!="function")throw Error(i(150));return nt=dn.call(nt),Rd(Ze,Ve,nt,Ut)}if(typeof nt.then=="function")return uu(Ze,Ve,hn(nt),Ut);if(nt.$$typeof===ss)return uu(Ze,Ve,X(Ze,nt),Ut);rr(Ze,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,Ve!==null&&Ve.tag===6?(M(Ze,Ve.sibling),Ut=U(Ve,nt),Ut.return=Ze,Ze=Ut):(M(Ze,Ve),Ut=s0(nt,Ze.mode,Ut),Ut.return=Ze,Ze=Ut),oe(Ze)):M(Ze,Ve)}return function(Ze,Ve,nt,Ut){try{cf=0;var dn=uu(Ze,Ve,nt,Ut);return nu=null,dn}catch(pn){if(pn===Zi||pn===ms)throw pn;var gi=n(29,pn,null,Ze.mode);return gi.lanes=Ut,gi.return=Ze,gi}}}function Zr(){for(var p=bl,m=uf=bl=0;m<p;){var M=va[m];va[m++]=null;var P=va[m];va[m++]=null;var U=va[m];va[m++]=null;var j=va[m];if(va[m++]=null,P!==null&&U!==null){var oe=P.pending;oe===null?U.next=U:(U.next=oe.next,oe.next=U),P.pending=U}j!==0&&vr(M,U,j)}}function hr(p,m,M,P){va[bl++]=p,va[bl++]=m,va[bl++]=M,va[bl++]=P,uf|=P,p.lanes|=P,p=p.alternate,p!==null&&(p.lanes|=P)}function kr(p,m,M,P){return hr(p,m,M,P),ur(p)}function an(p,m){return hr(p,null,null,m),ur(p)}function vr(p,m,M){p.lanes|=M;var P=p.alternate;P!==null&&(P.lanes|=M);for(var U=!1,j=p.return;j!==null;)j.childLanes|=M,P=j.alternate,P!==null&&(P.childLanes|=M),j.tag===22&&(p=j.stateNode,p===null||p._visibility&1||(U=!0)),p=j,j=j.return;return p.tag===3?(j=p.stateNode,U&&m!==null&&(U=31-fo(M),p=j.hiddenUpdates,P=p[U],P===null?p[U]=[m]:P.push(m),m.lane=M|536870912),j):null}function ur(p){if(50<dr)throw dr=0,rp=null,Error(i(185));for(var m=p.return;m!==null;)p=m,m=p.return;return p.tag===3?p.stateNode:null}function te(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ue(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function we(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function We(p,m,M){var P=p.updateQueue;if(P===null)return null;if(P=P.shared,(Gn&2)!==0){var U=P.pending;return U===null?m.next=m:(m.next=U.next,U.next=m),P.pending=m,m=ur(p),vr(p,null,M),m}return hr(p,P,m,M),ur(p)}function tt(p,m,M){if(m=m.updateQueue,m!==null&&(m=m.shared,(M&4194048)!==0)){var P=m.lanes;P&=p.pendingLanes,M|=P,m.lanes=M,k(p,M)}}function at(p,m){var M=p.updateQueue,P=p.alternate;if(P!==null&&(P=P.updateQueue,M===P)){var U=null,j=null;if(M=M.firstBaseUpdate,M!==null){do{var oe={lane:M.lane,tag:M.tag,payload:M.payload,callback:null,next:null};j===null?U=j=oe:j=j.next=oe,M=M.next}while(M!==null);j===null?U=j=m:j=j.next=m}else U=j=m;M={baseState:P.baseState,firstBaseUpdate:U,lastBaseUpdate:j,shared:P.shared,callbacks:P.callbacks},p.updateQueue=M;return}p=M.lastBaseUpdate,p===null?M.firstBaseUpdate=m:p.next=m,M.lastBaseUpdate=m}function At(){if(_g){var p=Ki;if(p!==null)throw p}}function St(p,m,M,P){_g=!1;var U=p.updateQueue;Bo=!1;var j=U.firstBaseUpdate,oe=U.lastBaseUpdate,Te=U.shared.pending;if(Te!==null){U.shared.pending=null;var ot=Te,Mt=ot.next;ot.next=null,oe===null?j=Mt:oe.next=Mt,oe=ot;var Bt=p.alternate;Bt!==null&&(Bt=Bt.updateQueue,Te=Bt.lastBaseUpdate,Te!==oe&&(Te===null?Bt.firstBaseUpdate=Mt:Te.next=Mt,Bt.lastBaseUpdate=ot))}if(j!==null){var Rt=U.baseState;oe=0,Bt=Mt=ot=null,Te=j;do{var Wt=Te.lane&-536870913,Tn=Wt!==Te.lane;if(Tn?(Yn&Wt)===Wt:(P&Wt)===Wt){Wt!==0&&Wt===ec&&(_g=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var Pi=p,Rd=Te;Wt=m;var uu=M;switch(Rd.tag){case 1:if(Pi=Rd.payload,typeof Pi=="function"){Rt=Pi.call(uu,Rt,Wt);break e}Rt=Pi;break e;case 3:Pi.flags=Pi.flags&-65537|128;case 0:if(Pi=Rd.payload,Wt=typeof Pi=="function"?Pi.call(uu,Rt,Wt):Pi,Wt==null)break e;Rt=Ym({},Rt,Wt);break e;case 2:Bo=!0}}Wt=Te.callback,Wt!==null&&(p.flags|=64,Tn&&(p.flags|=8192),Tn=U.callbacks,Tn===null?U.callbacks=[Wt]:Tn.push(Wt))}else Tn={lane:Wt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Bt===null?(Mt=Bt=Tn,ot=Rt):Bt=Bt.next=Tn,oe|=Wt;if(Te=Te.next,Te===null){if(Te=U.shared.pending,Te===null)break;Tn=Te,Te=Tn.next,Tn.next=null,U.lastBaseUpdate=Tn,U.shared.pending=null}}while(!0);Bt===null&&(ot=Rt),U.baseState=ot,U.firstBaseUpdate=Mt,U.lastBaseUpdate=Bt,j===null&&(U.shared.lanes=0),nc|=oe,p.lanes=oe,p.memoizedState=Rt}}function It(p,m){if(typeof p!="function")throw Error(i(191,p));p.call(m)}function Nt(p,m){var M=p.callbacks;if(M!==null)for(p.callbacks=null,p=0;p<M.length;p++)It(M[p],m)}function kt(p,m){p=_l,b(ru,p),b(ff,m),_l=p|m.baseLanes}function Q(){b(ru,_l),b(ff,ff.current)}function Se(){_l=ru.current,y(ff),y(ru)}function De(p){var m=p.alternate;b(xi,xi.current&1),b(po,p),mo===null&&(m===null||ff.current!==null||m.memoizedState!==null)&&(mo=p)}function Re(p){b(xi,xi.current),b(po,p),mo===null&&(mo=p)}function Pe(p){p.tag===22?(b(xi,xi.current),b(po,p),mo===null&&(mo=p)):ft()}function ft(){b(xi,xi.current),b(po,po.current)}function bt(p){y(po),mo===p&&(mo=null),y(xi)}function xt(p){for(var m=p;m!==null;){if(m.tag===13){var M=m.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||Jc(M)||rg(M)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function _t(){throw Error(i(321))}function zt(p,m){if(m===null)return!1;for(var M=0;M<m.length&&M<p.length;M++)if(!Ci(p[M],m[M]))return!1;return!0}function jt(p,m,M,P,U,j){return tc=j,On=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,un.H=p===null||p.memoizedState===null?hi:xl,ir=!1,j=M(P,U),ir=!1,Nn&&(j=Ot(m,M,P,U)),tn(p),j}function tn(p){un.H=Fo;var m=on!==null&&on.next!==null;if(tc=0,Mn=on=On=null,Un=!1,gs=0,Ps=null,m)throw Error(i(300));p===null||qr||(p=p.dependencies,p!==null&&Be(p)&&(qr=!0))}function Ot(p,m,M,P){On=p;var U=0;do{if(Nn&&(Ps=null),gs=0,Nn=!1,25<=U)throw Error(i(301));if(U+=1,Mn=on=null,p.updateQueue!=null){var j=p.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}un.H=iu,j=m(M,P)}while(Nn);return j}function Kt(){var p=un.H,m=p.useState()[0];return m=typeof m.then=="function"?Lt(m):m,p=p.useState()[0],(on!==null?on.memoizedState:null)!==p&&(On.flags|=1024),m}function Cn(){var p=Da!==0;return Da=0,p}function Qn(p,m,M){m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~M}function cn(p){if(Un){for(p=p.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}Un=!1}tc=0,Mn=on=On=null,Nn=!1,gs=Da=0,Ps=null}function qt(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?On.memoizedState=Mn=p:Mn=Mn.next=p,Mn}function wt(){if(on===null){var p=On.alternate;p=p!==null?p.memoizedState:null}else p=on.next;var m=Mn===null?On.memoizedState:Mn.next;if(m!==null)Mn=m,on=p;else{if(p===null)throw On.alternate===null?Error(i(467)):Error(i(310));on=p,p={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Mn===null?On.memoizedState=Mn=p:Mn=Mn.next=p}return Mn}function _n(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lt(p){var m=gs;return gs+=1,Ps===null&&(Ps=[]),p=Et(Ps,p,m),m=On,(Mn===null?m.memoizedState:Mn.next)===null&&(m=m.alternate,un.H=m===null||m.memoizedState===null?hi:xl),p}function fr(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Lt(p);if(p.$$typeof===ss)return re(p)}throw Error(i(438,String(p)))}function Cr(p){var m=null,M=On.updateQueue;if(M!==null&&(m=M.memoCache),m==null){var P=On.alternate;P!==null&&(P=P.updateQueue,P!==null&&(P=P.memoCache,P!=null&&(m={data:P.data.map(function(U){return U.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),M===null&&(M=_n(),On.updateQueue=M),M.memoCache=m,M=m.data[m.index],M===void 0)for(M=m.data[m.index]=Array(p),P=0;P<p;P++)M[P]=f0;return m.index++,M}function zn(p,m){return typeof m=="function"?m(p):m}function Rr(p){var m=wt();return Wn(m,on,p)}function Wn(p,m,M){var P=p.queue;if(P===null)throw Error(i(311));P.lastRenderedReducer=M;var U=p.baseQueue,j=P.pending;if(j!==null){if(U!==null){var oe=U.next;U.next=j.next,j.next=oe}m.baseQueue=U=j,P.pending=null}if(j=p.baseState,U===null)p.memoizedState=j;else{m=U.next;var Te=oe=null,ot=null,Mt=m,Bt=!1;do{var Rt=Mt.lane&-536870913;if(Rt!==Mt.lane?(Yn&Rt)===Rt:(tc&Rt)===Rt){var Wt=Mt.revertLane;if(Wt===0)ot!==null&&(ot=ot.next={lane:0,revertLane:0,gesture:null,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),Rt===ec&&(Bt=!0);else if((tc&Wt)===Wt){Mt=Mt.next,Wt===ec&&(Bt=!0);continue}else Rt={lane:0,revertLane:Mt.revertLane,gesture:null,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ot===null?(Te=ot=Rt,oe=j):ot=ot.next=Rt,On.lanes|=Wt,nc|=Wt;Rt=Mt.action,ir&&M(j,Rt),j=Mt.hasEagerState?Mt.eagerState:M(j,Rt)}else Wt={lane:Rt,revertLane:Mt.revertLane,gesture:Mt.gesture,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ot===null?(Te=ot=Wt,oe=j):ot=ot.next=Wt,On.lanes|=Rt,nc|=Rt;Mt=Mt.next}while(Mt!==null&&Mt!==m);if(ot===null?oe=j:ot.next=Te,!Ci(j,p.memoizedState)&&(qr=!0,Bt&&(M=Ki,M!==null)))throw M;p.memoizedState=j,p.baseState=oe,p.baseQueue=ot,P.lastRenderedState=j}return U===null&&(P.lanes=0),[p.memoizedState,P.dispatch]}function Lr(p){var m=wt(),M=m.queue;if(M===null)throw Error(i(311));M.lastRenderedReducer=p;var P=M.dispatch,U=M.pending,j=m.memoizedState;if(U!==null){M.pending=null;var oe=U=U.next;do j=p(j,oe.action),oe=oe.next;while(oe!==U);Ci(j,m.memoizedState)||(qr=!0),m.memoizedState=j,m.baseQueue===null&&(m.baseState=j),M.lastRenderedState=j}return[j,P]}function Li(p,m,M){var P=On,U=wt(),j=Xn;if(j){if(M===void 0)throw Error(i(407));M=M()}else M=m();var oe=!Ci((on||U).memoizedState,M);if(oe&&(U.memoizedState=M,qr=!0),U=U.queue,es(ao.bind(null,P,U,p),[p]),U.getSnapshot!==m||oe||Mn!==null&&Mn.memoizedState.tag&1){if(P.flags|=2048,Ta(9,{destroy:void 0},ja.bind(null,P,U,M,m),null),Bn===null)throw Error(i(349));j||(tc&127)!==0||Jr(P,m,M)}return M}function Jr(p,m,M){p.flags|=16384,p={getSnapshot:m,value:M},m=On.updateQueue,m===null?(m=_n(),On.updateQueue=m,m.stores=[p]):(M=m.stores,M===null?m.stores=[p]:M.push(p))}function ja(p,m,M,P){m.value=M,m.getSnapshot=P,Ro(m)&&wh(p)}function ao(p,m,M){return M(function(){Ro(m)&&wh(p)})}function Ro(p){var m=p.getSnapshot;p=p.value;try{var M=m();return!Ci(p,M)}catch{return!0}}function wh(p){var m=an(p,2);m!==null&&fi(m,p,2)}function Pc(p){var m=qt();if(typeof p=="function"){var M=p;if(p=M(),ir){V(!0);try{M()}finally{V(!1)}}}return m.memoizedState=m.baseState=p,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:p},m}function Jo(p,m,M,P){return p.baseState=M,Wn(p,on,typeof P=="function"?P:zn)}function Aa(p,m,M,P,U){if(Rm(p))throw Error(i(485));if(p=m.action,p!==null){var j={payload:U,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){j.listeners.push(oe)}};un.T!==null?M(!0):j.isTransition=!1,P(j),M=m.pending,M===null?(j.next=m.pending=j,Ks(m,j)):(j.next=M.next,m.pending=M.next=j)}}function Ks(p,m){var M=m.action,P=m.payload,U=p.state;if(m.isTransition){var j=un.T,oe={};un.T=oe;try{var Te=M(U,P),ot=un.S;ot!==null&&ot(oe,Te),Uu(p,m,Te)}catch(Mt){Qo(p,m,Mt)}finally{j!==null&&oe.types!==null&&(j.types=oe.types),un.T=j}}else try{j=M(U,P),Uu(p,m,j)}catch(Mt){Qo(p,m,Mt)}}function Uu(p,m,M){M!==null&&typeof M=="object"&&typeof M.then=="function"?M.then(function(P){Oo(p,m,P)},function(P){return Qo(p,m,P)}):Oo(p,m,M)}function Oo(p,m,M){m.status="fulfilled",m.value=M,Bu(m),p.state=M,m=p.pending,m!==null&&(M=m.next,M===m?p.pending=null:(M=M.next,m.next=M,Ks(p,M)))}function Qo(p,m,M){var P=p.pending;if(p.pending=null,P!==null){P=P.next;do m.status="rejected",m.reason=M,Bu(m),m=m.next;while(m!==P)}p.action=null}function Bu(p){p=p.listeners;for(var m=0;m<p.length;m++)(0,p[m])()}function Fu(p,m){return m}function Dc(p,m){if(Xn){var M=Bn.formState;if(M!==null){e:{var P=On;if(Xn){if(ni){var U=$1(ni,Wa);if(U){ni=W1(U),P=O0(U);break e}}xe(P)}P=!1}P&&(m=M[0])}}M=qt(),M.memoizedState=M.baseState=m,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:m},M.queue=P,M=Ts.bind(null,On,P),P.dispatch=M,P=Pc(!1);var j=Cm.bind(null,On,!1,P.queue);return P=qt(),U={state:m,dispatch:null,action:p,pending:null},P.queue=U,M=Aa.bind(null,On,U,j,M),U.dispatch=M,P.memoizedState=p,[m,M,!1]}function Zs(p){var m=wt();return Po(m,on,p)}function Po(p,m,M){if(m=Wn(p,m,Fu)[0],p=Rr(zn)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var P=Lt(m)}catch(oe){throw oe===Zi?ms:oe}else P=m;m=wt();var U=m.queue,j=U.dispatch;return M!==m.memoizedState&&(On.flags|=2048,Ta(9,{destroy:void 0},za.bind(null,U,M),null)),[P,j,p]}function za(p,m){p.action=m}function Js(p){var m=wt(),M=on;if(M!==null)return Po(m,M,p);wt(),m=m.memoizedState,M=wt();var P=M.queue.dispatch;return M.memoizedState=p,[m,P,!1]}function Ta(p,m,M,P){return p={tag:p,create:M,deps:P,inst:m,next:null},m=On.updateQueue,m===null&&(m=_n(),On.updateQueue=m),M=m.lastEffect,M===null?m.lastEffect=p.next=p:(P=M.next,M.next=p,p.next=P,m.lastEffect=p),p}function ju(){return wt().memoizedState}function Es(p,m,M,P){var U=qt();On.flags|=p,U.memoizedState=Ta(1|m,{destroy:void 0},M,P===void 0?null:P)}function Ic(p,m,M,P){var U=wt();P=P===void 0?null:P;var j=U.memoizedState.inst;on!==null&&P!==null&&zt(P,on.memoizedState.deps)?U.memoizedState=Ta(m,j,M,P):(On.flags|=p,U.memoizedState=Ta(1|m,j,M,P))}function Nc(p,m){Es(8390656,8,p,m)}function es(p,m){Ic(2048,8,p,m)}function kc(p){On.flags|=4;var m=On.updateQueue;if(m===null)m=_n(),On.updateQueue=m,m.events=[p];else{var M=m.events;M===null?m.events=[p]:M.push(p)}}function Qr(p){var m=wt().memoizedState;return kc({ref:m,nextImpl:p}),function(){if((Gn&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}function As(p,m){return Ic(4,2,p,m)}function zl(p,m){return Ic(4,4,p,m)}function Qs(p,m){if(typeof m=="function"){p=p();var M=m(p);return function(){typeof M=="function"?M():m(null)}}if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function Lc(p,m,M){M=M!=null?M.concat([p]):null,Ic(4,4,Qs.bind(null,m,p),M)}function Uc(){}function el(p,m){var M=wt();m=m===void 0?null:m;var P=M.memoizedState;return m!==null&&zt(m,P[1])?P[0]:(M.memoizedState=[p,m],p)}function tl(p,m){var M=wt();m=m===void 0?null:m;var P=M.memoizedState;if(m!==null&&zt(m,P[1]))return P[0];if(P=p(),ir){V(!0);try{p()}finally{V(!1)}}return M.memoizedState=[P,m],P}function Ui(p,m,M){return M===void 0||(tc&1073741824)!==0&&(Yn&261930)===0?p.memoizedState=m:(p.memoizedState=M,p=Gl(),On.lanes|=p,nc|=p,M)}function Mh(p,m,M,P){return Ci(M,m)?M:ff.current!==null?(p=Ui(p,M,P),Ci(p,m)||(qr=!0),p):(tc&42)===0||(tc&1073741824)!==0&&(Yn&261930)===0?(qr=!0,p.memoizedState=M):(p=Gl(),On.lanes|=p,nc|=p,m)}function zu(p,m,M,P,U){var j=ls();qn(j!==0&&8>j?j:8);var oe=un.T,Te={};un.T=Te,Cm(p,!1,m,M);try{var ot=U(),Mt=un.S;if(Mt!==null&&Mt(Te,ot),ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Bt=Ae(ot,P);Bc(p,m,Bt,ei(p))}else Bc(p,m,P,ei(p))}catch(Rt){Bc(p,m,{then:function(){},status:"rejected",reason:Rt},ei())}finally{qn(j),oe!==null&&Te.types!==null&&(oe.types=Te.types),un.T=oe}}function Hu(p){var m=p.memoizedState;if(m!==null)return m;m={memoizedState:nf,baseState:nf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:nf},next:null};var M={};return m.next={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:M},next:null},p.memoizedState=m,p=p.alternate,p!==null&&(p.memoizedState=m),m}function Zf(){return re(rf)}function Jf(){return wt().memoizedState}function da(){return wt().memoizedState}function Do(p){for(var m=p.return;m!==null;){switch(m.tag){case 24:case 3:var M=ei();p=we(M);var P=We(m,p,M);P!==null&&(fi(P,m,M),tt(P,m,M)),m={cache:je()},p.payload=m;return}m=m.return}}function Ca(p,m,M){var P=ei();M={lane:P,revertLane:0,gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},Rm(p)?i1(m,M):(M=kr(p,m,M,P),M!==null&&(fi(M,p,P),a1(M,m,P)))}function Ts(p,m,M){var P=ei();Bc(p,m,M,P)}function Bc(p,m,M,P){var U={lane:P,revertLane:0,gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null};if(Rm(p))i1(m,U);else{var j=p.alternate;if(p.lanes===0&&(j===null||j.lanes===0)&&(j=m.lastRenderedReducer,j!==null))try{var oe=m.lastRenderedState,Te=j(oe,M);if(U.hasEagerState=!0,U.eagerState=Te,Ci(Te,oe))return hr(p,m,U,0),Bn===null&&Zr(),!1}catch{}if(M=kr(p,m,U,P),M!==null)return fi(M,p,P),a1(M,m,P),!0}return!1}function Cm(p,m,M,P){if(P={lane:2,revertLane:Le(),gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null},Rm(p)){if(m)throw Error(i(479))}else m=kr(p,M,P,2),m!==null&&fi(m,p,2)}function Rm(p){var m=p.alternate;return p===On||m!==null&&m===On}function i1(p,m){Nn=Un=!0;var M=p.pending;M===null?m.next=m:(m.next=M.next,M.next=m),p.pending=m}function a1(p,m,M){if((M&4194048)!==0){var P=m.lanes;P&=p.pendingLanes,M|=P,m.lanes=M,k(p,M)}}function Hy(p,m,M,P){m=p.memoizedState,M=M(P,m),M=M==null?m:Ym({},m,M),p.memoizedState=M,p.lanes===0&&(p.updateQueue.baseState=M)}function Om(p,m,M,P,U,j,oe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(P,j,oe):m.prototype&&m.prototype.isPureReactComponent?!Ce(M,P)||!Ce(U,j):!0}function o1(p,m,M,P){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(M,P),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(M,P),m.state!==p&&Jh.enqueueReplaceState(m,m.state,null)}function Vu(p,m){var M=m;if("ref"in m){M={};for(var P in m)P!=="ref"&&(M[P]=m[P])}if(p=p.defaultProps){M===m&&(M=Ym({},M));for(var U in p)M[U]===void 0&&(M[U]=p[U])}return M}function Pm(p,m){try{var M=p.onUncaughtError;M(m.value,{componentStack:m.stack})}catch(P){setTimeout(function(){throw P})}}function Vy(p,m,M){try{var P=p.onCaughtError;P(M.value,{componentStack:M.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function Gy(p,m,M){return M=we(M),M.tag=3,M.payload={element:null},M.callback=function(){Pm(p,m)},M}function s1(p){return p=we(p),p.tag=3,p}function l1(p,m,M,P){var U=M.type.getDerivedStateFromError;if(typeof U=="function"){var j=P.value;p.payload=function(){return U(j)},p.callback=function(){Vy(m,M,P)}}var oe=M.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(p.callback=function(){Vy(m,M,P),typeof U!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var Te=P.stack;this.componentDidCatch(P.value,{componentStack:Te!==null?Te:""})})}function kC(p,m,M,P,U){if(M.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){if(m=M.alternate,m!==null&&Ke(m,M,U,!0),M=po.current,M!==null){switch(M.tag){case 31:case 13:return mo===null?cd():M.alternate===null&&mi===0&&(mi=3),M.flags&=-257,M.flags|=65536,M.lanes=U,P===yl?M.flags|=16384:(m=M.updateQueue,m===null?M.updateQueue=new Set([P]):m.add(P),dd(p,P,U)),!1;case 22:return M.flags|=65536,P===yl?M.flags|=16384:(m=M.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([P])},M.updateQueue=m):(M=m.retryQueue,M===null?m.retryQueue=new Set([P]):M.add(P)),dd(p,P,U)),!1}throw Error(i(435,M.tag))}return dd(p,P,U),cd(),!1}if(Xn)return m=po.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=U,P!==yg&&(p=Error(i(422),{cause:P}),Fe(ee(p,M)))):(P!==yg&&(m=Error(i(423),{cause:P}),Fe(ee(m,M))),p=p.current.alternate,p.flags|=65536,U&=-U,p.lanes|=U,P=ee(P,M),U=Gy(p.stateNode,P,U),at(p,U),mi!==4&&(mi=2)),!1;var j=Error(i(520),{cause:P});if(j=ee(j,M),ep===null?ep=[j]:ep.push(j),mi!==4&&(mi=2),m===null)return!0;P=ee(P,M),M=m;do{switch(M.tag){case 3:return M.flags|=65536,p=U&-U,M.lanes|=p,p=Gy(M.stateNode,P,p),at(M,p),!1;case 1:if(m=M.type,j=M.stateNode,(M.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(rc===null||!rc.has(j))))return M.flags|=65536,U&=-U,M.lanes|=U,U=s1(U),l1(U,p,M,P),at(M,U),!1}M=M.return}while(M!==null);return!1}function ha(p,m,M,P){m.child=p===null?X0(m,null,M,P):ga(m,p.child,M,P)}function c1(p,m,M,P,U){M=M.render;var j=m.ref;if("ref"in P){var oe={};for(var Te in P)Te!=="ref"&&(oe[Te]=P[Te])}else oe=P;return He(m),P=jt(p,m,M,oe,j,U),Te=Cn(),p!==null&&!qr?(Qn(p,m,U),nl(p,m,U)):(Xn&&Te&&J(m),m.flags|=1,ha(p,m,P,U),m.child)}function u1(p,m,M,P,U){if(p===null){var j=M.type;return typeof j=="function"&&!Xu(j)&&j.defaultProps===void 0&&M.compare===null?(m.tag=15,m.type=j,f1(p,m,j,P,U)):(p=ql(M.type,null,P,m,m.mode,U),p.ref=m.ref,p.return=m,m.child=p)}if(j=p.child,!Ah(p,U)){var oe=j.memoizedProps;if(M=M.compare,M=M!==null?M:Ce,M(oe,P)&&p.ref===m.ref)return nl(p,m,U)}return m.flags|=1,p=ko(j,P),p.ref=m.ref,p.return=m,m.child=p}function f1(p,m,M,P,U){if(p!==null){var j=p.memoizedProps;if(Ce(j,P)&&p.ref===m.ref)if(qr=!1,m.pendingProps=P=j,Ah(p,U))(p.flags&131072)!==0&&(qr=!0);else return m.lanes=p.lanes,nl(p,m,U)}return Im(p,m,M,P,U)}function d1(p,m,M,P){var U=P.children,j=p!==null?p.memoizedState:null;if(p===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),P.mode==="hidden"){if((m.flags&128)!==0){if(j=j!==null?j.baseLanes|M:M,p!==null){for(P=m.child=p.child,U=0;P!==null;)U=U|P.lanes|P.childLanes,P=P.sibling;P=U&~j}else P=0,m.child=null;return Qf(p,m,j,M,P)}if((M&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},p!==null&&Pt(m,j!==null?j.cachePool:null),j!==null?kt(m,j):Q(),Pe(m);else return P=m.lanes=536870912,Qf(p,m,j!==null?j.baseLanes|M:M,M,P)}else j!==null?(Pt(m,j.cachePool),kt(m,j),ft(),m.memoizedState=null):(p!==null&&Pt(m,null),Q(),ft());return ha(p,m,U,M),m.child}function Gu(p,m){return p!==null&&p.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Qf(p,m,M,P,U){var j=it();return j=j===null?null:{parent:Ai?ri._currentValue:ri._currentValue2,pool:j},m.memoizedState={baseLanes:M,cachePool:j},p!==null&&Pt(m,null),Q(),Pe(m),p!==null&&Ke(p,m,P,!0),m.childLanes=U,null}function Dm(p,m){return m=Fc({mode:m.mode,children:m.children},p.mode),m.ref=p.ref,p.child=m,m.return=p,m}function $y(p,m,M){return ga(m,p.child,null,M),p=Dm(m,m.pendingProps),p.flags|=2,bt(m),m.memoizedState=null,p}function h1(p,m,M){var P=m.pendingProps,U=(m.flags&128)!==0;if(m.flags&=-129,p===null){if(Xn){if(P.mode==="hidden")return p=Dm(m,P),m.lanes=536870912,Gu(null,p);if(Re(m),(p=ni)?(p=D0(p,Wa),p!==null&&(m.memoizedState={dehydrated:p,treeContext:fs!==null?{id:pa,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},M=l0(p),M.return=m,m.child=M,Yi=m,ni=null)):p=null,p===null)throw xe(m);return m.lanes=536870912,null}return Dm(m,P)}var j=p.memoizedState;if(j!==null){var oe=j.dehydrated;if(Re(m),U)if(m.flags&256)m.flags&=-257,m=$y(p,m,M);else if(m.memoizedState!==null)m.child=p.child,m.flags|=128,m=null;else throw Error(i(558));else if(qr||Ke(p,m,M,!1),U=(M&p.childLanes)!==0,qr||U){if(P=Bn,P!==null&&(oe=z(P,M),oe!==0&&oe!==j.retryLane))throw j.retryLane=oe,an(p,oe),fi(P,p,oe),Xa;cd(),m=$y(p,m,M)}else p=j.treeContext,ti&&(ni=K1(oe),Yi=m,Xn=!0,vl=null,Wa=!1,p!==null&&fe(m,p)),m=Dm(m,P),m.flags|=4096;return m}return p=ko(p.child,{mode:P.mode,children:P.children}),p.ref=m.ref,m.child=p,p.return=m,p}function Eh(p,m){var M=m.ref;if(M===null)p!==null&&p.ref!==null&&(m.flags|=4194816);else{if(typeof M!="function"&&typeof M!="object")throw Error(i(284));(p===null||p.ref!==M)&&(m.flags|=4194816)}}function Im(p,m,M,P,U){return He(m),M=jt(p,m,M,P,void 0,U),P=Cn(),p!==null&&!qr?(Qn(p,m,U),nl(p,m,U)):(Xn&&P&&J(m),m.flags|=1,ha(p,m,M,U),m.child)}function Wy(p,m,M,P,U,j){return He(m),m.updateQueue=null,M=Ot(m,P,M,U),tn(p),P=Cn(),p!==null&&!qr?(Qn(p,m,j),nl(p,m,j)):(Xn&&P&&J(m),m.flags|=1,ha(p,m,M,j),m.child)}function $u(p,m,M,P,U){if(He(m),m.stateNode===null){var j=pl,oe=M.contextType;typeof oe=="object"&&oe!==null&&(j=re(oe)),j=new M(P,j),m.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Jh,m.stateNode=j,j._reactInternals=m,j=m.stateNode,j.props=P,j.state=m.memoizedState,j.refs={},te(m),oe=M.contextType,j.context=typeof oe=="object"&&oe!==null?re(oe):pl,j.state=m.memoizedState,oe=M.getDerivedStateFromProps,typeof oe=="function"&&(Hy(m,M,oe,P),j.state=m.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(oe=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),oe!==j.state&&Jh.enqueueReplaceState(j,j.state,null),St(m,P,j,U),At(),j.state=m.memoizedState),typeof j.componentDidMount=="function"&&(m.flags|=4194308),P=!0}else if(p===null){j=m.stateNode;var Te=m.memoizedProps,ot=Vu(M,Te);j.props=ot;var Mt=j.context,Bt=M.contextType;oe=pl,typeof Bt=="object"&&Bt!==null&&(oe=re(Bt));var Rt=M.getDerivedStateFromProps;Bt=typeof Rt=="function"||typeof j.getSnapshotBeforeUpdate=="function",Te=m.pendingProps!==Te,Bt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Te||Mt!==oe)&&o1(m,j,P,oe),Bo=!1;var Wt=m.memoizedState;j.state=Wt,St(m,P,j,U),At(),Mt=m.memoizedState,Te||Wt!==Mt||Bo?(typeof Rt=="function"&&(Hy(m,M,Rt,P),Mt=m.memoizedState),(ot=Bo||Om(m,M,ot,P,Wt,Mt,oe))?(Bt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(m.flags|=4194308)):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=P,m.memoizedState=Mt),j.props=P,j.state=Mt,j.context=oe,P=ot):(typeof j.componentDidMount=="function"&&(m.flags|=4194308),P=!1)}else{j=m.stateNode,ue(p,m),oe=m.memoizedProps,Bt=Vu(M,oe),j.props=Bt,Rt=m.pendingProps,Wt=j.context,Mt=M.contextType,ot=pl,typeof Mt=="object"&&Mt!==null&&(ot=re(Mt)),Te=M.getDerivedStateFromProps,(Mt=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(oe!==Rt||Wt!==ot)&&o1(m,j,P,ot),Bo=!1,Wt=m.memoizedState,j.state=Wt,St(m,P,j,U),At();var Tn=m.memoizedState;oe!==Rt||Wt!==Tn||Bo||p!==null&&p.dependencies!==null&&Be(p.dependencies)?(typeof Te=="function"&&(Hy(m,M,Te,P),Tn=m.memoizedState),(Bt=Bo||Om(m,M,Bt,P,Wt,Tn,ot)||p!==null&&p.dependencies!==null&&Be(p.dependencies))?(Mt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(P,Tn,ot),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(P,Tn,ot)),typeof j.componentDidUpdate=="function"&&(m.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof j.componentDidUpdate!="function"||oe===p.memoizedProps&&Wt===p.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===p.memoizedProps&&Wt===p.memoizedState||(m.flags|=1024),m.memoizedProps=P,m.memoizedState=Tn),j.props=P,j.state=Tn,j.context=ot,P=Bt):(typeof j.componentDidUpdate!="function"||oe===p.memoizedProps&&Wt===p.memoizedState||(m.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===p.memoizedProps&&Wt===p.memoizedState||(m.flags|=1024),P=!1)}return j=P,Eh(p,m),P=(m.flags&128)!==0,j||P?(j=m.stateNode,M=P&&typeof M.getDerivedStateFromError!="function"?null:j.render(),m.flags|=1,p!==null&&P?(m.child=ga(m,p.child,null,U),m.child=ga(m,null,M,U)):ha(p,m,M,U),m.memoizedState=j.state,p=m.child):p=nl(p,m,U),p}function p1(p,m,M,P){return Qe(),m.flags|=256,ha(p,m,M,P),m.child}function qy(p){return{baseLanes:p,cachePool:ct()}}function Xy(p,m,M){return p=p!==null?p.childLanes&~M:0,m&&(p|=Ya),p}function Yy(p,m,M){var P=m.pendingProps,U=!1,j=(m.flags&128)!==0,oe;if((oe=j)||(oe=p!==null&&p.memoizedState===null?!1:(xi.current&2)!==0),oe&&(U=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,p===null){if(Xn){if(U?De(m):ft(),(p=ni)?(p=eS(p,Wa),p!==null&&(m.memoizedState={dehydrated:p,treeContext:fs!==null?{id:pa,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},M=l0(p),M.return=m,m.child=M,Yi=m,ni=null)):p=null,p===null)throw xe(m);return rg(p)?m.lanes=32:m.lanes=536870912,null}var Te=P.children;return P=P.fallback,U?(ft(),U=m.mode,Te=Fc({mode:"hidden",children:Te},U),P=os(P,U,M,null),Te.return=m,P.return=m,Te.sibling=P,m.child=Te,P=m.child,P.memoizedState=qy(M),P.childLanes=Xy(p,oe,M),m.memoizedState=df,Gu(null,P)):(De(m),Nm(m,Te))}var ot=p.memoizedState;if(ot!==null&&(Te=ot.dehydrated,Te!==null)){if(j)m.flags&256?(De(m),m.flags&=-257,m=Wu(p,m,M)):m.memoizedState!==null?(ft(),m.child=p.child,m.flags|=128,m=null):(ft(),Te=P.fallback,U=m.mode,P=Fc({mode:"visible",children:P.children},U),Te=os(Te,U,M,null),Te.flags|=2,P.return=m,Te.return=m,P.sibling=Te,m.child=P,ga(m,p.child,null,M),P=m.child,P.memoizedState=qy(M),P.childLanes=Xy(p,oe,M),m.memoizedState=df,m=Gu(null,P));else if(De(m),rg(Te))oe=ig(Te).digest,P=Error(i(419)),P.stack="",P.digest=oe,Fe({value:P,source:null,stack:null}),m=Wu(p,m,M);else if(qr||Ke(p,m,M,!1),oe=(M&p.childLanes)!==0,qr||oe){if(oe=Bn,oe!==null&&(P=z(oe,M),P!==0&&P!==ot.retryLane))throw ot.retryLane=P,an(p,P),fi(oe,p,P),Xa;Jc(Te)||cd(),m=Wu(p,m,M)}else Jc(Te)?(m.flags|=192,m.child=p.child,m=null):(p=ot.treeContext,ti&&(ni=Z1(Te),Yi=m,Xn=!0,vl=null,Wa=!1,p!==null&&fe(m,p)),m=Nm(m,P.children),m.flags|=4096);return m}return U?(ft(),Te=P.fallback,U=m.mode,ot=p.child,j=ot.sibling,P=ko(ot,{mode:"hidden",children:P.children}),P.subtreeFlags=ot.subtreeFlags&65011712,j!==null?Te=ko(j,Te):(Te=os(Te,U,M,null),Te.flags|=2),Te.return=m,P.return=m,P.sibling=Te,m.child=P,Gu(null,P),P=m.child,Te=p.child.memoizedState,Te===null?Te=qy(M):(U=Te.cachePool,U!==null?(ot=Ai?ri._currentValue:ri._currentValue2,U=U.parent!==ot?{parent:ot,pool:ot}:U):U=ct(),Te={baseLanes:Te.baseLanes|M,cachePool:U}),P.memoizedState=Te,P.childLanes=Xy(p,oe,M),m.memoizedState=df,Gu(p.child,P)):(De(m),M=p.child,p=M.sibling,M=ko(M,{mode:"visible",children:P.children}),M.return=m,M.sibling=null,p!==null&&(oe=m.deletions,oe===null?(m.deletions=[p],m.flags|=16):oe.push(p)),m.child=M,m.memoizedState=null,M)}function Nm(p,m){return m=Fc({mode:"visible",children:m},p.mode),m.return=p,p.child=m}function Fc(p,m){return p=n(22,p,null,m),p.lanes=0,p}function Wu(p,m,M){return ga(m,p.child,null,M),p=Nm(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function m1(p,m,M){p.lanes|=m;var P=p.alternate;P!==null&&(P.lanes|=m),ie(p.return,m,M)}function ed(p,m,M,P,U,j){var oe=p.memoizedState;oe===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:P,tail:M,tailMode:U,treeForkCount:j}:(oe.isBackwards=m,oe.rendering=null,oe.renderingStartTime=0,oe.last=P,oe.tail=M,oe.tailMode=U,oe.treeForkCount=j)}function Ky(p,m,M){var P=m.pendingProps,U=P.revealOrder,j=P.tail;P=P.children;var oe=xi.current,Te=(oe&2)!==0;if(Te?(oe=oe&1|2,m.flags|=128):oe&=1,b(xi,oe),ha(p,m,P,M),P=Xn?Yh:0,!Te&&p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&m1(p,M,m);else if(p.tag===19)m1(p,M,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(U){case"forwards":for(M=m.child,U=null;M!==null;)p=M.alternate,p!==null&&xt(p)===null&&(U=M),M=M.sibling;M=U,M===null?(U=m.child,m.child=null):(U=M.sibling,M.sibling=null),ed(m,!1,U,M,j,P);break;case"backwards":case"unstable_legacy-backwards":for(M=null,U=m.child,m.child=null;U!==null;){if(p=U.alternate,p!==null&&xt(p)===null){m.child=U;break}p=U.sibling,U.sibling=M,M=U,U=p}ed(m,!0,M,null,j,P);break;case"together":ed(m,!1,null,null,void 0,P);break;default:m.memoizedState=null}return m.child}function nl(p,m,M){if(p!==null&&(m.dependencies=p.dependencies),nc|=m.lanes,(M&m.childLanes)===0)if(p!==null){if(Ke(p,m,M,!1),(M&m.childLanes)===0)return null}else return null;if(p!==null&&m.child!==p.child)throw Error(i(153));if(m.child!==null){for(p=m.child,M=ko(p,p.pendingProps),m.child=M,M.return=m;p.sibling!==null;)p=p.sibling,M=M.sibling=ko(p,p.pendingProps),M.return=m;M.sibling=null}return m.child}function Ah(p,m){return(p.lanes&m)!==0?!0:(p=p.dependencies,!!(p!==null&&Be(p)))}function Zy(p,m,M){switch(m.tag){case 3:ge(m,m.stateNode.containerInfo),Ne(m,ri,p.memoizedState.cache),Qe();break;case 27:case 5:le(m);break;case 4:ge(m,m.stateNode.containerInfo);break;case 10:Ne(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Re(m),null;break;case 13:var P=m.memoizedState;if(P!==null)return P.dehydrated!==null?(De(m),m.flags|=128,null):(M&m.child.childLanes)!==0?Yy(p,m,M):(De(m),p=nl(p,m,M),p!==null?p.sibling:null);De(m);break;case 19:var U=(p.flags&128)!==0;if(P=(M&m.childLanes)!==0,P||(Ke(p,m,M,!1),P=(M&m.childLanes)!==0),U){if(P)return Ky(p,m,M);m.flags|=128}if(U=m.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),b(xi,xi.current),P)break;return null;case 22:return m.lanes=0,d1(p,m,M,m.pendingProps);case 24:Ne(m,ri,p.memoizedState.cache)}return nl(p,m,M)}function Jy(p,m,M){if(p!==null)if(p.memoizedProps!==m.pendingProps)qr=!0;else{if(!Ah(p,M)&&(m.flags&128)===0)return qr=!1,Zy(p,m,M);qr=(p.flags&131072)!==0}else qr=!1,Xn&&(m.flags&1048576)!==0&&$(m,Yh,m.index);switch(m.lanes=0,m.tag){case 16:e:{var P=m.pendingProps;if(p=Ct(m.elementType),m.type=p,typeof p=="function")Xu(p)?(P=Vu(p,P),m.tag=1,m=$u(null,m,p,P,M)):(m.tag=0,m=Im(null,m,p,P,M));else{if(p!=null){var U=p.$$typeof;if(U===hd){m.tag=11,m=c1(null,m,p,P,M);break e}else if(U===Zm){m.tag=14,m=u1(null,m,p,P,M);break e}}throw m=h(p)||p,Error(i(306,m,""))}}return m;case 0:return Im(p,m,m.type,m.pendingProps,M);case 1:return P=m.type,U=Vu(P,m.pendingProps),$u(p,m,P,U,M);case 3:e:{if(ge(m,m.stateNode.containerInfo),p===null)throw Error(i(387));var j=m.pendingProps;U=m.memoizedState,P=U.element,ue(p,m),St(m,j,null,M);var oe=m.memoizedState;if(j=oe.cache,Ne(m,ri,j),j!==U.cache&&et(m,[ri],M,!0),At(),j=oe.element,ti&&U.isDehydrated)if(U={element:j,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){m=p1(p,m,j,M);break e}else if(j!==P){P=ee(Error(i(424)),m),Fe(P),m=p1(p,m,j,M);break e}else for(ti&&(ni=Y1(m.stateNode.containerInfo),Yi=m,Xn=!0,vl=null,Wa=!0),M=X0(m,null,j,M),m.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Qe(),j===P){m=nl(p,m,M);break e}ha(p,m,j,M)}m=m.child}return m;case 26:if(cs)return Eh(p,m),p===null?(M=U0(m.type,null,m.pendingProps,null))?m.memoizedState=M:Xn||(m.stateNode=lg(m.type,m.pendingProps,ma.current,m)):m.memoizedState=U0(m.type,p.memoizedProps,m.pendingProps,p.memoizedState),null;case 27:if(Xi)return le(m),p===null&&Xi&&Xn&&(P=m.stateNode=cg(m.type,m.pendingProps,ma.current,aa.current,!1),Yi=m,Wa=!0,ni=P0(m.type,P,ni)),ha(p,m,m.pendingProps.children,M),Eh(p,m),p===null&&(m.flags|=4194304),m.child;case 5:return p===null&&Xn&&(cS(m.type,m.pendingProps,aa.current),(U=P=ni)&&(P=J1(P,m.type,m.pendingProps,Wa),P!==null?(m.stateNode=P,Yi=m,ni=X1(P),Wa=!1,U=!0):U=!1),U||xe(m)),le(m),U=m.type,j=m.pendingProps,oe=p!==null?p.memoizedProps:null,P=j.children,$a(U,j)?P=null:oe!==null&&$a(U,oe)&&(m.flags|=32),m.memoizedState!==null&&(U=jt(p,m,Kt,null,null,M),Ai?rf._currentValue=U:rf._currentValue2=U),Eh(p,m),ha(p,m,P,M),m.child;case 6:return p===null&&Xn&&(L0(m.pendingProps,aa.current),(p=M=ni)&&(M=Q1(M,m.pendingProps,Wa),M!==null?(m.stateNode=M,Yi=m,ni=null,p=!0):p=!1),p||xe(m)),null;case 13:return Yy(p,m,M);case 4:return ge(m,m.stateNode.containerInfo),P=m.pendingProps,p===null?m.child=ga(m,null,P,M):ha(p,m,P,M),m.child;case 11:return c1(p,m,m.type,m.pendingProps,M);case 7:return ha(p,m,m.pendingProps,M),m.child;case 8:return ha(p,m,m.pendingProps.children,M),m.child;case 12:return ha(p,m,m.pendingProps.children,M),m.child;case 10:return P=m.pendingProps,Ne(m,m.type,P.value),ha(p,m,P.children,M),m.child;case 9:return U=m.type._context,P=m.pendingProps.children,He(m),U=re(U),P=P(U),m.flags|=1,ha(p,m,P,M),m.child;case 14:return u1(p,m,m.type,m.pendingProps,M);case 15:return f1(p,m,m.type,m.pendingProps,M);case 19:return Ky(p,m,M);case 31:return h1(p,m,M);case 22:return d1(p,m,M,m.pendingProps);case 24:return He(m),P=re(ri),p===null?(U=it(),U===null&&(U=Bn,j=je(),U.pooledCache=j,j.refCount++,j!==null&&(U.pooledCacheLanes|=M),U=j),m.memoizedState={parent:P,cache:U},te(m),Ne(m,ri,U)):((p.lanes&M)!==0&&(ue(p,m),St(m,null,null,M),At()),U=p.memoizedState,j=m.memoizedState,U.parent!==P?(U={parent:P,cache:P},m.memoizedState=U,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=U),Ne(m,ri,P)):(P=j.cache,Ne(m,ri,P),P!==U.cache&&et(m,[ri],M,!0))),ha(p,m,m.pendingProps.children,M),m.child;case 29:throw m.pendingProps}throw Error(i(156,m.tag))}function ts(p){p.flags|=4}function Th(p){Lo&&(p.flags|=8)}function g1(p,m){if(p!==null&&p.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(p=m.child;p!==null;){if((p.flags&8218)!==0||(p.subtreeFlags&8218)!==0)return!0;p=p.sibling}return!1}function Qy(p,m,M,P){if(tr)for(M=m.child;M!==null;){if(M.tag===5||M.tag===6)zh(p,M.stateNode);else if(!(M.tag===4||Xi&&M.tag===27)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else if(Lo)for(var U=m.child;U!==null;){if(U.tag===5){var j=U.stateNode;M&&P&&(j=G1(j,U.type,U.memoizedProps)),zh(p,j)}else if(U.tag===6)j=U.stateNode,M&&P&&(j=R0(j,U.memoizedProps)),zh(p,j);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)j=U.child,j!==null&&(j.return=U),Qy(p,U,!0,!0);else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===m)break;for(;U.sibling===null;){if(U.return===null||U.return===m)return;U=U.return}U.sibling.return=U.return,U=U.sibling}}function v1(p,m,M,P){var U=!1;if(Lo)for(var j=m.child;j!==null;){if(j.tag===5){var oe=j.stateNode;M&&P&&(oe=G1(oe,j.type,j.memoizedProps)),T0(p,oe)}else if(j.tag===6)oe=j.stateNode,M&&P&&(oe=R0(oe,j.memoizedProps)),T0(p,oe);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)U=j.child,U!==null&&(U.return=j),v1(p,j,!0,!0),U=!0;else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return U;j=j.return}j.sibling.return=j.return,j=j.sibling}return U}function y1(p,m){if(Lo&&g1(p,m)){p=m.stateNode;var M=p.containerInfo,P=A0();v1(P,m,!1,!1),p.pendingChildren=P,ts(m),V1(M,P)}}function e0(p,m,M,P){if(tr)p.memoizedProps!==P&&ts(m);else if(Lo){var U=p.stateNode,j=p.memoizedProps;if((p=g1(p,m))||j!==P){var oe=aa.current;j=H1(U,M,j,P,!p,null),j===U?m.stateNode=U:(Th(m),co(j,M,P,oe)&&ts(m),m.stateNode=j,p&&Qy(j,m,!1,!1))}else m.stateNode=U}}function Ha(p,m,M,P,U){if((p.mode&32)!==0&&(M===null?Hh(m,P):yd(m,M,P))){if(p.flags|=16777216,(U&335544128)===U||m0(m,P))if(di(p.stateNode,m,P))p.flags|=8192;else if(er())p.flags|=8192;else throw qa=yl,xg}else p.flags&=-16777217}function td(p,m){if(z0(m)){if(p.flags|=16777216,!H0(m))if(er())p.flags|=8192;else throw qa=yl,xg}else p.flags&=-16777217}function Ch(p,m){m!==null&&(p.flags|=4),p.flags&16384&&(m=p.tag!==22?C():536870912,p.lanes|=m,Td|=m)}function nd(p,m){if(!Xn)switch(p.tailMode){case"hidden":m=p.tail;for(var M=null;m!==null;)m.alternate!==null&&(M=m),m=m.sibling;M===null?p.tail=null:M.sibling=null;break;case"collapsed":M=p.tail;for(var P=null;M!==null;)M.alternate!==null&&(P=M),M=M.sibling;P===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:P.sibling=null}}function jr(p){var m=p.alternate!==null&&p.alternate.child===p.child,M=0,P=0;if(m)for(var U=p.child;U!==null;)M|=U.lanes|U.childLanes,P|=U.subtreeFlags&65011712,P|=U.flags&65011712,U.return=p,U=U.sibling;else for(U=p.child;U!==null;)M|=U.lanes|U.childLanes,P|=U.subtreeFlags,P|=U.flags,U.return=p,U=U.sibling;return p.subtreeFlags|=P,p.childLanes=M,m}function b1(p,m,M){var P=m.pendingProps;switch(ne(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(m),null;case 1:return jr(m),null;case 3:return M=m.stateNode,P=null,p!==null&&(P=p.memoizedState.cache),m.memoizedState.cache!==P&&(m.flags|=2048),Ge(ri),ce(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(p===null||p.child===null)&&(ve(m)?ts(m):p===null||p.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ee())),y1(p,m),jr(m),null;case 26:if(cs){var U=m.type,j=m.memoizedState;return p===null?(ts(m),j!==null?(jr(m),td(m,j)):(jr(m),Ha(m,U,null,P,M))):j?j!==p.memoizedState?(ts(m),jr(m),td(m,j)):(jr(m),m.flags&=-16777217):(j=p.memoizedProps,tr?j!==P&&ts(m):e0(p,m,U,P),jr(m),Ha(m,U,j,P,M)),null}case 27:if(Xi){if(pe(m),M=ma.current,U=m.type,p!==null&&m.stateNode!=null)tr?p.memoizedProps!==P&&ts(m):e0(p,m,U,P);else{if(!P){if(m.stateNode===null)throw Error(i(166));return jr(m),null}p=aa.current,ve(m)?Oe(m,p):(p=cg(U,P,M,p,!0),m.stateNode=p,ts(m))}return jr(m),null}case 5:if(pe(m),U=m.type,p!==null&&m.stateNode!=null)e0(p,m,U,P);else{if(!P){if(m.stateNode===null)throw Error(i(166));return jr(m),null}if(j=aa.current,ve(m))Oe(m,j),oS(m.stateNode,U,P,j)&&(m.flags|=64);else{var oe=h0(U,P,ma.current,j,m);Th(m),Qy(oe,m,!1,!1),m.stateNode=oe,co(oe,U,P,j)&&ts(m)}}return jr(m),Ha(m,m.type,p===null?null:p.memoizedProps,m.pendingProps,M),null;case 6:if(p&&m.stateNode!=null)M=p.memoizedProps,tr?M!==P&&ts(m):Lo&&(M!==P?(p=ma.current,M=aa.current,Th(m),m.stateNode=Kl(P,p,M,m)):m.stateNode=p.stateNode);else{if(typeof P!="string"&&m.stateNode===null)throw Error(i(166));if(p=ma.current,M=aa.current,ve(m)){if(!ti)throw Error(i(176));if(p=m.stateNode,M=m.memoizedProps,P=null,U=Yi,U!==null)switch(U.tag){case 27:case 5:P=U.memoizedProps}jC(p,M,m,P)||xe(m,!0)}else Th(m),m.stateNode=Kl(P,p,M,m)}return jr(m),null;case 31:if(M=m.memoizedState,p===null||p.memoizedState!==null){if(P=ve(m),M!==null){if(p===null){if(!P)throw Error(i(318));if(!ti)throw Error(i(556));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(557));I0(p,m)}else Qe(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;jr(m),p=!1}else M=Ee(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=M),p=!0;if(!p)return m.flags&256?(bt(m),m):(bt(m),null);if((m.flags&128)!==0)throw Error(i(558))}return jr(m),null;case 13:if(P=m.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(U=ve(m),P!==null&&P.dehydrated!==null){if(p===null){if(!U)throw Error(i(318));if(!ti)throw Error(i(344));if(U=m.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(i(317));nS(U,m)}else Qe(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;jr(m),U=!1}else U=Ee(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=U),U=!0;if(!U)return m.flags&256?(bt(m),m):(bt(m),null)}return bt(m),(m.flags&128)!==0?(m.lanes=M,m):(M=P!==null,p=p!==null&&p.memoizedState!==null,M&&(P=m.child,U=null,P.alternate!==null&&P.alternate.memoizedState!==null&&P.alternate.memoizedState.cachePool!==null&&(U=P.alternate.memoizedState.cachePool.pool),j=null,P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(j=P.memoizedState.cachePool.pool),j!==U&&(P.flags|=2048)),M!==p&&M&&(m.child.flags|=8192),Ch(m,m.updateQueue),jr(m),null);case 4:return ce(),y1(p,m),p===null&&Or(m.stateNode.containerInfo),jr(m),null;case 10:return Ge(m.type),jr(m),null;case 19:if(y(xi),P=m.memoizedState,P===null)return jr(m),null;if(U=(m.flags&128)!==0,j=P.rendering,j===null)if(U)nd(P,!1);else{if(mi!==0||p!==null&&(p.flags&128)!==0)for(p=m.child;p!==null;){if(j=xt(p),j!==null){for(m.flags|=128,nd(P,!1),p=j.updateQueue,m.updateQueue=p,Ch(m,p),m.subtreeFlags=0,p=M,M=m.child;M!==null;)Wm(M,p),M=M.sibling;return b(xi,xi.current&1|2),Xn&&ae(m,P.treeForkCount),m.child}p=p.sibling}P.tail!==null&&Oa()>cu&&(m.flags|=128,U=!0,nd(P,!1),m.lanes=4194304)}else{if(!U)if(p=xt(j),p!==null){if(m.flags|=128,U=!0,p=p.updateQueue,m.updateQueue=p,Ch(m,p),nd(P,!0),P.tail===null&&P.tailMode==="hidden"&&!j.alternate&&!Xn)return jr(m),null}else 2*Oa()-P.renderingStartTime>cu&&M!==536870912&&(m.flags|=128,U=!0,nd(P,!1),m.lanes=4194304);P.isBackwards?(j.sibling=m.child,m.child=j):(p=P.last,p!==null?p.sibling=j:m.child=j,P.last=j)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=Oa(),p.sibling=null,M=xi.current,b(xi,U?M&1|2:M&1),Xn&&ae(m,P.treeForkCount),p):(jr(m),null);case 22:case 23:return bt(m),Se(),P=m.memoizedState!==null,p!==null?p.memoizedState!==null!==P&&(m.flags|=8192):P&&(m.flags|=8192),P?(M&536870912)!==0&&(m.flags&128)===0&&(jr(m),m.subtreeFlags&6&&(m.flags|=8192)):jr(m),M=m.updateQueue,M!==null&&Ch(m,M.retryQueue),M=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(M=p.memoizedState.cachePool.pool),P=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(P=m.memoizedState.cachePool.pool),P!==M&&(m.flags|=2048),p!==null&&y(tu),null;case 24:return M=null,p!==null&&(M=p.memoizedState.cache),m.memoizedState.cache!==M&&(m.flags|=2048),Ge(ri),jr(m),null;case 25:return null;case 30:return null}throw Error(i(156,m.tag))}function t0(p,m){switch(ne(m),m.tag){case 1:return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return Ge(ri),ce(),p=m.flags,(p&65536)!==0&&(p&128)===0?(m.flags=p&-65537|128,m):null;case 26:case 27:case 5:return pe(m),null;case 31:if(m.memoizedState!==null){if(bt(m),m.alternate===null)throw Error(i(340));Qe()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 13:if(bt(m),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(i(340));Qe()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return y(xi),null;case 4:return ce(),null;case 10:return Ge(m.type),null;case 22:case 23:return bt(m),Se(),p!==null&&y(tu),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 24:return Ge(ri),null;case 25:return null;default:return null}}function x1(p,m){switch(ne(m),m.tag){case 3:Ge(ri),ce();break;case 26:case 27:case 5:pe(m);break;case 4:ce();break;case 31:m.memoizedState!==null&&bt(m);break;case 13:bt(m);break;case 19:y(xi);break;case 10:Ge(m.type);break;case 22:case 23:bt(m),Se(),p!==null&&y(tu);break;case 24:Ge(ri)}}function rl(p,m){try{var M=m.updateQueue,P=M!==null?M.lastEffect:null;if(P!==null){var U=P.next;M=U;do{if((M.tag&p)===p){P=void 0;var j=M.create,oe=M.inst;P=j(),oe.destroy=P}M=M.next}while(M!==U)}}catch(Te){yn(m,m.return,Te)}}function il(p,m,M){try{var P=m.updateQueue,U=P!==null?P.lastEffect:null;if(U!==null){var j=U.next;P=j;do{if((P.tag&p)===p){var oe=P.inst,Te=oe.destroy;if(Te!==void 0){oe.destroy=void 0,U=m;var ot=M,Mt=Te;try{Mt()}catch(Bt){yn(U,ot,Bt)}}}P=P.next}while(P!==j)}}catch(Bt){yn(m,m.return,Bt)}}function rd(p){var m=p.updateQueue;if(m!==null){var M=p.stateNode;try{Nt(m,M)}catch(P){yn(p,p.return,P)}}}function km(p,m,M){M.props=Vu(p.type,p.memoizedProps),M.state=p.memoizedState;try{M.componentWillUnmount()}catch(P){yn(p,m,P)}}function id(p,m){try{var M=p.ref;if(M!==null){switch(p.tag){case 26:case 27:case 5:var P=md(p.stateNode);break;case 30:P=p.stateNode;break;default:P=p.stateNode}typeof M=="function"?p.refCleanup=M(P):M.current=P}}catch(U){yn(p,m,U)}}function Ra(p,m){var M=p.ref,P=p.refCleanup;if(M!==null)if(typeof P=="function")try{P()}catch(U){yn(p,m,U)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof M=="function")try{M(null)}catch(U){yn(p,m,U)}else M.current=null}function qu(p){var m=p.type,M=p.memoizedProps,P=p.stateNode;try{N1(P,m,M,p)}catch(U){yn(p,p.return,U)}}function Rh(p,m,M){try{k1(p.stateNode,p.type,M,m,p)}catch(P){yn(p,p.return,P)}}function n0(p){return p.tag===5||p.tag===3||(cs?p.tag===26:!1)||(Xi?p.tag===27&&af(p.type):!1)||p.tag===4}function Hl(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||n0(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(Xi&&p.tag===27&&af(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Lm(p,m,M){var P=p.tag;if(P===5||P===6)p=p.stateNode,m?U1(M,p,m):S0(M,p);else if(P!==4&&(Xi&&P===27&&af(p.type)&&(M=p.stateNode,m=null),p=p.child,p!==null))for(Lm(p,m,M),p=p.sibling;p!==null;)Lm(p,m,M),p=p.sibling}function Oh(p,m,M){var P=p.tag;if(P===5||P===6)p=p.stateNode,m?L1(M,p,m):_0(M,p);else if(P!==4&&(Xi&&P===27&&af(p.type)&&(M=p.stateNode),p=p.child,p!==null))for(Oh(p,m,M),p=p.sibling;p!==null;)Oh(p,m,M),p=p.sibling}function r0(p,m,M){p=p.containerInfo;try{C0(p,M)}catch(P){yn(m,m.return,P)}}function _1(p){var m=p.stateNode,M=p.memoizedProps;try{Fi(p.type,M,m,p)}catch(P){yn(p,p.return,P)}}function LC(p,m){for(Jm(p.containerInfo),Ri=m;Ri!==null;)if(p=Ri,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,Ri=m;else for(;Ri!==null;){p=Ri;var M=p.alternate;switch(m=p.flags,p.tag){case 0:if((m&4)!==0&&(m=p.updateQueue,m=m!==null?m.events:null,m!==null))for(var P=0;P<m.length;P++){var U=m[P];U.ref.impl=U.nextImpl}break;case 11:case 15:break;case 1:if((m&1024)!==0&&M!==null){m=void 0,P=p,U=M.memoizedProps,M=M.memoizedState;var j=P.stateNode;try{var oe=Vu(P.type,U);m=j.getSnapshotBeforeUpdate(oe,M),j.__reactInternalSnapshotBeforeUpdate=m}catch(Te){yn(P,P.return,Te)}}break;case 3:(m&1024)!==0&&tr&&E0(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(i(163))}if(m=p.sibling,m!==null){m.return=p.return,Ri=m;break}Ri=p.return}}function S1(p,m,M){var P=M.flags;switch(M.tag){case 0:case 11:case 15:Va(p,M),P&4&&rl(5,M);break;case 1:if(Va(p,M),P&4)if(p=M.stateNode,m===null)try{p.componentDidMount()}catch(oe){yn(M,M.return,oe)}else{var U=Vu(M.type,m.memoizedProps);m=m.memoizedState;try{p.componentDidUpdate(U,m,p.__reactInternalSnapshotBeforeUpdate)}catch(oe){yn(M,M.return,oe)}}P&64&&rd(M),P&512&&id(M,M.return);break;case 3:if(Va(p,M),P&64&&(P=M.updateQueue,P!==null)){if(p=null,M.child!==null)switch(M.child.tag){case 27:case 5:p=md(M.child.stateNode);break;case 1:p=M.child.stateNode}try{Nt(P,p)}catch(oe){yn(M,M.return,oe)}}break;case 27:Xi&&m===null&&P&4&&_1(M);case 26:case 5:if(Va(p,M),m===null){if(P&4)qu(M);else if(P&64){p=M.type,m=M.memoizedProps,U=M.stateNode;try{iS(U,p,m,M)}catch(oe){yn(M,M.return,oe)}}}P&512&&id(M,M.return);break;case 12:Va(p,M);break;case 31:Va(p,M),P&4&&rs(p,M);break;case 13:Va(p,M),P&4&&Dh(p,M),P&64&&(P=M.memoizedState,P!==null&&(P=P.dehydrated,P!==null&&(M=UC.bind(null,M),ag(P,M))));break;case 22:if(P=M.memoizedState!==null||_i,!P){m=m!==null&&m.memoizedState!==null||Si,U=_i;var j=Si;_i=P,(Si=m)&&!j?as(p,M,(M.subtreeFlags&8772)!==0):Va(p,M),_i=U,Si=j}break;case 30:break;default:Va(p,M)}}function i0(p){var m=p.alternate;m!==null&&(p.alternate=null,i0(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Qm(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function ns(p,m,M){for(M=M.child;M!==null;)Ph(p,m,M),M=M.sibling}function Ph(p,m,M){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(lf,M)}catch{}switch(M.tag){case 26:if(cs){Si||Ra(M,m),ns(p,m,M),M.memoizedState?Qc(M.memoizedState):M.stateNode&&j0(M.stateNode);break}case 27:if(Xi){Si||Ra(M,m);var P=pi,U=Oi;af(M.type)&&(pi=M.stateNode,Oi=!1),ns(p,m,M),ia(M.stateNode),pi=P,Oi=U;break}case 5:Si||Ra(M,m);case 6:if(tr){if(P=pi,U=Oi,pi=null,ns(p,m,M),pi=P,Oi=U,pi!==null)if(Oi)try{w0(pi,M.stateNode)}catch(j){yn(M,m,j)}else try{B1(pi,M.stateNode)}catch(j){yn(M,m,j)}}else ns(p,m,M);break;case 18:tr&&pi!==null&&(Oi?og(pi,M.stateNode):k0(pi,M.stateNode));break;case 4:tr?(P=pi,U=Oi,pi=M.stateNode.containerInfo,Oi=!0,ns(p,m,M),pi=P,Oi=U):(Lo&&r0(M.stateNode,M,A0()),ns(p,m,M));break;case 0:case 11:case 14:case 15:il(2,M,m),Si||il(4,M,m),ns(p,m,M);break;case 1:Si||(Ra(M,m),P=M.stateNode,typeof P.componentWillUnmount=="function"&&km(M,m,P)),ns(p,m,M);break;case 21:ns(p,m,M);break;case 22:Si=(P=Si)||M.memoizedState!==null,ns(p,m,M),Si=P;break;default:ns(p,m,M)}}function rs(p,m){if(ti&&m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{zC(p)}catch(M){yn(m,m.return,M)}}}function Dh(p,m){if(ti&&m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{HC(p)}catch(M){yn(m,m.return,M)}}function is(p){switch(p.tag){case 31:case 13:case 19:var m=p.stateNode;return m===null&&(m=p.stateNode=new K0),m;case 22:return p=p.stateNode,m=p._retryCache,m===null&&(m=p._retryCache=new K0),m;default:throw Error(i(435,p.tag))}}function Vl(p,m){var M=is(p);m.forEach(function(P){if(!M.has(P)){M.add(P);var U=BC.bind(null,p,P);P.then(U,U)}})}function na(p,m){var M=m.deletions;if(M!==null)for(var P=0;P<M.length;P++){var U=M[P],j=p,oe=m;if(tr){var Te=oe;e:for(;Te!==null;){switch(Te.tag){case 27:if(Xi){if(af(Te.type)){pi=Te.stateNode,Oi=!1;break e}break}case 5:pi=Te.stateNode,Oi=!1;break e;case 3:case 4:pi=Te.stateNode.containerInfo,Oi=!0;break e}Te=Te.return}if(pi===null)throw Error(i(160));Ph(j,oe,U),pi=null,Oi=!1}else Ph(j,oe,U);j=U.alternate,j!==null&&(j.return=null),U.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)Ih(m,p),m=m.sibling}function Ih(p,m){var M=p.alternate,P=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:na(m,p),ra(p),P&4&&(il(3,p,p.return),rl(3,p),il(5,p,p.return));break;case 1:na(m,p),ra(p),P&512&&(Si||M===null||Ra(M,M.return)),P&64&&_i&&(p=p.updateQueue,p!==null&&(P=p.callbacks,P!==null&&(M=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=M===null?P:M.concat(P))));break;case 26:if(cs){var U=Ar;if(na(m,p),ra(p),P&512&&(Si||M===null||Ra(M,M.return)),P&4){P=M!==null?M.memoizedState:null;var j=p.memoizedState;M===null?j===null?p.stateNode===null?p.stateNode=uS(U,p.type,p.memoizedProps,p):F0(U,p.type,p.stateNode):p.stateNode=B0(U,j,p.memoizedProps):P!==j?(P===null?M.stateNode!==null&&j0(M.stateNode):Qc(P),j===null?F0(U,p.type,p.stateNode):B0(U,j,p.memoizedProps)):j===null&&p.stateNode!==null&&Rh(p,p.memoizedProps,M.memoizedProps)}break}case 27:if(Xi){na(m,p),ra(p),P&512&&(Si||M===null||Ra(M,M.return)),M!==null&&P&4&&Rh(p,p.memoizedProps,M.memoizedProps);break}case 5:if(na(m,p),ra(p),P&512&&(Si||M===null||Ra(M,M.return)),tr){if(p.flags&32){U=p.stateNode;try{M0(U)}catch(Rt){yn(p,p.return,Rt)}}P&4&&p.stateNode!=null&&(U=p.memoizedProps,Rh(p,U,M!==null?M.memoizedProps:U)),P&1024&&(Sd=!0)}else Lo&&p.alternate!==null&&(p.alternate.stateNode=p.stateNode);break;case 6:if(na(m,p),ra(p),P&4&&tr){if(p.stateNode===null)throw Error(i(162));P=p.memoizedProps,M=M!==null?M.memoizedProps:P,U=p.stateNode;try{I1(U,M,P)}catch(Rt){yn(p,p.return,Rt)}}break;case 3:if(cs?(fS(),U=Ar,Ar=$h(m.containerInfo),na(m,p),Ar=U):na(m,p),ra(p),P&4){if(tr&&ti&&M!==null&&M.memoizedState.isDehydrated)try{aS(m.containerInfo)}catch(Rt){yn(p,p.return,Rt)}if(Lo){P=m.containerInfo,M=m.pendingChildren;try{C0(P,M)}catch(Rt){yn(p,p.return,Rt)}}}Sd&&(Sd=!1,Um(p));break;case 4:cs?(M=Ar,Ar=$h(p.stateNode.containerInfo),na(m,p),ra(p),Ar=M):(na(m,p),ra(p)),P&4&&Lo&&r0(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:na(m,p),ra(p);break;case 31:na(m,p),ra(p),P&4&&(P=p.updateQueue,P!==null&&(p.updateQueue=null,Vl(p,P)));break;case 13:na(m,p),ra(p),p.child.flags&8192&&p.memoizedState!==null!=(M!==null&&M.memoizedState!==null)&&(tp=Oa()),P&4&&(P=p.updateQueue,P!==null&&(p.updateQueue=null,Vl(p,P)));break;case 22:U=p.memoizedState!==null;var oe=M!==null&&M.memoizedState!==null,Te=_i,ot=Si;if(_i=Te||U,Si=ot||oe,na(m,p),Si=ot,_i=Te,ra(p),P&8192&&(m=p.stateNode,m._visibility=U?m._visibility&-2:m._visibility|1,U&&(M===null||oe||_i||Si||jc(p)),tr)){e:if(M=null,tr)for(m=p;;){if(m.tag===5||cs&&m.tag===26){if(M===null){oe=M=m;try{j=oe.stateNode,U?FC(j):j1(oe.stateNode,oe.memoizedProps)}catch(Rt){yn(oe,oe.return,Rt)}}}else if(m.tag===6){if(M===null){oe=m;try{var Mt=oe.stateNode;U?F1(Mt):z1(Mt,oe.memoizedProps)}catch(Rt){yn(oe,oe.return,Rt)}}}else if(m.tag===18){if(M===null){oe=m;try{var Bt=oe.stateNode;U?sS(Bt):lS(oe.stateNode)}catch(Rt){yn(oe,oe.return,Rt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===p)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;M===m&&(M=null),m=m.return}M===m&&(M=null),m.sibling.return=m.return,m=m.sibling}}P&4&&(P=p.updateQueue,P!==null&&(M=P.retryQueue,M!==null&&(P.retryQueue=null,Vl(p,M))));break;case 19:na(m,p),ra(p),P&4&&(P=p.updateQueue,P!==null&&(p.updateQueue=null,Vl(p,P)));break;case 30:break;case 21:break;default:na(m,p),ra(p)}}function ra(p){var m=p.flags;if(m&2){try{for(var M,P=p.return;P!==null;){if(n0(P)){M=P;break}P=P.return}if(tr){if(M==null)throw Error(i(160));switch(M.tag){case 27:if(Xi){var U=M.stateNode,j=Hl(p);Oh(p,j,U);break}case 5:var oe=M.stateNode;M.flags&32&&(M0(oe),M.flags&=-33);var Te=Hl(p);Oh(p,Te,oe);break;case 3:case 4:var ot=M.stateNode.containerInfo,Mt=Hl(p);Lm(p,Mt,ot);break;default:throw Error(i(161))}}}catch(Bt){yn(p,p.return,Bt)}p.flags&=-3}m&4096&&(p.flags&=-4097)}function Um(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var m=p;Um(m),m.tag===5&&m.flags&1024&&v0(m.stateNode),p=p.sibling}}function Va(p,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)S1(p,m.alternate,m),m=m.sibling}function jc(p){for(p=p.child;p!==null;){var m=p;switch(m.tag){case 0:case 11:case 14:case 15:il(4,m,m.return),jc(m);break;case 1:Ra(m,m.return);var M=m.stateNode;typeof M.componentWillUnmount=="function"&&km(m,m.return,M),jc(m);break;case 27:Xi&&ia(m.stateNode);case 26:case 5:Ra(m,m.return),jc(m);break;case 22:m.memoizedState===null&&jc(m);break;case 30:jc(m);break;default:jc(m)}p=p.sibling}}function as(p,m,M){for(M=M&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var P=m.alternate,U=p,j=m,oe=j.flags;switch(j.tag){case 0:case 11:case 15:as(U,j,M),rl(4,j);break;case 1:if(as(U,j,M),P=j,U=P.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(Mt){yn(P,P.return,Mt)}if(P=j,U=P.updateQueue,U!==null){var Te=P.stateNode;try{var ot=U.shared.hiddenCallbacks;if(ot!==null)for(U.shared.hiddenCallbacks=null,U=0;U<ot.length;U++)It(ot[U],Te)}catch(Mt){yn(P,P.return,Mt)}}M&&oe&64&&rd(j),id(j,j.return);break;case 27:Xi&&_1(j);case 26:case 5:as(U,j,M),M&&P===null&&oe&4&&qu(j),id(j,j.return);break;case 12:as(U,j,M);break;case 31:as(U,j,M),M&&oe&4&&rs(U,j);break;case 13:as(U,j,M),M&&oe&4&&Dh(U,j);break;case 22:j.memoizedState===null&&as(U,j,M),id(j,j.return);break;case 30:break;default:as(U,j,M)}m=m.sibling}}function zc(p,m){var M=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(M=p.memoizedState.cachePool.pool),p=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(p=m.memoizedState.cachePool.pool),p!==M&&(p!=null&&p.refCount++,M!=null&&Ue(M))}function a0(p,m){p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&Ue(p))}function ui(p,m,M,P){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Bm(p,m,M,P),m=m.sibling}function Bm(p,m,M,P){var U=m.flags;switch(m.tag){case 0:case 11:case 15:ui(p,m,M,P),U&2048&&rl(9,m);break;case 1:ui(p,m,M,P);break;case 3:ui(p,m,M,P),U&2048&&(p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&Ue(p)));break;case 12:if(U&2048){ui(p,m,M,P),p=m.stateNode;try{var j=m.memoizedProps,oe=j.id,Te=j.onPostCommit;typeof Te=="function"&&Te(oe,m.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(ot){yn(m,m.return,ot)}}else ui(p,m,M,P);break;case 31:ui(p,m,M,P);break;case 13:ui(p,m,M,P);break;case 23:break;case 22:j=m.stateNode,oe=m.alternate,m.memoizedState!==null?j._visibility&2?ui(p,m,M,P):ad(p,m):j._visibility&2?ui(p,m,M,P):(j._visibility|=2,oo(p,m,M,P,(m.subtreeFlags&10256)!==0||!1)),U&2048&&zc(oe,m);break;case 24:ui(p,m,M,P),U&2048&&a0(m.alternate,m);break;default:ui(p,m,M,P)}}function oo(p,m,M,P,U){for(U=U&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var j=p,oe=m,Te=M,ot=P,Mt=oe.flags;switch(oe.tag){case 0:case 11:case 15:oo(j,oe,Te,ot,U),rl(8,oe);break;case 23:break;case 22:var Bt=oe.stateNode;oe.memoizedState!==null?Bt._visibility&2?oo(j,oe,Te,ot,U):ad(j,oe):(Bt._visibility|=2,oo(j,oe,Te,ot,U)),U&&Mt&2048&&zc(oe.alternate,oe);break;case 24:oo(j,oe,Te,ot,U),U&&Mt&2048&&a0(oe.alternate,oe);break;default:oo(j,oe,Te,ot,U)}m=m.sibling}}function ad(p,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var M=p,P=m,U=P.flags;switch(P.tag){case 22:ad(M,P),U&2048&&zc(P.alternate,P);break;case 24:ad(M,P),U&2048&&a0(P.alternate,P);break;default:ad(M,P)}m=m.sibling}}function al(p,m,M){if(p.subtreeFlags&jo)for(p=p.child;p!==null;)Hc(p,m,M),p=p.sibling}function Hc(p,m,M){switch(p.tag){case 26:if(al(p,m,M),p.flags&jo)if(p.memoizedState!==null)dS(M,Ar,p.memoizedState,p.memoizedProps);else{var P=p.stateNode,U=p.type;p=p.memoizedProps,((m&335544128)===m||m0(U,p))&&eg(M,P,U,p)}break;case 5:al(p,m,M),p.flags&jo&&(P=p.stateNode,U=p.type,p=p.memoizedProps,((m&335544128)===m||m0(U,p))&&eg(M,P,U,p));break;case 3:case 4:cs?(P=Ar,Ar=$h(p.stateNode.containerInfo),al(p,m,M),Ar=P):al(p,m,M);break;case 22:p.memoizedState===null&&(P=p.alternate,P!==null&&P.memoizedState!==null?(P=jo,jo=16777216,al(p,m,M),jo=P):al(p,m,M));break;default:al(p,m,M)}}function Fm(p){var m=p.alternate;if(m!==null&&(p=m.child,p!==null)){m.child=null;do m=p.sibling,p.sibling=null,p=m;while(p!==null)}}function od(p){var m=p.deletions;if((p.flags&16)!==0){if(m!==null)for(var M=0;M<m.length;M++){var P=m[M];Ri=P,Io(P,p)}Fm(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)jm(p),p=p.sibling}function jm(p){switch(p.tag){case 0:case 11:case 15:od(p),p.flags&2048&&il(9,p,p.return);break;case 3:od(p);break;case 12:od(p);break;case 22:var m=p.stateNode;p.memoizedState!==null&&m._visibility&2&&(p.return===null||p.return.tag!==13)?(m._visibility&=-3,Nh(p)):od(p);break;default:od(p)}}function Nh(p){var m=p.deletions;if((p.flags&16)!==0){if(m!==null)for(var M=0;M<m.length;M++){var P=m[M];Ri=P,Io(P,p)}Fm(p)}for(p=p.child;p!==null;){switch(m=p,m.tag){case 0:case 11:case 15:il(8,m,m.return),Nh(m);break;case 22:M=m.stateNode,M._visibility&2&&(M._visibility&=-3,Nh(m));break;default:Nh(m)}p=p.sibling}}function Io(p,m){for(;Ri!==null;){var M=Ri;switch(M.tag){case 0:case 11:case 15:il(8,M,m);break;case 23:case 22:if(M.memoizedState!==null&&M.memoizedState.cachePool!==null){var P=M.memoizedState.cachePool.pool;P!=null&&P.refCount++}break;case 24:Ue(M.memoizedState.cache)}if(P=M.child,P!==null)P.return=M,Ri=P;else e:for(M=p;Ri!==null;){P=Ri;var U=P.sibling,j=P.return;if(i0(P),P===M){Ri=null;break e}if(U!==null){U.return=j,Ri=U;break e}Ri=j}}}function Vc(p){var m=Rn(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(i(364));return m}if(p=Ti(p),p===null)throw Error(i(362));return p.stateNode.current}function Gc(p,m){var M=p.tag;switch(m.$$typeof){case vs:if(p.type===m.value)return!0;break;case Md:e:{for(m=m.value,p=[p,0],M=0;M<p.length;){var P=p[M++],U=P.tag,j=p[M++],oe=m[j];if(U!==5&&U!==26&&U!==27||!Zc(P)){for(;oe!=null&&Gc(P,oe);)j++,oe=m[j];if(j===m.length){m=!0;break e}else for(P=P.child;P!==null;)p.push(P,j),P=P.sibling}}m=!1}return m;case Ed:if((M===5||M===26||M===27)&&x0(p.stateNode,m.value))return!0;break;case au:if((M===5||M===6||M===26||M===27)&&(p=Vh(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case Qh:if((M===5||M===26||M===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function sd(p){switch(p.$$typeof){case vs:return"<"+(h(p.value)||"Unknown")+">";case Md:return":has("+(sd(p)||"")+")";case Ed:return'[role="'+p.value+'"]';case au:return'"'+p.value+'"';case Qh:return'[data-testname="'+p.value+'"]';default:throw Error(i(365))}}function ld(p,m){var M=[];p=[p,0];for(var P=0;P<p.length;){var U=p[P++],j=U.tag,oe=p[P++],Te=m[oe];if(j!==5&&j!==26&&j!==27||!Zc(U)){for(;Te!=null&&Gc(U,Te);)oe++,Te=m[oe];if(oe===m.length)M.push(U);else for(U=U.child;U!==null;)p.push(U,oe),U=U.sibling}}return M}function so(p,m){if(!qi)throw Error(i(363));p=Vc(p),p=ld(p,m),m=[],p=Array.from(p);for(var M=0;M<p.length;){var P=p[M++],U=P.tag;if(U===5||U===26||U===27)Zc(P)||m.push(P.stateNode);else for(P=P.child;P!==null;)p.push(P),P=P.sibling}return m}function ei(){return(Gn&2)!==0&&Yn!==0?Yn&-Yn:un.T!==null?Le():vd()}function Gl(){if(Ya===0)if((Yn&536870912)===0||Xn){var p=sf;sf<<=1,(sf&3932160)===0&&(sf=262144),Ya=p}else Ya=536870912;return p=po.current,p!==null&&(p.flags|=32),Ya}function fi(p,m,M){(p===Bn&&(Tr===2||Tr===9)||p.cancelPendingCommit!==null)&&(bi(p,0),sl(p,Yn,Ya,!1)),O(p,M),((Gn&2)===0||p!==Bn)&&(p===Bn&&((Gn&2)===0&&(lu|=M),mi===4&&sl(p,Yn,Ya,!1)),ut(p))}function Cs(p,m,M){if((Gn&6)!==0)throw Error(i(327));var P=!M&&(m&127)===0&&(m&p.expiredLanes)===0||E(p,m),U=P?E1(p,m):ll(p,m,!0),j=P;do{if(U===0){ou&&!P&&sl(p,m,0,!1);break}else{if(M=p.current.alternate,j&&!w1(M)){U=ll(p,m,!1),j=!1;continue}if(U===2){if(j=m,p.errorRecoveryDisabledLanes&j)var oe=0;else oe=p.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var Te=p;U=ep;var ot=ti&&Te.current.memoizedState.isDehydrated;if(ot&&(bi(Te,oe).flags|=256),oe=ll(Te,oe,!1),oe!==2){if(su&&!ot){Te.errorRecoveryDisabledLanes|=j,lu|=j,U=4;break e}j=go,go=U,j!==null&&(go===null?go=j:go.push.apply(go,j))}U=oe}if(j=!1,U!==2)continue}}if(U===1){bi(p,0),sl(p,m,0,!0);break}e:{switch(P=p,j=U,j){case 0:case 1:throw Error(i(345));case 4:if((m&4194048)!==m)break;case 6:sl(P,m,Ya,!Ds);break e;case 2:go=null;break;case 3:case 5:break;default:throw Error(i(329))}if((m&62914560)===m&&(U=tp+300-Oa(),10<U)){if(sl(P,m,Ya,!Ds),w(P,0,!0)!==0)break e;Sl=m,P.timeoutHandle=p0(ol.bind(null,P,M,go,np,Sg,m,Ya,lu,Td,Ds,j,"Throttled",-0,0),U);break e}ol(P,M,go,np,Sg,m,Ya,lu,Td,Ds,j,null,-0,0)}}break}while(!0);ut(p)}function ol(p,m,M,P,U,j,oe,Te,ot,Mt,Bt,Rt,Wt,Tn){if(p.timeoutHandle=uo,Rt=m.subtreeFlags,Rt&8192||(Rt&16785408)===16785408){Rt=g0(),Hc(m,j,Rt);var Pi=(j&62914560)===j?tp-Oa():(j&4194048)===j?pf-Oa():0;if(Pi=D1(Rt,Pi),Pi!==null){Sl=j,p.cancelPendingCommit=Pi(ul.bind(null,p,m,j,M,P,U,oe,Te,ot,Bt,Rt,null,Wt,Tn)),sl(p,j,oe,!Mt);return}}ul(p,m,j,M,P,U,oe,Te,ot)}function w1(p){for(var m=p;;){var M=m.tag;if((M===0||M===11||M===15)&&m.flags&16384&&(M=m.updateQueue,M!==null&&(M=M.stores,M!==null)))for(var P=0;P<M.length;P++){var U=M[P],j=U.getSnapshot;U=U.value;try{if(!Ci(j(),U))return!1}catch{return!1}}if(M=m.child,m.subtreeFlags&16384&&M!==null)M.return=m,m=M;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function sl(p,m,M,P){m&=~Ad,m&=~lu,p.suspendedLanes|=m,p.pingedLanes&=~m,P&&(p.warmLanes|=m),P=p.expirationTimes;for(var U=m;0<U;){var j=31-fo(U),oe=1<<j;P[j]=-1,U&=~oe}M!==0&&R(p,M,m)}function zm(){return(Gn&6)===0?(lt(0),!1):!0}function Hm(){if($n!==null){if(Tr===0)var p=$n.return;else p=$n,Os=Hr=null,cn(p),nu=null,cf=0,p=$n;for(;p!==null;)x1(p.alternate,p),p=p.return;$n=null}}function bi(p,m){var M=p.timeoutHandle;M!==uo&&(p.timeoutHandle=uo,P1(M)),M=p.cancelPendingCommit,M!==null&&(p.cancelPendingCommit=null,M()),Sl=0,Hm(),Bn=p,$n=M=ko(p.current,null),Yn=m,Tr=0,ji=null,Ds=!1,ou=E(p,m),su=!1,Td=Ya=Ad=lu=nc=mi=0,go=ep=null,Sg=!1,(m&8)!==0&&(m|=m&32);var P=p.entangledLanes;if(P!==0)for(p=p.entanglements,P&=m;0<P;){var U=31-fo(P),j=1<<U;m|=p[U],P&=~j}return _l=m,Zr(),M}function zr(p,m){On=null,un.H=Fo,m===Zi||m===ms?(m=$t(),Tr=3):m===xg?(m=$t(),Tr=4):Tr=m===Xa?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,ji=m,$n===null&&(mi=1,Pm(p,ee(m,p.current)))}function er(){var p=po.current;return p===null?!0:(Yn&4194048)===Yn?mo===null:(Yn&62914560)===Yn||(Yn&536870912)!==0?p===mo:!1}function $l(){var p=un.H;return un.H=Fo,p===null?Fo:p}function No(){var p=un.A;return un.A=wd,p}function cd(){mi=4,Ds||(Yn&4194048)!==Yn&&po.current!==null||(ou=!0),(nc&134217727)===0&&(lu&134217727)===0||Bn===null||sl(Bn,Yn,Ya,!1)}function ll(p,m,M){var P=Gn;Gn|=2;var U=$l(),j=No();(Bn!==p||Yn!==m)&&(np=null,bi(p,m)),m=!1;var oe=mi;e:do try{if(Tr!==0&&$n!==null){var Te=$n,ot=ji;switch(Tr){case 8:Hm(),oe=6;break e;case 3:case 2:case 9:case 6:po.current===null&&(m=!0);var Mt=Tr;if(Tr=0,ji=null,cl(p,Te,ot,Mt),M&&ou){oe=0;break e}break;default:Mt=Tr,Tr=0,ji=null,cl(p,Te,ot,Mt)}}M1(),oe=mi;break}catch(Bt){zr(p,Bt)}while(!0);return m&&p.shellSuspendCounter++,Os=Hr=null,Gn=P,un.H=U,un.A=j,$n===null&&(Bn=null,Yn=0,Zr()),oe}function M1(){for(;$n!==null;)$c($n)}function E1(p,m){var M=Gn;Gn|=2;var P=$l(),U=No();Bn!==p||Yn!==m?(np=null,cu=Oa()+500,bi(p,m)):ou=E(p,m);e:do try{if(Tr!==0&&$n!==null){m=$n;var j=ji;t:switch(Tr){case 1:Tr=0,ji=null,cl(p,m,j,1);break;case 2:case 9:if(gt(j)){Tr=0,ji=null,Vm(m);break}m=function(){Tr!==2&&Tr!==9||Bn!==p||(Tr=7),ut(p)},j.then(m,m);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:gt(j)?(Tr=0,ji=null,Vm(m)):(Tr=0,ji=null,cl(p,m,j,7));break;case 5:var oe=null;switch($n.tag){case 26:oe=$n.memoizedState;case 5:case 27:var Te=$n,ot=Te.type,Mt=Te.pendingProps;if(oe?H0(oe):di(Te.stateNode,ot,Mt)){Tr=0,ji=null;var Bt=Te.sibling;if(Bt!==null)$n=Bt;else{var Rt=Te.return;Rt!==null?($n=Rt,fd(Rt)):$n=null}break t}}Tr=0,ji=null,cl(p,m,j,5);break;case 6:Tr=0,ji=null,cl(p,m,j,6);break;case 8:Hm(),mi=6;break e;default:throw Error(i(462))}}ud();break}catch(Wt){zr(p,Wt)}while(!0);return Os=Hr=null,un.H=P,un.A=U,Gn=M,$n!==null?0:(Bn=null,Yn=0,Zr(),mi)}function ud(){for(;$n!==null&&!pS();)$c($n)}function $c(p){var m=Jy(p.alternate,p,_l);p.memoizedProps=p.pendingProps,m===null?fd(p):$n=m}function Vm(p){var m=p,M=m.alternate;switch(m.tag){case 15:case 0:m=Wy(M,m,m.pendingProps,m.type,void 0,Yn);break;case 11:m=Wy(M,m,m.pendingProps,m.type.render,m.ref,Yn);break;case 5:cn(m);default:x1(M,m),m=$n=Wm(m,_l),m=Jy(M,m,_l)}p.memoizedProps=p.pendingProps,m===null?fd(p):$n=m}function cl(p,m,M,P){Os=Hr=null,cn(m),nu=null,cf=0;var U=m.return;try{if(kC(p,U,m,M,Yn)){mi=1,Pm(p,ee(M,p.current)),$n=null;return}}catch(j){if(U!==null)throw $n=U,j;mi=1,Pm(p,ee(M,p.current)),$n=null;return}m.flags&32768?(Xn||P===1?p=!0:ou||(Yn&536870912)!==0?p=!1:(Ds=p=!0,(P===2||P===9||P===3||P===6)&&(P=po.current,P!==null&&P.tag===13&&(P.flags|=16384))),Wc(m,p)):fd(m)}function fd(p){var m=p;do{if((m.flags&32768)!==0){Wc(m,Ds);return}p=m.return;var M=b1(m.alternate,m,_l);if(M!==null){$n=M;return}if(m=m.sibling,m!==null){$n=m;return}$n=m=p}while(m!==null);mi===0&&(mi=5)}function Wc(p,m){do{var M=t0(p.alternate,p);if(M!==null){M.flags&=32767,$n=M;return}if(M=p.return,M!==null&&(M.flags|=32768,M.subtreeFlags=0,M.deletions=null),!m&&(p=p.sibling,p!==null)){$n=p;return}$n=p=M}while(p!==null);mi=6,$n=null}function ul(p,m,M,P,U,j,oe,Te,ot){p.cancelPendingCommit=null;do dl();while(zi!==0);if((Gn&6)!==0)throw Error(i(327));if(m!==null){if(m===p.current)throw Error(i(177));if(j=m.lanes|m.childLanes,j|=uf,N(p,M,j,oe,Te,ot),p===Bn&&($n=Bn=null,Yn=0),mf=m,ic=p,Sl=M,Cd=j,wg=U,Z0=P,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,Bi(qh,function(){return kh(),null})):(p.callbackNode=null,p.callbackPriority=0),P=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||P){P=un.T,un.T=null,U=ls(),qn(2),oe=Gn,Gn|=4;try{LC(p,m,M)}finally{Gn=oe,qn(U),un.T=P}}zi=1,Wl(),fl(),Gm()}}function Wl(){if(zi===1){zi=0;var p=ic,m=mf,M=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||M){M=un.T,un.T=null;var P=ls();qn(2);var U=Gn;Gn|=4;try{Ih(m,p),O1(p.containerInfo)}finally{Gn=U,qn(P),un.T=M}}p.current=m,zi=2}}function fl(){if(zi===2){zi=0;var p=ic,m=mf,M=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||M){M=un.T,un.T=null;var P=ls();qn(2);var U=Gn;Gn|=4;try{S1(p,m.alternate,m)}finally{Gn=U,qn(P),un.T=M}}zi=3}}function Gm(){if(zi===4||zi===3){zi=0,G0();var p=ic,m=mf,M=Sl,P=Z0;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?zi=5:(zi=0,mf=ic=null,$m(p,p.pendingLanes));var U=p.pendingLanes;if(U===0&&(rc=null),G(M),m=m.stateNode,ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(lf,m,void 0,(m.current.flags&128)===128)}catch{}if(P!==null){m=un.T,U=ls(),qn(2),un.T=null;try{for(var j=p.onRecoverableError,oe=0;oe<P.length;oe++){var Te=P[oe];j(Te.value,{componentStack:Te.stack})}}finally{un.T=m,qn(U)}}(Sl&3)!==0&&dl(),ut(p),U=p.pendingLanes,(M&261930)!==0&&(U&42)!==0?p===rp?dr++:(dr=0,rp=p):dr=0,ti&&Gh(),lt(0)}}function $m(p,m){(p.pooledCacheLanes&=m)===0&&(m=p.pooledCache,m!=null&&(p.pooledCache=null,Ue(m)))}function dl(){return Wl(),fl(),Gm(),kh()}function kh(){if(zi!==5)return!1;var p=ic,m=Cd;Cd=0;var M=G(Sl),P=32>M?32:M;M=un.T;var U=ls();try{qn(P),un.T=null,P=wg,wg=null;var j=ic,oe=Sl;if(zi=0,mf=ic=null,Sl=0,(Gn&6)!==0)throw Error(i(331));var Te=Gn;if(Gn|=4,jm(j.current),Bm(j,j.current,oe,P),Gn=Te,lt(0,!1),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(lf,j)}catch{}return!0}finally{qn(U),un.T=M,$m(p,m)}}function qc(p,m,M){m=ee(M,m),m=Gy(p.stateNode,m,2),p=We(p,m,2),p!==null&&(O(p,2),ut(p))}function yn(p,m,M){if(p.tag===3)qc(p,p,M);else for(;m!==null;){if(m.tag===3){qc(m,p,M);break}else if(m.tag===1){var P=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(rc===null||!rc.has(P))){p=ee(M,p),M=s1(2),P=We(m,M,2),P!==null&&(l1(M,P,m,p),O(P,2),ut(P));break}}m=m.return}}function dd(p,m,M){var P=p.pingCache;if(P===null){P=p.pingCache=new zo;var U=new Set;P.set(m,U)}else U=P.get(m),U===void 0&&(U=new Set,P.set(m,U));U.has(M)||(su=!0,U.add(M),p=A1.bind(null,p,m,M),m.then(p,p))}function A1(p,m,M){var P=p.pingCache;P!==null&&P.delete(m),p.pingedLanes|=p.suspendedLanes&M,p.warmLanes&=~M,Bn===p&&(Yn&M)===M&&(mi===4||mi===3&&(Yn&62914560)===Yn&&300>Oa()-tp?(Gn&2)===0&&bi(p,0):Ad|=M,Td===Yn&&(Td=0)),ut(p)}function T1(p,m){m===0&&(m=C()),p=an(p,m),p!==null&&(O(p,m),ut(p))}function UC(p){var m=p.memoizedState,M=0;m!==null&&(M=m.retryLane),T1(p,M)}function BC(p,m){var M=0;switch(p.tag){case 31:case 13:var P=p.stateNode,U=p.memoizedState;U!==null&&(M=U.retryLane);break;case 19:P=p.stateNode;break;case 22:P=p.stateNode._retryCache;break;default:throw Error(i(314))}P!==null&&P.delete(m),T1(p,M)}function Bi(p,m){return Wh(p,m)}function o0(p,m,M,P){this.tag=p,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xu(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ko(p,m){var M=p.alternate;return M===null?(M=n(p.tag,m,p.key,p.mode),M.elementType=p.elementType,M.type=p.type,M.stateNode=p.stateNode,M.alternate=p,p.alternate=M):(M.pendingProps=m,M.type=p.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=p.flags&65011712,M.childLanes=p.childLanes,M.lanes=p.lanes,M.child=p.child,M.memoizedProps=p.memoizedProps,M.memoizedState=p.memoizedState,M.updateQueue=p.updateQueue,m=p.dependencies,M.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},M.sibling=p.sibling,M.index=p.index,M.ref=p.ref,M.refCleanup=p.refCleanup,M}function Wm(p,m){p.flags&=65011714;var M=p.alternate;return M===null?(p.childLanes=0,p.lanes=m,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=M.childLanes,p.lanes=M.lanes,p.child=M.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=M.memoizedProps,p.memoizedState=M.memoizedState,p.updateQueue=M.updateQueue,p.type=M.type,m=M.dependencies,p.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),p}function ql(p,m,M,P,U,j){var oe=0;if(P=p,typeof p=="function")Xu(p)&&(oe=1);else if(typeof p=="string")oe=cs&&Xi?sg(p,M,aa.current)?26:V0(p)?27:5:cs?sg(p,M,aa.current)?26:5:Xi&&V0(p)?27:5;else e:switch(p){case Fh:return p=n(31,M,m,U),p.elementType=Fh,p.lanes=j,p;case Ju:return os(M.children,U,j,m);case Qu:oe=8,U|=24;break;case ef:return p=n(12,M,m,U|2),p.elementType=ef,p.lanes=j,p;case Km:return p=n(13,M,m,U),p.elementType=Km,p.lanes=j,p;case Xl:return p=n(19,M,m,U),p.elementType=Xl,p.lanes=j,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case ss:oe=10;break e;case Bh:oe=9;break e;case hd:oe=11;break e;case Zm:oe=14;break e;case Ga:oe=16,P=null;break e}oe=29,M=Error(i(130,p===null?"null":typeof p,"")),P=null}return m=n(oe,M,m,U),m.elementType=p,m.type=P,m.lanes=j,m}function os(p,m,M,P){return p=n(7,p,P,m),p.lanes=M,p}function s0(p,m,M){return p=n(6,p,null,m),p.lanes=M,p}function l0(p){var m=n(18,null,null,0);return m.stateNode=p,m}function c0(p,m,M){return m=n(4,p.children!==null?p.children:[],p.key,m),m.lanes=M,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function C1(p,m,M,P,U,j,oe,Te,ot){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=uo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=T(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T(0),this.hiddenUpdates=T(null),this.identifierPrefix=P,this.onUncaughtError=U,this.onCaughtError=j,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function Xc(p,m,M,P,U,j,oe,Te,ot,Mt,Bt,Rt){return p=new C1(p,m,M,oe,ot,Mt,Bt,Rt,Te),m=1,j===!0&&(m|=24),j=n(3,null,null,m),p.current=j,j.stateNode=p,m=je(),m.refCount++,p.pooledCache=m,m.refCount++,j.memoizedState={element:P,isDehydrated:M,cache:m},te(j),p}function qm(p){return p?(p=pl,p):pl}function Lh(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=s(m),p=p!==null?l(p):null,p===null?null:md(p.stateNode)}function u0(p,m,M,P,U,j){U=qm(U),P.context===null?P.context=U:P.pendingContext=U,P=we(m),P.payload={element:M},j=j===void 0?null:j,j!==null&&(P.callback=j),M=We(p,P,m),M!==null&&(fi(M,p,m),tt(M,p,m))}function Yu(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var M=p.retryLane;p.retryLane=M!==0&&M<m?M:m}}function Uh(p,m){Yu(p,m),(p=p.alternate)&&Yu(p,m)}var Ln={},Xm=he,lo=Hce,Ym=Object.assign,Ku=Symbol.for("react.element"),hl=Symbol.for("react.transitional.element"),Zu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),Bh=Symbol.for("react.consumer"),ss=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),Fh=Symbol.for("react.activity"),f0=Symbol.for("react.memo_cache_sentinel"),Yl=Symbol.iterator,Yc=Symbol.for("react.client.reference"),Kc=Array.isArray,un=Xm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,d0=e.rendererVersion,jh=e.rendererPackageName,pd=e.extraDevToolsConfig,md=e.getPublicInstance,R1=e.getRootHostContext,gd=e.getChildHostContext,Jm=e.prepareForCommit,O1=e.resetAfterCommit,h0=e.createInstance;e.cloneMutableInstance;var zh=e.appendInitialChild,co=e.finalizeInitialChildren,$a=e.shouldSetTextContent,Kl=e.createTextInstance;e.cloneMutableTextInstance;var p0=e.scheduleTimeout,P1=e.cancelTimeout,uo=e.noTimeout,Ai=e.isPrimaryRenderer;e.warnsIfNotActing;var tr=e.supportsMutation,Lo=e.supportsPersistence,ti=e.supportsHydration,Rn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Or=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var qn=e.setCurrentUpdatePriority,ls=e.getCurrentUpdatePriority,vd=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var tf=e.shouldAttemptEagerTransition,Qm=e.detachDeletedInstance;e.requestPostPaintCallback;var Hh=e.maySuspendCommit,yd=e.maySuspendCommitOnUpdate,m0=e.maySuspendCommitInSyncRender,di=e.preloadInstance,g0=e.startSuspendingCommit,eg=e.suspendInstance;e.suspendOnActiveViewTransition;var D1=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var nf=e.NotPendingTransition,rf=e.HostTransitionContext,v0=e.resetFormInstance;e.bindToConsole;var y0=e.supportsMicrotasks,b0=e.scheduleMicrotask,qi=e.supportsTestSelectors,Ti=e.findFiberRoot,tg=e.getBoundingRect,Vh=e.getTextContent,Zc=e.isHiddenSubtree,x0=e.matchAccessibilityRole,Zl=e.setFocusIfFocusable,ng=e.setupIntersectionObserver,_0=e.appendChild,S0=e.appendChildToContainer,I1=e.commitTextUpdate,N1=e.commitMount,k1=e.commitUpdate,L1=e.insertBefore,U1=e.insertInContainerBefore,B1=e.removeChild,w0=e.removeChildFromContainer,M0=e.resetTextContent,FC=e.hideInstance,F1=e.hideTextInstance,j1=e.unhideInstance,z1=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var E0=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var H1=e.cloneInstance,A0=e.createContainerChildSet,T0=e.appendChildToContainerChildSet,V1=e.finalizeContainerChildren,C0=e.replaceContainerChildren,G1=e.cloneHiddenInstance,R0=e.cloneHiddenTextInstance,Jc=e.isSuspenseInstancePending,rg=e.isSuspenseInstanceFallback,ig=e.getSuspenseInstanceFallbackErrorDetails,ag=e.registerSuspenseInstanceRetry,$1=e.canHydrateFormStateMarker,O0=e.isFormStateMarkerMatching,W1=e.getNextHydratableSibling,q1=e.getNextHydratableSiblingAfterSingleton,X1=e.getFirstHydratableChild,Y1=e.getFirstHydratableChildWithinContainer,K1=e.getFirstHydratableChildWithinActivityInstance,Z1=e.getFirstHydratableChildWithinSuspenseInstance,P0=e.getFirstHydratableChildWithinSingleton,J1=e.canHydrateInstance,Q1=e.canHydrateTextInstance,D0=e.canHydrateActivityInstance,eS=e.canHydrateSuspenseInstance,tS=e.hydrateInstance,jC=e.hydrateTextInstance,I0=e.hydrateActivityInstance,nS=e.hydrateSuspenseInstance,rS=e.getNextHydratableInstanceAfterActivityInstance,N0=e.getNextHydratableInstanceAfterSuspenseInstance,iS=e.commitHydratedInstance,aS=e.commitHydratedContainer,zC=e.commitHydratedActivityInstance,HC=e.commitHydratedSuspenseInstance,oS=e.finalizeHydratedChildren,Gh=e.flushHydrationEvents;e.clearActivityBoundary;var k0=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var og=e.clearSuspenseBoundaryFromContainer,sS=e.hideDehydratedBoundary,lS=e.unhideDehydratedBoundary,bd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var cS=e.validateHydratableInstance,L0=e.validateHydratableTextInstance,cs=e.supportsResources,sg=e.isHostHoistableType,$h=e.getHoistableRoot,U0=e.getResource,B0=e.acquireResource,Qc=e.releaseResource,uS=e.hydrateHoistable,F0=e.mountHoistable,j0=e.unmountHoistable,lg=e.createHoistableInstance,fS=e.prepareToCommitHoistables,z0=e.mayResourceSuspendCommit,H0=e.preloadResource,dS=e.suspendResource,Xi=e.supportsSingletons,cg=e.resolveSingletonInstance,Fi=e.acquireSingletonInstance,ia=e.releaseSingletonInstance,V0=e.isHostSingletonType,af=e.isSingletonScope,ug=[],of=-1,pl={},fo=Math.clz32?Math.clz32:_,fg=Math.log,hS=Math.LN2,dg=256,sf=262144,xd=4194304,Wh=lo.unstable_scheduleCallback,hg=lo.unstable_cancelCallback,pS=lo.unstable_shouldYield,G0=lo.unstable_requestPaint,Oa=lo.unstable_now,pg=lo.unstable_ImmediatePriority,mS=lo.unstable_UserBlockingPriority,qh=lo.unstable_NormalPriority,mg=lo.unstable_IdlePriority,$0=lo.log,gS=lo.unstable_setDisableYieldValue,lf=null,ho=null,Ci=typeof Object.is=="function"?Object.is:W,gg=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},VC=Object.prototype.hasOwnProperty,vg,ml,Xh=!1,W0=new WeakMap,Jl=[],gl=0,Pr=null,Yh=0,us=[],Uo=0,fs=null,pa=1,Rs="",aa=g(null),Ql=g(null),ma=g(null),Kh=g(null),Yi=null,ni=null,Xn=!1,vl=null,Wa=!1,yg=Error(i(519)),ds=g(null),Hr=null,Os=null,vS=typeof AbortController<"u"?AbortController:function(){var p=[],m=this.signal={aborted:!1,addEventListener:function(M,P){p.push(P)}};this.abort=function(){m.aborted=!0,p.forEach(function(M){return M()})}},oa=lo.unstable_scheduleCallback,GC=lo.unstable_NormalPriority,ri={$$typeof:ss,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Zh=null,Er=null,Pa=!1,hs=!1,bg=!1,eu=0,_d=null,q0=0,ec=0,Ki=null,ps=un.S;un.S=function(p,m){pf=Oa(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&dt(p,m),ps!==null&&ps(p,m)};var tu=g(null),Zi=Error(i(460)),xg=Error(i(474)),ms=Error(i(542)),yl={then:function(){}},qa=null,nu=null,cf=0,ga=gr(!0),X0=gr(!1),va=[],bl=0,uf=0,Bo=!1,_g=!1,ff=g(null),ru=g(0),po=g(null),mo=null,xi=g(0),tc=0,On=null,on=null,Mn=null,Un=!1,Nn=!1,ir=!1,Da=0,gs=0,Ps=null,Y0=0,Fo={readContext:re,use:fr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Fo.useEffectEvent=_t;var hi={readContext:re,use:fr,useCallback:function(p,m){return qt().memoizedState=[p,m===void 0?null:m],p},useContext:re,useEffect:Nc,useImperativeHandle:function(p,m,M){M=M!=null?M.concat([p]):null,Es(4194308,4,Qs.bind(null,m,p),M)},useLayoutEffect:function(p,m){return Es(4194308,4,p,m)},useInsertionEffect:function(p,m){Es(4,2,p,m)},useMemo:function(p,m){var M=qt();m=m===void 0?null:m;var P=p();if(ir){V(!0);try{p()}finally{V(!1)}}return M.memoizedState=[P,m],P},useReducer:function(p,m,M){var P=qt();if(M!==void 0){var U=M(m);if(ir){V(!0);try{M(m)}finally{V(!1)}}}else U=m;return P.memoizedState=P.baseState=U,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:U},P.queue=p,p=p.dispatch=Ca.bind(null,On,p),[P.memoizedState,p]},useRef:function(p){var m=qt();return p={current:p},m.memoizedState=p},useState:function(p){p=Pc(p);var m=p.queue,M=Ts.bind(null,On,m);return m.dispatch=M,[p.memoizedState,M]},useDebugValue:Uc,useDeferredValue:function(p,m){var M=qt();return Ui(M,p,m)},useTransition:function(){var p=Pc(!1);return p=zu.bind(null,On,p.queue,!0,!1),qt().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,m,M){var P=On,U=qt();if(Xn){if(M===void 0)throw Error(i(407));M=M()}else{if(M=m(),Bn===null)throw Error(i(349));(Yn&127)!==0||Jr(P,m,M)}U.memoizedState=M;var j={value:M,getSnapshot:m};return U.queue=j,Nc(ao.bind(null,P,j,p),[p]),P.flags|=2048,Ta(9,{destroy:void 0},ja.bind(null,P,j,M,m),null),M},useId:function(){var p=qt(),m=Bn.identifierPrefix;if(Xn){var M=Rs,P=pa;M=(P&~(1<<32-fo(P)-1)).toString(32)+M,m="_"+m+"R_"+M,M=Da++,0<M&&(m+="H"+M.toString(32)),m+="_"}else M=Y0++,m="_"+m+"r_"+M.toString(32)+"_";return p.memoizedState=m},useHostTransitionStatus:Zf,useFormState:Dc,useActionState:Dc,useOptimistic:function(p){var m=qt();m.memoizedState=m.baseState=p;var M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=M,m=Cm.bind(null,On,!0,M),M.dispatch=m,[p,m]},useMemoCache:Cr,useCacheRefresh:function(){return qt().memoizedState=Do.bind(null,On)},useEffectEvent:function(p){var m=qt(),M={impl:p};return m.memoizedState=M,function(){if((Gn&2)!==0)throw Error(i(440));return M.impl.apply(void 0,arguments)}}},xl={readContext:re,use:fr,useCallback:el,useContext:re,useEffect:es,useImperativeHandle:Lc,useInsertionEffect:As,useLayoutEffect:zl,useMemo:tl,useReducer:Rr,useRef:ju,useState:function(){return Rr(zn)},useDebugValue:Uc,useDeferredValue:function(p,m){var M=wt();return Mh(M,on.memoizedState,p,m)},useTransition:function(){var p=Rr(zn)[0],m=wt().memoizedState;return[typeof p=="boolean"?p:Lt(p),m]},useSyncExternalStore:Li,useId:Jf,useHostTransitionStatus:Zf,useFormState:Zs,useActionState:Zs,useOptimistic:function(p,m){var M=wt();return Jo(M,on,p,m)},useMemoCache:Cr,useCacheRefresh:da};xl.useEffectEvent=Qr;var iu={readContext:re,use:fr,useCallback:el,useContext:re,useEffect:es,useImperativeHandle:Lc,useInsertionEffect:As,useLayoutEffect:zl,useMemo:tl,useReducer:Lr,useRef:ju,useState:function(){return Lr(zn)},useDebugValue:Uc,useDeferredValue:function(p,m){var M=wt();return on===null?Ui(M,p,m):Mh(M,on.memoizedState,p,m)},useTransition:function(){var p=Lr(zn)[0],m=wt().memoizedState;return[typeof p=="boolean"?p:Lt(p),m]},useSyncExternalStore:Li,useId:Jf,useHostTransitionStatus:Zf,useFormState:Js,useActionState:Js,useOptimistic:function(p,m){var M=wt();return on!==null?Jo(M,on,p,m):(M.baseState=p,[p,M.queue.dispatch])},useMemoCache:Cr,useCacheRefresh:da};iu.useEffectEvent=Qr;var Jh={enqueueSetState:function(p,m,M){p=p._reactInternals;var P=ei(),U=we(P);U.payload=m,M!=null&&(U.callback=M),m=We(p,U,P),m!==null&&(fi(m,p,P),tt(m,p,P))},enqueueReplaceState:function(p,m,M){p=p._reactInternals;var P=ei(),U=we(P);U.tag=1,U.payload=m,M!=null&&(U.callback=M),m=We(p,U,P),m!==null&&(fi(m,p,P),tt(m,p,P))},enqueueForceUpdate:function(p,m){p=p._reactInternals;var M=ei(),P=we(M);P.tag=2,m!=null&&(P.callback=m),m=We(p,P,M),m!==null&&(fi(m,p,M),tt(m,p,M))}},Xa=Error(i(461)),qr=!1,df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},_i=!1,Si=!1,Sd=!1,K0=typeof WeakSet=="function"?WeakSet:Set,Ri=null,pi=null,Oi=!1,Ar=null,jo=8192,wd={getCacheForType:function(p){var m=re(ri),M=m.data.get(p);return M===void 0&&(M=p(),m.data.set(p,M)),M},cacheSignal:function(){return re(ri).controller.signal}},vs=0,Md=1,Ed=2,Qh=3,au=4;if(typeof Symbol=="function"&&Symbol.for){var hf=Symbol.for;vs=hf("selector.component"),Md=hf("selector.has_pseudo_class"),Ed=hf("selector.role"),Qh=hf("selector.test_id"),au=hf("selector.text")}var zo=typeof WeakMap=="function"?WeakMap:Map,Gn=0,Bn=null,$n=null,Yn=0,Tr=0,ji=null,Ds=!1,ou=!1,su=!1,_l=0,mi=0,nc=0,lu=0,Ad=0,Ya=0,Td=0,ep=null,go=null,Sg=!1,tp=0,pf=0,cu=1/0,np=null,rc=null,zi=0,ic=null,mf=null,Sl=0,Cd=0,wg=null,Z0=null,dr=0,rp=null;return Ln.attemptContinuousHydration=function(p){if(p.tag===13||p.tag===31){var m=an(p,67108864);m!==null&&fi(m,p,67108864),Uh(p,67108864)}},Ln.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13||p.tag===31){var m=ei();m=F(m);var M=an(p,m);M!==null&&fi(M,p,m),Uh(p,m)}},Ln.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var m=x(p.pendingLanes);if(m!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var M=1<<31-fo(m);p.entanglements[1]|=M,m&=~M}ut(p),(Gn&6)===0&&(cu=Oa()+500,lt(0))}}break;case 31:case 13:m=an(p,2),m!==null&&fi(m,p,2),zm(),Uh(p,2)}},Ln.batchedUpdates=function(p,m){return p(m)},Ln.createComponentSelector=function(p){return{$$typeof:vs,value:p}},Ln.createContainer=function(p,m,M,P,U,j,oe,Te,ot,Mt){return Xc(p,m,!1,null,M,P,j,null,oe,Te,ot,Mt)},Ln.createHasPseudoClassSelector=function(p){return{$$typeof:Md,value:p}},Ln.createHydrationContainer=function(p,m,M,P,U,j,oe,Te,ot,Mt,Bt,Rt,Wt,Tn){var Pi;return p=Xc(M,P,!0,p,U,j,Te,Tn,ot,Mt,Bt,Rt),p.context=qm(null),M=p.current,P=ei(),P=F(P),U=we(P),U.callback=(Pi=m)!=null?Pi:null,We(M,U,P),m=P,p.current.lanes=m,O(p,m),ut(p),p},Ln.createPortal=function(p,m,M){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zu,key:P==null?null:""+P,children:p,containerInfo:m,implementation:M}},Ln.createRoleSelector=function(p){return{$$typeof:Ed,value:p}},Ln.createTestNameSelector=function(p){return{$$typeof:Qh,value:p}},Ln.createTextSelector=function(p){return{$$typeof:au,value:p}},Ln.defaultOnCaughtError=function(p){console.error(p)},Ln.defaultOnRecoverableError=function(p){gg(p)},Ln.defaultOnUncaughtError=function(p){gg(p)},Ln.deferredUpdates=function(p){var m=un.T,M=ls();try{return qn(32),un.T=null,p()}finally{qn(M),un.T=m}},Ln.discreteUpdates=function(p,m,M,P,U){var j=un.T,oe=ls();try{return qn(2),un.T=null,p(m,M,P,U)}finally{qn(oe),un.T=j,Gn===0&&(cu=Oa()+500)}},Ln.findAllNodes=so,Ln.findBoundingRects=function(p,m){if(!qi)throw Error(i(363));m=so(p,m),p=[];for(var M=0;M<m.length;M++)p.push(tg(m[M]));for(m=p.length-1;0<m;m--){M=p[m];for(var P=M.x,U=P+M.width,j=M.y,oe=j+M.height,Te=m-1;0<=Te;Te--)if(m!==Te){var ot=p[Te],Mt=ot.x,Bt=Mt+ot.width,Rt=ot.y,Wt=Rt+ot.height;if(P>=Mt&&j>=Rt&&U<=Bt&&oe<=Wt){p.splice(m,1);break}else if(P!==Mt||M.width!==ot.width||Wt<j||Rt>oe){if(!(j!==Rt||M.height!==ot.height||Bt<P||Mt>U)){Mt>P&&(ot.width+=Mt-P,ot.x=P),Bt<U&&(ot.width=U-Mt),p.splice(m,1);break}}else{Rt>j&&(ot.height+=Rt-j,ot.y=j),Wt<oe&&(ot.height=oe-Rt),p.splice(m,1);break}}}return p},Ln.findHostInstance=Lh,Ln.findHostInstanceWithNoPortals=function(p){return p=s(p),p=p!==null?u(p):null,p===null?null:md(p.stateNode)},Ln.findHostInstanceWithWarning=function(p){return Lh(p)},Ln.flushPassiveEffects=dl,Ln.flushSyncFromReconciler=function(p){var m=Gn;Gn|=1;var M=un.T,P=ls();try{if(qn(2),un.T=null,p)return p()}finally{qn(P),un.T=M,Gn=m,(Gn&6)===0&&lt(0)}},Ln.flushSyncWork=zm,Ln.focusWithin=function(p,m){if(!qi)throw Error(i(363));for(p=Vc(p),m=ld(p,m),m=Array.from(m),p=0;p<m.length;){var M=m[p++],P=M.tag;if(!Zc(M)){if((P===5||P===26||P===27)&&Zl(M.stateNode))return!0;for(M=M.child;M!==null;)m.push(M),M=M.sibling}}return!1},Ln.getFindAllNodesFailureDescription=function(p,m){if(!qi)throw Error(i(363));var M=0,P=[];p=[Vc(p),0];for(var U=0;U<p.length;){var j=p[U++],oe=j.tag,Te=p[U++],ot=m[Te];if((oe!==5&&oe!==26&&oe!==27||!Zc(j))&&(Gc(j,ot)&&(P.push(sd(ot)),Te++,Te>M&&(M=Te)),Te<m.length))for(j=j.child;j!==null;)p.push(j,Te),j=j.sibling}if(M<m.length){for(p=[];M<m.length;M++)p.push(sd(m[M]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},Ln.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return md(p.child.stateNode);default:return p.child.stateNode}},Ln.injectIntoDevTools=function(){var p={bundleType:0,version:d0,rendererPackageName:jh,currentDispatcherRef:un,reconcilerVersion:"19.2.0"};if(pd!==null&&(p.rendererConfig=pd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{lf=m.inject(p),ho=m}catch{}p=!!m.checkDCE}}return p},Ln.isAlreadyRendering=function(){return(Gn&6)!==0},Ln.observeVisibleRects=function(p,m,M,P){if(!qi)throw Error(i(363));p=so(p,m);var U=ng(p,M,P).disconnect;return{disconnect:function(){U()}}},Ln.shouldError=function(){return null},Ln.shouldSuspend=function(){return!1},Ln.startHostTransition=function(p,m,M,P){if(p.tag!==5)throw Error(i(476));var U=Hu(p).queue;zu(p,U,m,nf,M===null?r:function(){var j=Hu(p);return j.next===null&&(j=p.alternate.memoizedState),Bc(p,j.next.queue,{},ei()),M(P)})},Ln.updateContainer=function(p,m,M,P){var U=m.current,j=ei();return u0(U,j,p,m,M,P),j},Ln.updateContainerSync=function(p,m,M,P){return u0(m.current,2,p,m,M,P),2},Ln},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(UF)),UF.exports}var FF;function gue(){return FF||(FF=1,LF.exports=mue()),LF.exports}var vue=gue();const yue=pue(vue);function bue(t){const e=yue(t);return e.injectIntoDevTools(),e}const z$=0,$v={},xue=/^three(?=[A-Z])/,_T=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let _ue=0;const Sue=t=>typeof t=="function";function pU(t){if(Sue(t)){const e=`${_ue++}`;return $v[e]=t,e}else Object.assign($v,t)}function H$(t,e){const n=_T(t),r=$v[n];if(t!=="primitive"&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function wue(t,e,n){var r;return t=_T(t)in $v?t:t.replace(xue,""),H$(t,e),t==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,yE(e.object,n,t,e)}function Mue(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?xE(t.parent,t):Go(t.object)&&(t.object.visible=!1),t.isHidden=!0,wy(t)}}function V$(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?bE(t.parent,t):Go(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,wy(t)}}function mU(t,e,n){const r=e.root.getState();if(!(!t.parent&&t.object!==r.scene)){if(!e.object){var i,a;const o=$v[_T(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(vu(e.object,e.props),e.props.attach)bE(t,e);else if(Go(e.object)&&Go(t.object)){const o=t.object.children.indexOf(n?.object);if(n&&o!==-1){const s=t.object.children.indexOf(e.object);if(s!==-1){t.object.children.splice(s,1);const l=s<o?o-1:o;t.object.children.splice(l,0,e.object)}else e.object.parent=t.object,t.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const o of e.children)mU(e,o);wy(e)}}function dO(t,e){e&&(e.parent=t,t.children.push(e),mU(t,e))}function jF(t,e,n){if(!e||!n)return;e.parent=t;const r=t.children.indexOf(n);r!==-1?t.children.splice(r,0,e):t.children.push(e),mU(t,e,n)}function G$(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():pN.unstable_scheduleCallback(pN.unstable_IdlePriority,e)}}function gN(t,e,n){if(!e)return;e.parent=null;const r=t.children.indexOf(e);r!==-1&&t.children.splice(r,1),e.props.attach?xE(t,e):Go(e.object)&&Go(t.object)&&(t.object.remove(e.object),aue(N$(e),e.object));const i=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];gN(e,o,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&G$(e.object),n===void 0&&wy(e)}function Eue(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const r=n.ref(e);typeof r=="function"&&(n.refCleanup=r)}else n.ref&&(n.ref.current=e)}const gM=[];function Aue(){for(const[n]of gM){const r=n.parent;if(r){n.props.attach?xE(r,n):Go(n.object)&&Go(r.object)&&r.object.remove(n.object);for(const i of n.children)i.props.attach?xE(n,i):Go(i.object)&&Go(n.object)&&n.object.remove(i.object)}n.isHidden&&V$(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&G$(n.object)}for(const[n,r,i]of gM){n.props=r;const a=n.parent;if(a){var t,e;const o=$v[_T(n.type)];n.object=(t=n.props.object)!=null?t:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,Eue(i,n.object),vu(n.object,n.props),n.props.attach?bE(a,n):Go(n.object)&&Go(a.object)&&a.object.add(n.object);for(const s of n.children)s.props.attach?bE(n,s):Go(s.object)&&Go(n.object)&&n.object.add(s.object);wy(n)}}gM.length=0}const hO=()=>{},zF={};let Cw=z$;const Tue=0,Cue=4,_E=bue({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:wue,removeChild:gN,appendChild:dO,appendInitialChild:dO,insertBefore:jF,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||dO(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||gN(n,e)},insertInContainerBefore(t,e,n){const r=t.getState().scene.__r3f;!e||!n||!r||jF(r,e,n)},getRootHostContext:()=>zF,getChildHostContext:()=>zF,commitUpdate(t,e,n,r,i){var a,o,s;H$(e,r);let l=!1;if((t.type==="primitive"&&n.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=n.args)==null?void 0:o.length)||(s=r.args)!=null&&s.some((d,h)=>{var g;return d!==((g=n.args)==null?void 0:g[h])}))&&(l=!0),l)gM.push([t,{...r},i]);else{const d=nue(t,r);Object.keys(d).length&&(Object.assign(t.props,d),vu(t.object,d))}(i.sibling===null||(i.flags&Cue)===Tue)&&Aue()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>yE(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Mue,unhideInstance:V$,createTextInstance:hO,hideTextInstance:hO,unhideTextInstance:hO,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:B.createContext(null),setCurrentUpdatePriority(t){Cw=t},getCurrentUpdatePriority(){return Cw},resolveUpdatePriority(){var t;if(Cw!==z$)return Cw;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return due;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return uue;default:return fue}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:hue.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),am=new Map,Kg={objects:"shallow",strict:!1};function Rue(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Oue(t){const e=am.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||sue(bN,VF),o=n||_E.createContainer(a,cue,null,!1,null,"",i,i,i,null);e||am.set(t,{fiber:o,store:a});let s,l,u=!1,d=null;return{async configure(h={}){let g;d=new Promise($=>g=$);let{gl:y,size:b,scene:_,events:x,onCreated:w,shadows:E=!1,linear:A=!1,flat:C=!1,legacy:T=!1,orthographic:O=!1,frameloop:N="always",dpr:R=[1,2],performance:k,raycaster:z,camera:F,onPointerMissed:G}=h,V=a.getState(),W=V.gl;if(!V.gl){const $={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},J=typeof y=="function"?await y($):y;NF(J)?W=J:W=new lU({...$,...y}),V.set({gl:W})}let K=V.raycaster;K||V.set({raycaster:K=new oU});const{params:H,...q}=z||{};if(wi.equ(q,K,Kg)||vu(K,{...q}),wi.equ(H,K.params,Kg)||vu(K,{params:{...K.params,...H}}),!V.camera||V.camera===l&&!wi.equ(l,F,Kg)){l=F;const $=F?.isCamera,J=$?F:O?new kl(0,0,0,0,.1,1e3):new Ni(75,0,.1,1e3);$||(J.position.z=5,F&&(vu(J,F),J.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(J.manual=!0,J.updateProjectionMatrix())),!V.camera&&!(F!=null&&F.rotation)&&J.lookAt(0,0,0)),V.set({camera:J}),K.camera=J}if(!V.scene){let $;_!=null&&_.isScene?($=_,yE($,a,"",{})):($=new D_,yE($,a,"",{}),_&&vu($,_)),V.set({scene:$})}x&&!V.events.handlers&&V.set({events:x(a)});const Z=Rue(t,b);if(wi.equ(Z,V.size,Kg)||V.setSize(Z.width,Z.height,Z.top,Z.left),R&&V.viewport.dpr!==L$(R)&&V.setDpr(R),V.frameloop!==N&&V.setFrameloop(N),V.onPointerMissed||V.set({onPointerMissed:G}),k&&!wi.equ(k,V.performance,Kg)&&V.set($=>({performance:{...$.performance,...k}})),!V.xr){var ee;const $=(fe,ge)=>{const ce=a.getState();ce.frameloop!=="never"&&VF(fe,!0,ce,ge)},J=()=>{const fe=a.getState();fe.gl.xr.enabled=fe.gl.xr.isPresenting,fe.gl.xr.setAnimationLoop(fe.gl.xr.isPresenting?$:null),fe.gl.xr.isPresenting||bN(fe)},ne={connect(){const fe=a.getState().gl;fe.xr.addEventListener("sessionstart",J),fe.xr.addEventListener("sessionend",J)},disconnect(){const fe=a.getState().gl;fe.xr.removeEventListener("sessionstart",J),fe.xr.removeEventListener("sessionend",J)}};typeof((ee=W.xr)==null?void 0:ee.addEventListener)=="function"&&ne.connect(),V.set({xr:ne})}if(W.shadowMap){const $=W.shadowMap.enabled,J=W.shadowMap.type;if(W.shadowMap.enabled=!!E,wi.boo(E))W.shadowMap.type=Xb;else if(wi.str(E)){var ae;const ne={basic:U7,percentage:Av,soft:Xb,variance:kp};W.shadowMap.type=(ae=ne[E])!=null?ae:Xb}else wi.obj(E)&&Object.assign(W.shadowMap,E);($!==W.shadowMap.enabled||J!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}return cr.enabled=!T,u||(W.outputColorSpace=A?Mc:to,W.toneMapping=C?Il:NA),V.legacy!==T&&V.set(()=>({legacy:T})),V.linear!==A&&V.set(()=>({linear:A})),V.flat!==C&&V.set(()=>({flat:C})),y&&!wi.fun(y)&&!NF(y)&&!wi.equ(y,W,Kg)&&vu(W,y),s=w,u=!0,g(),this},render(h){return!u&&!d&&this.configure(),d.then(()=>{_E.updateContainer(I.jsx(Pue,{store:a,children:h,onCreated:s,rootElement:t}),o,null,()=>{})}),a},unmount(){$$(t)}}}function Pue({store:t,children:e,onCreated:n,rootElement:r}){return j_(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),I.jsx(dU.Provider,{value:t,children:e})}function $$(t,e){const n=am.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),_E.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Qce(i.scene),am.delete(t)}catch{}},500)})}}function Due(t,e,n){return I.jsx(Iue,{children:t,container:e,state:n})}function Iue({state:t={},children:e,container:n}){const{events:r,size:i,...a}=t,o=hU(),[s]=B.useState(()=>new oU),[l]=B.useState(()=>new mt),u=fU((h,g)=>{let y;if(g.camera&&i){const b=g.camera;y=h.viewport.getCurrentViewport(b,new de,i),b!==h.camera&&B$(b,i)}return{...h,...g,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...g.events,...r},size:{...h.size,...i},viewport:{...h.viewport,...y},setEvents:b=>g.set(_=>({..._,events:{..._.events,...b}}))}}),d=B.useMemo(()=>{const h=T$((y,b)=>({...a,set:y,get:b})),g=y=>h.setState(b=>u.current(y,b));return g(o.getState()),o.subscribe(g),h},[o,n]);return I.jsx(I.Fragment,{children:_E.createPortal(I.jsx(dU.Provider,{value:d,children:e}),d,null)})}const Nue=new Set,kue=new Set,Lue=new Set;function pO(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ix(t,e){switch(t){case"before":return pO(Nue,e);case"after":return pO(kue,e);case"tail":return pO(Lue,e)}}let mO,gO;function vN(t,e,n){let r=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),mO=e.internal.subscribers;for(let i=0;i<mO.length;i++)gO=mO[i],gO.ref.current(gO.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let SE=!1,yN=!1,vO,HF,Zg;function W$(t){HF=requestAnimationFrame(W$),SE=!0,vO=0,ix("before",t),yN=!0;for(const n of am.values()){var e;Zg=n.store.getState(),Zg.internal.active&&(Zg.frameloop==="always"||Zg.internal.frames>0)&&!((e=Zg.gl.xr)!=null&&e.isPresenting)&&(vO+=vN(t,Zg))}if(yN=!1,ix("after",t),vO===0)return ix("tail",t),SE=!1,cancelAnimationFrame(HF)}function bN(t,e=1){var n;if(!t)return am.forEach(r=>bN(r.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):yN?t.internal.frames=2:t.internal.frames=1,SE||(SE=!0,requestAnimationFrame(W$)))}function VF(t,e=!0,n,r){if(e&&ix("before",t),n)vN(t,n,r);else for(const i of am.values())vN(t,i.store.getState());e&&ix("after",t)}const yO={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Uue(t){const{handlePointer:e}=oue(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(yO).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{const{set:r,events:i}=t.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:n}})),i.handlers)for(const a in i.handlers){const o=i.handlers[a],[s,l]=yO[a];n.addEventListener(s,o,{passive:l})}},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[o]=yO[i];r.connected.removeEventListener(o,a)}n(i=>({events:{...i.events,connected:void 0}}))}}}}function GF(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Bue({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=B.useRef(!1);B.useEffect(()=>(d.current=!0,()=>{d.current=!1}));const[h,g,y]=B.useMemo(()=>{const w=()=>{if(!s.current.element)return;const{left:E,top:A,width:C,height:T,bottom:O,right:N,x:R,y:k}=s.current.element.getBoundingClientRect(),z={left:E,top:A,width:C,height:T,bottom:O,right:N,x:R,y:k};s.current.element instanceof HTMLElement&&r&&(z.height=s.current.element.offsetHeight,z.width=s.current.element.offsetWidth),Object.freeze(z),d.current&&!Hue(s.current.lastBounds,z)&&o(s.current.lastBounds=z)};return[w,u?GF(w,u):w,l?GF(w,l):w]},[o,r,l,u]);function b(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",y,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function _(){s.current.element&&(s.current.resizeObserver=new i(y),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(w=>w.addEventListener("scroll",y,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=w=>{!w||w===s.current.element||(b(),s.current.element=w,s.current.scrollContainers=q$(w),_())};return jue(y,!!e),Fue(g),B.useEffect(()=>{b(),_()},[e,y,g]),B.useEffect(()=>b,[]),[x,a,h]}function Fue(t){B.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function jue(t,e){B.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",n,!0)}}},[t,e])}function q$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...q$(t.parentElement)]}const zue=["x","y","top","bottom","left","right","width","height"],Hue=(t,e)=>zue.every(n=>t[n]===e[n]);function Vue({ref:t,children:e,fallback:n,resize:r,style:i,gl:a,events:o=Uue,eventSource:s,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:g,orthographic:y,frameloop:b,dpr:_,performance:x,raycaster:w,camera:E,scene:A,onPointerMissed:C,onCreated:T,...O}){B.useMemo(()=>pU(Rce),[]);const N=Yce(),[R,k]=Bue({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=B.useRef(null),F=B.useRef(null);B.useImperativeHandle(t,()=>z.current);const G=fU(C),[V,W]=B.useState(!1),[K,H]=B.useState(!1);if(V)throw V;if(K)throw K;const q=B.useRef(null);j_(()=>{const ee=z.current;if(k.width>0&&k.height>0&&ee){q.current||(q.current=Oue(ee));async function ae(){await q.current.configure({gl:a,scene:A,events:o,shadows:u,linear:d,flat:h,legacy:g,orthographic:y,frameloop:b,dpr:_,performance:x,raycaster:w,camera:E,size:k,onPointerMissed:(...$)=>G.current==null?void 0:G.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(s?qce(s)?s.current:s:F.current),l&&$.setEvents({compute:(J,ne)=>{const fe=J[l+"X"],ge=J[l+"Y"];ne.pointer.set(fe/ne.size.width*2-1,-(ge/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),T?.($)}}),q.current.render(I.jsx(N,{children:I.jsx(Zce,{set:H,children:I.jsx(B.Suspense,{fallback:I.jsx(Kce,{set:W}),children:e??null})})}))}ae()}}),B.useEffect(()=>{const ee=z.current;if(ee)return()=>$$(ee)},[]);const Z=s?"none":"auto";return I.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...i},...O,children:I.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:z,style:{display:"block"},children:n})})})}function Gue(t){return I.jsx(D$,{children:I.jsx(Vue,{...t})})}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(null,arguments)}const z_=new de,gU=new de,$ue=new de,$F=new mt;function Wue(t,e,n){const r=z_.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,a=n.height/2;return[r.x*i+i,-(r.y*a)+a]}function que(t,e){const n=z_.setFromMatrixPosition(t.matrixWorld),r=gU.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),a=e.getWorldDirection($ue);return i.angleTo(a)>Math.PI/2}function Xue(t,e,n,r){const i=z_.setFromMatrixPosition(t.matrixWorld),a=i.clone();a.project(e),$F.set(a.x,a.y),n.setFromCamera($F,e);const o=n.intersectObjects(r,!0);if(o.length){const s=o[0].distance;return i.distanceTo(n.ray.origin)<s}return!0}function Yue(t,e){if(e instanceof kl)return e.zoom;if(e instanceof Ni){const n=z_.setFromMatrixPosition(t.matrixWorld),r=gU.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}else return 1}function Kue(t,e,n){if(e instanceof Ni||e instanceof kl){const r=z_.setFromMatrixPosition(t.matrixWorld),i=gU.setFromMatrixPosition(e.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),s=n[1]-o*e.far;return Math.round(o*a+s)}}const xN=t=>Math.abs(t)<1e-10?0:t;function X$(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=xN(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Zue=(t=>e=>X$(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Jue=(t=>(e,n)=>X$(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Que(t){return t&&typeof t=="object"&&"current"in t}const Y$=B.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:a,fullscreen:o,portal:s,distanceFactor:l,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:g,castShadow:y,receiveShadow:b,material:_,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:E=Wue,as:A="div",wrapperClass:C,pointerEvents:T="auto",...O},N)=>{const{gl:R,camera:k,scene:z,size:F,raycaster:G,events:V,viewport:W}=So(),[K]=B.useState(()=>document.createElement(A)),H=B.useRef(null),q=B.useRef(null),Z=B.useRef(0),ee=B.useRef([0,0]),ae=B.useRef(null),$=B.useRef(null),J=s?.current||V.connected||R.domElement.parentNode,ne=B.useRef(null),fe=B.useRef(!1),ge=B.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&Que(h[0]),[h]);B.useLayoutEffect(()=>{const Oe=R.domElement;h&&h==="blending"?(Oe.style.zIndex=`${Math.floor(w[0]/2)}`,Oe.style.position="absolute",Oe.style.pointerEvents="none"):(Oe.style.zIndex=null,Oe.style.position=null,Oe.style.pointerEvents=null)},[h]),B.useLayoutEffect(()=>{if(q.current){const Oe=H.current=E7.createRoot(K);if(z.updateMatrixWorld(),d)K.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const _e=E(q.current,k,F);K.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${_e[0]}px,${_e[1]}px,0);transform-origin:0 0;`}return J&&(i?J.prepend(K):J.appendChild(K)),()=>{J&&J.removeChild(K),Oe.unmount()}}},[J,d]),B.useLayoutEffect(()=>{C&&(K.className=C)},[C]);const ce=B.useMemo(()=>d?{position:"absolute",top:0,left:0,width:F.width,height:F.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-F.height/2,left:-F.width/2,width:F.width,height:F.height},...n},[n,a,o,F,d]),le=B.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);B.useLayoutEffect(()=>{if(fe.current=!1,d){var Oe;(Oe=H.current)==null||Oe.render(B.createElement("div",{ref:ae,style:ce},B.createElement("div",{ref:$,style:le},B.createElement("div",{ref:N,className:r,style:n,children:t}))))}else{var _e;(_e=H.current)==null||_e.render(B.createElement("div",{ref:N,style:ce,className:r,children:t}))}});const pe=B.useRef(!0);xm(Oe=>{if(q.current){k.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);const _e=d?ee.current:E(q.current,k,F);if(d||Math.abs(Z.current-k.zoom)>e||Math.abs(ee.current[0]-_e[0])>e||Math.abs(ee.current[1]-_e[1])>e){const ve=que(q.current,k);let Qe=!1;ge&&(Array.isArray(h)?Qe=h.map(Ge=>Ge.current):h!=="blending"&&(Qe=[z]));const Ee=pe.current;if(Qe){const Ge=Xue(q.current,k,G,Qe);pe.current=Ge&&!ve}else pe.current=!ve;Ee!==pe.current&&(g?g(!pe.current):K.style.display=pe.current?"block":"none");const Fe=Math.floor(w[0]/2),Ne=h?ge?[w[0],Fe]:[Fe-1,0]:w;if(K.style.zIndex=`${Kue(q.current,k,Ne)}`,d){const[Ge,ie]=[F.width/2,F.height/2],et=k.projectionMatrix.elements[5]*ie,{isOrthographicCamera:Ke,top:Be,left:He,bottom:re,right:X}=k,ye=Zue(k.matrixWorldInverse),je=Ke?`scale(${et})translate(${xN(-(X+He)/2)}px,${xN((Be+re)/2)}px)`:`translateZ(${et}px)`;let Ue=q.current.matrixWorld;u&&(Ue=k.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(q.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),K.style.width=F.width+"px",K.style.height=F.height+"px",K.style.perspective=Ke?"":`${et}px`,ae.current&&$.current&&(ae.current.style.transform=`${je}${ye}translate(${Ge}px,${ie}px)`,$.current.style.transform=Jue(Ue,1/((l||10)/400)))}else{const Ge=l===void 0?1:Yue(q.current,k)*l;K.style.transform=`translate3d(${_e[0]}px,${_e[1]}px,0) scale(${Ge})`}ee.current=_e,Z.current=k.zoom}}if(!ge&&ne.current&&!fe.current)if(d){if(ae.current){const _e=ae.current.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const{isOrthographicCamera:ve}=k;if(ve||x)O.scale&&(Array.isArray(O.scale)?O.scale instanceof de?ne.current.scale.copy(O.scale.clone().divideScalar(1)):ne.current.scale.set(1/O.scale[0],1/O.scale[1],1/O.scale[2]):ne.current.scale.setScalar(1/O.scale));else{const Qe=(l||10)/400,Ee=_e.clientWidth*Qe,Fe=_e.clientHeight*Qe;ne.current.scale.set(Ee,Fe,1)}fe.current=!0}}}else{const _e=K.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const ve=1/W.factor,Qe=_e.clientWidth*ve,Ee=_e.clientHeight*ve;ne.current.scale.set(Qe,Ee,1),fe.current=!0}ne.current.lookAt(Oe.camera.position)}});const xe=B.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return B.createElement("group",ch({},O,{ref:q}),h&&!ge&&B.createElement("mesh",{castShadow:y,receiveShadow:b,ref:ne},x||B.createElement("planeGeometry",null),_||B.createElement("shaderMaterial",{side:js,vertexShader:xe.vertexShader,fragmentShader:xe.fragmentShader})))});let _b=0;const efe=D7(t=>(yv.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-_b)/(r-_b)*100})},yv.onLoad=()=>{t({active:!1})},yv.onError=e=>t(n=>({errors:[...n.errors,e]})),yv.onProgress=(e,n,r)=>{n===r&&(_b=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-_b)/(r-_b)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),K$=parseInt(yy.replace(/\D+/g,""));var Rl=Uint8Array,th=Uint16Array,_N=Uint32Array,Z$=new Rl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J$=new Rl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tfe=new Rl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q$=function(t,e){for(var n=new th(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _N(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},eW=Q$(Z$,2),tW=eW[0],nfe=eW[1];tW[28]=258,nfe[258]=28;var rfe=Q$(J$,0),ife=rfe[0],SN=new th(32768);for(var yi=0;yi<32768;++yi){var Vd=(yi&43690)>>>1|(yi&21845)<<1;Vd=(Vd&52428)>>>2|(Vd&13107)<<2,Vd=(Vd&61680)>>>4|(Vd&3855)<<4,SN[yi]=((Vd&65280)>>>8|(Vd&255)<<8)>>>1}var ax=(function(t,e,n){for(var r=t.length,i=0,a=new th(e);i<r;++i)++a[t[i]-1];var o=new th(e);for(i=0;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new th(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=o[t[i]-1]++<<d,g=h|(1<<d)-1;h<=g;++h)s[SN[h]>>>l]=u}else for(s=new th(r),i=0;i<r;++i)t[i]&&(s[i]=SN[o[t[i]-1]++]>>>15-t[i]);return s}),H_=new Rl(288);for(var yi=0;yi<144;++yi)H_[yi]=8;for(var yi=144;yi<256;++yi)H_[yi]=9;for(var yi=256;yi<280;++yi)H_[yi]=7;for(var yi=280;yi<288;++yi)H_[yi]=8;var nW=new Rl(32);for(var yi=0;yi<32;++yi)nW[yi]=5;var afe=ax(H_,9,1),ofe=ax(nW,5,1),bO=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},lc=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},xO=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},sfe=function(t){return(t/8|0)+(t&7&&1)},lfe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof th?th:t instanceof _N?_N:Rl)(n-e);return r.set(t.subarray(e,n)),r},cfe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Rl(0);var i=!e||n,a=!n||n.i;n||(n={}),e||(e=new Rl(r*3));var o=function(ce){var le=e.length;if(ce>le){var pe=new Rl(Math.max(le*2,ce));pe.set(e),e=pe}},s=n.f||0,l=n.p||0,u=n.b||0,d=n.l,h=n.d,g=n.m,y=n.n,b=r*8;do{if(!d){n.f=s=lc(t,l,1);var _=lc(t,l+1,3);if(l+=3,_)if(_==1)d=afe,h=ofe,g=9,y=5;else if(_==2){var A=lc(t,l,31)+257,C=lc(t,l+10,15)+4,T=A+lc(t,l+5,31)+1;l+=14;for(var O=new Rl(T),N=new Rl(19),R=0;R<C;++R)N[tfe[R]]=lc(t,l+R*3,7);l+=C*3;for(var k=bO(N),z=(1<<k)-1,F=ax(N,k,1),R=0;R<T;){var G=F[lc(t,l,z)];l+=G&15;var x=G>>>4;if(x<16)O[R++]=x;else{var V=0,W=0;for(x==16?(W=3+lc(t,l,3),l+=2,V=O[R-1]):x==17?(W=3+lc(t,l,7),l+=3):x==18&&(W=11+lc(t,l,127),l+=7);W--;)O[R++]=V}}var K=O.subarray(0,A),H=O.subarray(A);g=bO(K),y=bO(H),d=ax(K,g,1),h=ax(H,y,1)}else throw"invalid block type";else{var x=sfe(l)+4,w=t[x-4]|t[x-3]<<8,E=x+w;if(E>r){if(a)throw"unexpected EOF";break}i&&o(u+w),e.set(t.subarray(x,E),u),n.b=u+=w,n.p=l=E*8;continue}if(l>b){if(a)throw"unexpected EOF";break}}i&&o(u+131072);for(var q=(1<<g)-1,Z=(1<<y)-1,ee=l;;ee=l){var V=d[xO(t,l)&q],ae=V>>>4;if(l+=V&15,l>b){if(a)throw"unexpected EOF";break}if(!V)throw"invalid length/literal";if(ae<256)e[u++]=ae;else if(ae==256){ee=l,d=null;break}else{var $=ae-254;if(ae>264){var R=ae-257,J=Z$[R];$=lc(t,l,(1<<J)-1)+tW[R],l+=J}var ne=h[xO(t,l)&Z],fe=ne>>>4;if(!ne)throw"invalid distance";l+=ne&15;var H=ife[fe];if(fe>3){var J=J$[fe];H+=xO(t,l)&(1<<J)-1,l+=J}if(l>b){if(a)throw"unexpected EOF";break}i&&o(u+131072);for(var ge=u+$;u<ge;u+=4)e[u]=e[u-H],e[u+1]=e[u+1-H],e[u+2]=e[u+2-H],e[u+3]=e[u+3-H];u=ge}}n.l=d,n.p=ee,n.b=u,d&&(s=1,n.m=g,n.d=h,n.n=y)}while(!s);return u==e.length?e:lfe(e,0,u)},ufe=new Rl(0),ffe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Rw(t,e){return cfe((ffe(t),t.subarray(2,-4)),e)}var dfe=typeof TextDecoder<"u"&&new TextDecoder,hfe=0;try{dfe.decode(ufe,{stream:!0}),hfe=1}catch{}const pfe=t=>t&&t.isCubeTexture;class mfe extends li{constructor(e,n){var r,i;const a=pfe(e),s=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),d=3*Math.max(u,112),h=4*u,g=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,b=g.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${K$>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,_={map:{value:e},height:{value:n?.height||15},radius:{value:n?.radius||100}},x=new L_(1,16),w=new ro({uniforms:_,fragmentShader:b,vertexShader:y,side:js});super(x,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var gfe=Object.defineProperty,vfe=(t,e,n)=>e in t?gfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yfe=(t,e,n)=>(vfe(t,e+"",n),n);class bfe{constructor(){yfe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var xfe=Object.defineProperty,_fe=(t,e,n)=>e in t?xfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mn=(t,e,n)=>(_fe(t,typeof e!="symbol"?e+"":e,n),n);const Ow=new vm,WF=new gu,Sfe=Math.cos(70*(Math.PI/180)),qF=(t,e)=>(t%e+e)%e;let wfe=class extends bfe{constructor(e,n){super(),mn(this,"object"),mn(this,"domElement"),mn(this,"enabled",!0),mn(this,"target",new de),mn(this,"minDistance",0),mn(this,"maxDistance",1/0),mn(this,"minZoom",0),mn(this,"maxZoom",1/0),mn(this,"minPolarAngle",0),mn(this,"maxPolarAngle",Math.PI),mn(this,"minAzimuthAngle",-1/0),mn(this,"maxAzimuthAngle",1/0),mn(this,"enableDamping",!1),mn(this,"dampingFactor",.05),mn(this,"enableZoom",!0),mn(this,"zoomSpeed",1),mn(this,"enableRotate",!0),mn(this,"rotateSpeed",1),mn(this,"enablePan",!0),mn(this,"panSpeed",1),mn(this,"screenSpacePanning",!0),mn(this,"keyPanSpeed",7),mn(this,"zoomToCursor",!1),mn(this,"autoRotate",!1),mn(this,"autoRotateSpeed",2),mn(this,"reverseOrbit",!1),mn(this,"reverseHorizontalOrbit",!1),mn(this,"reverseVerticalOrbit",!1),mn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),mn(this,"mouseButtons",{LEFT:Ep.ROTATE,MIDDLE:Ep.DOLLY,RIGHT:Ep.PAN}),mn(this,"touches",{ONE:Ap.ROTATE,TWO:Ap.DOLLY_PAN}),mn(this,"target0"),mn(this,"position0"),mn(this,"zoom0"),mn(this,"_domElementKeyEvents",null),mn(this,"getPolarAngle"),mn(this,"getAzimuthalAngle"),mn(this,"setPolarAngle"),mn(this,"setAzimuthalAngle"),mn(this,"getDistance"),mn(this,"getZoomScale"),mn(this,"listenToKeyEvents"),mn(this,"stopListenToKeyEvents"),mn(this,"saveState"),mn(this,"reset"),mn(this,"update"),mn(this,"connect"),mn(this,"dispose"),mn(this,"dollyIn"),mn(this,"dollyOut"),mn(this,"getScale"),mn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=me=>{let Le=qF(me,2*Math.PI),dt=d.phi;dt<0&&(dt+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let be=Math.abs(Le-dt);2*Math.PI-be<be&&(Le<dt?Le+=2*Math.PI:dt+=2*Math.PI),h.phi=Le-dt,r.update()},this.setAzimuthalAngle=me=>{let Le=qF(me,2*Math.PI),dt=d.theta;dt<0&&(dt+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let be=Math.abs(Le-dt);2*Math.PI-be<be&&(Le<dt?Le+=2*Math.PI:dt+=2*Math.PI),h.theta=Le-dt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=me=>{me.addEventListener("keydown",ke),this._domElementKeyEvents=me},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ke),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const me=new de,Le=new de(0,1,0),dt=new no().setFromUnitVectors(e.up,Le),be=dt.clone().invert(),Ae=new de,it=new no,Pt=2*Math.PI;return function(){const Ce=r.object.position;dt.setFromUnitVectors(e.up,Le),be.copy(dt).invert(),me.copy(Ce).sub(r.target),me.applyQuaternion(dt),d.setFromVector3(me),r.autoRotate&&l===s.NONE&&W(G()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let gt=r.minAzimuthAngle,Et=r.maxAzimuthAngle;isFinite(gt)&&isFinite(Et)&&(gt<-Math.PI?gt+=Pt:gt>Math.PI&&(gt-=Pt),Et<-Math.PI?Et+=Pt:Et>Math.PI&&(Et-=Pt),gt<=Et?d.theta=Math.max(gt,Math.min(Et,d.theta)):d.theta=d.theta>(gt+Et)/2?Math.max(gt,d.theta):Math.min(Et,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&k||r.object.isOrthographicCamera?d.radius=ne(d.radius):d.radius=ne(d.radius*g),me.setFromSpherical(d),me.applyQuaternion(be),Ce.copy(r.target).add(me),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),y.set(0,0,0));let Ct=!1;if(r.zoomToCursor&&k){let $t=null;if(r.object instanceof Ni&&r.object.isPerspectiveCamera){const rn=me.length();$t=ne(rn*g);const hn=rn-$t;r.object.position.addScaledVector(N,hn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const rn=new de(R.x,R.y,0);rn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),Ct=!0;const hn=new de(R.x,R.y,0);hn.unproject(r.object),r.object.position.sub(hn).add(rn),r.object.updateMatrixWorld(),$t=me.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;$t!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar($t).add(r.object.position):(Ow.origin.copy(r.object.position),Ow.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ow.direction))<Sfe?e.lookAt(r.target):(WF.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ow.intersectPlane(WF,r.target))))}else r.object instanceof kl&&r.object.isOrthographicCamera&&(Ct=g!==1,Ct&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,k=!1,Ct||Ae.distanceToSquared(r.object.position)>u||8*(1-it.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ae.copy(r.object.position),it.copy(r.object.quaternion),Ct=!1,!0):!1}})(),this.connect=me=>{r.domElement=me,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Tt),r.domElement.addEventListener("pointerdown",He),r.domElement.addEventListener("pointercancel",X),r.domElement.addEventListener("wheel",Ue)},this.dispose=()=>{var me,Le,dt,be,Ae,it;r.domElement&&(r.domElement.style.touchAction="auto"),(me=r.domElement)==null||me.removeEventListener("contextmenu",Tt),(Le=r.domElement)==null||Le.removeEventListener("pointerdown",He),(dt=r.domElement)==null||dt.removeEventListener("pointercancel",X),(be=r.domElement)==null||be.removeEventListener("wheel",Ue),(Ae=r.domElement)==null||Ae.ownerDocument.removeEventListener("pointermove",re),(it=r.domElement)==null||it.ownerDocument.removeEventListener("pointerup",X),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ke)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,d=new vE,h=new vE;let g=1;const y=new de,b=new mt,_=new mt,x=new mt,w=new mt,E=new mt,A=new mt,C=new mt,T=new mt,O=new mt,N=new de,R=new mt;let k=!1;const z=[],F={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function W(me){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=me:h.theta-=me}function K(me){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=me:h.phi-=me}const H=(()=>{const me=new de;return function(dt,be){me.setFromMatrixColumn(be,0),me.multiplyScalar(-dt),y.add(me)}})(),q=(()=>{const me=new de;return function(dt,be){r.screenSpacePanning===!0?me.setFromMatrixColumn(be,1):(me.setFromMatrixColumn(be,0),me.crossVectors(r.object.up,me)),me.multiplyScalar(dt),y.add(me)}})(),Z=(()=>{const me=new de;return function(dt,be){const Ae=r.domElement;if(Ae&&r.object instanceof Ni&&r.object.isPerspectiveCamera){const it=r.object.position;me.copy(it).sub(r.target);let Pt=me.length();Pt*=Math.tan(r.object.fov/2*Math.PI/180),H(2*dt*Pt/Ae.clientHeight,r.object.matrix),q(2*be*Pt/Ae.clientHeight,r.object.matrix)}else Ae&&r.object instanceof kl&&r.object.isOrthographicCamera?(H(dt*(r.object.right-r.object.left)/r.object.zoom/Ae.clientWidth,r.object.matrix),q(be*(r.object.top-r.object.bottom)/r.object.zoom/Ae.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ee(me){r.object instanceof Ni&&r.object.isPerspectiveCamera||r.object instanceof kl&&r.object.isOrthographicCamera?g=me:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ae(me){ee(g/me)}function $(me){ee(g*me)}function J(me){if(!r.zoomToCursor||!r.domElement)return;k=!0;const Le=r.domElement.getBoundingClientRect(),dt=me.clientX-Le.left,be=me.clientY-Le.top,Ae=Le.width,it=Le.height;R.x=dt/Ae*2-1,R.y=-(be/it)*2+1,N.set(R.x,R.y,1).unproject(r.object).sub(r.object.position).normalize()}function ne(me){return Math.max(r.minDistance,Math.min(r.maxDistance,me))}function fe(me){b.set(me.clientX,me.clientY)}function ge(me){J(me),C.set(me.clientX,me.clientY)}function ce(me){w.set(me.clientX,me.clientY)}function le(me){_.set(me.clientX,me.clientY),x.subVectors(_,b).multiplyScalar(r.rotateSpeed);const Le=r.domElement;Le&&(W(2*Math.PI*x.x/Le.clientHeight),K(2*Math.PI*x.y/Le.clientHeight)),b.copy(_),r.update()}function pe(me){T.set(me.clientX,me.clientY),O.subVectors(T,C),O.y>0?ae(V()):O.y<0&&$(V()),C.copy(T),r.update()}function xe(me){E.set(me.clientX,me.clientY),A.subVectors(E,w).multiplyScalar(r.panSpeed),Z(A.x,A.y),w.copy(E),r.update()}function Oe(me){J(me),me.deltaY<0?$(V()):me.deltaY>0&&ae(V()),r.update()}function _e(me){let Le=!1;switch(me.code){case r.keys.UP:Z(0,r.keyPanSpeed),Le=!0;break;case r.keys.BOTTOM:Z(0,-r.keyPanSpeed),Le=!0;break;case r.keys.LEFT:Z(r.keyPanSpeed,0),Le=!0;break;case r.keys.RIGHT:Z(-r.keyPanSpeed,0),Le=!0;break}Le&&(me.preventDefault(),r.update())}function ve(){if(z.length==1)b.set(z[0].pageX,z[0].pageY);else{const me=.5*(z[0].pageX+z[1].pageX),Le=.5*(z[0].pageY+z[1].pageY);b.set(me,Le)}}function Qe(){if(z.length==1)w.set(z[0].pageX,z[0].pageY);else{const me=.5*(z[0].pageX+z[1].pageX),Le=.5*(z[0].pageY+z[1].pageY);w.set(me,Le)}}function Ee(){const me=z[0].pageX-z[1].pageX,Le=z[0].pageY-z[1].pageY,dt=Math.sqrt(me*me+Le*Le);C.set(0,dt)}function Fe(){r.enableZoom&&Ee(),r.enablePan&&Qe()}function Ne(){r.enableZoom&&Ee(),r.enableRotate&&ve()}function Ge(me){if(z.length==1)_.set(me.pageX,me.pageY);else{const dt=rt(me),be=.5*(me.pageX+dt.x),Ae=.5*(me.pageY+dt.y);_.set(be,Ae)}x.subVectors(_,b).multiplyScalar(r.rotateSpeed);const Le=r.domElement;Le&&(W(2*Math.PI*x.x/Le.clientHeight),K(2*Math.PI*x.y/Le.clientHeight)),b.copy(_)}function ie(me){if(z.length==1)E.set(me.pageX,me.pageY);else{const Le=rt(me),dt=.5*(me.pageX+Le.x),be=.5*(me.pageY+Le.y);E.set(dt,be)}A.subVectors(E,w).multiplyScalar(r.panSpeed),Z(A.x,A.y),w.copy(E)}function et(me){const Le=rt(me),dt=me.pageX-Le.x,be=me.pageY-Le.y,Ae=Math.sqrt(dt*dt+be*be);T.set(0,Ae),O.set(0,Math.pow(T.y/C.y,r.zoomSpeed)),ae(O.y),C.copy(T)}function Ke(me){r.enableZoom&&et(me),r.enablePan&&ie(me)}function Be(me){r.enableZoom&&et(me),r.enableRotate&&Ge(me)}function He(me){var Le,dt;r.enabled!==!1&&(z.length===0&&((Le=r.domElement)==null||Le.ownerDocument.addEventListener("pointermove",re),(dt=r.domElement)==null||dt.ownerDocument.addEventListener("pointerup",X)),Dt(me),me.pointerType==="touch"?ut(me):ye(me))}function re(me){r.enabled!==!1&&(me.pointerType==="touch"?lt(me):je(me))}function X(me){var Le,dt,be;Ye(me),z.length===0&&((Le=r.domElement)==null||Le.releasePointerCapture(me.pointerId),(dt=r.domElement)==null||dt.ownerDocument.removeEventListener("pointermove",re),(be=r.domElement)==null||be.ownerDocument.removeEventListener("pointerup",X)),r.dispatchEvent(o),l=s.NONE}function ye(me){let Le;switch(me.button){case 0:Le=r.mouseButtons.LEFT;break;case 1:Le=r.mouseButtons.MIDDLE;break;case 2:Le=r.mouseButtons.RIGHT;break;default:Le=-1}switch(Le){case Ep.DOLLY:if(r.enableZoom===!1)return;ge(me),l=s.DOLLY;break;case Ep.ROTATE:if(me.ctrlKey||me.metaKey||me.shiftKey){if(r.enablePan===!1)return;ce(me),l=s.PAN}else{if(r.enableRotate===!1)return;fe(me),l=s.ROTATE}break;case Ep.PAN:if(me.ctrlKey||me.metaKey||me.shiftKey){if(r.enableRotate===!1)return;fe(me),l=s.ROTATE}else{if(r.enablePan===!1)return;ce(me),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function je(me){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;le(me);break;case s.DOLLY:if(r.enableZoom===!1)return;pe(me);break;case s.PAN:if(r.enablePan===!1)return;xe(me);break}}function Ue(me){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(me.preventDefault(),r.dispatchEvent(a),Oe(me),r.dispatchEvent(o))}function ke(me){r.enabled===!1||r.enablePan===!1||_e(me)}function ut(me){switch($e(me),z.length){case 1:switch(r.touches.ONE){case Ap.ROTATE:if(r.enableRotate===!1)return;ve(),l=s.TOUCH_ROTATE;break;case Ap.PAN:if(r.enablePan===!1)return;Qe(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Ap.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),l=s.TOUCH_DOLLY_PAN;break;case Ap.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ne(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function lt(me){switch($e(me),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ge(me),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;ie(me),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ke(me),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(me),r.update();break;default:l=s.NONE}}function Tt(me){r.enabled!==!1&&me.preventDefault()}function Dt(me){z.push(me)}function Ye(me){delete F[me.pointerId];for(let Le=0;Le<z.length;Le++)if(z[Le].pointerId==me.pointerId){z.splice(Le,1);return}}function $e(me){let Le=F[me.pointerId];Le===void 0&&(Le=new mt,F[me.pointerId]=Le),Le.set(me.pageX,me.pageY)}function rt(me){const Le=me.pointerId===z[0].pointerId?z[1]:z[0];return F[Le.pointerId]}this.dollyIn=(me=V())=>{$(me),r.update()},this.dollyOut=(me=V())=>{ae(me),r.update()},this.getScale=()=>g,this.setScale=me=>{ee(me),r.update()},this.getZoomScale=()=>V(),n!==void 0&&this.connect(n),this.update()}};class Mfe extends QL{constructor(e){super(e),this.type=Wi}parse(e){const o=function(R,k){switch(R){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(k||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(k||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(k||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(k||""))}},h=function(R,k,z){k=k||1024;let G=R.pos,V=-1,W=0,K="",H=String.fromCharCode.apply(null,new Uint16Array(R.subarray(G,G+128)));for(;0>(V=H.indexOf(`
`))&&W<k&&G<R.byteLength;)K+=H,W+=H.length,G+=128,H+=String.fromCharCode.apply(null,new Uint16Array(R.subarray(G,G+128)));return-1<V?(R.pos+=W+V+1,K+H.slice(0,V)):!1},g=function(R){const k=/^#\?(\S+)/,z=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*FORMAT=(\S+)\s*$/,V=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,W={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let K,H;for((R.pos>=R.byteLength||!(K=h(R)))&&o(1,"no header found"),(H=K.match(k))||o(3,"bad initial token"),W.valid|=1,W.programtype=H[1],W.string+=K+`
`;K=h(R),K!==!1;){if(W.string+=K+`
`,K.charAt(0)==="#"){W.comments+=K+`
`;continue}if((H=K.match(z))&&(W.gamma=parseFloat(H[1])),(H=K.match(F))&&(W.exposure=parseFloat(H[1])),(H=K.match(G))&&(W.valid|=2,W.format=H[1]),(H=K.match(V))&&(W.valid|=4,W.height=parseInt(H[1],10),W.width=parseInt(H[2],10)),W.valid&2&&W.valid&4)break}return W.valid&2||o(3,"missing format specifier"),W.valid&4||o(3,"missing image size specifier"),W},y=function(R,k,z){const F=k;if(F<8||F>32767||R[0]!==2||R[1]!==2||R[2]&128)return new Uint8Array(R);F!==(R[2]<<8|R[3])&&o(3,"wrong scanline width");const G=new Uint8Array(4*k*z);G.length||o(4,"unable to allocate buffer space");let V=0,W=0;const K=4*F,H=new Uint8Array(4),q=new Uint8Array(K);let Z=z;for(;Z>0&&W<R.byteLength;){W+4>R.byteLength&&o(1),H[0]=R[W++],H[1]=R[W++],H[2]=R[W++],H[3]=R[W++],(H[0]!=2||H[1]!=2||(H[2]<<8|H[3])!=F)&&o(3,"bad rgbe scanline format");let ee=0,ae;for(;ee<K&&W<R.byteLength;){ae=R[W++];const J=ae>128;if(J&&(ae-=128),(ae===0||ee+ae>K)&&o(3,"bad scanline data"),J){const ne=R[W++];for(let fe=0;fe<ae;fe++)q[ee++]=ne}else q.set(R.subarray(W,W+ae),ee),ee+=ae,W+=ae}const $=F;for(let J=0;J<$;J++){let ne=0;G[V]=q[J+ne],ne+=F,G[V+1]=q[J+ne],ne+=F,G[V+2]=q[J+ne],ne+=F,G[V+3]=q[J+ne],V+=4}Z--}return G},b=function(R,k,z,F){const G=R[k+3],V=Math.pow(2,G-128)/255;z[F+0]=R[k+0]*V,z[F+1]=R[k+1]*V,z[F+2]=R[k+2]*V,z[F+3]=1},_=function(R,k,z,F){const G=R[k+3],V=Math.pow(2,G-128)/255;z[F+0]=Bp.toHalfFloat(Math.min(R[k+0]*V,65504)),z[F+1]=Bp.toHalfFloat(Math.min(R[k+1]*V,65504)),z[F+2]=Bp.toHalfFloat(Math.min(R[k+2]*V,65504)),z[F+3]=Bp.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const w=g(x),E=w.width,A=w.height,C=y(x.subarray(x.pos),E,A);let T,O,N;switch(this.type){case Mi:N=C.length/4;const R=new Float32Array(N*4);for(let z=0;z<N;z++)b(C,z*4,R,z*4);T=R,O=Mi;break;case Wi:N=C.length/4;const k=new Uint16Array(N*4);for(let z=0;z<N;z++)_(C,z*4,k,z*4);T=k,O=Wi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:E,height:A,data:T,header:w.string,gamma:w.gamma,exposure:w.exposure,type:O}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){switch(o.type){case Mi:case Wi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=or,o.magFilter=or,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,s)}return super.load(e,a,r,i)}}const Sb=K$>=152;class Efe extends QL{constructor(e){super(e),this.type=Wi}parse(e){const k=Math.pow(2.7182818,2.2);function z(te,ue){for(var we=0,We=0;We<65536;++We)(We==0||te[We>>3]&1<<(We&7))&&(ue[we++]=We);for(var tt=we-1;we<65536;)ue[we++]=0;return tt}function F(te){for(var ue=0;ue<16384;ue++)te[ue]={},te[ue].len=0,te[ue].lit=0,te[ue].p=null}const G={l:0,c:0,lc:0};function V(te,ue,we,We,tt){for(;we<te;)ue=ue<<8|rt(We,tt),we+=8;we-=te,G.l=ue>>we&(1<<te)-1,G.c=ue,G.lc=we}const W=new Array(59);function K(te){for(var ue=0;ue<=58;++ue)W[ue]=0;for(var ue=0;ue<65537;++ue)W[te[ue]]+=1;for(var we=0,ue=58;ue>0;--ue){var We=we+W[ue]>>1;W[ue]=we,we=We}for(var ue=0;ue<65537;++ue){var tt=te[ue];tt>0&&(te[ue]=tt|W[tt]++<<6)}}function H(te,ue,we,We,tt,at,At){for(var St=we,It=0,Nt=0;tt<=at;tt++){if(St.value-we.value>We)return!1;V(6,It,Nt,te,St);var kt=G.l;if(It=G.c,Nt=G.lc,At[tt]=kt,kt==63){if(St.value-we.value>We)throw"Something wrong with hufUnpackEncTable";V(8,It,Nt,te,St);var Q=G.l+6;if(It=G.c,Nt=G.lc,tt+Q>at+1)throw"Something wrong with hufUnpackEncTable";for(;Q--;)At[tt++]=0;tt--}else if(kt>=59){var Q=kt-59+2;if(tt+Q>at+1)throw"Something wrong with hufUnpackEncTable";for(;Q--;)At[tt++]=0;tt--}}K(At)}function q(te){return te&63}function Z(te){return te>>6}function ee(te,ue,we,We){for(;ue<=we;ue++){var tt=Z(te[ue]),at=q(te[ue]);if(tt>>at)throw"Invalid table entry";if(at>14){var At=We[tt>>at-14];if(At.len)throw"Invalid table entry";if(At.lit++,At.p){var St=At.p;At.p=new Array(At.lit);for(var It=0;It<At.lit-1;++It)At.p[It]=St[It]}else At.p=new Array(1);At.p[At.lit-1]=ue}else if(at)for(var Nt=0,It=1<<14-at;It>0;It--){var At=We[(tt<<14-at)+Nt];if(At.len||At.p)throw"Invalid table entry";At.len=at,At.lit=ue,Nt++}}return!0}const ae={c:0,lc:0};function $(te,ue,we,We){te=te<<8|rt(we,We),ue+=8,ae.c=te,ae.lc=ue}const J={c:0,lc:0};function ne(te,ue,we,We,tt,at,At,St,It,Nt){if(te==ue){We<8&&($(we,We,tt,At),we=ae.c,We=ae.lc),We-=8;var kt=we>>We,kt=new Uint8Array([kt])[0];if(It.value+kt>Nt)return!1;for(var Q=St[It.value-1];kt-- >0;)St[It.value++]=Q}else if(It.value<Nt)St[It.value++]=te;else return!1;J.c=we,J.lc=We}function fe(te){return te&65535}function ge(te){var ue=fe(te);return ue>32767?ue-65536:ue}const ce={a:0,b:0};function le(te,ue){var we=ge(te),We=ge(ue),tt=We,at=we+(tt&1)+(tt>>1),At=at,St=at-tt;ce.a=At,ce.b=St}function pe(te,ue){var we=fe(te),We=fe(ue),tt=we-(We>>1)&65535,at=We+tt-32768&65535;ce.a=at,ce.b=tt}function xe(te,ue,we,We,tt,at,At){for(var St=At<16384,It=we>tt?tt:we,Nt=1,kt;Nt<=It;)Nt<<=1;for(Nt>>=1,kt=Nt,Nt>>=1;Nt>=1;){for(var Q=0,Se=Q+at*(tt-kt),De=at*Nt,Re=at*kt,Pe=We*Nt,ft=We*kt,bt,xt,_t,zt;Q<=Se;Q+=Re){for(var jt=Q,tn=Q+We*(we-kt);jt<=tn;jt+=ft){var Ot=jt+Pe,Kt=jt+De,Cn=Kt+Pe;St?(le(te[jt+ue],te[Kt+ue]),bt=ce.a,_t=ce.b,le(te[Ot+ue],te[Cn+ue]),xt=ce.a,zt=ce.b,le(bt,xt),te[jt+ue]=ce.a,te[Ot+ue]=ce.b,le(_t,zt),te[Kt+ue]=ce.a,te[Cn+ue]=ce.b):(pe(te[jt+ue],te[Kt+ue]),bt=ce.a,_t=ce.b,pe(te[Ot+ue],te[Cn+ue]),xt=ce.a,zt=ce.b,pe(bt,xt),te[jt+ue]=ce.a,te[Ot+ue]=ce.b,pe(_t,zt),te[Kt+ue]=ce.a,te[Cn+ue]=ce.b)}if(we&Nt){var Kt=jt+De;St?le(te[jt+ue],te[Kt+ue]):pe(te[jt+ue],te[Kt+ue]),bt=ce.a,te[Kt+ue]=ce.b,te[jt+ue]=bt}}if(tt&Nt)for(var jt=Q,tn=Q+We*(we-kt);jt<=tn;jt+=ft){var Ot=jt+Pe;St?le(te[jt+ue],te[Ot+ue]):pe(te[jt+ue],te[Ot+ue]),bt=ce.a,te[Ot+ue]=ce.b,te[jt+ue]=bt}kt=Nt,Nt>>=1}return Q}function Oe(te,ue,we,We,tt,at,At,St,It,Nt){for(var kt=0,Q=0,Se=St,De=Math.trunc(tt.value+(at+7)/8);tt.value<De;)for($(kt,Q,we,tt),kt=ae.c,Q=ae.lc;Q>=14;){var Re=kt>>Q-14&16383,Pe=ue[Re];if(Pe.len)Q-=Pe.len,ne(Pe.lit,At,kt,Q,we,We,tt,It,Nt,Se),kt=J.c,Q=J.lc;else{if(!Pe.p)throw"hufDecode issues";var ft;for(ft=0;ft<Pe.lit;ft++){for(var bt=q(te[Pe.p[ft]]);Q<bt&&tt.value<De;)$(kt,Q,we,tt),kt=ae.c,Q=ae.lc;if(Q>=bt&&Z(te[Pe.p[ft]])==(kt>>Q-bt&(1<<bt)-1)){Q-=bt,ne(Pe.p[ft],At,kt,Q,we,We,tt,It,Nt,Se),kt=J.c,Q=J.lc;break}}if(ft==Pe.lit)throw"hufDecode issues"}}var xt=8-at&7;for(kt>>=xt,Q-=xt;Q>0;){var Pe=ue[kt<<14-Q&16383];if(Pe.len)Q-=Pe.len,ne(Pe.lit,At,kt,Q,we,We,tt,It,Nt,Se),kt=J.c,Q=J.lc;else throw"hufDecode issues"}return!0}function _e(te,ue,we,We,tt,at){var At={value:0},St=we.value,It=$e(ue,we),Nt=$e(ue,we);we.value+=4;var kt=$e(ue,we);if(we.value+=4,It<0||It>=65537||Nt<0||Nt>=65537)throw"Something wrong with HUF_ENCSIZE";var Q=new Array(65537),Se=new Array(16384);F(Se);var De=We-(we.value-St);if(H(te,ue,we,De,It,Nt,Q),kt>8*(We-(we.value-St)))throw"Something wrong with hufUncompress";ee(Q,It,Nt,Se),Oe(Q,Se,te,ue,we,kt,Nt,at,tt,At)}function ve(te,ue,we){for(var We=0;We<we;++We)ue[We]=te[ue[We]]}function Qe(te){for(var ue=1;ue<te.length;ue++){var we=te[ue-1]+te[ue]-128;te[ue]=we}}function Ee(te,ue){for(var we=0,We=Math.floor((te.length+1)/2),tt=0,at=te.length-1;!(tt>at||(ue[tt++]=te[we++],tt>at));)ue[tt++]=te[We++]}function Fe(te){for(var ue=te.byteLength,we=new Array,We=0,tt=new DataView(te);ue>0;){var at=tt.getInt8(We++);if(at<0){var At=-at;ue-=At+1;for(var St=0;St<At;St++)we.push(tt.getUint8(We++))}else{var At=at;ue-=2;for(var It=tt.getUint8(We++),St=0;St<At+1;St++)we.push(It)}}return we}function Ne(te,ue,we,We,tt,at){var Ot=new DataView(at.buffer),At=we[te.idx[0]].width,St=we[te.idx[0]].height,It=3,Nt=Math.floor(At/8),kt=Math.ceil(At/8),Q=Math.ceil(St/8),Se=At-(kt-1)*8,De=St-(Q-1)*8,Re={value:0},Pe=new Array(It),ft=new Array(It),bt=new Array(It),xt=new Array(It),_t=new Array(It);for(let qt=0;qt<It;++qt)_t[qt]=ue[te.idx[qt]],Pe[qt]=qt<1?0:Pe[qt-1]+kt*Q,ft[qt]=new Float32Array(64),bt[qt]=new Uint16Array(64),xt[qt]=new Uint16Array(kt*64);for(let qt=0;qt<Q;++qt){var zt=8;qt==Q-1&&(zt=De);var jt=8;for(let _n=0;_n<kt;++_n){_n==kt-1&&(jt=Se);for(let Lt=0;Lt<It;++Lt)bt[Lt].fill(0),bt[Lt][0]=tt[Pe[Lt]++],Ge(Re,We,bt[Lt]),ie(bt[Lt],ft[Lt]),et(ft[Lt]);Ke(ft);for(let Lt=0;Lt<It;++Lt)Be(ft[Lt],xt[Lt],_n*64)}let wt=0;for(let _n=0;_n<It;++_n){const Lt=we[te.idx[_n]].type;for(let fr=8*qt;fr<8*qt+zt;++fr){wt=_t[_n][fr];for(let Cr=0;Cr<Nt;++Cr){const zn=Cr*64+(fr&7)*8;Ot.setUint16(wt+0*Lt,xt[_n][zn+0],!0),Ot.setUint16(wt+2*Lt,xt[_n][zn+1],!0),Ot.setUint16(wt+4*Lt,xt[_n][zn+2],!0),Ot.setUint16(wt+6*Lt,xt[_n][zn+3],!0),Ot.setUint16(wt+8*Lt,xt[_n][zn+4],!0),Ot.setUint16(wt+10*Lt,xt[_n][zn+5],!0),Ot.setUint16(wt+12*Lt,xt[_n][zn+6],!0),Ot.setUint16(wt+14*Lt,xt[_n][zn+7],!0),wt+=16*Lt}}if(Nt!=kt)for(let fr=8*qt;fr<8*qt+zt;++fr){const Cr=_t[_n][fr]+8*Nt*2*Lt,zn=Nt*64+(fr&7)*8;for(let Rr=0;Rr<jt;++Rr)Ot.setUint16(Cr+Rr*2*Lt,xt[_n][zn+Rr],!0)}}}for(var tn=new Uint16Array(At),Ot=new DataView(at.buffer),Kt=0;Kt<It;++Kt){we[te.idx[Kt]].decoded=!0;var Cn=we[te.idx[Kt]].type;if(we[Kt].type==2)for(var Qn=0;Qn<St;++Qn){const qt=_t[Kt][Qn];for(var cn=0;cn<At;++cn)tn[cn]=Ot.getUint16(qt+cn*2*Cn,!0);for(var cn=0;cn<At;++cn)Ot.setFloat32(qt+cn*2*Cn,Ae(tn[cn]),!0)}}}function Ge(te,ue,we){for(var We,tt=1;tt<64;)We=ue[te.value],We==65280?tt=64:We>>8==255?tt+=We&255:(we[tt]=We,tt++),te.value++}function ie(te,ue){ue[0]=Ae(te[0]),ue[1]=Ae(te[1]),ue[2]=Ae(te[5]),ue[3]=Ae(te[6]),ue[4]=Ae(te[14]),ue[5]=Ae(te[15]),ue[6]=Ae(te[27]),ue[7]=Ae(te[28]),ue[8]=Ae(te[2]),ue[9]=Ae(te[4]),ue[10]=Ae(te[7]),ue[11]=Ae(te[13]),ue[12]=Ae(te[16]),ue[13]=Ae(te[26]),ue[14]=Ae(te[29]),ue[15]=Ae(te[42]),ue[16]=Ae(te[3]),ue[17]=Ae(te[8]),ue[18]=Ae(te[12]),ue[19]=Ae(te[17]),ue[20]=Ae(te[25]),ue[21]=Ae(te[30]),ue[22]=Ae(te[41]),ue[23]=Ae(te[43]),ue[24]=Ae(te[9]),ue[25]=Ae(te[11]),ue[26]=Ae(te[18]),ue[27]=Ae(te[24]),ue[28]=Ae(te[31]),ue[29]=Ae(te[40]),ue[30]=Ae(te[44]),ue[31]=Ae(te[53]),ue[32]=Ae(te[10]),ue[33]=Ae(te[19]),ue[34]=Ae(te[23]),ue[35]=Ae(te[32]),ue[36]=Ae(te[39]),ue[37]=Ae(te[45]),ue[38]=Ae(te[52]),ue[39]=Ae(te[54]),ue[40]=Ae(te[20]),ue[41]=Ae(te[22]),ue[42]=Ae(te[33]),ue[43]=Ae(te[38]),ue[44]=Ae(te[46]),ue[45]=Ae(te[51]),ue[46]=Ae(te[55]),ue[47]=Ae(te[60]),ue[48]=Ae(te[21]),ue[49]=Ae(te[34]),ue[50]=Ae(te[37]),ue[51]=Ae(te[47]),ue[52]=Ae(te[50]),ue[53]=Ae(te[56]),ue[54]=Ae(te[59]),ue[55]=Ae(te[61]),ue[56]=Ae(te[35]),ue[57]=Ae(te[36]),ue[58]=Ae(te[48]),ue[59]=Ae(te[49]),ue[60]=Ae(te[57]),ue[61]=Ae(te[58]),ue[62]=Ae(te[62]),ue[63]=Ae(te[63])}function et(te){const ue=.5*Math.cos(.7853975),we=.5*Math.cos(3.14159/16),We=.5*Math.cos(3.14159/8),tt=.5*Math.cos(3*3.14159/16),at=.5*Math.cos(5*3.14159/16),At=.5*Math.cos(3*3.14159/8),St=.5*Math.cos(7*3.14159/16);for(var It=new Array(4),Nt=new Array(4),kt=new Array(4),Q=new Array(4),Se=0;Se<8;++Se){var De=Se*8;It[0]=We*te[De+2],It[1]=At*te[De+2],It[2]=We*te[De+6],It[3]=At*te[De+6],Nt[0]=we*te[De+1]+tt*te[De+3]+at*te[De+5]+St*te[De+7],Nt[1]=tt*te[De+1]-St*te[De+3]-we*te[De+5]-at*te[De+7],Nt[2]=at*te[De+1]-we*te[De+3]+St*te[De+5]+tt*te[De+7],Nt[3]=St*te[De+1]-at*te[De+3]+tt*te[De+5]-we*te[De+7],kt[0]=ue*(te[De+0]+te[De+4]),kt[3]=ue*(te[De+0]-te[De+4]),kt[1]=It[0]+It[3],kt[2]=It[1]-It[2],Q[0]=kt[0]+kt[1],Q[1]=kt[3]+kt[2],Q[2]=kt[3]-kt[2],Q[3]=kt[0]-kt[1],te[De+0]=Q[0]+Nt[0],te[De+1]=Q[1]+Nt[1],te[De+2]=Q[2]+Nt[2],te[De+3]=Q[3]+Nt[3],te[De+4]=Q[3]-Nt[3],te[De+5]=Q[2]-Nt[2],te[De+6]=Q[1]-Nt[1],te[De+7]=Q[0]-Nt[0]}for(var Re=0;Re<8;++Re)It[0]=We*te[16+Re],It[1]=At*te[16+Re],It[2]=We*te[48+Re],It[3]=At*te[48+Re],Nt[0]=we*te[8+Re]+tt*te[24+Re]+at*te[40+Re]+St*te[56+Re],Nt[1]=tt*te[8+Re]-St*te[24+Re]-we*te[40+Re]-at*te[56+Re],Nt[2]=at*te[8+Re]-we*te[24+Re]+St*te[40+Re]+tt*te[56+Re],Nt[3]=St*te[8+Re]-at*te[24+Re]+tt*te[40+Re]-we*te[56+Re],kt[0]=ue*(te[Re]+te[32+Re]),kt[3]=ue*(te[Re]-te[32+Re]),kt[1]=It[0]+It[3],kt[2]=It[1]-It[2],Q[0]=kt[0]+kt[1],Q[1]=kt[3]+kt[2],Q[2]=kt[3]-kt[2],Q[3]=kt[0]-kt[1],te[0+Re]=Q[0]+Nt[0],te[8+Re]=Q[1]+Nt[1],te[16+Re]=Q[2]+Nt[2],te[24+Re]=Q[3]+Nt[3],te[32+Re]=Q[3]-Nt[3],te[40+Re]=Q[2]-Nt[2],te[48+Re]=Q[1]-Nt[1],te[56+Re]=Q[0]-Nt[0]}function Ke(te){for(var ue=0;ue<64;++ue){var we=te[0][ue],We=te[1][ue],tt=te[2][ue];te[0][ue]=we+1.5747*tt,te[1][ue]=we-.1873*We-.4682*tt,te[2][ue]=we+1.8556*We}}function Be(te,ue,we){for(var We=0;We<64;++We)ue[we+We]=Bp.toHalfFloat(He(te[We]))}function He(te){return te<=1?Math.sign(te)*Math.pow(Math.abs(te),2.2):Math.sign(te)*Math.pow(k,Math.abs(te)-1)}function re(te){return new DataView(te.array.buffer,te.offset.value,te.size)}function X(te){var ue=te.viewer.buffer.slice(te.offset.value,te.offset.value+te.size),we=new Uint8Array(Fe(ue)),We=new Uint8Array(we.length);return Qe(we),Ee(we,We),new DataView(We.buffer)}function ye(te){var ue=te.array.slice(te.offset.value,te.offset.value+te.size),we=Rw(ue),We=new Uint8Array(we.length);return Qe(we),Ee(we,We),new DataView(We.buffer)}function je(te){for(var ue=te.viewer,we={value:te.offset.value},We=new Uint16Array(te.width*te.scanlineBlockSize*(te.channels*te.type)),tt=new Uint8Array(8192),at=0,At=new Array(te.channels),St=0;St<te.channels;St++)At[St]={},At[St].start=at,At[St].end=At[St].start,At[St].nx=te.width,At[St].ny=te.lines,At[St].size=te.type,at+=At[St].nx*At[St].ny*At[St].size;var It=it(ue,we),Nt=it(ue,we);if(Nt>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(It<=Nt)for(var St=0;St<Nt-It+1;St++)tt[St+It]=me(ue,we);var kt=new Uint16Array(65536),Q=z(tt,kt),Se=$e(ue,we);_e(te.array,ue,we,Se,We,at);for(var St=0;St<te.channels;++St)for(var De=At[St],Re=0;Re<At[St].size;++Re)xe(We,De.start+Re,De.nx,De.size,De.ny,De.nx*De.size,Q);ve(kt,We,at);for(var Pe=0,ft=new Uint8Array(We.buffer.byteLength),bt=0;bt<te.lines;bt++)for(var xt=0;xt<te.channels;xt++){var De=At[xt],_t=De.nx*De.size,zt=new Uint8Array(We.buffer,De.end*2,_t*2);ft.set(zt,Pe),Pe+=_t*2,De.end+=_t}return new DataView(ft.buffer)}function Ue(te){var ue=te.array.slice(te.offset.value,te.offset.value+te.size),we=Rw(ue);const We=te.lines*te.channels*te.width,tt=te.type==1?new Uint16Array(We):new Uint32Array(We);let at=0,At=0;const St=new Array(4);for(let It=0;It<te.lines;It++)for(let Nt=0;Nt<te.channels;Nt++){let kt=0;switch(te.type){case 1:St[0]=at,St[1]=St[0]+te.width,at=St[1]+te.width;for(let Q=0;Q<te.width;++Q){const Se=we[St[0]++]<<8|we[St[1]++];kt+=Se,tt[At]=kt,At++}break;case 2:St[0]=at,St[1]=St[0]+te.width,St[2]=St[1]+te.width,at=St[2]+te.width;for(let Q=0;Q<te.width;++Q){const Se=we[St[0]++]<<24|we[St[1]++]<<16|we[St[2]++]<<8;kt+=Se,tt[At]=kt,At++}break}}return new DataView(tt.buffer)}function ke(te){var ue=te.viewer,we={value:te.offset.value},We=new Uint8Array(te.width*te.lines*(te.channels*te.type*2)),tt={version:Le(ue,we),unknownUncompressedSize:Le(ue,we),unknownCompressedSize:Le(ue,we),acCompressedSize:Le(ue,we),dcCompressedSize:Le(ue,we),rleCompressedSize:Le(ue,we),rleUncompressedSize:Le(ue,we),rleRawSize:Le(ue,we),totalAcUncompressedCount:Le(ue,we),totalDcUncompressedCount:Le(ue,we),acCompression:Le(ue,we)};if(tt.version<2)throw"EXRLoader.parse: "+kr.compression+" version "+tt.version+" is unsupported";for(var at=new Array,At=it(ue,we)-2;At>0;){var St=ut(ue.buffer,we),It=me(ue,we),Nt=It>>2&3,kt=(It>>4)-1,Q=new Int8Array([kt])[0],Se=me(ue,we);at.push({name:St,index:Q,type:Se,compression:Nt}),At-=St.length+3}for(var De=kr.channels,Re=new Array(te.channels),Pe=0;Pe<te.channels;++Pe){var ft=Re[Pe]={},bt=De[Pe];ft.name=bt.name,ft.compression=0,ft.decoded=!1,ft.type=bt.pixelType,ft.pLinear=bt.pLinear,ft.width=te.width,ft.height=te.lines}for(var xt={idx:new Array(3)},_t=0;_t<te.channels;++_t)for(var ft=Re[_t],Pe=0;Pe<at.length;++Pe){var zt=at[Pe];ft.name==zt.name&&(ft.compression=zt.compression,zt.index>=0&&(xt.idx[zt.index]=_t),ft.offset=_t)}if(tt.acCompressedSize>0)switch(tt.acCompression){case 0:var Ot=new Uint16Array(tt.totalAcUncompressedCount);_e(te.array,ue,we,tt.acCompressedSize,Ot,tt.totalAcUncompressedCount);break;case 1:var jt=te.array.slice(we.value,we.value+tt.totalAcUncompressedCount),tn=Rw(jt),Ot=new Uint16Array(tn.buffer);we.value+=tt.totalAcUncompressedCount;break}if(tt.dcCompressedSize>0){var Kt={array:te.array,offset:we,size:tt.dcCompressedSize},Cn=new Uint16Array(ye(Kt).buffer);we.value+=tt.dcCompressedSize}if(tt.rleRawSize>0){var jt=te.array.slice(we.value,we.value+tt.rleCompressedSize),tn=Rw(jt),Qn=Fe(tn.buffer);we.value+=tt.rleCompressedSize}for(var cn=0,qt=new Array(Re.length),Pe=0;Pe<qt.length;++Pe)qt[Pe]=new Array;for(var wt=0;wt<te.lines;++wt)for(var _n=0;_n<Re.length;++_n)qt[_n].push(cn),cn+=Re[_n].width*te.type*2;Ne(xt,qt,Re,Ot,Cn,We);for(var Pe=0;Pe<Re.length;++Pe){var ft=Re[Pe];if(!ft.decoded)switch(ft.compression){case 2:for(var Lt=0,fr=0,wt=0;wt<te.lines;++wt){for(var Cr=qt[Pe][Lt],zn=0;zn<ft.width;++zn){for(var Rr=0;Rr<2*ft.type;++Rr)We[Cr++]=Qn[fr+Rr*ft.width*ft.height];fr++}Lt++}break;default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(We.buffer)}function ut(te,ue){for(var we=new Uint8Array(te),We=0;we[ue.value+We]!=0;)We+=1;var tt=new TextDecoder().decode(we.slice(ue.value,ue.value+We));return ue.value=ue.value+We+1,tt}function lt(te,ue,we){var We=new TextDecoder().decode(new Uint8Array(te).slice(ue.value,ue.value+we));return ue.value=ue.value+we,We}function Tt(te,ue){var we=Ye(te,ue),We=$e(te,ue);return[we,We]}function Dt(te,ue){var we=$e(te,ue),We=$e(te,ue);return[we,We]}function Ye(te,ue){var we=te.getInt32(ue.value,!0);return ue.value=ue.value+4,we}function $e(te,ue){var we=te.getUint32(ue.value,!0);return ue.value=ue.value+4,we}function rt(te,ue){var we=te[ue.value];return ue.value=ue.value+1,we}function me(te,ue){var we=te.getUint8(ue.value);return ue.value=ue.value+1,we}const Le=function(te,ue){let we;return"getBigInt64"in DataView.prototype?we=Number(te.getBigInt64(ue.value,!0)):we=te.getUint32(ue.value+4,!0)+Number(te.getUint32(ue.value,!0)<<32),ue.value+=8,we};function dt(te,ue){var we=te.getFloat32(ue.value,!0);return ue.value+=4,we}function be(te,ue){return Bp.toHalfFloat(dt(te,ue))}function Ae(te){var ue=(te&31744)>>10,we=te&1023;return(te>>15?-1:1)*(ue?ue===31?we?NaN:1/0:Math.pow(2,ue-15)*(1+we/1024):6103515625e-14*(we/1024))}function it(te,ue){var we=te.getUint16(ue.value,!0);return ue.value+=2,we}function Pt(te,ue){return Ae(it(te,ue))}function ct(te,ue,we,We){for(var tt=we.value,at=[];we.value<tt+We-1;){var At=ut(ue,we),St=Ye(te,we),It=me(te,we);we.value+=3;var Nt=Ye(te,we),kt=Ye(te,we);at.push({name:At,pixelType:St,pLinear:It,xSampling:Nt,ySampling:kt})}return we.value+=1,at}function Ce(te,ue){var we=dt(te,ue),We=dt(te,ue),tt=dt(te,ue),at=dt(te,ue),At=dt(te,ue),St=dt(te,ue),It=dt(te,ue),Nt=dt(te,ue);return{redX:we,redY:We,greenX:tt,greenY:at,blueX:At,blueY:St,whiteX:It,whiteY:Nt}}function gt(te,ue){var we=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],We=me(te,ue);return we[We]}function Et(te,ue){var we=$e(te,ue),We=$e(te,ue),tt=$e(te,ue),at=$e(te,ue);return{xMin:we,yMin:We,xMax:tt,yMax:at}}function Ct(te,ue){var we=["INCREASING_Y"],We=me(te,ue);return we[We]}function $t(te,ue){var we=dt(te,ue),We=dt(te,ue);return[we,We]}function rn(te,ue){var we=dt(te,ue),We=dt(te,ue),tt=dt(te,ue);return[we,We,tt]}function hn(te,ue,we,We,tt){if(We==="string"||We==="stringvector"||We==="iccProfile")return lt(ue,we,tt);if(We==="chlist")return ct(te,ue,we,tt);if(We==="chromaticities")return Ce(te,we);if(We==="compression")return gt(te,we);if(We==="box2i")return Et(te,we);if(We==="lineOrder")return Ct(te,we);if(We==="float")return dt(te,we);if(We==="v2f")return $t(te,we);if(We==="v3f")return rn(te,we);if(We==="int")return Ye(te,we);if(We==="rational")return Tt(te,we);if(We==="timecode")return Dt(te,we);if(We==="preview")return we.value+=tt,"skipped";we.value+=tt}function Jn(te,ue,we){const We={};if(te.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";We.version=te.getUint8(4);const tt=te.getUint8(5);We.spec={singleTile:!!(tt&2),longName:!!(tt&4),deepFormat:!!(tt&8),multiPart:!!(tt&16)},we.value=8;for(var at=!0;at;){var At=ut(ue,we);if(At==0)at=!1;else{var St=ut(ue,we),It=$e(te,we),Nt=hn(te,ue,we,St,It);Nt===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${St}'.`):We[At]=Nt}}if((tt&-5)!=0)throw console.error("EXRHeader:",We),"THREE.EXRLoader: provided file is currently unsupported.";return We}function rr(te,ue,we,We,tt){const at={size:0,viewer:ue,array:we,offset:We,width:te.dataWindow.xMax-te.dataWindow.xMin+1,height:te.dataWindow.yMax-te.dataWindow.yMin+1,channels:te.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:te.channels[0].pixelType,uncompress:null,getter:null,format:null,[Sb?"colorSpace":"encoding"]:null};switch(te.compression){case"NO_COMPRESSION":at.lines=1,at.uncompress=re;break;case"RLE_COMPRESSION":at.lines=1,at.uncompress=X;break;case"ZIPS_COMPRESSION":at.lines=1,at.uncompress=ye;break;case"ZIP_COMPRESSION":at.lines=16,at.uncompress=ye;break;case"PIZ_COMPRESSION":at.lines=32,at.uncompress=je;break;case"PXR24_COMPRESSION":at.lines=16,at.uncompress=Ue;break;case"DWAA_COMPRESSION":at.lines=32,at.uncompress=ke;break;case"DWAB_COMPRESSION":at.lines=256,at.uncompress=ke;break;default:throw"EXRLoader.parse: "+te.compression+" is unsupported"}if(at.scanlineBlockSize=at.lines,at.type==1)switch(tt){case Mi:at.getter=Pt,at.inputSize=2;break;case Wi:at.getter=it,at.inputSize=2;break}else if(at.type==2)switch(tt){case Mi:at.getter=dt,at.inputSize=4;break;case Wi:at.getter=be,at.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+at.type+" for "+te.compression+".";at.blockCount=(te.dataWindow.yMax+1)/at.scanlineBlockSize;for(var At=0;At<at.blockCount;At++)Le(ue,We);at.outputChannels=at.channels==3?4:at.channels;const St=at.width*at.height*at.outputChannels;switch(tt){case Mi:at.byteArray=new Float32Array(St),at.channels<at.outputChannels&&at.byteArray.fill(1,0,St);break;case Wi:at.byteArray=new Uint16Array(St),at.channels<at.outputChannels&&at.byteArray.fill(15360,0,St);break;default:console.error("THREE.EXRLoader: unsupported type: ",tt);break}return at.bytesPerLine=at.width*at.inputSize*at.channels,at.outputChannels==4?at.format=ta:at.format=O_,Sb?at.colorSpace="srgb-linear":at.encoding=3e3,at}const gr=new DataView(e),Zr=new Uint8Array(e),hr={value:0},kr=Jn(gr,e,hr),an=rr(kr,gr,Zr,hr,this.type),vr={value:0},ur={R:0,G:1,B:2,A:3,Y:0};for(let te=0;te<an.height/an.scanlineBlockSize;te++){const ue=$e(gr,hr);an.size=$e(gr,hr),an.lines=ue+an.scanlineBlockSize>an.height?an.height-ue:an.scanlineBlockSize;const We=an.size<an.lines*an.bytesPerLine?an.uncompress(an):re(an);hr.value+=an.size;for(let tt=0;tt<an.scanlineBlockSize;tt++){const at=tt+te*an.scanlineBlockSize;if(at>=an.height)break;for(let At=0;At<an.channels;At++){const St=ur[kr.channels[At].name];for(let It=0;It<an.width;It++){vr.value=(tt*(an.channels*an.width)+At*an.width+It)*an.inputSize;const Nt=(an.height-1-at)*(an.width*an.outputChannels)+It*an.outputChannels+St;an.byteArray[Nt]=an.getter(We,vr)}}}}return{header:kr,width:an.width,height:an.height,data:an.byteArray,format:an.format,[Sb?"colorSpace":"encoding"]:an[Sb?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){Sb?o.colorSpace=s.colorSpace:o.encoding=s.encoding,o.minFilter=or,o.magFilter=or,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,s)}return super.load(e,a,r,i)}}function Afe(){var t=Object.create(null);function e(i,a){var o=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!t[o])try{l=l.map(function(g){return g&&g.isWorkerModule&&(e(g,function(y){if(y instanceof Error)throw y}),g=t[g.id].value),g}),u=r("<"+s+">.init",u),d&&(d=r("<"+s+">.getTransferables",d));var h=null;typeof u=="function"?h=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:h,getTransferables:d},a(h)}catch(g){g&&g.noLog||console.error(g),a(g)}}function n(i,a){var o,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&a(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var u=(o=t[s]).value.apply(o,l);u&&typeof u.then=="function"?u.then(d,function(h){return a(h instanceof Error?h:new Error(""+h))}):d(u)}catch(h){a(h)}function d(h){try{var g=t[s].getTransferables&&t[s].getTransferables(h);(!g||!Array.isArray(g)||!g.length)&&(g=void 0),a(h,g)}catch(y){console.error(y),a(y)}}}function r(i,a){var o=void 0;self.troikaDefine=function(l){return o=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(i){var a=i.data,o=a.messageId,s=a.action,l=a.data;try{s==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),s==="callModule"&&n(l,function(u,d){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},d||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function Tfe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(n).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var rW=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return rW=function(){return t},t},Cfe=0,Rfe=0,_O=!1,ox=Object.create(null),sx=Object.create(null),wN=Object.create(null);function My(t){if((!t||typeof t.init!="function")&&!_O)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,a=Tfe(t);i==null&&(i="#default");var o="workerModule"+ ++Cfe,s=t.name||o,l=null;e=e&&e.map(function(d){return typeof d=="function"&&!d.workerModuleData&&(_O=!0,d=My({workerId:i,name:"<"+s+"> function dependency: "+d.name,init:`function(){return (
`+vM(d)+`
)}`}),_O=!1),d&&d.workerModuleData&&(d=d.workerModuleData),d});function u(){for(var d=[],h=arguments.length;h--;)d[h]=arguments[h];if(!rW())return a.apply(void 0,d);if(!l){l=XF(i,"registerModule",u.workerModuleData);var g=function(){l=null,sx[i].delete(g)};(sx[i]||(sx[i]=new Set)).add(g)}return l.then(function(y){var b=y.isCallable;if(b)return XF(i,"callModule",{id:o,args:d});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:vM(n),getTransferables:r&&vM(r)},u.onMainThread=a,u}function Ofe(t){sx[t]&&sx[t].forEach(function(e){e()}),ox[t]&&(ox[t].terminate(),delete ox[t])}function vM(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Pfe(t){var e=ox[t];if(!e){var n=vM(Afe);e=ox[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,o=wN[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete wN[a],o(i)}}return e}function XF(t,e,n){return new Promise(function(r,i){var a=++Rfe;wN[a]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Pfe(t).postMessage({messageId:a,action:e,data:n})})}function iW(){var t=(function(e){function n(ee,ae,$,J,ne,fe,ge,ce){var le=1-ge;ce.x=le*le*ee+2*le*ge*$+ge*ge*ne,ce.y=le*le*ae+2*le*ge*J+ge*ge*fe}function r(ee,ae,$,J,ne,fe,ge,ce,le,pe){var xe=1-le;pe.x=xe*xe*xe*ee+3*xe*xe*le*$+3*xe*le*le*ne+le*le*le*ge,pe.y=xe*xe*xe*ae+3*xe*xe*le*J+3*xe*le*le*fe+le*le*le*ce}function i(ee,ae){for(var $=/([MLQCZ])([^MLQCZ]*)/g,J,ne,fe,ge,ce;J=$.exec(ee);){var le=J[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(pe){return parseFloat(pe)});switch(J[1]){case"M":ge=ne=le[0],ce=fe=le[1];break;case"L":(le[0]!==ge||le[1]!==ce)&&ae("L",ge,ce,ge=le[0],ce=le[1]);break;case"Q":{ae("Q",ge,ce,ge=le[2],ce=le[3],le[0],le[1]);break}case"C":{ae("C",ge,ce,ge=le[4],ce=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(ge!==ne||ce!==fe)&&ae("L",ge,ce,ne,fe);break}}}function a(ee,ae,$){$===void 0&&($=16);var J={x:0,y:0};i(ee,function(ne,fe,ge,ce,le,pe,xe,Oe,_e){switch(ne){case"L":ae(fe,ge,ce,le);break;case"Q":{for(var ve=fe,Qe=ge,Ee=1;Ee<$;Ee++)n(fe,ge,pe,xe,ce,le,Ee/($-1),J),ae(ve,Qe,J.x,J.y),ve=J.x,Qe=J.y;break}case"C":{for(var Fe=fe,Ne=ge,Ge=1;Ge<$;Ge++)r(fe,ge,pe,xe,Oe,_e,ce,le,Ge/($-1),J),ae(Fe,Ne,J.x,J.y),Fe=J.x,Ne=J.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(ee,ae){var $=ee.getContext?ee.getContext("webgl",u):ee,J=l.get($);if(!J){let Fe=function(Be){var He=fe[Be];if(!He&&(He=fe[Be]=$.getExtension(Be),!He))throw new Error(Be+" not supported");return He},Ne=function(Be,He){var re=$.createShader(He);return $.shaderSource(re,Be),$.compileShader(re),re},Ge=function(Be,He,re,X){if(!ge[Be]){var ye={},je={},Ue=$.createProgram();$.attachShader(Ue,Ne(He,$.VERTEX_SHADER)),$.attachShader(Ue,Ne(re,$.FRAGMENT_SHADER)),$.linkProgram(Ue),ge[Be]={program:Ue,transaction:function(ut){$.useProgram(Ue),ut({setUniform:function(Tt,Dt){for(var Ye=[],$e=arguments.length-2;$e-- >0;)Ye[$e]=arguments[$e+2];var rt=je[Dt]||(je[Dt]=$.getUniformLocation(Ue,Dt));$["uniform"+Tt].apply($,[rt].concat(Ye))},setAttribute:function(Tt,Dt,Ye,$e,rt){var me=ye[Tt];me||(me=ye[Tt]={buf:$.createBuffer(),loc:$.getAttribLocation(Ue,Tt),data:null}),$.bindBuffer($.ARRAY_BUFFER,me.buf),$.vertexAttribPointer(me.loc,Dt,$.FLOAT,!1,0,0),$.enableVertexAttribArray(me.loc),ne?$.vertexAttribDivisor(me.loc,$e):Fe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(me.loc,$e),rt!==me.data&&($.bufferData($.ARRAY_BUFFER,rt,Ye),me.data=rt)}})}}}ge[Be].transaction(X)},ie=function(Be,He){le++;try{$.activeTexture($.TEXTURE0+le);var re=ce[Be];re||(re=ce[Be]=$.createTexture(),$.bindTexture($.TEXTURE_2D,re),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.NEAREST),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.NEAREST)),$.bindTexture($.TEXTURE_2D,re),He(re,le)}finally{le--}},et=function(Be,He,re){var X=$.createFramebuffer();pe.push(X),$.bindFramebuffer($.FRAMEBUFFER,X),$.activeTexture($.TEXTURE0+He),$.bindTexture($.TEXTURE_2D,Be),$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Be,0);try{re(X)}finally{$.deleteFramebuffer(X),$.bindFramebuffer($.FRAMEBUFFER,pe[--pe.length-1]||null)}},Ke=function(){fe={},ge={},ce={},le=-1,pe.length=0};var xe=Fe,Oe=Ne,_e=Ge,ve=ie,Qe=et,Ee=Ke,ne=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext,fe={},ge={},ce={},le=-1,pe=[];$.canvas.addEventListener("webglcontextlost",function(Be){Ke(),Be.preventDefault()},!1),l.set($,J={gl:$,isWebGL2:ne,getExtension:Fe,withProgram:Ge,withTexture:ie,withTextureFramebuffer:et,handleContextLoss:Ke})}ae(J)}function h(ee,ae,$,J,ne,fe,ge,ce){ge===void 0&&(ge=15),ce===void 0&&(ce=null),d(ee,function(le){var pe=le.gl,xe=le.withProgram,Oe=le.withTexture;Oe("copy",function(_e,ve){pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,ne,fe,0,pe.RGBA,pe.UNSIGNED_BYTE,ae),xe("copy",o,s,function(Qe){var Ee=Qe.setUniform,Fe=Qe.setAttribute;Fe("aUV",2,pe.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ee("1i","image",ve),pe.bindFramebuffer(pe.FRAMEBUFFER,ce||null),pe.disable(pe.BLEND),pe.colorMask(ge&8,ge&4,ge&2,ge&1),pe.viewport($,J,ne,fe),pe.scissor($,J,ne,fe),pe.drawArrays(pe.TRIANGLES,0,3)})})})}function g(ee,ae,$){var J=ee.width,ne=ee.height;d(ee,function(fe){var ge=fe.gl,ce=new Uint8Array(J*ne*4);ge.readPixels(0,0,J,ne,ge.RGBA,ge.UNSIGNED_BYTE,ce),ee.width=ae,ee.height=$,h(ge,ce,0,0,J,ne)})}var y=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:h,resizeWebGLCanvasWithoutClearing:g});function b(ee,ae,$,J,ne,fe){fe===void 0&&(fe=1);var ge=new Uint8Array(ee*ae),ce=J[2]-J[0],le=J[3]-J[1],pe=[];a($,function(Fe,Ne,Ge,ie){pe.push({x1:Fe,y1:Ne,x2:Ge,y2:ie,minX:Math.min(Fe,Ge),minY:Math.min(Ne,ie),maxX:Math.max(Fe,Ge),maxY:Math.max(Ne,ie)})}),pe.sort(function(Fe,Ne){return Fe.maxX-Ne.maxX});for(var xe=0;xe<ee;xe++)for(var Oe=0;Oe<ae;Oe++){var _e=Qe(J[0]+ce*(xe+.5)/ee,J[1]+le*(Oe+.5)/ae),ve=Math.pow(1-Math.abs(_e)/ne,fe)/2;_e<0&&(ve=1-ve),ve=Math.max(0,Math.min(255,Math.round(ve*255))),ge[Oe*ee+xe]=ve}return ge;function Qe(Fe,Ne){for(var Ge=1/0,ie=1/0,et=pe.length;et--;){var Ke=pe[et];if(Ke.maxX+ie<=Fe)break;if(Fe+ie>Ke.minX&&Ne-ie<Ke.maxY&&Ne+ie>Ke.minY){var Be=w(Fe,Ne,Ke.x1,Ke.y1,Ke.x2,Ke.y2);Be<Ge&&(Ge=Be,ie=Math.sqrt(Ge))}}return Ee(Fe,Ne)&&(ie=-ie),ie}function Ee(Fe,Ne){for(var Ge=0,ie=pe.length;ie--;){var et=pe[ie];if(et.maxX<=Fe)break;var Ke=et.y1>Ne!=et.y2>Ne&&Fe<(et.x2-et.x1)*(Ne-et.y1)/(et.y2-et.y1)+et.x1;Ke&&(Ge+=et.y1<et.y2?1:-1)}return Ge!==0}}function _(ee,ae,$,J,ne,fe,ge,ce,le,pe){fe===void 0&&(fe=1),ce===void 0&&(ce=0),le===void 0&&(le=0),pe===void 0&&(pe=0),x(ee,ae,$,J,ne,fe,ge,null,ce,le,pe)}function x(ee,ae,$,J,ne,fe,ge,ce,le,pe,xe){fe===void 0&&(fe=1),le===void 0&&(le=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0);for(var Oe=b(ee,ae,$,J,ne,fe),_e=new Uint8Array(Oe.length*4),ve=0;ve<Oe.length;ve++)_e[ve*4+xe]=Oe[ve];h(ge,_e,le,pe,ee,ae,1<<3-xe,ce)}function w(ee,ae,$,J,ne,fe){var ge=ne-$,ce=fe-J,le=ge*ge+ce*ce,pe=le?Math.max(0,Math.min(1,((ee-$)*ge+(ae-J)*ce)/le)):0,xe=ee-($+pe*ge),Oe=ae-(J+pe*ce);return xe*xe+Oe*Oe}var E=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:_,generateIntoFramebuffer:x}),A="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",C="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",T="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",O=new Float32Array([0,0,2,0,0,2]),N=null,R=!1,k={},z=new WeakMap;function F(ee){if(!R&&!K(ee))throw new Error("WebGL generation not supported")}function G(ee,ae,$,J,ne,fe,ge){if(fe===void 0&&(fe=1),ge===void 0&&(ge=null),!ge&&(ge=N,!ge)){var ce=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ce)throw new Error("OffscreenCanvas or DOM canvas not supported");ge=N=ce.getContext("webgl",{depth:!1})}F(ge);var le=new Uint8Array(ee*ae*4);d(ge,function(_e){var ve=_e.gl,Qe=_e.withTexture,Ee=_e.withTextureFramebuffer;Qe("readable",function(Fe,Ne){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ee,ae,0,ve.RGBA,ve.UNSIGNED_BYTE,null),Ee(Fe,Ne,function(Ge){W(ee,ae,$,J,ne,fe,ve,Ge,0,0,0),ve.readPixels(0,0,ee,ae,ve.RGBA,ve.UNSIGNED_BYTE,le)})})});for(var pe=new Uint8Array(ee*ae),xe=0,Oe=0;xe<le.length;xe+=4)pe[Oe++]=le[xe];return pe}function V(ee,ae,$,J,ne,fe,ge,ce,le,pe){fe===void 0&&(fe=1),ce===void 0&&(ce=0),le===void 0&&(le=0),pe===void 0&&(pe=0),W(ee,ae,$,J,ne,fe,ge,null,ce,le,pe)}function W(ee,ae,$,J,ne,fe,ge,ce,le,pe,xe){fe===void 0&&(fe=1),le===void 0&&(le=0),pe===void 0&&(pe=0),xe===void 0&&(xe=0),F(ge);var Oe=[];a($,function(_e,ve,Qe,Ee){Oe.push(_e,ve,Qe,Ee)}),Oe=new Float32Array(Oe),d(ge,function(_e){var ve=_e.gl,Qe=_e.isWebGL2,Ee=_e.getExtension,Fe=_e.withProgram,Ne=_e.withTexture,Ge=_e.withTextureFramebuffer,ie=_e.handleContextLoss;if(Ne("rawDistances",function(et,Ke){(ee!==et._lastWidth||ae!==et._lastHeight)&&ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,et._lastWidth=ee,et._lastHeight=ae,0,ve.RGBA,ve.UNSIGNED_BYTE,null),Fe("main",A,C,function(Be){var He=Be.setAttribute,re=Be.setUniform,X=!Qe&&Ee("ANGLE_instanced_arrays"),ye=!Qe&&Ee("EXT_blend_minmax");He("aUV",2,ve.STATIC_DRAW,0,O),He("aLineSegment",4,ve.DYNAMIC_DRAW,1,Oe),re.apply(void 0,["4f","uGlyphBounds"].concat(J)),re("1f","uMaxDistance",ne),re("1f","uExponent",fe),Ge(et,Ke,function(je){ve.enable(ve.BLEND),ve.colorMask(!0,!0,!0,!0),ve.viewport(0,0,ee,ae),ve.scissor(0,0,ee,ae),ve.blendFunc(ve.ONE,ve.ONE),ve.blendEquationSeparate(ve.FUNC_ADD,Qe?ve.MAX:ye.MAX_EXT),ve.clear(ve.COLOR_BUFFER_BIT),Qe?ve.drawArraysInstanced(ve.TRIANGLES,0,3,Oe.length/4):X.drawArraysInstancedANGLE(ve.TRIANGLES,0,3,Oe.length/4)})}),Fe("post",o,T,function(Be){Be.setAttribute("aUV",2,ve.STATIC_DRAW,0,O),Be.setUniform("1i","tex",Ke),ve.bindFramebuffer(ve.FRAMEBUFFER,ce),ve.disable(ve.BLEND),ve.colorMask(xe===0,xe===1,xe===2,xe===3),ve.viewport(le,pe,ee,ae),ve.scissor(le,pe,ee,ae),ve.drawArrays(ve.TRIANGLES,0,3)})}),ve.isContextLost())throw ie(),new Error("webgl context lost")})}function K(ee){var ae=!ee||ee===N?k:ee.canvas||ee,$=z.get(ae);if($===void 0){R=!0;var J=null;try{var ne=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],fe=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,ee);$=fe&&ne.length===fe.length&&fe.every(function(ge,ce){return ge===ne[ce]}),$||(J="bad trial run results",console.info(ne,fe))}catch(ge){$=!1,J=ge.message}J&&console.warn("WebGL SDF generation not supported:",J),R=!1,z.set(ae,$)}return $}var H=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:V,generateIntoFramebuffer:W,isSupported:K});function q(ee,ae,$,J,ne,fe){ne===void 0&&(ne=Math.max(J[2]-J[0],J[3]-J[1])/2),fe===void 0&&(fe=1);try{return G.apply(H,arguments)}catch(ge){return console.info("WebGL SDF generation failed, falling back to JS",ge),b.apply(E,arguments)}}function Z(ee,ae,$,J,ne,fe,ge,ce,le,pe){ne===void 0&&(ne=Math.max(J[2]-J[0],J[3]-J[1])/2),fe===void 0&&(fe=1),ce===void 0&&(ce=0),le===void 0&&(le=0),pe===void 0&&(pe=0);try{return V.apply(H,arguments)}catch(xe){return console.info("WebGL SDF generation failed, falling back to JS",xe),_.apply(E,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=Z,e.javascript=E,e.pathToLineSegments=a,e.webgl=H,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}function Dfe(){var t=(function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ie,et){r[ie]=1<<et+1,i[r[ie]]=ie}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|a|r.PDI|l,d=null;function h(){if(!d){d=new Map;var ie=function(Ke){if(n.hasOwnProperty(Ke)){var Be=0;n[Ke].split(",").forEach(function(He){var re=He.split("+"),X=re[0],ye=re[1];X=parseInt(X,36),ye=ye?parseInt(ye,36):0,d.set(Be+=X,r[Ke]);for(var je=0;je<ye;je++)d.set(++Be,r[Ke])})}};for(var et in n)ie(et)}}function g(ie){return h(),d.get(ie.codePointAt(0))||r.L}function y(ie){return i[g(ie)]}var b={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function _(ie,et){var Ke=36,Be=0,He=new Map,re=et&&new Map,X;return ie.split(",").forEach(function ye(je){if(je.indexOf("+")!==-1)for(var Ue=+je;Ue--;)ye(X);else{X=je;var ke=je.split(">"),ut=ke[0],lt=ke[1];ut=String.fromCodePoint(Be+=parseInt(ut,Ke)),lt=String.fromCodePoint(Be+=parseInt(lt,Ke)),He.set(ut,lt),et&&re.set(lt,ut)}}),{map:He,reverseMap:re}}var x,w,E;function A(){if(!x){var ie=_(b.pairs,!0),et=ie.map,Ke=ie.reverseMap;x=et,w=Ke,E=_(b.canonical,!1).map}}function C(ie){return A(),x.get(ie)||null}function T(ie){return A(),w.get(ie)||null}function O(ie){return A(),E.get(ie)||null}var N=r.L,R=r.R,k=r.EN,z=r.ES,F=r.ET,G=r.AN,V=r.CS,W=r.B,K=r.S,H=r.ON,q=r.BN,Z=r.NSM,ee=r.AL,ae=r.LRO,$=r.RLO,J=r.LRE,ne=r.RLE,fe=r.PDF,ge=r.LRI,ce=r.RLI,le=r.FSI,pe=r.PDI;function xe(ie,et){for(var Ke=125,Be=new Uint32Array(ie.length),He=0;He<ie.length;He++)Be[He]=g(ie[He]);var re=new Map;function X(da,Do){var Ca=Be[da];Be[da]=Do,re.set(Ca,re.get(Ca)-1),Ca&s&&re.set(s,re.get(s)-1),re.set(Do,(re.get(Do)||0)+1),Do&s&&re.set(s,(re.get(s)||0)+1)}for(var ye=new Uint8Array(ie.length),je=new Map,Ue=[],ke=null,ut=0;ut<ie.length;ut++)ke||Ue.push(ke={start:ut,end:ie.length-1,level:et==="rtl"?1:et==="ltr"?0:Zf(ut,!1)}),Be[ut]&W&&(ke.end=ut,ke=null);for(var lt=ne|J|$|ae|a|pe|fe|W,Tt=function(da){return da+(da&1?1:2)},Dt=function(da){return da+(da&1?2:1)},Ye=0;Ye<Ue.length;Ye++){ke=Ue[Ye];var $e=[{_level:ke.level,_override:0,_isolate:0}],rt=void 0,me=0,Le=0,dt=0;re.clear();for(var be=ke.start;be<=ke.end;be++){var Ae=Be[be];if(rt=$e[$e.length-1],re.set(Ae,(re.get(Ae)||0)+1),Ae&s&&re.set(s,(re.get(s)||0)+1),Ae&lt)if(Ae&(ne|J)){ye[be]=rt._level;var it=(Ae===ne?Dt:Tt)(rt._level);it<=Ke&&!me&&!Le?$e.push({_level:it,_override:0,_isolate:0}):me||Le++}else if(Ae&($|ae)){ye[be]=rt._level;var Pt=(Ae===$?Dt:Tt)(rt._level);Pt<=Ke&&!me&&!Le?$e.push({_level:Pt,_override:Ae&$?R:N,_isolate:0}):me||Le++}else if(Ae&a){Ae&le&&(Ae=Zf(be+1,!0)===1?ce:ge),ye[be]=rt._level,rt._override&&X(be,rt._override);var ct=(Ae===ce?Dt:Tt)(rt._level);ct<=Ke&&me===0&&Le===0?(dt++,$e.push({_level:ct,_override:0,_isolate:1,_isolInitIndex:be})):me++}else if(Ae&pe){if(me>0)me--;else if(dt>0){for(Le=0;!$e[$e.length-1]._isolate;)$e.pop();var Ce=$e[$e.length-1]._isolInitIndex;Ce!=null&&(je.set(Ce,be),je.set(be,Ce)),$e.pop(),dt--}rt=$e[$e.length-1],ye[be]=rt._level,rt._override&&X(be,rt._override)}else Ae&fe?(me===0&&(Le>0?Le--:!rt._isolate&&$e.length>1&&($e.pop(),rt=$e[$e.length-1])),ye[be]=rt._level):Ae&W&&(ye[be]=ke.level);else ye[be]=rt._level,rt._override&&Ae!==q&&X(be,rt._override)}for(var gt=[],Et=null,Ct=ke.start;Ct<=ke.end;Ct++){var $t=Be[Ct];if(!($t&l)){var rn=ye[Ct],hn=$t&a,Jn=$t===pe;Et&&rn===Et._level?(Et._end=Ct,Et._endsWithIsolInit=hn):gt.push(Et={_start:Ct,_end:Ct,_level:rn,_startsWithPDI:Jn,_endsWithIsolInit:hn})}}for(var rr=[],gr=0;gr<gt.length;gr++){var Zr=gt[gr];if(!Zr._startsWithPDI||Zr._startsWithPDI&&!je.has(Zr._start)){for(var hr=[Et=Zr],kr=void 0;Et&&Et._endsWithIsolInit&&(kr=je.get(Et._end))!=null;)for(var an=gr+1;an<gt.length;an++)if(gt[an]._start===kr){hr.push(Et=gt[an]);break}for(var vr=[],ur=0;ur<hr.length;ur++)for(var te=hr[ur],ue=te._start;ue<=te._end;ue++)vr.push(ue);for(var we=ye[vr[0]],We=ke.level,tt=vr[0]-1;tt>=0;tt--)if(!(Be[tt]&l)){We=ye[tt];break}var at=vr[vr.length-1],At=ye[at],St=ke.level;if(!(Be[at]&a)){for(var It=at+1;It<=ke.end;It++)if(!(Be[It]&l)){St=ye[It];break}}rr.push({_seqIndices:vr,_sosType:Math.max(We,we)%2?R:N,_eosType:Math.max(St,At)%2?R:N})}}for(var Nt=0;Nt<rr.length;Nt++){var kt=rr[Nt],Q=kt._seqIndices,Se=kt._sosType,De=kt._eosType,Re=ye[Q[0]]&1?R:N;if(re.get(Z))for(var Pe=0;Pe<Q.length;Pe++){var ft=Q[Pe];if(Be[ft]&Z){for(var bt=Se,xt=Pe-1;xt>=0;xt--)if(!(Be[Q[xt]]&l)){bt=Be[Q[xt]];break}X(ft,bt&(a|pe)?H:bt)}}if(re.get(k))for(var _t=0;_t<Q.length;_t++){var zt=Q[_t];if(Be[zt]&k)for(var jt=_t-1;jt>=-1;jt--){var tn=jt===-1?Se:Be[Q[jt]];if(tn&o){tn===ee&&X(zt,G);break}}}if(re.get(ee))for(var Ot=0;Ot<Q.length;Ot++){var Kt=Q[Ot];Be[Kt]&ee&&X(Kt,R)}if(re.get(z)||re.get(V))for(var Cn=1;Cn<Q.length-1;Cn++){var Qn=Q[Cn];if(Be[Qn]&(z|V)){for(var cn=0,qt=0,wt=Cn-1;wt>=0&&(cn=Be[Q[wt]],!!(cn&l));wt--);for(var _n=Cn+1;_n<Q.length&&(qt=Be[Q[_n]],!!(qt&l));_n++);cn===qt&&(Be[Qn]===z?cn===k:cn&(k|G))&&X(Qn,cn)}}if(re.get(k))for(var Lt=0;Lt<Q.length;Lt++){var fr=Q[Lt];if(Be[fr]&k){for(var Cr=Lt-1;Cr>=0&&Be[Q[Cr]]&(F|l);Cr--)X(Q[Cr],k);for(Lt++;Lt<Q.length&&Be[Q[Lt]]&(F|l|k);Lt++)Be[Q[Lt]]!==k&&X(Q[Lt],k)}}if(re.get(F)||re.get(z)||re.get(V))for(var zn=0;zn<Q.length;zn++){var Rr=Q[zn];if(Be[Rr]&(F|z|V)){X(Rr,H);for(var Wn=zn-1;Wn>=0&&Be[Q[Wn]]&l;Wn--)X(Q[Wn],H);for(var Lr=zn+1;Lr<Q.length&&Be[Q[Lr]]&l;Lr++)X(Q[Lr],H)}}if(re.get(k))for(var Li=0,Jr=Se;Li<Q.length;Li++){var ja=Q[Li],ao=Be[ja];ao&k?Jr===N&&X(ja,N):ao&o&&(Jr=ao)}if(re.get(s)){var Ro=R|k|G,wh=Ro|N,Pc=[];{for(var Jo=[],Aa=0;Aa<Q.length;Aa++)if(Be[Q[Aa]]&s){var Ks=ie[Q[Aa]],Uu=void 0;if(C(Ks)!==null)if(Jo.length<63)Jo.push({char:Ks,seqIndex:Aa});else break;else if((Uu=T(Ks))!==null)for(var Oo=Jo.length-1;Oo>=0;Oo--){var Qo=Jo[Oo].char;if(Qo===Uu||Qo===T(O(Ks))||C(O(Qo))===Ks){Pc.push([Jo[Oo].seqIndex,Aa]),Jo.length=Oo;break}}}Pc.sort(function(da,Do){return da[0]-Do[0]})}for(var Bu=0;Bu<Pc.length;Bu++){for(var Fu=Pc[Bu],Dc=Fu[0],Zs=Fu[1],Po=!1,za=0,Js=Dc+1;Js<Zs;Js++){var Ta=Q[Js];if(Be[Ta]&wh){Po=!0;var ju=Be[Ta]&Ro?R:N;if(ju===Re){za=ju;break}}}if(Po&&!za){za=Se;for(var Es=Dc-1;Es>=0;Es--){var Ic=Q[Es];if(Be[Ic]&wh){var Nc=Be[Ic]&Ro?R:N;Nc!==Re?za=Nc:za=Re;break}}}if(za){if(Be[Q[Dc]]=Be[Q[Zs]]=za,za!==Re){for(var es=Dc+1;es<Q.length;es++)if(!(Be[Q[es]]&l)){g(ie[Q[es]])&Z&&(Be[Q[es]]=za);break}}if(za!==Re){for(var kc=Zs+1;kc<Q.length;kc++)if(!(Be[Q[kc]]&l)){g(ie[Q[kc]])&Z&&(Be[Q[kc]]=za);break}}}}for(var Qr=0;Qr<Q.length;Qr++)if(Be[Q[Qr]]&s){for(var As=Qr,zl=Qr,Qs=Se,Lc=Qr-1;Lc>=0;Lc--)if(Be[Q[Lc]]&l)As=Lc;else{Qs=Be[Q[Lc]]&Ro?R:N;break}for(var Uc=De,el=Qr+1;el<Q.length;el++)if(Be[Q[el]]&(s|l))zl=el;else{Uc=Be[Q[el]]&Ro?R:N;break}for(var tl=As;tl<=zl;tl++)Be[Q[tl]]=Qs===Uc?Qs:Re;Qr=zl}}}for(var Ui=ke.start;Ui<=ke.end;Ui++){var Mh=ye[Ui],zu=Be[Ui];if(Mh&1?zu&(N|k|G)&&ye[Ui]++:zu&R?ye[Ui]++:zu&(G|k)&&(ye[Ui]+=2),zu&l&&(ye[Ui]=Ui===0?ke.level:ye[Ui-1]),Ui===ke.end||g(ie[Ui])&(K|W))for(var Hu=Ui;Hu>=0&&g(ie[Hu])&u;Hu--)ye[Hu]=ke.level}}return{levels:ye,paragraphs:Ue};function Zf(da,Do){for(var Ca=da;Ca<ie.length;Ca++){var Ts=Be[Ca];if(Ts&(R|ee))return 1;if(Ts&(W|N)||Do&&Ts===pe)return 0;if(Ts&a){var Bc=Jf(Ca);Ca=Bc===-1?ie.length:Bc}}return 0}function Jf(da){for(var Do=1,Ca=da+1;Ca<ie.length;Ca++){var Ts=Be[Ca];if(Ts&W)break;if(Ts&pe){if(--Do===0)return Ca}else Ts&a&&Do++}return-1}}var Oe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",_e;function ve(){if(!_e){var ie=_(Oe,!0),et=ie.map,Ke=ie.reverseMap;Ke.forEach(function(Be,He){et.set(He,Be)}),_e=et}}function Qe(ie){return ve(),_e.get(ie)||null}function Ee(ie,et,Ke,Be){var He=ie.length;Ke=Math.max(0,Ke==null?0:+Ke),Be=Math.min(He-1,Be==null?He-1:+Be);for(var re=new Map,X=Ke;X<=Be;X++)if(et[X]&1){var ye=Qe(ie[X]);ye!==null&&re.set(X,ye)}return re}function Fe(ie,et,Ke,Be){var He=ie.length;Ke=Math.max(0,Ke==null?0:+Ke),Be=Math.min(He-1,Be==null?He-1:+Be);var re=[];return et.paragraphs.forEach(function(X){var ye=Math.max(Ke,X.start),je=Math.min(Be,X.end);if(ye<je){for(var Ue=et.levels.slice(ye,je+1),ke=je;ke>=ye&&g(ie[ke])&u;ke--)Ue[ke]=X.level;for(var ut=X.level,lt=1/0,Tt=0;Tt<Ue.length;Tt++){var Dt=Ue[Tt];Dt>ut&&(ut=Dt),Dt<lt&&(lt=Dt|1)}for(var Ye=ut;Ye>=lt;Ye--)for(var $e=0;$e<Ue.length;$e++)if(Ue[$e]>=Ye){for(var rt=$e;$e+1<Ue.length&&Ue[$e+1]>=Ye;)$e++;$e>rt&&re.push([rt+ye,$e+ye])}}}),re}function Ne(ie,et,Ke,Be){var He=Ge(ie,et,Ke,Be),re=[].concat(ie);return He.forEach(function(X,ye){re[ye]=(et.levels[X]&1?Qe(ie[X]):null)||ie[X]}),re.join("")}function Ge(ie,et,Ke,Be){for(var He=Fe(ie,et,Ke,Be),re=[],X=0;X<ie.length;X++)re[X]=X;return He.forEach(function(ye){for(var je=ye[0],Ue=ye[1],ke=re.slice(je,Ue+1),ut=ke.length;ut--;)re[Ue-ut]=ke[ut]}),re}return e.closingToOpeningBracket=T,e.getBidiCharType=g,e.getBidiCharTypeName=y,e.getCanonicalBracket=O,e.getEmbeddingLevels=xe,e.getMirroredCharacter=Qe,e.getMirroredCharactersMap=Ee,e.getReorderSegments=Fe,e.getReorderedIndices=Ge,e.getReorderedString=Ne,e.openingToClosingBracket=C,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}const aW=/\bvoid\s+main\s*\(\s*\)\s*{/g;function MN(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let a=Fn[i];return a?MN(a):r}return t.replace(e,n)}const Ja=[];for(let t=0;t<256;t++)Ja[t]=(t<16?"0":"")+t.toString(16);function Ife(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ja[t&255]+Ja[t>>8&255]+Ja[t>>16&255]+Ja[t>>24&255]+"-"+Ja[e&255]+Ja[e>>8&255]+"-"+Ja[e>>16&15|64]+Ja[e>>24&255]+"-"+Ja[n&63|128]+Ja[n>>8&255]+"-"+Ja[n>>16&255]+Ja[n>>24&255]+Ja[r&255]+Ja[r>>8&255]+Ja[r>>16&255]+Ja[r>>24&255]).toUpperCase()}const yp=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Nfe=Date.now(),YF=new WeakMap,KF=new Map;let kfe=1e10;function EN(t,e){const n=Ffe(e);let r=YF.get(t);if(r||YF.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(u,d){t.onBeforeCompile.call(this,u,d);const h=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let g=KF[h];if(!g){const y=Lfe(this,u,e,n);g=KF[h]=y}u.vertexShader=g.vertexShader,u.fragmentShader=g.fragmentShader,yp(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Nfe}}),this[i]&&this[i](u)},o=function(){return s(e.chained?t:t.clone())},s=function(u){const d=Object.create(u,l);return Object.defineProperty(d,"baseMaterial",{value:t}),Object.defineProperty(d,"id",{value:kfe++}),d.uuid=Ife(),d.uniforms=yp({},u.uniforms,e.uniforms),d.defines=yp({},u.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",d.extensions=yp({},u.extensions,e.extensions),d._listeners=void 0,d},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const d=this.baseMaterial;return u===d||d.isDerivedMaterial&&d.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(yp(this.extensions,u.extensions),yp(this.defines,u.defines),yp(this.uniforms,uT.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return s(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=EN(t.isDerivedMaterial?t.getDepthMaterial():new dT({depthPacking:c9}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=EN(t.isDerivedMaterial?t.getDistanceMaterial():new hT,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:d}=this;u&&u.dispose(),d&&d.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Lfe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:d,fragmentMainOutro:h,fragmentColorTransform:g,customRewriter:y,timeUniform:b}=r;if(a=a||"",o=o||"",s=s||"",u=u||"",d=d||"",h=h||"",(l||y)&&(e=MN(e)),(g||y)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=MN(n)),y){let _=y({vertexShader:e,fragmentShader:n});e=_.vertexShader,n=_.fragmentShader}if(g){let _=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(_.push(x),"")),h=`${g}
${_.join(`
`)}
${h}`}if(b){const _=`
uniform float ${b};
`;a=_+a,u=_+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(_,x,w,E)=>/\battribute\s+vec[23]\s+$/.test(E.substr(0,w))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=ZF(e,i,a,o,s),n=ZF(n,i,u,d,h),{vertexShader:e,fragmentShader:n}}function ZF(t,e,n,r,i){return(r||i||n)&&(t=t.replace(aW,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Ufe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Bfe=0;const JF=new Map;function Ffe(t){const e=JSON.stringify(t,Ufe);let n=JF.get(e);return n==null&&JF.set(e,n=++Bfe),n}function jfe(){return typeof window>"u"&&(self.window=self),(function(t){var e={parse:function(i){var a=e._bin,o=new Uint8Array(i);if(a.readASCII(o,0,4)=="ttcf"){var s=4;a.readUshort(o,s),s+=2,a.readUshort(o,s),s+=2;var l=a.readUint(o,s);s+=4;for(var u=[],d=0;d<l;d++){var h=a.readUint(o,s);s+=4,u.push(e._readFont(o,h))}return u}return[e._readFont(o,0)]},_readFont:function(i,a){var o=e._bin,s=a;o.readFixed(i,a),a+=4;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:i,_offset:s},h={},g=0;g<l;g++){var y=o.readASCII(i,a,4);a+=4,o.readUint(i,a),a+=4;var b=o.readUint(i,a);a+=4;var _=o.readUint(i,a);a+=4,h[y]={offset:b,length:_}}for(g=0;g<u.length;g++){var x=u[g];h[x]&&(d[x.trim()]=e[x.trim()].parse(i,h[x].offset,h[x].length,d))}return d},_tabOffset:function(i,a,o){for(var s=e._bin,l=s.readUshort(i,o+4),u=o+12,d=0;d<l;d++){var h=s.readASCII(i,u,4);u+=4,s.readUint(i,u),u+=4;var g=s.readUint(i,u);if(u+=4,s.readUint(i,u),u+=4,h==a)return g}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(e._bin.readUshort(i,a+2*l));return s},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,o){for(var s="",l=0;l<o;l++)s+=String.fromCharCode(i[a+l]);return s},readUnicode:function(i,a,o){for(var s="",l=0;l<o;l++){var u=i[a++]<<8|i[a++];s+=String.fromCharCode(u)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,o){var s=e._bin._tdec;return s&&a==0&&o==i.length?s.decode(i):e._bin.readASCII(i,a,o)},readBytes:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(i[a+l]);return s},readASCIIArray:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(String.fromCharCode(i[a+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,o,s,l){var u=e._bin,d={},h=a;u.readFixed(i,a),a+=4;var g=u.readUshort(i,a);a+=2;var y=u.readUshort(i,a);a+=2;var b=u.readUshort(i,a);return a+=2,d.scriptList=e._lctf.readScriptList(i,h+g),d.featureList=e._lctf.readFeatureList(i,h+y),d.lookupList=e._lctf.readLookupList(i,h+b,l),d},e._lctf.readLookupList=function(i,a,o){var s=e._bin,l=a,u=[],d=s.readUshort(i,a);a+=2;for(var h=0;h<d;h++){var g=s.readUshort(i,a);a+=2;var y=e._lctf.readLookupTable(i,l+g,o);u.push(y)}return u},e._lctf.readLookupTable=function(i,a,o){var s=e._bin,l=a,u={tabs:[]};u.ltype=s.readUshort(i,a),a+=2,u.flag=s.readUshort(i,a),a+=2;var d=s.readUshort(i,a);a+=2;for(var h=u.ltype,g=0;g<d;g++){var y=s.readUshort(i,a);a+=2;var b=o(i,h,l+y,u);u.tabs.push(b)}return u},e._lctf.numOfOnes=function(i){for(var a=0,o=0;o<32;o++)(i>>>o&1)!=0&&a++;return a},e._lctf.readClassDef=function(i,a){var o=e._bin,s=[],l=o.readUshort(i,a);if(a+=2,l==1){var u=o.readUshort(i,a);a+=2;var d=o.readUshort(i,a);a+=2;for(var h=0;h<d;h++)s.push(u+h),s.push(u+h),s.push(o.readUshort(i,a)),a+=2}if(l==2){var g=o.readUshort(i,a);for(a+=2,h=0;h<g;h++)s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2}return s},e._lctf.getInterval=function(i,a){for(var o=0;o<i.length;o+=3){var s=i[o],l=i[o+1];if(i[o+2],s<=a&&a<=l)return o}return-1},e._lctf.readCoverage=function(i,a){var o=e._bin,s={};s.fmt=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.fmt==1&&(s.tab=o.readUshorts(i,a,l)),s.fmt==2&&(s.tab=o.readUshorts(i,a,3*l)),s},e._lctf.coverageIndex=function(i,a){var o=i.tab;if(i.fmt==1)return o.indexOf(a);if(i.fmt==2){var s=e._lctf.getInterval(o,a);if(s!=-1)return o[s+2]+(a-o[s])}return-1},e._lctf.readFeatureList=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var h=o.readASCII(i,a,4);a+=4;var g=o.readUshort(i,a);a+=2;var y=e._lctf.readFeatureTable(i,s+g);y.tag=h.trim(),l.push(y)}return l},e._lctf.readFeatureTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.featureParams=s+u);var d=o.readUshort(i,a);a+=2,l.tab=[];for(var h=0;h<d;h++)l.tab.push(o.readUshort(i,a+2*h));return l},e._lctf.readScriptList=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var h=o.readASCII(i,a,4);a+=4;var g=o.readUshort(i,a);a+=2,l[h.trim()]=e._lctf.readScriptTable(i,s+g)}return l},e._lctf.readScriptTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,s+u));var d=o.readUshort(i,a);a+=2;for(var h=0;h<d;h++){var g=o.readASCII(i,a,4);a+=4;var y=o.readUshort(i,a);a+=2,l[g.trim()]=e._lctf.readLangSysTable(i,s+y)}return l},e._lctf.readLangSysTable=function(i,a){var o=e._bin,s={};o.readUshort(i,a),a+=2,s.reqFeature=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.features=o.readUshorts(i,a,l),s},e.CFF={},e.CFF.parse=function(i,a,o){var s=e._bin;(i=new Uint8Array(i.buffer,a,o))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],d=0;d<l.length-1;d++)u.push(s.readASCII(i,a+l[d],l[d+1]-l[d]));a+=l[l.length-1];var h=[];a=e.CFF.readIndex(i,a,h);var g=[];for(d=0;d<h.length-1;d++)g.push(e.CFF.readDict(i,a+h[d],a+h[d+1]));a+=h[h.length-1];var y=g[0],b=[];a=e.CFF.readIndex(i,a,b);var _=[];for(d=0;d<b.length-1;d++)_.push(s.readASCII(i,a+b[d],b[d+1]-b[d]));if(a+=b[b.length-1],e.CFF.readSubrs(i,a,y),y.CharStrings){a=y.CharStrings,b=[],a=e.CFF.readIndex(i,a,b);var x=[];for(d=0;d<b.length-1;d++)x.push(s.readBytes(i,a+b[d],b[d+1]-b[d]));y.CharStrings=x}if(y.ROS){a=y.FDArray;var w=[];for(a=e.CFF.readIndex(i,a,w),y.FDArray=[],d=0;d<w.length-1;d++){var E=e.CFF.readDict(i,a+w[d],a+w[d+1]);e.CFF._readFDict(i,E,_),y.FDArray.push(E)}a+=w[w.length-1],a=y.FDSelect,y.FDSelect=[];var A=i[a];if(a++,A!=3)throw A;var C=s.readUshort(i,a);for(a+=2,d=0;d<C+1;d++)y.FDSelect.push(s.readUshort(i,a),i[a+2]),a+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(i,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(i,y.charset,y.CharStrings.length)),e.CFF._readFDict(i,y,_),y},e.CFF._readFDict=function(i,a,o){var s;for(var l in a.Private&&(s=a.Private[1],a.Private=e.CFF.readDict(i,s,s+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,s+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=o[a[l]-426+35])},e.CFF.readSubrs=function(i,a,o){var s=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,d=l.length;u=d<1240?107:d<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var h=0;h<l.length-1;h++)o.Subrs.push(s.readBytes(i,a+l[h],l[h+1]-l[h]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,o){e._bin;var s=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var d=0;d<u;d++)s.push(i[a+d]);return s},e.CFF.readCharset=function(i,a,o){var s=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var d=0;d<o;d++){var h=s.readUshort(i,a);a+=2,l.push(h)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){h=s.readUshort(i,a),a+=2;var g=0;for(u==1?(g=i[a],a++):(g=s.readUshort(i,a),a+=2),d=0;d<=g;d++)l.push(h),h++}}return l},e.CFF.readIndex=function(i,a,o){var s=e._bin,l=s.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var d=0;d<l;d++)o.push(i[a+d]);else if(u==2)for(d=0;d<l;d++)o.push(s.readUshort(i,a+2*d));else if(u==3)for(d=0;d<l;d++)o.push(16777215&s.readUint(i,a+3*d-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,o){var s=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var d=1,h=null,g=null;l<=20&&(h=l,d=1),l==12&&(h=100*l+u,d=2),21<=l&&l<=27&&(h=l,d=1),l==28&&(g=s.readShort(i,a+1),d=3),29<=l&&l<=31&&(h=l,d=1),32<=l&&l<=246&&(g=l-139,d=1),247<=l&&l<=250&&(g=256*(l-247)+u+108,d=2),251<=l&&l<=254&&(g=256*-(l-251)-u-108,d=2),l==255&&(g=s.readInt(i,a+1)/65535,d=5),o.val=g??"o"+h,o.size=d},e.CFF.readCharString=function(i,a,o){for(var s=a+o,l=e._bin,u=[];a<s;){var d=i[a],h=i[a+1];i[a+2],i[a+3],i[a+4];var g=1,y=null,b=null;d<=20&&(y=d,g=1),d==12&&(y=100*d+h,g=2),d!=19&&d!=20||(y=d,g=2),21<=d&&d<=27&&(y=d,g=1),d==28&&(b=l.readShort(i,a+1),g=3),29<=d&&d<=31&&(y=d,g=1),32<=d&&d<=246&&(b=d-139,g=1),247<=d&&d<=250&&(b=256*(d-247)+h+108,g=2),251<=d&&d<=254&&(b=256*-(d-251)-h-108,g=2),d==255&&(b=l.readInt(i,a+1)/65535,g=5),u.push(b??"o"+y),a+=g}return u},e.CFF.readDict=function(i,a,o){for(var s=e._bin,l={},u=[];a<o;){var d=i[a],h=i[a+1];i[a+2],i[a+3],i[a+4];var g=1,y=null,b=null;if(d==28&&(b=s.readShort(i,a+1),g=3),d==29&&(b=s.readInt(i,a+1),g=5),32<=d&&d<=246&&(b=d-139,g=1),247<=d&&d<=250&&(b=256*(d-247)+h+108,g=2),251<=d&&d<=254&&(b=256*-(d-251)-h-108,g=2),d==255)throw b=s.readInt(i,a+1)/65535,g=5,"unknown number";if(d==30){var _=[];for(g=1;;){var x=i[a+g];g++;var w=x>>4,E=15&x;if(w!=15&&_.push(w),E!=15&&_.push(E),E==15)break}for(var A="",C=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],T=0;T<_.length;T++)A+=C[_[T]];b=parseFloat(A)}d<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],g=1,d==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],g=2)),y!=null?(l[y]=u.length==1?u[0]:u,u=[]):u.push(b),a+=g}return l},e.cmap={},e.cmap.parse=function(i,a,o){i=new Uint8Array(i.buffer,a,o),a=0;var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2;var d=[];l.tables=[];for(var h=0;h<u;h++){var g=s.readUshort(i,a);a+=2;var y=s.readUshort(i,a);a+=2;var b=s.readUint(i,a);a+=4;var _="p"+g+"e"+y,x=d.indexOf(b);if(x==-1){var w;x=l.tables.length,d.push(b);var E=s.readUshort(i,b);E==0?w=e.cmap.parse0(i,b):E==4?w=e.cmap.parse4(i,b):E==6?w=e.cmap.parse6(i,b):E==12?w=e.cmap.parse12(i,b):console.debug("unknown format: "+E,g,y,b),l.tables.push(w)}if(l[_]!=null)throw"multiple tables for one platform+encoding";l[_]=x}return l},e.cmap.parse0=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,s.map=[];for(var u=0;u<l-6;u++)s.map.push(i[a+u]);return s},e.cmap.parse4=function(i,a){var o=e._bin,s=a,l={};l.format=o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2;var d=o.readUshort(i,a);a+=2;var h=d/2;l.searchRange=o.readUshort(i,a),a+=2,l.entrySelector=o.readUshort(i,a),a+=2,l.rangeShift=o.readUshort(i,a),a+=2,l.endCount=o.readUshorts(i,a,h),a+=2*h,a+=2,l.startCount=o.readUshorts(i,a,h),a+=2*h,l.idDelta=[];for(var g=0;g<h;g++)l.idDelta.push(o.readShort(i,a)),a+=2;for(l.idRangeOffset=o.readUshorts(i,a,h),a+=2*h,l.glyphIdArray=[];a<s+u;)l.glyphIdArray.push(o.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,s.firstCode=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,s.glyphIdArray=[];for(var u=0;u<l;u++)s.glyphIdArray.push(o.readUshort(i,a)),a+=2;return s},e.cmap.parse12=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,a+=2,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4;var l=o.readUint(i,a);a+=4,s.groups=[];for(var u=0;u<l;u++){var d=a+12*u,h=o.readUint(i,d+0),g=o.readUint(i,d+4),y=o.readUint(i,d+8);s.groups.push([h,g,y])}return s},e.glyf={},e.glyf.parse=function(i,a,o,s){for(var l=[],u=0;u<s.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var o=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=o.readShort(s,l),l+=2,u.xMin=o.readShort(s,l),l+=2,u.yMin=o.readShort(s,l),l+=2,u.xMax=o.readShort(s,l),l+=2,u.yMax=o.readShort(s,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var d=0;d<u.noc;d++)u.endPts.push(o.readUshort(s,l)),l+=2;var h=o.readUshort(s,l);if(l+=2,s.length-l<h)return null;u.instructions=o.readBytes(s,l,h),l+=h;var g=u.endPts[u.noc-1]+1;for(u.flags=[],d=0;d<g;d++){var y=s[l];if(l++,u.flags.push(y),(8&y)!=0){var b=s[l];l++;for(var _=0;_<b;_++)u.flags.push(y),d++}}for(u.xs=[],d=0;d<g;d++){var x=(2&u.flags[d])!=0,w=(16&u.flags[d])!=0;x?(u.xs.push(w?s[l]:-s[l]),l++):w?u.xs.push(0):(u.xs.push(o.readShort(s,l)),l+=2)}for(u.ys=[],d=0;d<g;d++)x=(4&u.flags[d])!=0,w=(32&u.flags[d])!=0,x?(u.ys.push(w?s[l]:-s[l]),l++):w?u.ys.push(0):(u.ys.push(o.readShort(s,l)),l+=2);var E=0,A=0;for(d=0;d<g;d++)E+=u.xs[d],A+=u.ys[d],u.xs[d]=E,u.ys[d]=A}else{var C;u.parts=[];do{C=o.readUshort(s,l),l+=2;var T={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(T),T.glyphIndex=o.readUshort(s,l),l+=2,1&C){var O=o.readShort(s,l);l+=2;var N=o.readShort(s,l);l+=2}else O=o.readInt8(s,l),l++,N=o.readInt8(s,l),l++;2&C?(T.m.tx=O,T.m.ty=N):(T.p1=O,T.p2=N),8&C?(T.m.a=T.m.d=o.readF2dot14(s,l),l+=2):64&C?(T.m.a=o.readF2dot14(s,l),l+=2,T.m.d=o.readF2dot14(s,l),l+=2):128&C&&(T.m.a=o.readF2dot14(s,l),l+=2,T.m.b=o.readF2dot14(s,l),l+=2,T.m.c=o.readF2dot14(s,l),l+=2,T.m.d=o.readF2dot14(s,l),l+=2)}while(32&C);if(256&C){var R=o.readUshort(s,l);for(l+=2,u.instr=[],d=0;d<R;d++)u.instr.push(s[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,o,s){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GPOS.subt)},e.GPOS.subt=function(i,a,o,s){var l=e._bin,u=o,d={};if(d.fmt=l.readUshort(i,o),o+=2,a==1||a==2||a==3||a==7||a==8&&d.fmt<=2){var h=l.readUshort(i,o);o+=2,d.coverage=e._lctf.readCoverage(i,h+u)}if(a==1&&d.fmt==1){var g=l.readUshort(i,o);o+=2,g!=0&&(d.pos=e.GPOS.readValueRecord(i,o,g))}else if(a==2&&d.fmt>=1&&d.fmt<=2){g=l.readUshort(i,o),o+=2;var y=l.readUshort(i,o);o+=2;var b=e._lctf.numOfOnes(g),_=e._lctf.numOfOnes(y);if(d.fmt==1){d.pairsets=[];var x=l.readUshort(i,o);o+=2;for(var w=0;w<x;w++){var E=u+l.readUshort(i,o);o+=2;var A=l.readUshort(i,E);E+=2;for(var C=[],T=0;T<A;T++){var O=l.readUshort(i,E);E+=2,g!=0&&(G=e.GPOS.readValueRecord(i,E,g),E+=2*b),y!=0&&(V=e.GPOS.readValueRecord(i,E,y),E+=2*_),C.push({gid2:O,val1:G,val2:V})}d.pairsets.push(C)}}if(d.fmt==2){var N=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var k=l.readUshort(i,o);o+=2;var z=l.readUshort(i,o);for(o+=2,d.classDef1=e._lctf.readClassDef(i,u+N),d.classDef2=e._lctf.readClassDef(i,u+R),d.matrix=[],w=0;w<k;w++){var F=[];for(T=0;T<z;T++){var G=null,V=null;g!=0&&(G=e.GPOS.readValueRecord(i,o,g),o+=2*b),y!=0&&(V=e.GPOS.readValueRecord(i,o,y),o+=2*_),F.push({val1:G,val2:V})}d.matrix.push(F)}}}else if(a==4&&d.fmt==1)d.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),d.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),d.markClassCount=l.readUshort(i,o+4),d.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),d.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,d.markClassCount);else if(a==6&&d.fmt==1)d.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),d.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),d.markClassCount=l.readUshort(i,o+4),d.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),d.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,d.markClassCount);else{if(a==9&&d.fmt==1){var W=l.readUshort(i,o);o+=2;var K=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=W;else if(s.ltype!=W)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,u+K)}console.debug("unsupported GPOS table LookupType",a,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(i,a,o){var s=e._bin,l=[];return l.push(1&o?s.readShort(i,a):0),a+=1&o?2:0,l.push(2&o?s.readShort(i,a):0),a+=2&o?2:0,l.push(4&o?s.readShort(i,a):0),a+=4&o?2:0,l.push(8&o?s.readShort(i,a):0),a+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,a,o){var s=e._bin,l=[],u=a,d=s.readUshort(i,a);a+=2;for(var h=0;h<d;h++){for(var g=[],y=0;y<o;y++)g.push(e.GPOS.readAnchorRecord(i,u+s.readUshort(i,a))),a+=2;l.push(g)}return l},e.GPOS.readMarkArray=function(i,a){var o=e._bin,s=[],l=a,u=o.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var h=e.GPOS.readAnchorRecord(i,o.readUshort(i,a+2)+l);h.markClass=o.readUshort(i,a),s.push(h),a+=4}return s},e.GPOS.readAnchorRecord=function(i,a){var o=e._bin,s={};return s.fmt=o.readUshort(i,a),s.x=o.readShort(i,a+2),s.y=o.readShort(i,a+4),s},e.GSUB={},e.GSUB.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GSUB.subt)},e.GSUB.subt=function(i,a,o,s){var l=e._bin,u=o,d={};if(d.fmt=l.readUshort(i,o),o+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&d.fmt<=2||a==6&&d.fmt<=2){var h=l.readUshort(i,o);o+=2,d.coverage=e._lctf.readCoverage(i,u+h)}if(a==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=l.readShort(i,o),o+=2;else if(d.fmt==2){var g=l.readUshort(i,o);o+=2,d.newg=l.readUshorts(i,o,g),o+=2*d.newg.length}}else if(a==2&&d.fmt==1){g=l.readUshort(i,o),o+=2,d.seqs=[];for(var y=0;y<g;y++){var b=l.readUshort(i,o)+u;o+=2;var _=l.readUshort(i,b);d.seqs.push(l.readUshorts(i,b+2,_))}}else if(a==4)for(d.vals=[],g=l.readUshort(i,o),o+=2,y=0;y<g;y++){var x=l.readUshort(i,o);o+=2,d.vals.push(e.GSUB.readLigatureSet(i,u+x))}else if(a==5&&d.fmt==2){if(d.fmt==2){var w=l.readUshort(i,o);o+=2,d.cDef=e._lctf.readClassDef(i,u+w),d.scset=[];var E=l.readUshort(i,o);for(o+=2,y=0;y<E;y++){var A=l.readUshort(i,o);o+=2,d.scset.push(A==0?null:e.GSUB.readSubClassSet(i,u+A))}}}else if(a==6&&d.fmt==3){if(d.fmt==3){for(y=0;y<3;y++){g=l.readUshort(i,o),o+=2;for(var C=[],T=0;T<g;T++)C.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*T)));o+=2*g,y==0&&(d.backCvg=C),y==1&&(d.inptCvg=C),y==2&&(d.ahedCvg=C)}g=l.readUshort(i,o),o+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(i,o,g)}}else{if(a==7&&d.fmt==1){var O=l.readUshort(i,o);o+=2;var N=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=O;else if(s.ltype!=O)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,u+N)}console.debug("unsupported GSUB table LookupType",a,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(i,a){var o=e._bin.readUshort,s=a,l=[],u=o(i,a);a+=2;for(var d=0;d<u;d++){var h=o(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,s+h))}return l},e.GSUB.readSubClassRule=function(i,a){var o=e._bin.readUshort,s={},l=o(i,a),u=o(i,a+=2);a+=2,s.input=[];for(var d=0;d<l-1;d++)s.input.push(o(i,a)),a+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),s},e.GSUB.readSubstLookupRecords=function(i,a,o){for(var s=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(s(i,a),s(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var h=o.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,s+h))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var o=e._bin,s={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var d=o.readUshort(i,a);a+=2,u==1&&d--,s[l[u]]=o.readUshorts(i,a,d),a+=2*s[l[u]].length}return d=o.readUshort(i,a),a+=2,s.subst=o.readUshorts(i,a,2*d),a+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var d=0;d<u;d++){var h=o.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,s+h))}return l},e.GSUB.readLigature=function(i,a){var o=e._bin,s={chain:[]};s.nglyph=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)s.chain.push(o.readUshort(i,a)),a+=2;return s},e.head={},e.head.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.fontRevision=s.readFixed(i,a),a+=4,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4,l.flags=s.readUshort(i,a),a+=2,l.unitsPerEm=s.readUshort(i,a),a+=2,l.created=s.readUint64(i,a),a+=8,l.modified=s.readUint64(i,a),a+=8,l.xMin=s.readShort(i,a),a+=2,l.yMin=s.readShort(i,a),a+=2,l.xMax=s.readShort(i,a),a+=2,l.yMax=s.readShort(i,a),a+=2,l.macStyle=s.readUshort(i,a),a+=2,l.lowestRecPPEM=s.readUshort(i,a),a+=2,l.fontDirectionHint=s.readShort(i,a),a+=2,l.indexToLocFormat=s.readShort(i,a),a+=2,l.glyphDataFormat=s.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.ascender=s.readShort(i,a),a+=2,l.descender=s.readShort(i,a),a+=2,l.lineGap=s.readShort(i,a),a+=2,l.advanceWidthMax=s.readUshort(i,a),a+=2,l.minLeftSideBearing=s.readShort(i,a),a+=2,l.minRightSideBearing=s.readShort(i,a),a+=2,l.xMaxExtent=s.readShort(i,a),a+=2,l.caretSlopeRise=s.readShort(i,a),a+=2,l.caretSlopeRun=s.readShort(i,a),a+=2,l.caretOffset=s.readShort(i,a),a+=2,a+=8,l.metricDataFormat=s.readShort(i,a),a+=2,l.numberOfHMetrics=s.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,o,s){for(var l=e._bin,u={aWidth:[],lsBearing:[]},d=0,h=0,g=0;g<s.maxp.numGlyphs;g++)g<s.hhea.numberOfHMetrics&&(d=l.readUshort(i,a),a+=2,h=l.readShort(i,a),a+=2),u.aWidth.push(d),u.lsBearing.push(h);return u},e.kern={},e.kern.parse=function(i,a,o,s){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,o,s);var d=l.readUshort(i,a);a+=2;for(var h={glyph1:[],rval:[]},g=0;g<d;g++){a+=2,o=l.readUshort(i,a),a+=2;var y=l.readUshort(i,a);a+=2;var b=y>>>8;if((b&=15)!=0)throw"unknown kern table format: "+b;a=e.kern.readFormat0(i,a,h)}return h},e.kern.parseV1=function(i,a,o,s){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var d={glyph1:[],rval:[]},h=0;h<u;h++){l.readUint(i,a),a+=4;var g=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var y=g>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;a=e.kern.readFormat0(i,a,d)}return d},e.kern.readFormat0=function(i,a,o){var s=e._bin,l=-1,u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var d=0;d<u;d++){var h=s.readUshort(i,a);a+=2;var g=s.readUshort(i,a);a+=2;var y=s.readShort(i,a);a+=2,h!=l&&(o.glyph1.push(h),o.rval.push({glyph2:[],vals:[]}));var b=o.rval[o.rval.length-1];b.glyph2.push(g),b.vals.push(y),l=h}return a},e.loca={},e.loca.parse=function(i,a,o,s){var l=e._bin,u=[],d=s.head.indexToLocFormat,h=s.maxp.numGlyphs+1;if(d==0)for(var g=0;g<h;g++)u.push(l.readUshort(i,a+(g<<1))<<1);if(d==1)for(g=0;g<h;g++)u.push(l.readUint(i,a+(g<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,o){var s=e._bin,l={},u=s.readUint(i,a);return a+=4,l.numGlyphs=s.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=s.readUshort(i,a),a+=2,l.maxContours=s.readUshort(i,a),a+=2,l.maxCompositePoints=s.readUshort(i,a),a+=2,l.maxCompositeContours=s.readUshort(i,a),a+=2,l.maxZones=s.readUshort(i,a),a+=2,l.maxTwilightPoints=s.readUshort(i,a),a+=2,l.maxStorage=s.readUshort(i,a),a+=2,l.maxFunctionDefs=s.readUshort(i,a),a+=2,l.maxInstructionDefs=s.readUshort(i,a),a+=2,l.maxStackElements=s.readUshort(i,a),a+=2,l.maxSizeOfInstructions=s.readUshort(i,a),a+=2,l.maxComponentElements=s.readUshort(i,a),a+=2,l.maxComponentDepth=s.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,o){var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a);for(var d,h=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],g=a+=2,y=0;y<u;y++){var b=s.readUshort(i,a);a+=2;var _=s.readUshort(i,a);a+=2;var x=s.readUshort(i,a);a+=2;var w=s.readUshort(i,a);a+=2;var E=s.readUshort(i,a);a+=2;var A=s.readUshort(i,a);a+=2;var C,T=h[w],O=g+12*u+A;if(b==0)C=s.readUnicode(i,O,E/2);else if(b==3&&_==0)C=s.readUnicode(i,O,E/2);else if(_==0)C=s.readASCII(i,O,E);else if(_==1)C=s.readUnicode(i,O,E/2);else if(_==3)C=s.readUnicode(i,O,E/2);else{if(b!=1)throw"unknown encoding "+_+", platformID: "+b;C=s.readASCII(i,O,E),console.debug("reading unknown MAC encoding "+_+" as ASCII")}var N="p"+b+","+x.toString(16);l[N]==null&&(l[N]={}),l[N][T!==void 0?T:w]=C,l[N]._lang=x}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){d=R;break}return console.debug("returning name table with languageID "+l[d]._lang),l[d]},e["OS/2"]={},e["OS/2"].parse=function(i,a,o){var s=e._bin.readUshort(i,a);a+=2;var l={};if(s==0)e["OS/2"].version0(i,a,l);else if(s==1)e["OS/2"].version1(i,a,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,a,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,o){var s=e._bin;return o.xAvgCharWidth=s.readShort(i,a),a+=2,o.usWeightClass=s.readUshort(i,a),a+=2,o.usWidthClass=s.readUshort(i,a),a+=2,o.fsType=s.readUshort(i,a),a+=2,o.ySubscriptXSize=s.readShort(i,a),a+=2,o.ySubscriptYSize=s.readShort(i,a),a+=2,o.ySubscriptXOffset=s.readShort(i,a),a+=2,o.ySubscriptYOffset=s.readShort(i,a),a+=2,o.ySuperscriptXSize=s.readShort(i,a),a+=2,o.ySuperscriptYSize=s.readShort(i,a),a+=2,o.ySuperscriptXOffset=s.readShort(i,a),a+=2,o.ySuperscriptYOffset=s.readShort(i,a),a+=2,o.yStrikeoutSize=s.readShort(i,a),a+=2,o.yStrikeoutPosition=s.readShort(i,a),a+=2,o.sFamilyClass=s.readShort(i,a),a+=2,o.panose=s.readBytes(i,a,10),a+=10,o.ulUnicodeRange1=s.readUint(i,a),a+=4,o.ulUnicodeRange2=s.readUint(i,a),a+=4,o.ulUnicodeRange3=s.readUint(i,a),a+=4,o.ulUnicodeRange4=s.readUint(i,a),a+=4,o.achVendID=[s.readInt8(i,a),s.readInt8(i,a+1),s.readInt8(i,a+2),s.readInt8(i,a+3)],a+=4,o.fsSelection=s.readUshort(i,a),a+=2,o.usFirstCharIndex=s.readUshort(i,a),a+=2,o.usLastCharIndex=s.readUshort(i,a),a+=2,o.sTypoAscender=s.readShort(i,a),a+=2,o.sTypoDescender=s.readShort(i,a),a+=2,o.sTypoLineGap=s.readShort(i,a),a+=2,o.usWinAscent=s.readUshort(i,a),a+=2,o.usWinDescent=s.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,o){var s=e._bin;return a=e["OS/2"].version0(i,a,o),o.ulCodePageRange1=s.readUint(i,a),a+=4,o.ulCodePageRange2=s.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,o){var s=e._bin;return a=e["OS/2"].version1(i,a,o),o.sxHeight=s.readShort(i,a),a+=2,o.sCapHeight=s.readShort(i,a),a+=2,o.usDefault=s.readUshort(i,a),a+=2,o.usBreak=s.readUshort(i,a),a+=2,o.usMaxContext=s.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,o){var s=e._bin;return a=e["OS/2"].version2(i,a,o),o.usLowerOpticalPointSize=s.readUshort(i,a),a+=2,o.usUpperOpticalPointSize=s.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,o){var s=e._bin,l={};return l.version=s.readFixed(i,a),a+=4,l.italicAngle=s.readFixed(i,a),a+=4,l.underlinePosition=s.readShort(i,a),a+=2,l.underlineThickness=s.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var o=i.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var l=o.tables[s];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,d=0;d<l.endCount.length;d++)if(a<=l.endCount[d]){u=d;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(d=0;d<l.groups.length;d++){var h=l.groups[d];if(h[0]<=a&&a<=h[1])return h[2]+(a-h[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var s=i.SVG.entries[a];return s==null?o:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[a]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,d=i.CFF.Private;if(u.ROS){for(var h=0;u.FDSelect[h+2]<=a;)h+=2;d=u.FDArray[u.FDSelect[h+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,d,o)}else i.glyf&&e.U._drawGlyf(a,i,o);return o},e.U._drawGlyf=function(i,a,o){var s=a.glyf[i];s==null&&(s=a.glyf[i]=e.glyf._parseGlyf(a,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,o):e.U._compoGlyph(s,a,o))},e.U._simpleGlyph=function(i,a){for(var o=0;o<i.noc;o++){for(var s=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=s;u<=l;u++){var d=u==s?l:u-1,h=u==l?s:u+1,g=1&i.flags[u],y=1&i.flags[d],b=1&i.flags[h],_=i.xs[u],x=i.ys[u];if(u==s)if(g){if(!y){e.U.P.moveTo(a,_,x);continue}e.U.P.moveTo(a,i.xs[d],i.ys[d])}else y?e.U.P.moveTo(a,i.xs[d],i.ys[d]):e.U.P.moveTo(a,(i.xs[d]+_)/2,(i.ys[d]+x)/2);g?y&&e.U.P.lineTo(a,_,x):b?e.U.P.qcurveTo(a,_,x,i.xs[h],i.ys[h]):e.U.P.qcurveTo(a,_,x,(_+i.xs[h])/2,(x+i.ys[h])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,o){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},u=i.parts[s];e.U._drawGlyf(u.glyphIndex,a,l);for(var d=u.m,h=0;h<l.crds.length;h+=2){var g=l.crds[h],y=l.crds[h+1];o.crds.push(g*d.a+y*d.b+d.tx),o.crds.push(g*d.c+y*d.d+d.ty)}for(h=0;h<l.cmds.length;h++)o.cmds.push(l.cmds[h])}},e.U._getGlyphClass=function(i,a){var o=e._lctf.getInterval(a,i);return o==-1?0:a[o+2]},e.U._applySubs=function(i,a,o,s){for(var l=i.length-a-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var d,h=o.tabs[u];if(!h.coverage||(d=e._lctf.coverageIndex(h.coverage,i[a]))!=-1){if(o.ltype==1)i[a],h.fmt==1?i[a]=i[a]+h.delta:i[a]=h.newg[d];else if(o.ltype==4)for(var g=h.vals[d],y=0;y<g.length;y++){var b=g[y],_=b.chain.length;if(!(_>l)){for(var x=!0,w=0,E=0;E<_;E++){for(;i[a+w+(1+E)]==-1;)w++;b.chain[E]!=i[a+w+(1+E)]&&(x=!1)}if(x){for(i[a]=b.nglyph,E=0;E<_+w;E++)i[a+E+1]=-1;break}}}else if(o.ltype==5&&h.fmt==2)for(var A=e._lctf.getInterval(h.cDef,i[a]),C=h.cDef[A+2],T=h.scset[C],O=0;O<T.length;O++){var N=T[O],R=N.input;if(!(R.length>l)){for(x=!0,E=0;E<R.length;E++){var k=e._lctf.getInterval(h.cDef,i[a+1+E]);if(A==-1&&h.cDef[k+2]!=R[E]){x=!1;break}}if(x){var z=N.substLookupRecords;for(y=0;y<z.length;y+=2)z[y],z[y+1]}}}else if(o.ltype==6&&h.fmt==3){if(!e.U._glsCovered(i,h.backCvg,a-h.backCvg.length)||!e.U._glsCovered(i,h.inptCvg,a)||!e.U._glsCovered(i,h.ahedCvg,a+h.inptCvg.length))continue;var F=h.lookupRec;for(O=0;O<F.length;O+=2){A=F[O];var G=s[F[O+1]];e.U._applySubs(i,a+A,G,s)}}}}},e.U._glsCovered=function(i,a,o){for(var s=0;s<a.length;s++)if(e._lctf.coverageIndex(a[s],i[o+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,o){for(var s={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var d=a[u];if(d!=-1){for(var h=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,g=e.U.glyphToPath(i,d),y=0;y<g.crds.length;y+=2)s.crds.push(g.crds[y]+l),s.crds.push(g.crds[y+1]);for(o&&s.cmds.push(o),y=0;y<g.cmds.length;y++)s.cmds.push(g.cmds[y]);o&&s.cmds.push("X"),l+=i.hmtx.aWidth[d],u<a.length-1&&(l+=e.U.getPairAdjustment(i,d,h))}}return s},e.U.P={},e.U.P.moveTo=function(i,a,o){i.cmds.push("M"),i.crds.push(a,o)},e.U.P.lineTo=function(i,a,o){i.cmds.push("L"),i.crds.push(a,o)},e.U.P.curveTo=function(i,a,o,s,l,u,d){i.cmds.push("C"),i.crds.push(a,o,s,l,u,d)},e.U.P.qcurveTo=function(i,a,o,s,l){i.cmds.push("Q"),i.crds.push(a,o,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,o,s,l){for(var u=a.stack,d=a.nStems,h=a.haveWidth,g=a.width,y=a.open,b=0,_=a.x,x=a.y,w=0,E=0,A=0,C=0,T=0,O=0,N=0,R=0,k=0,z=0,F={val:0,size:0};b<i.length;){e.CFF.getCharString(i,b,F);var G=F.val;if(b+=F.size,G=="o1"||G=="o18")u.length%2!=0&&!h&&(g=u.shift()+s.nominalWidthX),d+=u.length>>1,u.length=0,h=!0;else if(G=="o3"||G=="o23")u.length%2!=0&&!h&&(g=u.shift()+s.nominalWidthX),d+=u.length>>1,u.length=0,h=!0;else if(G=="o4")u.length>1&&!h&&(g=u.shift()+s.nominalWidthX,h=!0),y&&e.U.P.closePath(l),x+=u.pop(),e.U.P.moveTo(l,_,x),y=!0;else if(G=="o5")for(;u.length>0;)_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x);else if(G=="o6"||G=="o7")for(var V=u.length,W=G=="o6",K=0;K<V;K++){var H=u.shift();W?_+=H:x+=H,W=!W,e.U.P.lineTo(l,_,x)}else if(G=="o8"||G=="o24"){V=u.length;for(var q=0;q+6<=V;)w=_+u.shift(),E=x+u.shift(),A=w+u.shift(),C=E+u.shift(),_=A+u.shift(),x=C+u.shift(),e.U.P.curveTo(l,w,E,A,C,_,x),q+=6;G=="o24"&&(_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(E=x,A=(w=_+u.shift())+u.shift(),z=C=E+u.shift(),O=C,R=x,_=(N=(T=(k=A+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,w,E,A,C,k,z),e.U.P.curveTo(l,T,O,N,R,_,x)),G=="o1235"&&(w=_+u.shift(),E=x+u.shift(),A=w+u.shift(),C=E+u.shift(),k=A+u.shift(),z=C+u.shift(),T=k+u.shift(),O=z+u.shift(),N=T+u.shift(),R=O+u.shift(),_=N+u.shift(),x=R+u.shift(),u.shift(),e.U.P.curveTo(l,w,E,A,C,k,z),e.U.P.curveTo(l,T,O,N,R,_,x)),G=="o1236"&&(w=_+u.shift(),E=x+u.shift(),A=w+u.shift(),z=C=E+u.shift(),O=C,N=(T=(k=A+u.shift())+u.shift())+u.shift(),R=O+u.shift(),_=N+u.shift(),e.U.P.curveTo(l,w,E,A,C,k,z),e.U.P.curveTo(l,T,O,N,R,_,x)),G=="o1237"&&(w=_+u.shift(),E=x+u.shift(),A=w+u.shift(),C=E+u.shift(),k=A+u.shift(),z=C+u.shift(),T=k+u.shift(),O=z+u.shift(),N=T+u.shift(),R=O+u.shift(),Math.abs(N-_)>Math.abs(R-x)?_=N+u.shift():x=R+u.shift(),e.U.P.curveTo(l,w,E,A,C,k,z),e.U.P.curveTo(l,T,O,N,R,_,x));else if(G=="o14"){if(u.length>0&&!h&&(g=u.shift()+o.nominalWidthX,h=!0),u.length==4){var Z=u.shift(),ee=u.shift(),ae=u.shift(),$=u.shift(),J=e.CFF.glyphBySE(o,ae),ne=e.CFF.glyphBySE(o,$);e.U._drawCFF(o.CharStrings[J],a,o,s,l),a.x=Z,a.y=ee,e.U._drawCFF(o.CharStrings[ne],a,o,s,l)}y&&(e.U.P.closePath(l),y=!1)}else if(G=="o19"||G=="o20")u.length%2!=0&&!h&&(g=u.shift()+s.nominalWidthX),d+=u.length>>1,u.length=0,h=!0,b+=d+7>>3;else if(G=="o21")u.length>2&&!h&&(g=u.shift()+s.nominalWidthX,h=!0),x+=u.pop(),_+=u.pop(),y&&e.U.P.closePath(l),e.U.P.moveTo(l,_,x),y=!0;else if(G=="o22")u.length>1&&!h&&(g=u.shift()+s.nominalWidthX,h=!0),_+=u.pop(),y&&e.U.P.closePath(l),e.U.P.moveTo(l,_,x),y=!0;else if(G=="o25"){for(;u.length>6;)_+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,_,x);w=_+u.shift(),E=x+u.shift(),A=w+u.shift(),C=E+u.shift(),_=A+u.shift(),x=C+u.shift(),e.U.P.curveTo(l,w,E,A,C,_,x)}else if(G=="o26")for(u.length%2&&(_+=u.shift());u.length>0;)w=_,E=x+u.shift(),_=A=w+u.shift(),x=(C=E+u.shift())+u.shift(),e.U.P.curveTo(l,w,E,A,C,_,x);else if(G=="o27")for(u.length%2&&(x+=u.shift());u.length>0;)E=x,A=(w=_+u.shift())+u.shift(),C=E+u.shift(),_=A+u.shift(),x=C,e.U.P.curveTo(l,w,E,A,C,_,x);else if(G=="o10"||G=="o29"){var fe=G=="o10"?s:o;if(u.length==0)console.debug("error: empty stack");else{var ge=u.pop(),ce=fe.Subrs[ge+fe.Bias];a.x=_,a.y=x,a.nStems=d,a.haveWidth=h,a.width=g,a.open=y,e.U._drawCFF(ce,a,o,s,l),_=a.x,x=a.y,d=a.nStems,h=a.haveWidth,g=a.width,y=a.open}}else if(G=="o30"||G=="o31"){var le=u.length,pe=(q=0,G=="o31");for(q+=le-(V=-3&le);q<V;)pe?(E=x,A=(w=_+u.shift())+u.shift(),x=(C=E+u.shift())+u.shift(),V-q==5?(_=A+u.shift(),q++):_=A,pe=!1):(w=_,E=x+u.shift(),A=w+u.shift(),C=E+u.shift(),_=A+u.shift(),V-q==5?(x=C+u.shift(),q++):x=C,pe=!0),e.U.P.curveTo(l,w,E,A,C,_,x),q+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,i),G;u.push(G)}}}a.x=_,a.y=x,a.nStems=d,a.haveWidth=h,a.width=g,a.open=y};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t})({}).Typr}function zfe(){return(function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(G,V){for(var W=new n(31),K=0;K<31;++K)W[K]=V+=1<<G[K-1];var H=new r(W[30]);for(K=1;K<30;++K)for(var q=W[K];q<W[K+1];++q)H[q]=q-W[K]<<5|K;return[W,H]},l=s(i,2),u=l[0],d=l[1];u[28]=258,d[258]=28;for(var h=s(a,0)[0],g=new n(32768),y=0;y<32768;++y){var b=(43690&y)>>>1|(21845&y)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,g[y]=((65280&b)>>>8|(255&b)<<8)>>>1}var _=function(G,V,W){for(var K=G.length,H=0,q=new n(V);H<K;++H)++q[G[H]-1];var Z,ee=new n(V);for(H=0;H<V;++H)ee[H]=ee[H-1]+q[H-1]<<1;{Z=new n(1<<V);var ae=15-V;for(H=0;H<K;++H)if(G[H])for(var $=H<<4|G[H],J=V-G[H],ne=ee[G[H]-1]++<<J,fe=ne|(1<<J)-1;ne<=fe;++ne)Z[g[ne]>>>ae]=$}return Z},x=new e(288);for(y=0;y<144;++y)x[y]=8;for(y=144;y<256;++y)x[y]=9;for(y=256;y<280;++y)x[y]=7;for(y=280;y<288;++y)x[y]=8;var w=new e(32);for(y=0;y<32;++y)w[y]=5;var E=_(x,9),A=_(w,5),C=function(G){for(var V=G[0],W=1;W<G.length;++W)G[W]>V&&(V=G[W]);return V},T=function(G,V,W){var K=V/8|0;return(G[K]|G[K+1]<<8)>>(7&V)&W},O=function(G,V){var W=V/8|0;return(G[W]|G[W+1]<<8|G[W+2]<<16)>>(7&V)},N=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(G,V,W){var K=new Error(V||N[G]);if(K.code=G,Error.captureStackTrace&&Error.captureStackTrace(K,R),!W)throw K;return K},k=function(G,V,W){var K=G.length;if(!K||W&&!W.l&&K<5)return V||new e(0);var H=!V||W,q=!W||W.i;W||(W={}),V||(V=new e(3*K));var Z,ee=function(rt){var me=V.length;if(rt>me){var Le=new e(Math.max(2*me,rt));Le.set(V),V=Le}},ae=W.f||0,$=W.p||0,J=W.b||0,ne=W.l,fe=W.d,ge=W.m,ce=W.n,le=8*K;do{if(!ne){W.f=ae=T(G,$,1);var pe=T(G,$+1,3);if($+=3,!pe){var xe=G[(Ke=((Z=$)/8|0)+(7&Z&&1)+4)-4]|G[Ke-3]<<8,Oe=Ke+xe;if(Oe>K){q&&R(0);break}H&&ee(J+xe),V.set(G.subarray(Ke,Oe),J),W.b=J+=xe,W.p=$=8*Oe;continue}if(pe==1)ne=E,fe=A,ge=9,ce=5;else if(pe==2){var _e=T(G,$,31)+257,ve=T(G,$+10,15)+4,Qe=_e+T(G,$+5,31)+1;$+=14;for(var Ee=new e(Qe),Fe=new e(19),Ne=0;Ne<ve;++Ne)Fe[o[Ne]]=T(G,$+3*Ne,7);$+=3*ve;var Ge=C(Fe),ie=(1<<Ge)-1,et=_(Fe,Ge);for(Ne=0;Ne<Qe;){var Ke,Be=et[T(G,$,ie)];if($+=15&Be,(Ke=Be>>>4)<16)Ee[Ne++]=Ke;else{var He=0,re=0;for(Ke==16?(re=3+T(G,$,3),$+=2,He=Ee[Ne-1]):Ke==17?(re=3+T(G,$,7),$+=3):Ke==18&&(re=11+T(G,$,127),$+=7);re--;)Ee[Ne++]=He}}var X=Ee.subarray(0,_e),ye=Ee.subarray(_e);ge=C(X),ce=C(ye),ne=_(X,ge),fe=_(ye,ce)}else R(1);if($>le){q&&R(0);break}}H&&ee(J+131072);for(var je=(1<<ge)-1,Ue=(1<<ce)-1,ke=$;;ke=$){var ut=(He=ne[O(G,$)&je])>>>4;if(($+=15&He)>le){q&&R(0);break}if(He||R(2),ut<256)V[J++]=ut;else{if(ut==256){ke=$,ne=null;break}var lt=ut-254;if(ut>264){var Tt=i[Ne=ut-257];lt=T(G,$,(1<<Tt)-1)+u[Ne],$+=Tt}var Dt=fe[O(G,$)&Ue],Ye=Dt>>>4;if(Dt||R(3),$+=15&Dt,ye=h[Ye],Ye>3&&(Tt=a[Ye],ye+=O(G,$)&(1<<Tt)-1,$+=Tt),$>le){q&&R(0);break}H&&ee(J+131072);for(var $e=J+lt;J<$e;J+=4)V[J]=V[J-ye],V[J+1]=V[J+1-ye],V[J+2]=V[J+2-ye],V[J+3]=V[J+3-ye];J=$e}}W.l=ne,W.p=ke,W.b=J,ne&&(ae=1,W.m=ge,W.d=fe,W.n=ce)}while(!ae);return J==V.length?V:(function(rt,me,Le){(Le==null||Le>rt.length)&&(Le=rt.length);var dt=new(rt instanceof n?n:rt instanceof r?r:e)(Le-me);return dt.set(rt.subarray(me,Le)),dt})(V,0,J)},z=new e(0),F=typeof TextDecoder<"u"&&new TextDecoder;try{F.decode(z,{stream:!0})}catch{}return t.convert_streams=function(G){var V=new DataView(G),W=0;function K(){var _e=V.getUint16(W);return W+=2,_e}function H(){var _e=V.getUint32(W);return W+=4,_e}function q(_e){xe.setUint16(Oe,_e),Oe+=2}function Z(_e){xe.setUint32(Oe,_e),Oe+=4}for(var ee={signature:H(),flavor:H(),length:H(),numTables:K(),reserved:K(),totalSfntSize:H(),majorVersion:K(),minorVersion:K(),metaOffset:H(),metaLength:H(),metaOrigLength:H(),privOffset:H(),privLength:H()},ae=0;Math.pow(2,ae)<=ee.numTables;)ae++;ae--;for(var $=16*Math.pow(2,ae),J=16*ee.numTables-$,ne=12,fe=[],ge=0;ge<ee.numTables;ge++)fe.push({tag:H(),offset:H(),compLength:H(),origLength:H(),origChecksum:H()}),ne+=16;var ce,le=new Uint8Array(12+16*fe.length+fe.reduce((function(_e,ve){return _e+ve.origLength+4}),0)),pe=le.buffer,xe=new DataView(pe),Oe=0;return Z(ee.flavor),q(ee.numTables),q($),q(ae),q(J),fe.forEach((function(_e){Z(_e.tag),Z(_e.origChecksum),Z(ne),Z(_e.origLength),_e.outOffset=ne,(ne+=_e.origLength)%4!=0&&(ne+=4-ne%4)})),fe.forEach((function(_e){var ve,Qe=G.slice(_e.offset,_e.offset+_e.compLength);if(_e.compLength!=_e.origLength){var Ee=new Uint8Array(_e.origLength);ve=new Uint8Array(Qe,2),k(ve,Ee)}else Ee=new Uint8Array(Qe);le.set(Ee,_e.outOffset);var Fe=0;(ne=_e.outOffset+_e.origLength)%4!=0&&(Fe=4-ne%4),le.set(new Uint8Array(Fe).buffer,_e.outOffset+_e.origLength),ce=ne+Fe})),pe.slice(0,ce)},Object.defineProperty(t,"__esModule",{value:!0}),t})({}).convert_streams}function Hfe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,o=4,s=8,l=16,u=32;let d;function h(N){if(!d){const R={R:a,L:i,D:o,C:l,U:u,T:s};d=new Map;for(let k in r){let z=0;r[k].split(",").forEach(F=>{let[G,V]=F.split("+");G=parseInt(G,36),V=V?parseInt(V,36):0,d.set(z+=G,R[k]);for(let W=V;W--;)d.set(++z,R[k])})}}return d.get(N)||u}const g=1,y=2,b=3,_=4,x=[null,"isol","init","fina","medi"];function w(N){const R=new Uint8Array(N.length);let k=u,z=g,F=-1;for(let G=0;G<N.length;G++){const V=N.codePointAt(G);let W=h(V)|0,K=g;W&s||(k&(i|o|l)?W&(a|o|l)?(K=b,(z===g||z===b)&&R[F]++):W&(i|u)&&(z===y||z===_)&&R[F]--:k&(a|u)&&(z===y||z===_)&&R[F]--,z=R[G]=K,k=W,F=G,V>65535&&G++)}return R}function E(N,R){const k=[];for(let F=0;F<R.length;F++){const G=R.codePointAt(F);G>65535&&F++,k.push(t.U.codeToGlyph(N,G))}const z=N.GSUB;if(z){const{lookupList:F,featureList:G}=z;let V;const W=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,K=[];G.forEach(H=>{if(W.test(H.tag))for(let q=0;q<H.tab.length;q++){if(K[H.tab[q]])continue;K[H.tab[q]]=!0;const Z=F[H.tab[q]],ee=/^(isol|init|fina|medi)$/.test(H.tag);ee&&!V&&(V=w(R));for(let ae=0;ae<k.length;ae++)(!V||!ee||x[V[ae]]===H.tag)&&t.U._applySubs(k,ae,Z,F)}})}return k}function A(N,R){const k=new Int16Array(R.length*3);let z=0;for(;z<R.length;z++){const W=R[z];if(W===-1)continue;k[z*3+2]=N.hmtx.aWidth[W];const K=N.GPOS;if(K){const H=K.lookupList;for(let q=0;q<H.length;q++){const Z=H[q];for(let ee=0;ee<Z.tabs.length;ee++){const ae=Z.tabs[ee];if(Z.ltype===1){if(t._lctf.coverageIndex(ae.coverage,W)!==-1&&ae.pos){V(ae.pos,z);break}}else if(Z.ltype===2){let $=null,J=F();if(J!==-1){const ne=t._lctf.coverageIndex(ae.coverage,R[J]);if(ne!==-1){if(ae.fmt===1){const fe=ae.pairsets[ne];for(let ge=0;ge<fe.length;ge++)fe[ge].gid2===W&&($=fe[ge])}else if(ae.fmt===2){const fe=t.U._getGlyphClass(R[J],ae.classDef1),ge=t.U._getGlyphClass(W,ae.classDef2);$=ae.matrix[fe][ge]}if($){$.val1&&V($.val1,J),$.val2&&V($.val2,z);break}}}}else if(Z.ltype===4){const $=t._lctf.coverageIndex(ae.markCoverage,W);if($!==-1){const J=F(G),ne=J===-1?-1:t._lctf.coverageIndex(ae.baseCoverage,R[J]);if(ne!==-1){const fe=ae.markArray[$],ge=ae.baseArray[ne][fe.markClass];k[z*3]=ge.x-fe.x+k[J*3]-k[J*3+2],k[z*3+1]=ge.y-fe.y+k[J*3+1];break}}}else if(Z.ltype===6){const $=t._lctf.coverageIndex(ae.mark1Coverage,W);if($!==-1){const J=F();if(J!==-1){const ne=R[J];if(C(N,ne)===3){const fe=t._lctf.coverageIndex(ae.mark2Coverage,ne);if(fe!==-1){const ge=ae.mark1Array[$],ce=ae.mark2Array[fe][ge.markClass];k[z*3]=ce.x-ge.x+k[J*3]-k[J*3+2],k[z*3+1]=ce.y-ge.y+k[J*3+1];break}}}}}}}}else if(N.kern&&!N.cff){const H=F();if(H!==-1){const q=N.kern.glyph1.indexOf(R[H]);if(q!==-1){const Z=N.kern.rval[q].glyph2.indexOf(W);Z!==-1&&(k[H*3+2]+=N.kern.rval[q].vals[Z])}}}}return k;function F(W){for(let K=z-1;K>=0;K--)if(R[K]!==-1&&(!W||W(R[K])))return K;return-1}function G(W){return C(N,W)===1}function V(W,K){for(let H=0;H<3;H++)k[K*3+H]+=W[H]||0}}function C(N,R){const k=N.GDEF&&N.GDEF.glyphClassDef;return k?t.U._getGlyphClass(R,k):0}function T(...N){for(let R=0;R<N.length;R++)if(typeof N[R]=="number")return N[R]}function O(N){const R=Object.create(null),k=N["OS/2"],z=N.hhea,F=N.head.unitsPerEm,G=T(k&&k.sTypoAscender,z&&z.ascender,F),V={unitsPerEm:F,ascender:G,descender:T(k&&k.sTypoDescender,z&&z.descender,0),capHeight:T(k&&k.sCapHeight,G),xHeight:T(k&&k.sxHeight,G),lineGap:T(k&&k.sTypoLineGap,z&&z.lineGap),supportsCodePoint(W){return t.U.codeToGlyph(N,W)>0},forEachGlyph(W,K,H,q){let Z=0;const ee=1/V.unitsPerEm*K,ae=E(N,W);let $=0;const J=A(N,ae);return ae.forEach((ne,fe)=>{if(ne!==-1){let ge=R[ne];if(!ge){const{cmds:ce,crds:le}=t.U.glyphToPath(N,ne);let pe="",xe=0;for(let Ee=0,Fe=ce.length;Ee<Fe;Ee++){const Ne=n[ce[Ee]];pe+=ce[Ee];for(let Ge=1;Ge<=Ne;Ge++)pe+=(Ge>1?",":"")+le[xe++]}let Oe,_e,ve,Qe;if(le.length){Oe=_e=1/0,ve=Qe=-1/0;for(let Ee=0,Fe=le.length;Ee<Fe;Ee+=2){let Ne=le[Ee],Ge=le[Ee+1];Ne<Oe&&(Oe=Ne),Ge<_e&&(_e=Ge),Ne>ve&&(ve=Ne),Ge>Qe&&(Qe=Ge)}}else Oe=ve=_e=Qe=0;ge=R[ne]={index:ne,advanceWidth:N.hmtx.aWidth[ne],xMin:Oe,yMin:_e,xMax:ve,yMax:Qe,path:pe}}q.call(null,ge,Z+J[fe*3]*ee,J[fe*3+1]*ee,$),Z+=J[fe*3+2]*ee,H&&(Z+=H*K)}$+=W.codePointAt($)>65535?2:1}),Z}};return V}return function(R){const k=new Uint8Array(R,0,4),z=t._bin.readASCII(k,0,4);if(z==="wOFF")R=e(R);else if(z==="wOF2")throw new Error("woff2 fonts not supported");return O(t.parse(R)[0])}}const Vfe=My({name:"Typr Font Parser",dependencies:[jfe,zfe,Hfe],init(t,e,n){const r=t(),i=e();return n(r,i)}});function Gfe(){return(function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(A){var C=A>>5;this.buckets.set(C,(this.buckets.get(C)||0)|1<<(31&A))},e.prototype.has=function(A){var C=this.buckets.get(A>>5);return C!==void 0&&(C&1<<(31&A))!=0},e.prototype.serialize=function(){var A=[];return this.buckets.forEach((function(C,T){A.push((+T).toString(36)+":"+C.toString(36))})),A.join(",")},e.prototype.deserialize=function(A){var C=this;this.buckets.clear(),A.split(",").forEach((function(T){var O=T.split(":");C.buckets.set(parseInt(O[0],36),parseInt(O[1],36))}))};var n=Math.pow(2,8),r=n-1,i=~r;function a(A){var C=(function(O){return O&i})(A).toString(16),T=(function(O){return(O&i)+n-1})(A).toString(16);return"codepoint-index/plane"+(A>>16)+"/"+C+"-"+T+".json"}function o(A,C){var T=A&r,O=C.codePointAt(T/6|0);return((O=(O||48)-48)&1<<T%6)!=0}function s(A,C){var T;(T=A,T.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(O){return O.split("-").map((function(N){return parseInt(N.trim(),16)}))}))).forEach((function(O){var N=O[0],R=O[1];R===void 0&&(R=N),C(N,R)}))}function l(A,C){s(A,(function(T,O){for(var N=T;N<=O;N++)C(N)}))}var u={},d={},h=new WeakMap,g="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(A){var C=h.get(A);return C||(C=new e,l(A.ranges,(function(T){return C.add(T)})),h.set(A,C)),C}var b,_=new Map;function x(A,C,T){return A[C]?C:A[T]?T:(function(O){for(var N in O)return N})(A)}function w(A,C){var T=C;if(!A.includes(T)){T=1/0;for(var O=0;O<A.length;O++)Math.abs(A[O]-C)<Math.abs(T-C)&&(T=A[O])}return T}function E(A){return b||(b=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(C){b.add(C)}))),b.has(A)}return t.CodePointSet=e,t.clearCache=function(){u={},d={}},t.getFontsForString=function(A,C){C===void 0&&(C={});var T,O=C.lang;O===void 0&&(O=new RegExp("\\p{Script=Hangul}","u").test(T=A)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(T)?"ja":"en");var N=C.category;N===void 0&&(N="sans-serif");var R=C.style;R===void 0&&(R="normal");var k=C.weight;k===void 0&&(k=400);var z=(C.dataUrl||g).replace(/\/$/g,""),F=new Map,G=new Uint8Array(A.length),V={},W={},K=new Array(A.length),H=new Map,q=!1;function Z($){var J=_.get($);return J||(J=fetch(z+"/"+$).then((function(ne){if(!ne.ok)throw new Error(ne.statusText);return ne.json().then((function(fe){if(!Array.isArray(fe)||fe[0]!==1)throw new Error("Incorrect schema version; need 1, got "+fe[0]);return fe[1]}))})).catch((function(ne){if(z!==g)return q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+z+'", trying default CDN. '+ne.message),q=!0),z=g,_.delete($),Z($);throw ne})),_.set($,J)),J}for(var ee=function($){var J=A.codePointAt($),ne=a(J);K[$]=ne,u[ne]||H.has(ne)||H.set(ne,Z(ne).then((function(fe){u[ne]=fe}))),J>65535&&($++,ae=$)},ae=0;ae<A.length;ae++)ee(ae);return Promise.all(H.values()).then((function(){H.clear();for(var $=function(ne){var fe=A.codePointAt(ne),ge=null,ce=u[K[ne]],le=void 0;for(var pe in ce){var xe=W[pe];if(xe===void 0&&(xe=W[pe]=new RegExp(pe).test(O||"en")),xe){for(var Oe in le=pe,ce[pe])if(o(fe,ce[pe][Oe])){ge=Oe;break}break}}if(!ge){e:for(var _e in ce)if(_e!==le){for(var ve in ce[_e])if(o(fe,ce[_e][ve])){ge=ve;break e}}}ge||(console.debug("No font coverage for U+"+fe.toString(16)),ge="latin"),K[ne]=ge,d[ge]||H.has(ge)||H.set(ge,Z("font-meta/"+ge+".json").then((function(Qe){d[ge]=Qe}))),fe>65535&&(ne++,J=ne)},J=0;J<A.length;J++)$(J);return Promise.all(H.values())})).then((function(){for(var $,J=null,ne=0;ne<A.length;ne++){var fe=A.codePointAt(ne);if(J&&(E(fe)||y(J).has(fe)))G[ne]=G[ne-1];else{J=d[K[ne]];var ge=V[J.id];if(!ge){var ce=J.typeforms,le=x(ce,N,"sans-serif"),pe=x(ce[le],R,"normal"),xe=w(($=ce[le])===null||$===void 0?void 0:$[pe],k);ge=V[J.id]=z+"/font-files/"+J.id+"/"+le+"."+pe+"."+xe+".woff"}var Oe=F.get(ge);Oe==null&&(Oe=F.size,F.set(ge,Oe)),G[ne]=Oe}fe>65535&&(ne++,G[ne]=G[ne-1])}return{fontUrls:Array.from(F.keys()),chars:G}}))},Object.defineProperty(t,"__esModule",{value:!0}),t})({})}function $fe(t,e){const n=Object.create(null),r=Object.create(null);function i(o,s){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const d=t(u.response);d.src=o,s(d)}catch(d){l(d)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(o,s){let l=n[o];l?s(l):r[o]?r[o].push(s):(r[o]=[s],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(d=>d(u)),delete r[o]}))}return function(o,s,{lang:l,fonts:u=[],style:d="normal",weight:h="normal",unicodeFontsURL:g}={}){const y=new Uint8Array(o.length),b=[];o.length||E();const _=new Map,x=[];if(d!=="italic"&&(d="normal"),typeof h!="number"&&(h=h==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(C=>!C.lang||C.lang.test(l)).reverse(),u.length){let N=0;(function R(k=0){for(let z=k,F=o.length;z<F;z++){const G=o.codePointAt(z);if(N===1&&b[y[z-1]].supportsCodePoint(G)||z>0&&/\s/.test(o[z]))y[z]=y[z-1],N===2&&(x[x.length-1][1]=z);else for(let V=y[z],W=u.length;V<=W;V++)if(V===W){const K=N===2?x[x.length-1]:x[x.length]=[z,z];K[1]=z,N=2}else{y[z]=V;const{src:K,unicodeRange:H}=u[V];if(!H||A(G,H)){const q=n[K];if(!q){a(K,()=>{R(z)});return}if(q.supportsCodePoint(G)){let Z=_.get(q);typeof Z!="number"&&(Z=b.length,b.push(q),_.set(q,Z)),y[z]=Z,N=1;break}}}G>65535&&z+1<F&&(y[z+1]=y[z],z++,N===2&&(x[x.length-1][1]=z))}w()})()}else x.push([0,o.length-1]),w();function w(){if(x.length){const C=x.map(T=>o.substring(T[0],T[1]+1)).join(`
`);e.getFontsForString(C,{lang:l||void 0,style:d,weight:h,dataUrl:g}).then(({fontUrls:T,chars:O})=>{const N=b.length;let R=0;x.forEach(z=>{for(let F=0,G=z[1]-z[0];F<=G;F++)y[z[0]+F]=O[R++]+N;R++});let k=0;T.forEach((z,F)=>{a(z,G=>{b[F+N]=G,++k===T.length&&E()})})})}else E()}function E(){s({chars:y,fonts:b})}function A(C,T){for(let O=0;O<T.length;O++){const[N,R=N]=T[O];if(N<=C&&C<=R)return!0}return!1}}}const Wfe=My({name:"FontResolver",dependencies:[$fe,Vfe,Gfe],init(t,e,n){return t(e,n())}});function qfe(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:b,lang:_,fonts:x,style:w,weight:E,preResolvedFonts:A,unicodeFontsURL:C},T){const O=({chars:N,fonts:R})=>{let k,z;const F=[];for(let G=0;G<N.length;G++)N[G]!==z?(z=N[G],F.push(k={start:G,end:G,fontObj:R[N[G]]})):k.end=G;T(F)};A?O(A):t(b,O,{lang:_,fonts:x,style:w,weight:E,unicodeFontsURL:C})}function s({text:b="",font:_,lang:x,sdfGlyphSize:w=64,fontSize:E=400,fontWeight:A=1,fontStyle:C="normal",letterSpacing:T=0,lineHeight:O="normal",maxWidth:N=1/0,direction:R,textAlign:k="left",textIndent:z=0,whiteSpace:F="normal",overflowWrap:G="normal",anchorX:V=0,anchorY:W=0,metricsOnly:K=!1,unicodeFontsURL:H,preResolvedFonts:q=null,includeCaretPositions:Z=!1,chunkedBoundsSize:ee=8192,colorRanges:ae=null},$){const J=h(),ne={fontLoad:0,typesetting:0};b.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),b=b.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,T=+T,N=+N,O=O||"normal",z=+z,o({text:b,lang:x,style:C,weight:A,fonts:typeof _=="string"?[{src:_}]:_,unicodeFontsURL:H,preResolvedFonts:q},fe=>{ne.fontLoad=h()-J;const ge=isFinite(N);let ce=null,le=null,pe=null,xe=null,Oe=null,_e=null,ve=null,Qe=null,Ee=0,Fe=0,Ne=F!=="nowrap";const Ge=new Map,ie=h();let et=z,Ke=0,Be=new g;const He=[Be];fe.forEach(Ue=>{const{fontObj:ke}=Ue,{ascender:ut,descender:lt,unitsPerEm:Tt,lineGap:Dt,capHeight:Ye,xHeight:$e}=ke;let rt=Ge.get(ke);if(!rt){const Ae=E/Tt,it=O==="normal"?(ut-lt+Dt)*Ae:O*E,Pt=(it-(ut-lt)*Ae)/2,ct=Math.min(it,(ut-lt)*Ae),Ce=(ut+lt)/2*Ae+ct/2;rt={index:Ge.size,src:ke.src,fontObj:ke,fontSizeMult:Ae,unitsPerEm:Tt,ascender:ut*Ae,descender:lt*Ae,capHeight:Ye*Ae,xHeight:$e*Ae,lineHeight:it,baseline:-Pt-ut*Ae,caretTop:Ce,caretBottom:Ce-ct},Ge.set(ke,rt)}const{fontSizeMult:me}=rt,Le=b.slice(Ue.start,Ue.end+1);let dt,be;ke.forEachGlyph(Le,E,T,(Ae,it,Pt,ct)=>{it+=Ke,ct+=Ue.start,dt=it,be=Ae;const Ce=b.charAt(ct),gt=Ae.advanceWidth*me,Et=Be.count;let Ct;if("isEmpty"in Ae||(Ae.isWhitespace=!!Ce&&new RegExp(i).test(Ce),Ae.canBreakAfter=!!Ce&&a.test(Ce),Ae.isEmpty=Ae.xMin===Ae.xMax||Ae.yMin===Ae.yMax||r.test(Ce)),!Ae.isWhitespace&&!Ae.isEmpty&&Fe++,Ne&&ge&&!Ae.isWhitespace&&it+gt+et>N&&Et){if(Be.glyphAt(Et-1).glyphObj.canBreakAfter)Ct=new g,et=-it;else for(let rn=Et;rn--;)if(rn===0&&G==="break-word"){Ct=new g,et=-it;break}else if(Be.glyphAt(rn).glyphObj.canBreakAfter){Ct=Be.splitAt(rn+1);const hn=Ct.glyphAt(0).x;et-=hn;for(let Jn=Ct.count;Jn--;)Ct.glyphAt(Jn).x-=hn;break}Ct&&(Be.isSoftWrapped=!0,Be=Ct,He.push(Be),Ee=N)}let $t=Be.glyphAt(Be.count);$t.glyphObj=Ae,$t.x=it+et,$t.y=Pt,$t.width=gt,$t.charIndex=ct,$t.fontData=rt,Ce===`
`&&(Be=new g,He.push(Be),et=-(it+gt+T*E)+z)}),Ke=dt+be.advanceWidth*me+T*E});let re=0;He.forEach(Ue=>{let ke=!0;for(let ut=Ue.count;ut--;){const lt=Ue.glyphAt(ut);ke&&!lt.glyphObj.isWhitespace&&(Ue.width=lt.x+lt.width,Ue.width>Ee&&(Ee=Ue.width),ke=!1);let{lineHeight:Tt,capHeight:Dt,xHeight:Ye,baseline:$e}=lt.fontData;Tt>Ue.lineHeight&&(Ue.lineHeight=Tt);const rt=$e-Ue.baseline;rt<0&&(Ue.baseline+=rt,Ue.cap+=rt,Ue.ex+=rt),Ue.cap=Math.max(Ue.cap,Ue.baseline+Dt),Ue.ex=Math.max(Ue.ex,Ue.baseline+Ye)}Ue.baseline-=re,Ue.cap-=re,Ue.ex-=re,re+=Ue.lineHeight});let X=0,ye=0;if(V&&(typeof V=="number"?X=-V:typeof V=="string"&&(X=-Ee*(V==="left"?0:V==="center"?.5:V==="right"?1:u(V)))),W&&(typeof W=="number"?ye=-W:typeof W=="string"&&(ye=W==="top"?0:W==="top-baseline"?-He[0].baseline:W==="top-cap"?-He[0].cap:W==="top-ex"?-He[0].ex:W==="middle"?re/2:W==="bottom"?re:W==="bottom-baseline"?-He[He.length-1].baseline:u(W)*re)),!K){const Ue=e.getEmbeddingLevels(b,R);ce=new Uint16Array(Fe),le=new Uint8Array(Fe),pe=new Float32Array(Fe*2),xe={},ve=[1/0,1/0,-1/0,-1/0],Qe=[],Z&&(_e=new Float32Array(b.length*4)),ae&&(Oe=new Uint8Array(Fe*3));let ke=0,ut=-1,lt=-1,Tt,Dt;if(He.forEach((Ye,$e)=>{let{count:rt,width:me}=Ye;if(rt>0){let Le=0;for(let ct=rt;ct--&&Ye.glyphAt(ct).glyphObj.isWhitespace;)Le++;let dt=0,be=0;if(k==="center")dt=(Ee-me)/2;else if(k==="right")dt=Ee-me;else if(k==="justify"&&Ye.isSoftWrapped){let ct=0;for(let Ce=rt-Le;Ce--;)Ye.glyphAt(Ce).glyphObj.isWhitespace&&ct++;be=(Ee-me)/ct}if(be||dt){let ct=0;for(let Ce=0;Ce<rt;Ce++){let gt=Ye.glyphAt(Ce);const Et=gt.glyphObj;gt.x+=dt+ct,be!==0&&Et.isWhitespace&&Ce<rt-Le&&(ct+=be,gt.width+=be)}}const Ae=e.getReorderSegments(b,Ue,Ye.glyphAt(0).charIndex,Ye.glyphAt(Ye.count-1).charIndex);for(let ct=0;ct<Ae.length;ct++){const[Ce,gt]=Ae[ct];let Et=1/0,Ct=-1/0;for(let $t=0;$t<rt;$t++)if(Ye.glyphAt($t).charIndex>=Ce){let rn=$t,hn=$t;for(;hn<rt;hn++){let Jn=Ye.glyphAt(hn);if(Jn.charIndex>gt)break;hn<rt-Le&&(Et=Math.min(Et,Jn.x),Ct=Math.max(Ct,Jn.x+Jn.width))}for(let Jn=rn;Jn<hn;Jn++){const rr=Ye.glyphAt(Jn);rr.x=Ct-(rr.x+rr.width-Et)}break}}let it;const Pt=ct=>it=ct;for(let ct=0;ct<rt;ct++){const Ce=Ye.glyphAt(ct);it=Ce.glyphObj;const gt=it.index,Et=Ue.levels[Ce.charIndex]&1;if(Et){const Ct=e.getMirroredCharacter(b[Ce.charIndex]);Ct&&Ce.fontData.fontObj.forEachGlyph(Ct,0,0,Pt)}if(Z){const{charIndex:Ct,fontData:$t}=Ce,rn=Ce.x+X,hn=Ce.x+Ce.width+X;_e[Ct*4]=Et?hn:rn,_e[Ct*4+1]=Et?rn:hn,_e[Ct*4+2]=Ye.baseline+$t.caretBottom+ye,_e[Ct*4+3]=Ye.baseline+$t.caretTop+ye;const Jn=Ct-ut;Jn>1&&d(_e,ut,Jn),ut=Ct}if(ae){const{charIndex:Ct}=Ce;for(;Ct>lt;)lt++,ae.hasOwnProperty(lt)&&(Dt=ae[lt])}if(!it.isWhitespace&&!it.isEmpty){const Ct=ke++,{fontSizeMult:$t,src:rn,index:hn}=Ce.fontData,Jn=xe[rn]||(xe[rn]={});Jn[gt]||(Jn[gt]={path:it.path,pathBounds:[it.xMin,it.yMin,it.xMax,it.yMax]});const rr=Ce.x+X,gr=Ce.y+Ye.baseline+ye;pe[Ct*2]=rr,pe[Ct*2+1]=gr;const Zr=rr+it.xMin*$t,hr=gr+it.yMin*$t,kr=rr+it.xMax*$t,an=gr+it.yMax*$t;Zr<ve[0]&&(ve[0]=Zr),hr<ve[1]&&(ve[1]=hr),kr>ve[2]&&(ve[2]=kr),an>ve[3]&&(ve[3]=an),Ct%ee===0&&(Tt={start:Ct,end:Ct,rect:[1/0,1/0,-1/0,-1/0]},Qe.push(Tt)),Tt.end++;const vr=Tt.rect;if(Zr<vr[0]&&(vr[0]=Zr),hr<vr[1]&&(vr[1]=hr),kr>vr[2]&&(vr[2]=kr),an>vr[3]&&(vr[3]=an),ce[Ct]=gt,le[Ct]=hn,ae){const ur=Ct*3;Oe[ur]=Dt>>16&255,Oe[ur+1]=Dt>>8&255,Oe[ur+2]=Dt&255}}}}}),_e){const Ye=b.length-ut;Ye>1&&d(_e,ut,Ye)}}const je=[];Ge.forEach(({index:Ue,src:ke,unitsPerEm:ut,ascender:lt,descender:Tt,lineHeight:Dt,capHeight:Ye,xHeight:$e})=>{je[Ue]={src:ke,unitsPerEm:ut,ascender:lt,descender:Tt,lineHeight:Dt,capHeight:Ye,xHeight:$e}}),ne.typesetting=h()-ie,$({glyphIds:ce,glyphFontIndices:le,glyphPositions:pe,glyphData:xe,fontData:je,caretPositions:_e,glyphColors:Oe,chunkedBounds:Qe,fontSize:E,topBaseline:ye+He[0].baseline,blockBounds:[X,ye-re,X+Ee,ye],visibleBounds:ve,timings:ne})})}function l(b,_){s({...b,metricsOnly:!0},x=>{const[w,E,A,C]=x.blockBounds;_({width:A-w,height:C-E})})}function u(b){let _=b.match(/^([\d.]+)%$/),x=_?parseFloat(_[1]):NaN;return isNaN(x)?0:x/100}function d(b,_,x){const w=b[_*4],E=b[_*4+1],A=b[_*4+2],C=b[_*4+3],T=(E-w)/x;for(let O=0;O<x;O++){const N=(_+O)*4;b[N]=w+T*O,b[N+1]=w+T*(O+1),b[N+2]=A,b[N+3]=C}}function h(){return(self.performance||Date).now()}function g(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return g.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(b){let _=g.flyweight;return _.data=this.data,_.index=b,_},splitAt(b){let _=new g;return _.data=this.data.splice(b*y.length),_}},g.flyweight=y.reduce((b,_,x,w)=>(Object.defineProperty(b,_,{get(){return this.data[this.index*y.length+x]},set(E){this.data[this.index*y.length+x]=E}}),b),{data:null,index:0}),{typeset:s,measure:l}}const Yp=()=>(self.performance||Date).now(),ST=iW();let QF;function Xfe(t,e,n,r,i,a,o,s,l,u,d=!0){return d?Kfe(t,e,n,r,i,a,o,s,l,u).then(null,h=>(QF||(console.warn("WebGL SDF generation failed, falling back to JS",h),QF=!0),t5(t,e,n,r,i,a,o,s,l,u))):t5(t,e,n,r,i,a,o,s,l,u)}const yM=[],Yfe=5;let AN=0;function oW(){const t=Yp();for(;yM.length&&Yp()-t<Yfe;)yM.shift()();AN=yM.length?setTimeout(oW,0):0}const Kfe=(...t)=>new Promise((e,n)=>{yM.push(()=>{const r=Yp();try{ST.webgl.generateIntoCanvas(...t),e({timing:Yp()-r})}catch(i){n(i)}}),AN||(AN=setTimeout(oW,0))}),Zfe=4,Jfe=2e3,e5={};let Qfe=0;function t5(t,e,n,r,i,a,o,s,l,u){const d="TroikaTextSDFGenerator_JS_"+Qfe++%Zfe;let h=e5[d];return h||(h=e5[d]={workerModule:My({name:d,workerId:d,dependencies:[iW,Yp],init(g,y){const b=g().javascript.generate;return function(..._){const x=y();return{textureData:b(..._),timing:y()-x}}},getTransferables(g){return[g.textureData.buffer]}}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(t,e,n,r,i,a).then(({textureData:g,timing:y})=>{const b=Yp(),_=new Uint8Array(g.length*4);for(let x=0;x<g.length;x++)_[x*4+u]=g[x];return ST.webglUtils.renderImageData(o,_,s,l,t,e,1<<3-u),y+=Yp()-b,--h.requests===0&&(h.idleTimer=setTimeout(()=>{Ofe(d)},Jfe)),{timing:y}})}function ede(t){t._warm||(ST.webgl.isSupported(t),t._warm=!0)}const tde=ST.webglUtils.resizeWebGLCanvasWithoutClearing,jb={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},nde=new Vt;function Jg(){return(self.performance||Date).now()}const n5=Object.create(null);function sW(t,e){t=ade({},t);const n=Jg(),r=[];if(t.font&&r.push({label:"user",src:ode(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||jb.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||jb.unicodeFontsURL,t.colorRanges!=null){let g={};for(let y in t.colorRanges)if(t.colorRanges.hasOwnProperty(y)){let b=t.colorRanges[y];typeof b!="number"&&(b=nde.set(b).getHex()),g[y]=b}t.colorRanges=g}Object.freeze(t);const{textureWidth:i,sdfExponent:a}=jb,{sdfGlyphSize:o}=t,s=i/o*4;let l=n5[o];if(!l){const g=document.createElement("canvas");g.width=i,g.height=o*256/s,l=n5[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:g,sdfTexture:new Fr(g,void 0,void 0,void 0,or,or),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,rde(l)}const{sdfTexture:u,sdfCanvas:d}=l;uW(t).then(g=>{const{glyphIds:y,glyphFontIndices:b,fontData:_,glyphPositions:x,fontSize:w,timings:E}=g,A=[],C=new Float32Array(y.length*4);let T=0,O=0;const N=Jg(),R=_.map(V=>{let W=l.glyphsByFont.get(V.src);return W||l.glyphsByFont.set(V.src,W=new Map),W});y.forEach((V,W)=>{const K=b[W],{src:H,unitsPerEm:q}=_[K];let Z=R[K].get(V);if(!Z){const{path:ne,pathBounds:fe}=g.glyphData[H][V],ge=Math.max(fe[2]-fe[0],fe[3]-fe[1])/o*(jb.sdfMargin*o+.5),ce=l.glyphCount++,le=[fe[0]-ge,fe[1]-ge,fe[2]+ge,fe[3]+ge];R[K].set(V,Z={path:ne,atlasIndex:ce,sdfViewBox:le}),A.push(Z)}const{sdfViewBox:ee}=Z,ae=x[O++],$=x[O++],J=w/q;C[T++]=ae+ee[0]*J,C[T++]=$+ee[1]*J,C[T++]=ae+ee[2]*J,C[T++]=$+ee[3]*J,y[W]=Z.atlasIndex}),E.quads=(E.quads||0)+(Jg()-N);const k=Jg();E.sdf={};const z=d.height,F=Math.ceil(l.glyphCount/s),G=Math.pow(2,Math.ceil(Math.log2(F*o)));G>z&&(console.info(`Increasing SDF texture size ${z}->${G}`),tde(d,i,G),u.dispose()),Promise.all(A.map(V=>lW(V,l,t.gpuAccelerateSDF).then(({timing:W})=>{E.sdf[V.atlasIndex]=W}))).then(()=>{A.length&&!l.contextLost&&(cW(l),u.needsUpdate=!0),E.sdfTotal=Jg()-k,E.total=Jg()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:o,sdfExponent:a,glyphBounds:C,glyphAtlasIndices:y,glyphColors:g.glyphColors,caretPositions:g.caretPositions,chunkedBounds:g.chunkedBounds,ascender:g.ascender,descender:g.descender,lineHeight:g.lineHeight,capHeight:g.capHeight,xHeight:g.xHeight,topBaseline:g.topBaseline,blockBounds:g.blockBounds,visibleBounds:g.visibleBounds,timings:g.timings}))})}),Promise.resolve().then(()=>{l.contextLost||ede(d)})}function lW({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=jb,u=Math.max(n[2]-n[0],n[3]-n[1]),d=Math.floor(e/4),h=d%(s/r)*r,g=Math.floor(d/(s/r))*r,y=e%4;return Xfe(r,r,t,n,u,l,i,h,g,y,o)}function rde(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(lW(a,t,!0))})}),Promise.all(r).then(()=>{cW(t),t.sdfTexture.needsUpdate=!0})})}function ide({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;sW({font:t,sdfGlyphSize:n,text:i},r)}function ade(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Pw;function ode(t){return Pw||(Pw=typeof document>"u"?{}:document.createElement("a")),Pw.href=t,Pw.href}function cW(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,a=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const sde=My({name:"Typesetter",dependencies:[qfe,Wfe,Dfe],init(t,e,n){return t(e,n())}}),uW=My({name:"Typesetter",dependencies:[sde],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});uW.onMainThread;const r5={};function lde(t){let e=r5[t];return e||(e=r5[t]=new Cc(1,1,t,t).translate(.5,.5,0)),e}const cde="aTroikaGlyphBounds",i5="aTroikaGlyphIndex",ude="aTroikaGlyphColor";class fde extends nU{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ba,this.boundingBox=new Ua}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=lde(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,a){this.updateAttributeData(cde,e,4),this.updateAttributeData(i5,n,1),this.updateAttributeData(ude,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:a,min:o,max:s,sin:l,cos:u}=Math,d=i/2,h=i*2,g=Math.abs(n),y=e[0]/g,b=e[2]/g,_=a((y+d)/h)!==a((b+d)/h)?-g:o(l(y)*g,l(b)*g),x=a((y-d)/h)!==a((b-d)/h)?g:s(l(y)*g,l(b)*g),w=a((y+i)/h)!==a((b+i)/h)?g*2:s(g-u(y)*g,g-u(b)*g);r.min.set(_,e[1],n<0?-w:0),r.max.set(x,e[3],n<0?0:w)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(i5).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new rm(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const dde=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,hde=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,pde=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,mde=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function gde(t){const e=EN(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new mt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ur(0,0,0,0)},uTroikaClipRect:{value:new Ur(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new mt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Vt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Dn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:dde,vertexTransform:hde,fragmentDefs:pde,fragmentColorTransform:mde,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(aW,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const vU=new Du({color:16777215,side:js,transparent:!0}),a5=8421504,o5=new wn,Dw=new de,SO=new de,wb=[],vde=new de,wO="+x+y";function s5(t){return Array.isArray(t)?t[0]:t}let fW=()=>{const t=new li(new Cc(1,1),vU);return fW=()=>t,t},dW=()=>{const t=new li(new Cc(1,1,32,1),vU);return dW=()=>t,t};const yde={type:"syncstart"},bde={type:"synccomplete"},hW=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],xde=hW.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let pW=class extends li{constructor(){const e=new fde;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=a5,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=wO,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(yde),sW({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(bde),e&&e()})))}onBeforeRender(e,n,r,i,a,o){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return gde(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=vU.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return s5(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return s5(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,d=0,h=0,g,y,b,_=0,x=0;if(n){let{outlineWidth:E,outlineOffsetX:A,outlineOffsetY:C,outlineBlur:T,outlineOpacity:O}=this;u=this._parsePercent(E)||0,d=Math.max(0,this._parsePercent(T)||0),g=O,_=this._parsePercent(A)||0,x=this._parsePercent(C)||0}else h=Math.max(0,this._parsePercent(this.strokeWidth)||0),h&&(b=this.strokeColor,r.uTroikaStrokeColor.value.set(b??a5),y=this.strokeOpacity,y==null&&(y=1)),g=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(_,x),r.uTroikaBlurRadius.value=d,r.uTroikaStrokeWidth.value=h,r.uTroikaStrokeOpacity.value=y,r.uTroikaFillOpacity.value=g??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let w=this.clipRect;if(w&&Array.isArray(w)&&w.length===4)r.uTroikaClipRect.value.fromArray(w);else{const E=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-E,l[1]-E,l[2]+E,l[3]+E)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new Vt;(a!==s._input||typeof a=="object")&&s.set(s._input=a)}let o=this.orientation||wO;if(o!==e._orientation){let s=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==wO&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,d,h,g]=l;Dw.set(0,0,0)[d]=u==="-"?1:-1,SO.set(0,0,0)[g]=h==="-"?-1:1,o5.lookAt(vde,Dw.cross(SO),SO),s.setFromMatrix4(o5)}else s.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new mt){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new mt){return Dw.copy(e),this.localPositionToTextCoords(this.worldToLocal(Dw),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,o=i?dW():fW(),s=o.geometry,{position:l,uv:u}=s.attributes;for(let d=0;d<u.count;d++){let h=a[0]+u.getX(d)*(a[2]-a[0]);const g=a[1]+u.getY(d)*(a[3]-a[1]);let y=0;i&&(y=i-Math.cos(h/i)*i,h=Math.sin(h/i)*i),l.setXYZ(d,h,g,y)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,wb.length=0,o.raycast(e,wb);for(let d=0;d<wb.length;d++)wb[d].object=this,n.push(wb[d])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,xde.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};hW.forEach(t=>{const e="_private_"+t;Object.defineProperty(pW.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Ua;new Vt;const Bs=B.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:o,onSync:s,...l},u)=>{const d=So(({invalidate:b})=>b),[h]=B.useState(()=>new pW),[g,y]=B.useMemo(()=>{const b=[];let _="";return B.Children.forEach(a,x=>{typeof x=="string"||typeof x=="number"?_+=x:b.push(x)}),[b,_]},[a]);return O$(()=>new Promise(b=>ide({font:r,characters:o},b)),["troika-text",r,o]),B.useLayoutEffect(()=>{h.sync(()=>{d(),s&&s(h)})}),B.useEffect(()=>()=>h.dispose(),[h]),B.createElement("primitive",ch({object:h,ref:u,font:r,text:y,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),g)});function _de(t,e,n,r){var i;return i=class extends ro{constructor(a){super({vertexShader:e,fragmentShader:n,...a});for(const o in t)this.uniforms[o]=new vT(t[o]),Object.defineProperty(this,o,{get(){return this.uniforms[o].value},set(s){this.uniforms[o].value=s}});this.uniforms=uT.clone(this.uniforms)}},i.key=x9.generateUUID(),i}const Sde=()=>parseInt(yy.replace(/\D+/g,"")),mW=Sde(),wde=B.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},d)=>{const h=So(O=>O.invalidate),g=So(O=>O.camera),y=So(O=>O.gl),b=So(O=>O.events),_=So(O=>O.setEvents),x=So(O=>O.set),w=So(O=>O.get),E=So(O=>O.performance),A=e||g,C=r||b.connected||y.domElement,T=B.useMemo(()=>new wfe(A),[A]);return xm(()=>{T.enabled&&T.update()},-1),B.useEffect(()=>(a&&T.connect(a===!0?C:a),T.connect(C),()=>{T.dispose()}),[a,C,n,T,h]),B.useEffect(()=>{const O=k=>{h(),n&&E.regress(),o&&o(k)},N=k=>{s&&s(k)},R=k=>{l&&l(k)};return T.addEventListener("change",O),T.addEventListener("start",N),T.addEventListener("end",R),()=>{T.removeEventListener("start",N),T.removeEventListener("end",R),T.removeEventListener("change",O)}},[o,s,l,T,h,_]),B.useEffect(()=>{if(t){const O=w().controls;return x({controls:T}),()=>x({controls:O})}},[t,T]),B.createElement("primitive",ch({ref:d,object:T,enableDamping:i},u))}),Mde=_de({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new Vt,sectionColor:new Vt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new de,worldPlanePosition:new de},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${mW>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),Ede=B.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:a=!1,infiniteGrid:o=!1,fadeDistance:s=100,fadeStrength:l=1,fadeFrom:u=1,cellThickness:d=.5,sectionThickness:h=1,side:g=Eo,...y},b)=>{pU({GridMaterial:Mde});const _=B.useRef(null);B.useImperativeHandle(b,()=>_.current,[]);const x=new gu,w=new de(0,1,0),E=new de(0,0,0);xm(T=>{x.setFromNormalAndCoplanarPoint(w,E).applyMatrix4(_.current.matrixWorld);const O=_.current.material,N=O.uniforms.worldCamProjPosition,R=O.uniforms.worldPlanePosition;x.projectPoint(T.camera.position,N.value),R.value.set(0,0,0).applyMatrix4(_.current.matrixWorld)});const A={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:d,sectionThickness:h},C={fadeDistance:s,fadeStrength:l,fadeFrom:u,infiniteGrid:o,followCamera:a};return B.createElement("mesh",ch({ref:_,frustumCulled:!1},y),B.createElement("gridMaterial",ch({transparent:!0,"extensions-derivatives":!0,side:g},A,C)),B.createElement("planeGeometry",{args:t}))}),gW=(t,e,n)=>{let r;switch(t){case La:r=new Uint8ClampedArray(e*n*4);break;case Wi:r=new Uint16Array(e*n*4);break;case Xs:r=new Uint32Array(e*n*4);break;case kA:r=new Int8Array(e*n*4);break;case LA:r=new Int16Array(e*n*4);break;case R_:r=new Int32Array(e*n*4);break;case Mi:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Iw;const Ade=(t,e,n,r)=>{if(Iw!==void 0)return Iw;const i=new Yo(1,1,r);e.setRenderTarget(i);const a=new li(new Cc,new Du({color:16777215}));e.render(a,n),e.setRenderTarget(null);const o=gW(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),a.geometry.dispose(),a.material.dispose(),Iw=o[0]!==0,Iw};class yU{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(e){this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:ta,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:e.renderTargetOptions?.anisotropy!==void 0?e.renderTargetOptions?.anisotropy:1,generateMipmaps:e.renderTargetOptions?.generateMipmaps!==void 0?e.renderTargetOptions?.generateMipmaps:!1,magFilter:e.renderTargetOptions?.magFilter!==void 0?e.renderTargetOptions?.magFilter:or,minFilter:e.renderTargetOptions?.minFilter!==void 0?e.renderTargetOptions?.minFilter:or,samples:e.renderTargetOptions?.samples!==void 0?e.renderTargetOptions?.samples:void 0,wrapS:e.renderTargetOptions?.wrapS!==void 0?e.renderTargetOptions?.wrapS:$i,wrapT:e.renderTargetOptions?.wrapT!==void 0?e.renderTargetOptions?.wrapT:$i};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=yU.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new D_,this._camera=new kl,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Ade(this._type,this._renderer,this._camera,n)){let r;this._type===Wi&&(r=this._renderer.extensions.has("EXT_color_buffer_float")?Mi:void 0),r!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Mi}`),this._type=r):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new li(new Cc,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Yo(this.width,this.height,n),this._renderTarget.texture.mapping=e.renderTargetOptions?.mapping!==void 0?e.renderTargetOptions?.mapping:ah}static instantiateRenderer(){const e=new lU;return e.setSize(128,128),e}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=gW(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Nl(this.toArray(),this.width,this.height,ta,this._type,e?.mapping||ah,e?.wrapS||$i,e?.wrapT||$i,e?.magFilter||or,e?.minFilter||or,e?.anisotropy||1,Mc);return n.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof ro&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Fr&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Fr&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class vW extends Error{}class yW extends Error{}const Mb=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Tde=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const a=Mb(i,"hdrgm:GainMapMin","0"),o=Mb(i,"hdrgm:GainMapMax"),s=Mb(i,"hdrgm:Gamma","1"),l=Mb(i,"hdrgm:OffsetSDR","0.015625"),u=Mb(i,"hdrgm:OffsetHDR","0.015625"),d=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),h=d?d[1]:"0",g=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!g)throw new Error("Incomplete gainmap metadata");const y=g[1];return{gainMapMin:Array.isArray(a)?a.map(b=>parseFloat(b)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(o)?o.map(b=>parseFloat(b)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(s)?s.map(b=>parseFloat(b)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(l)?l.map(b=>parseFloat(b)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(b=>parseFloat(b)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(y)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class Cde{options;constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=a.byteLength;let s=2,l=0,u;for(;s<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(a.getUint8(s)!==255){r(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${a.getUint8(s).toString(16)}`));return}if(u=a.getUint8(s+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const d=s+4;if(a.getUint32(d)===1297106432){const h=d+4;let g;if(a.getUint16(h)===18761)g=!1;else if(a.getUint16(h)===19789)g=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(h+2,!g)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=a.getUint32(h+4,!g);if(y<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const b=h+y,_=a.getUint16(b,!g),x=b+2;let w=0;for(let T=x;T<x+12*_;T+=12)a.getUint16(T,!g)===45057&&(w=a.getUint32(T+8,!g));const A=b+2+_*12+4,C=[];for(let T=A;T<A+w*16;T+=16){const O={MPType:a.getUint32(T,!g),size:a.getUint32(T+4,!g),dataOffset:a.getUint32(T+8,!g),dependantImages:a.getUint32(T+12,!g),start:-1,end:-1,isFII:!1};O.dataOffset?(O.start=h+O.dataOffset,O.isFII=!1):(O.start=0,O.isFII=!0),O.end=O.start+O.size,C.push(O)}if(this.options.extractNonFII&&C.length){const T=new Blob([a]),O=[];for(const N of C){if(N.isFII&&!this.options.extractFII)continue;const R=T.slice(N.start,N.end+1,"image/jpeg");O.push(R)}n(O)}}}s+=2+a.getUint16(s+2)}})}}const Rde=async t=>{const e=Tde(t);if(!e)throw new yW("Gain map XMP metadata not found");const r=await new Cde({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new vW("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},l5=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class Ode extends Ko{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(e,n){super(n),this._config=e,e.renderer&&(this._renderer=e.renderer),this._internalLoadingManager=new pT}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Fr,sdr:new Fr});return this._config.createQuadRenderer({width:16,height:16,type:Wi,colorSpace:Mc,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(e,n,r){const i=n?new Blob([n],{type:"image/jpeg"}):void 0,a=new Blob([e],{type:"image/jpeg"});let o,s,l=!1;if(typeof createImageBitmap>"u"){const u=await Promise.all([i?l5(i):Promise.resolve(void 0),l5(a)]);s=u[0],o=u[1],l=r==="flipY"}else{const u=await Promise.all([i?createImageBitmap(i,{imageOrientation:r||"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:r||"flipY"})]);s=u[0],o=u[1]}return{sdrImage:o,gainMapImage:s,needsFlip:l}}createTextures(e,n,r){const i=new Fr(n||new ImageData(2,2),ah,$i,$i,or,eN,ta,La,1,Mc);i.flipY=r,i.needsUpdate=!0;const a=new Fr(e,ah,$i,$i,or,eN,ta,La,1,to);return a.flipY=r,a.needsUpdate=!0,{gainMap:i,sdr:a}}updateQuadRenderer(e,n,r,i,a){e.width=n.width,e.height=n.height,e.material.gainMap=r,e.material.sdr=i,e.material.gainMapMin=a.gainMapMin,e.material.gainMapMax=a.gainMapMax,e.material.offsetHdr=a.offsetHdr,e.material.offsetSdr=a.offsetSdr,e.material.gamma=a.gamma,e.material.hdrCapacityMin=a.hdrCapacityMin,e.material.hdrCapacityMax=a.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),e.material.needsUpdate=!0}}const Pde=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Dde=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Ide extends ro{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:a,maxDisplayBoost:o,hdrCapacityMin:s,hdrCapacityMax:l,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Pde,fragmentShader:Dde,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new de(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new de().fromArray(n)},offsetSdr:{value:new de().fromArray(r)},gainMapMin:{value:new de().fromArray(i)},gainMapMax:{value:new de().fromArray(a)},weightFactor:{value:(Math.log2(o)-s)/(l-s)}},blending:_c,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=s,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class bW extends Ode{constructor(e,n){super({renderer:e,createMaterial:r=>new Ide(r),createQuadRenderer:r=>new yU(r)},n)}async render(e,n,r,i){const{sdrImage:a,gainMapImage:o,needsFlip:s}=await this.processImages(r,i,"flipY"),{gainMap:l,sdr:u}=this.createTextures(a,o,s);this.updateQuadRenderer(e,a,l,u,n),e.render()}}class Nde extends bW{load([e,n,r],i,a,o){const s=this.prepareQuadRenderer();let l,u,d;const h=async()=>{if(l&&u&&d){try{await this.render(s,d,l,u)}catch(k){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(k),s.disposeOnDemandRenderer();return}typeof i=="function"&&i(s),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),s.disposeOnDemandRenderer()}};let g=!0,y=0,b=0,_=!0,x=0,w=0,E=!0,A=0,C=0;const T=()=>{if(typeof a=="function"){const k=y+x+A,z=b+w+C,F=g&&_&&E;a(new ProgressEvent("progress",{lengthComputable:F,loaded:z,total:k}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const O=new $s(this._internalLoadingManager);O.setResponseType("arraybuffer"),O.setRequestHeader(this.requestHeader),O.setPath(this.path),O.setWithCredentials(this.withCredentials),O.load(e,async k=>{if(typeof k=="string")throw new Error("Invalid sdr buffer");l=k,await h()},k=>{g=k.lengthComputable,b=k.loaded,y=k.total,T()},k=>{this.manager.itemError(e),typeof o=="function"&&o(k)});const N=new $s(this._internalLoadingManager);N.setResponseType("arraybuffer"),N.setRequestHeader(this.requestHeader),N.setPath(this.path),N.setWithCredentials(this.withCredentials),N.load(n,async k=>{if(typeof k=="string")throw new Error("Invalid gainmap buffer");u=k,await h()},k=>{_=k.lengthComputable,w=k.loaded,x=k.total,T()},k=>{this.manager.itemError(n),typeof o=="function"&&o(k)});const R=new $s(this._internalLoadingManager);return R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(r,async k=>{if(typeof k!="string")throw new Error("Invalid metadata string");d=JSON.parse(k),await h()},k=>{E=k.lengthComputable,C=k.loaded,A=k.total,T()},k=>{this.manager.itemError(r),typeof o=="function"&&o(k)}),s}}class kde extends bW{load(e,n,r,i){const a=this.prepareQuadRenderer(),o=new $s(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(s);let u,d,h;try{const g=await Rde(l);u=g.sdr,d=g.gainMap,h=g.metadata}catch(g){if(g instanceof yW||g instanceof vW)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw g}try{await this.render(a,h,u.buffer,d?.buffer)}catch(g){this.manager.itemError(e),typeof i=="function"&&i(g),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,s=>{this.manager.itemError(e),typeof i=="function"&&i(s)}),a}}const Nx={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},xW="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Rv=t=>Array.isArray(t),bU=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function wT({files:t=bU,path:e="",preset:n=void 0,colorSpace:r=void 0,extensions:i}={}){n&&(xU(n),t=Nx[n],e=xW);const a=Rv(t),{extension:o,isCubemap:s}=_U(t),l=SU(o);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=So(y=>y.gl);B.useLayoutEffect(()=>{if(o!=="webp"&&o!=="jpg"&&o!=="jpeg")return;function y(){Gv.clear(l,a?[t]:t)}u.domElement.addEventListener("webglcontextlost",y,{once:!0})},[t,u.domElement]);const d=Gv(l,a?[t]:t,y=>{(o==="webp"||o==="jpg"||o==="jpeg")&&y.setRenderer(u),y.setPath==null||y.setPath(e),i&&i(y)});let h=a?d[0]:d;if(o==="jpg"||o==="jpeg"||o==="webp"){var g;h=(g=h.renderTarget)==null?void 0:g.texture}return h.mapping=s?wc:Tv,h.colorSpace=r??(s?"srgb":"srgb-linear"),h}const Lde={files:bU,path:"",preset:void 0,extensions:void 0};wT.preload=t=>{const e={...Lde,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:a}=e;i&&(xU(i),n=Nx[i],r=xW);const{extension:o}=_U(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=SU(o);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);Gv.preload(s,Rv(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),a&&a(l)})};const Ude={files:bU,preset:void 0};wT.clear=t=>{const e={...Ude,...t};let{files:n}=e;const{preset:r}=e;r&&(xU(r),n=Nx[r]);const{extension:i}=_U(n),a=SU(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);Gv.clear(a,Rv(n)?[n]:n)};function xU(t){if(!(t in Nx))throw new Error("Preset must be one of: "+Object.keys(Nx).join(", "))}function _U(t){var e;const n=Rv(t)&&t.length===6,r=Rv(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=Rv(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function SU(t){return t==="cube"?i$:t==="hdr"?Mfe:t==="exr"?Efe:t==="jpg"||t==="jpeg"?kde:t==="webp"?Nde:null}const Bde=t=>t.current&&t.current.isScene,Fde=t=>Bde(t)?t.current:t;function wU(t,e,n,r,i={}){var a,o,s,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=Fde(e||n),d=u.background,h=u.environment,g={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(a=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(s=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&s!==void 0?s:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),vu(u,i),()=>{t!=="only"&&(u.environment=h),t&&(u.background=d),vu(u,g)}}function MU({scene:t,background:e=!1,map:n,...r}){const i=So(a=>a.scene);return B.useLayoutEffect(()=>{if(n)return wU(e,t,i,n,r)}),null}function _W({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s,...l}){const u=wT(l),d=So(h=>h.scene);return B.useLayoutEffect(()=>wU(t,e,d,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s})),B.useEffect(()=>()=>{u.dispose()},[u]),null}function jde({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:o=!1,blur:s,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:h,environmentRotation:g,scene:y,files:b,path:_,preset:x=void 0,extensions:w}){const E=So(R=>R.gl),A=So(R=>R.scene),C=B.useRef(null),[T]=B.useState(()=>new D_),O=B.useMemo(()=>{const R=new bT(r);return R.texture.type=Wi,R},[r]);B.useEffect(()=>()=>{O.dispose()},[O]),B.useLayoutEffect(()=>{if(i===1){const R=E.autoClear;E.autoClear=!0,C.current.update(E,T),E.autoClear=R}return wU(o,y,A,O.texture,{backgroundBlurriness:s??l,backgroundIntensity:u,backgroundRotation:d,environmentIntensity:h,environmentRotation:g})},[t,T,O.texture,y,A,o,i,E]);let N=1;return xm(()=>{if(i===1/0||N<i){const R=E.autoClear;E.autoClear=!0,C.current.update(E,T),E.autoClear=R,N++}}),B.createElement(B.Fragment,null,Due(B.createElement(B.Fragment,null,t,B.createElement("cubeCamera",{ref:C,args:[e,n,O]}),b||x?B.createElement(_W,{background:!0,files:b,preset:x,path:_,extensions:w}):a?B.createElement(MU,{background:!0,map:a,extensions:w}):null),T))}function zde(t){var e,n,r,i;const a=wT(t),o=t.map||a;B.useMemo(()=>pU({GroundProjectedEnvImpl:mfe}),[]),B.useEffect(()=>()=>{a.dispose()},[a]);const s=B.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,d=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return B.createElement(B.Fragment,null,B.createElement(MU,ch({},t,{map:o})),B.createElement("groundProjectedEnvImpl",{args:s,scale:d,height:l,radius:u}))}function Hde(t){return t.ground?B.createElement(zde,t):t.map?B.createElement(MU,t):t.children?B.createElement(jde,t):B.createElement(_W,t)}class Vde extends ro{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${mW>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Gde=t=>new de().setFromSpherical(new vE(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),$de=B.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:o=1},s)=>{const l=B.useRef(null),[u,d,h]=B.useMemo(()=>{const y=[],b=[],_=Array.from({length:n},()=>(.5+.5*Math.random())*i),x=new Vt;let w=t+e;const E=e/n;for(let A=0;A<n;A++)w-=E*Math.random(),y.push(...Gde(w).toArray()),x.setHSL(A/n,r,.9),b.push(x.r,x.g,x.b);return[new Float32Array(y),new Float32Array(b),new Float32Array(_)]},[n,e,i,t,r]);xm(y=>l.current&&(l.current.uniforms.time.value=y.clock.elapsedTime*o));const[g]=B.useState(()=>new Vde);return B.createElement("points",{ref:s},B.createElement("bufferGeometry",null,B.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),B.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3]}),B.createElement("bufferAttribute",{attach:"attributes-size",args:[h,1]})),B.createElement("primitive",{ref:l,object:g,attach:"material",blending:MM,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),MO={Dirty:"#ef4444","Check-out Inspected":"#f97316",Cleaning:"#3b82f6","Vacant Clean":"#22c55e","Vacant Clean Inspected":"#10b981",Occupied:"#8b5cf6","Out of Order":"#6b7280"},Wde={Dirty:.8,"Check-out Inspected":.6,Cleaning:.9,"Vacant Clean":.5,"Vacant Clean Inspected":.5,Occupied:.4,"Out of Order":.3};function SW({room:t,position:e,size:n=[1.8,1.2,1.8],onClick:r,isSelected:i=!1,showLabel:a=!0}){const o=B.useRef(null),[s,l]=B.useState(!1);xm(g=>{if(o.current)if(o.current.position.y=e[1]+Math.sin(g.clock.elapsedTime*.5+e[0])*.05,t.status==="Dirty"||t.status==="Cleaning"){const y=Math.sin(g.clock.elapsedTime*2)*.1+1;o.current.scale.setScalar(y)}else if(i){const y=Math.sin(g.clock.elapsedTime*3)*.05+1.05;o.current.scale.setScalar(y)}else o.current.scale.setScalar(1)});const u=B.useMemo(()=>{const g=MO[t.status];return new fT({color:g,emissive:g,emissiveIntensity:Wde[t.status]*(s?1.5:1),roughness:.3,metalness:.2,transparent:!0,opacity:.9})},[t.status,s]),d=B.useMemo(()=>new Co({color:i?"#ffffff":"#000000",linewidth:i?3:1}),[i]),h=g=>{g.stopPropagation(),r?.(t)};return I.jsxs("group",{"code-path":"src/components/3d/RoomCube.tsx:97:5",position:e,children:[I.jsx("mesh",{"code-path":"src/components/3d/RoomCube.tsx:99:7",ref:o,position:[0,0,0],onClick:h,onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),material:u,children:I.jsx("boxGeometry",{"code-path":"src/components/3d/RoomCube.tsx:107:9",args:n})}),I.jsxs("lineSegments",{"code-path":"src/components/3d/RoomCube.tsx:111:7",children:[I.jsx("edgesGeometry",{"code-path":"src/components/3d/RoomCube.tsx:112:9",args:[new ph(...n)]}),I.jsx("primitive",{"code-path":"src/components/3d/RoomCube.tsx:113:9",object:d,attach:"material"})]}),a&&I.jsx(Bs,{"code-path":"src/components/3d/RoomCube.tsx:118:9",position:[0,0,n[2]/2+.05],fontSize:.35,color:"white",anchorX:"center",anchorY:"middle",font:"/fonts/Inter-Bold.woff",children:t.room_number}),I.jsxs("mesh",{"code-path":"src/components/3d/RoomCube.tsx:131:7",position:[n[0]/2-.2,n[1]/2-.2,n[2]/2+.02],children:[I.jsx("circleGeometry",{"code-path":"src/components/3d/RoomCube.tsx:132:9",args:[.15,16]}),I.jsx("meshBasicMaterial",{"code-path":"src/components/3d/RoomCube.tsx:133:9",color:MO[t.status]})]}),t.is_vip&&I.jsxs("mesh",{"code-path":"src/components/3d/RoomCube.tsx:138:9",position:[-n[0]/2+.2,n[1]/2-.2,n[2]/2+.02],children:[I.jsx("circleGeometry",{"code-path":"src/components/3d/RoomCube.tsx:139:11",args:[.12,16]}),I.jsx("meshBasicMaterial",{"code-path":"src/components/3d/RoomCube.tsx:140:11",color:"#fbbf24"})]}),s&&I.jsx(Y$,{"code-path":"src/components/3d/RoomCube.tsx:146:9",distanceFactor:10,children:I.jsxs("div",{"code-path":"src/components/3d/RoomCube.tsx:147:11",className:"bg-gray-900 text-white px-3 py-2 rounded-lg shadow-xl text-sm whitespace-nowrap pointer-events-none",children:[I.jsxs("div",{"code-path":"src/components/3d/RoomCube.tsx:148:13",className:"font-semibold",children:["Room ",t.room_number]}),I.jsxs("div",{"code-path":"src/components/3d/RoomCube.tsx:149:13",className:"text-xs text-gray-300",children:[t.building," - Floor ",t.floor]}),I.jsx("div",{"code-path":"src/components/3d/RoomCube.tsx:150:13",className:"text-xs mt-1",style:{color:MO[t.status]},children:t.status}),t.assigned_to&&I.jsxs("div",{"code-path":"src/components/3d/RoomCube.tsx:154:15",className:"text-xs text-blue-300 mt-1",children:["Assigned: ",t.assigned_to]})]})}),i&&I.jsxs("mesh",{"code-path":"src/components/3d/RoomCube.tsx:164:9",position:[0,-n[1]/2-.1,0],rotation:[-Math.PI/2,0,0],children:[I.jsx("ringGeometry",{"code-path":"src/components/3d/RoomCube.tsx:165:11",args:[1.2,1.4,32]}),I.jsx("meshBasicMaterial",{"code-path":"src/components/3d/RoomCube.tsx:166:11",color:"#ffffff",transparent:!0,opacity:.5})]})]})}function wW({position:t,size:e,floorNumber:n,buildingName:r}){return I.jsxs("group",{"code-path":"src/components/3d/RoomCube.tsx:183:5",position:t,children:[I.jsxs("mesh",{"code-path":"src/components/3d/RoomCube.tsx:185:7",position:[0,0,0],rotation:[-Math.PI/2,0,0],children:[I.jsx("planeGeometry",{"code-path":"src/components/3d/RoomCube.tsx:186:9",args:e}),I.jsx("meshStandardMaterial",{"code-path":"src/components/3d/RoomCube.tsx:187:9",color:"#1f2937",roughness:.8,metalness:.1})]}),I.jsx("gridHelper",{"code-path":"src/components/3d/RoomCube.tsx:195:7",args:[Math.max(e[0],e[1]),Math.max(e[0],e[1])/2,"#374151","#374151"],position:[0,.01,0]}),I.jsxs(Bs,{"code-path":"src/components/3d/RoomCube.tsx:201:7",position:[-e[0]/2+1,.5,-e[1]/2+.5],fontSize:.5,color:"#9ca3af",anchorX:"left",anchorY:"middle",rotation:[-Math.PI/2,0,0],children:[r," - Floor ",n]})]})}function qde({building:t,floors:e,roomsPerFloor:n,rooms:r,onRoomClick:i,selectedRoomId:a,position:o=[0,0,0]}){const s=r.filter(h=>h.building===t),l=2.5,u=2,d=Math.ceil(Math.sqrt(n));return I.jsxs("group",{"code-path":"src/components/3d/RoomCube.tsx:243:5",position:o,children:[I.jsx(Bs,{"code-path":"src/components/3d/RoomCube.tsx:245:7",position:[0,e*u+1,0],fontSize:1,color:"#ffffff",anchorX:"center",anchorY:"middle",children:t}),Array.from({length:e},(h,g)=>{const y=g+1,b=s.filter(x=>x.floor===y),_=[d*l+2,d*l+2];return I.jsxs("group",{"code-path":"src/components/3d/RoomCube.tsx:265:11",children:[I.jsx(wW,{"code-path":"src/components/3d/RoomCube.tsx:266:13",position:[0,g*u,0],size:_,floorNumber:y,buildingName:t}),b.map((x,w)=>{const E=Math.floor(w/d),C=(w%d-d/2+.5)*l,T=(E-d/2+.5)*l;return I.jsx(SW,{"code-path":"src/components/3d/RoomCube.tsx:281:17",room:x,position:[C,g*u+.8,T],onClick:i,isSelected:a===x.id},x.id)})]},y)})]})}var yu=function(){return yu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yu.apply(this,arguments)};function Ey(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xde(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function Yde(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}const Kde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class EU extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Zde extends EU{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c5 extends EU{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u5 extends EU{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var TN;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(TN||(TN={}));class Jde{constructor(e,{headers:n={},customFetch:r,region:i=TN.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Kde(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Xde(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:d,timeout:h}=r;let g={},{region:y}=r;y||(y=this.region);const b=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let _;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(g["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(g["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let x=d;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const w=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),s),body:_,signal:x}).catch(T=>{throw new Zde(T)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new c5(w);if(!w.ok)throw new u5(w);let A=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield w.json():A==="application/octet-stream"||A==="application/pdf"?C=yield w.blob():A==="text/event-stream"?C=w:A==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof u5||s instanceof c5?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var Qde=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ehe=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,l=null,u=a.status,d=a.statusText;if(a.ok){var h,g;if(n.method!=="HEAD"){var y;const w=await a.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?s=w:s=JSON.parse(w))}const _=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var b;const _=await a.text();try{o=JSON.parse(_),Array.isArray(o)&&a.status===404&&(s=[],o=null,u=200,d="OK")}catch{a.status===404&&_===""?(u=204,d="No Content"):o={message:_}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new Qde(o)}return{error:o,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="",l="",u="";const d=a?.cause;if(d){var h,g,y,b;const w=(h=d?.message)!==null&&h!==void 0?h:"",E=(g=d?.code)!==null&&g!==void 0?g:"";s=`${(y=a?.name)!==null&&y!==void 0?y:"FetchError"}: ${a?.message}`,s+=`

Caused by: ${(b=d?.name)!==null&&b!==void 0?b:"Error"}: ${w}`,E&&(s+=` (${E})`),d?.stack&&(s+=`
${d.stack}`)}else{var _;s=(_=a?.stack)!==null&&_!==void 0?_:""}const x=this.url.toString().length;return a?.name==="AbortError"||a?.code==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(d?.name==="HeadersOverflowError"||d?.code==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},the=class extends ehe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const f5=new RegExp("[,()]");var dv=class extends the{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&f5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&f5.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},nhe=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new dv({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);a.searchParams.set("columns",l.join(","))}}return new dv({method:i,url:a,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&s.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);s.searchParams.set("columns",d.join(","))}}return new dv({method:o,url:s,headers:l,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new dv({method:r,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new dv({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function rhe(t,e){if(kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ihe(t){var e=rhe(t,"string");return kx(e)=="symbol"?e:e+""}function ahe(t,e,n){return(e=ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ohe=class MW{constructor(e,{headers:n={},schema:r,fetch:i,timeout:a,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const s=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(l,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),a),g=u?.signal;if(g){if(g.aborted)return clearTimeout(h),s(l,u);const y=()=>{clearTimeout(h),d.abort()};return g.addEventListener("abort",y,{once:!0}),s(l,Nw(Nw({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),g.removeEventListener("abort",y)})}return s(l,Nw(Nw({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nhe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new MW(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;const d=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(d)),h=r&&Object.values(n).some(d);h?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{l.searchParams.append(y,b)})):(s="POST",u=n);const g=new Headers(this.headers);return h?g.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&g.set("Prefer",`count=${a}`),new dv({method:s,url:l,headers:g,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class she{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lhe="2.97.0",che=`realtime-js/${lhe}`,uhe="1.0.0",EW="2.0.0",h5=EW,CN=1e4,fhe=1e3,dhe=100;var Wd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wd||(Wd={}));var _a;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_a||(_a={}));var mc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mc||(mc={}));var RN;(function(t){t.websocket="websocket"})(RN||(RN={}));var Dp;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dp||(Dp={}));class hhe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,a;const o=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(a=e.join_ref)!==null&&a!==void 0?a:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(y),_=0;b.setUint8(_++,this.KINDS.userBroadcastPush),b.setUint8(_++,l.length),b.setUint8(_++,s.length),b.setUint8(_++,o.length),b.setUint8(_++,u.length),b.setUint8(_++,h.length),b.setUint8(_++,n),Array.from(l,w=>b.setUint8(_++,w.charCodeAt(0))),Array.from(s,w=>b.setUint8(_++,w.charCodeAt(0))),Array.from(o,w=>b.setUint8(_++,w.charCodeAt(0))),Array.from(u,w=>b.setUint8(_++,w.charCodeAt(0))),Array.from(h,w=>b.setUint8(_++,w.charCodeAt(0)));var x=new Uint8Array(y.byteLength+r.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(r),y.byteLength),x.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,o,s,l]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+a));l=l+a;const h=r.decode(e.slice(l,l+o));l=l+o;const g=e.slice(l,e.byteLength),y=s===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,b={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class AW{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ii;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ii||(ii={}));const p5=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=phe(o,t,e,i),a),{}):{}},phe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i?.type,o=n[t];return a&&!r.includes(a)?TW(a,o):ON(o)},TW=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yhe(e,n)}switch(t){case ii.bool:return mhe(e);case ii.float4:case ii.float8:case ii.int2:case ii.int4:case ii.int8:case ii.numeric:case ii.oid:return ghe(e);case ii.json:case ii.jsonb:return vhe(e);case ii.timestamp:return bhe(e);case ii.abstime:case ii.date:case ii.daterange:case ii.int4range:case ii.int8range:case ii.money:case ii.reltime:case ii.text:case ii.time:case ii.timestamptz:case ii.timetz:case ii.tsrange:case ii.tstzrange:return ON(e);default:return ON(e)}},ON=t=>t,mhe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ghe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vhe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},yhe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>TW(e,s))}return t},bhe=t=>typeof t=="string"?t.replace(" ","T"):t,CW=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class EO{constructor(e,n,r={},i=CN){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var m5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(m5||(m5={}));class lx{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lx.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=lx.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lx.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const g=d.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),b=d.filter(x=>y.indexOf(x.presence_ref)<0),_=h.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(s[u]=b),_.length>0&&(l[u]=_)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const h=e[s].map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0);e[s].unshift(...g)}r(s,d,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(g5||(g5={}));var cx;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cx||(cx={}));var Af;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Af||(Af={}));class bv{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new EO(this,mc.join,this.params,this.timeout),this.rejoinTimer=new AW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_a.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mc.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new lx(this),this.broadcastEndpointURL=CW(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_a.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[cx.PRESENCE]&&this.bindings[cx.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Af.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Af.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(Af.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(b=_?.length)!==null&&b!==void 0?b:0,w=[];for(let E=0;E<x;E++){const A=_[E],{filter:{event:C,schema:T,table:O,filter:N}}=A,R=y&&y[E];if(R&&R.event===C&&bv.isFilterValueEqual(R.schema,T)&&bv.isFilterValueEqual(R.table,O)&&bv.isFilterValueEqual(R.filter,N))w.push(Object.assign(Object.assign({},A),{id:R.id}));else{this.unsubscribe(),this.state=_a.errored,e?.(Af.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Af.SUBSCRIBED);return}}).receive("error",y=>{this.state=_a.errored,e?.(Af.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Af.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===_a.joined&&e===cx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_a.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new EO(this,mc.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_a.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new EO(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dhe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=mc;if(r&&[s,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,_,x;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(_=y.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var b,_,x,w,E,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,T=(b=y.filter)===null||b===void 0?void 0:b.event;return C&&((_=n.ids)===null||_===void 0?void 0:_.includes(C))&&(T==="*"||T?.toLocaleLowerCase()===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(E=(w=y?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:_,table:x,commit_timestamp:w,type:E,errors:A}=b;g=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:w,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(b))}y.callback(g,r)})}_isClosed(){return this.state===_a.closed}_isJoined(){return this.state===_a.joined}_isJoining(){return this.state===_a.joining}_isLeaving(){return this.state===_a.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&bv.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mc.close,{},e)}_onError(e){this._on(mc.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_a.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=p5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=p5(e.columns,e.old_record)),n}}const AO=()=>{},kw={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xhe=[1e3,2e3,5e3,1e4],_he=1e4,She=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class whe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=CN,this.transport=null,this.heartbeatIntervalMs=kw.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AO,this.ref=0,this.reconnectTimer=null,this.vsn=h5,this.logger=AO,this.conn=null,this.sendBuffer=[],this.serializer=new hhe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${RN.websocket}`,this.httpEndpoint=CW(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=she.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wd.connecting:return Dp.Connecting;case Wd.open:return Dp.Open;case Wd.closing:return Dp.Closing;default:return Dp.Closed}}isConnected(){return this.connectionState()===Dp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new bv(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fhe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},kw.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Wd.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wd.open||this.conn.readyState===Wd.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(mc.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([She],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:che};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(mc.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new AW(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kw.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,d,h,g,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:CN,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:kw.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:AO,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:h5,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(b=>xhe[b-1]||_he),this.vsn){case uhe:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((b,_)=>_(JSON.stringify(b))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((b,_)=>_(JSON.parse(b)));break;case EW:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Lx=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mhe(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Ehe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ahe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const s=Mhe(t.baseUrl,r,i),l=await Ehe(t.auth),u=await e(s,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),g=h&&d?JSON.parse(d):d;if(!u.ok){const y=h?g:void 0,b=y?.error;throw new Lx(b?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:b?.type,icebergCode:b?.code,details:y})}return{status:u.status,headers:u.headers,data:g}}}}function Lw(t){return t.join("")}var The=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Lw(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lw(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lw(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lw(t.namespace)}`}),!0}catch(e){if(e instanceof Lx&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Lx&&n.status===409)return;throw n}}};function Qg(t){return t.join("")}var Che=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qg(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Lx&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Lx&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Rhe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ahe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new The(this.client,e),this.tableOps=new Che(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},MT=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function ET(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Uw=class extends MT{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RW=class extends MT{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Ohe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Phe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},PN=t=>{if(Array.isArray(t))return t.map(n=>PN(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=PN(r)}),e},Dhe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function Ihe(t,e){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nhe(t){var e=Ihe(t,"string");return Ux(e)=="symbol"?e:e+""}function khe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const y5=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Lhe=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const s=o?.statusCode||o?.code||a+"";e(new Uw(y5(o),a,s,r))}).catch(()=>{if(r==="vectors"){const o=a+"";e(new Uw(i.statusText||`HTTP ${a} error`,a,o,r))}else{const o=a+"";e(new Uw(i.statusText||`HTTP ${a} error`,a,o,r))}});else{const o=a+"";e(new Uw(i.statusText||`HTTP ${a} error`,a,o,r))}}else e(new RW(y5(t),t,r))},Uhe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?vn(vn({},i),n):(Phe(r)?(i.headers=vn({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),vn(vn({},i),n))};async function Eb(t,e,n,r,i,a,o){return new Promise((s,l)=>{t(n,Uhe(e,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>Lhe(u,l,r,o))})}function OW(t="storage"){return{get:async(e,n,r,i)=>Eb(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,a)=>Eb(e,"POST",n,i,a,r,t),put:async(e,n,r,i,a)=>Eb(e,"PUT",n,i,a,r,t),head:async(e,n,r,i)=>Eb(e,"HEAD",n,vn(vn({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,a)=>Eb(e,"DELETE",n,i,a,r,t)}}const Bhe=OW("storage"),{get:Bx,post:pc,put:DN,head:Fhe,remove:AU}=Bhe,zs=OW("vectors");var Ay=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Ohe(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=vn(vn({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ET(n))return{data:null,error:n};throw n}}},jhe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ET(e))return{data:null,error:e};throw e}}};let PW;PW=Symbol.toStringTag;var zhe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[PW]="BlobDownloadBuilder",this.promise=null}asStream(){return new jhe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ET(e))return{data:null,error:e};throw e}}};const Hhe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Vhe=class extends Ay{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let a;const o=vn(vn({},b5),r);let s=vn(vn({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(s=vn(vn({},s),r.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),h=await(t=="PUT"?DN:pc)(i.fetch,`${i.url}/object/${d}`,a,vn({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);return s.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=vn({upsert:b5.upsert},r),d=vn(vn({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await DN(i.fetch,s.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=vn({},n.headers);e?.upsert&&(i["x-upsert"]="true");const a=await pc(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get("token");if(!s)throw new MT("No token returned by API");return{signedUrl:o.toString(),path:t,token:s}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await pc(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await pc(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),a=await pc(r.fetch,`${r.url}/object/sign/${i}`,vn({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await pc(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>vn(vn({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null}))})}download(t,e,n){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",o=this._getFinalPath(t),s=()=>Bx(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0},n);return new zhe(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>PN(await Bx(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Fhe(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ET(r)&&r instanceof RW){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&r.push(o);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await AU(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=vn(vn(vn({},Hhe),e),{},{prefix:t||""});return await pc(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=vn({},t);return await pc(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Ghe="2.97.0",V_={"X-Client-Info":`storage-js/${Ghe}`};var $he=class extends Ay{constructor(t,e={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=vn(vn({},V_),e);super(a,o,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Bx(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Bx(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await pc(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await DN(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await pc(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await AU(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Whe=class extends Ay{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=vn(vn({},V_),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await pc(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Bx(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await AU(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Dhe(t))throw new MT("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Rhe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},qhe=class extends Ay{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=vn(vn({},V_),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await zs.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await zs.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},Xhe=class extends Ay{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=vn(vn({},V_),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Yhe=class extends Ay{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=vn(vn({},V_),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zs.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Khe=class extends Yhe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Zhe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Zhe=class extends qhe{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new Jhe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Jhe=class extends Xhe{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,vn(vn({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Qhe=class extends $he{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Vhe(this.url,this.headers,t,this.fetch)}get vectors(){return new Khe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Whe(this.url+"/iceberg",this.headers,this.fetch)}};const DW="2.97.0",hv=30*1e3,IN=3,TO=IN*hv,epe="http://localhost:9999",tpe="supabase.auth.token",npe={"X-Client-Info":`gotrue-js/${DW}`},NN="X-Supabase-Api-Version",IW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rpe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ipe=600*1e3;class Fx extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function sn(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ape extends Fx{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ope(t){return sn(t)&&t.name==="AuthApiError"}class Ip extends Fx{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vf extends Fx{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ks extends Vf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CO(t){return sn(t)&&t.name==="AuthSessionMissingError"}class ev extends Vf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bw extends Vf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fw extends Vf{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function spe(t){return sn(t)&&t.name==="AuthImplicitGrantRedirectError"}class x5 extends Vf{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lpe extends Vf{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kN extends Vf{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function RO(t){return sn(t)&&t.name==="AuthRetryableFetchError"}class _5 extends Vf{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class LN extends Vf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S5=` 	
\r=`.split(""),cpe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<S5.length;e+=1)t[S5[e].charCodeAt(0)]=-2;for(let e=0;e<wE.length;e+=1)t[wE[e].charCodeAt(0)]=e;return t})();function w5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wE[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(wE[r]),e.queuedBits-=6}}function NW(t,e,n){const r=cpe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function M5(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{dpe(o,r,n)};for(let o=0;o<t.length;o+=1)NW(t.charCodeAt(o),i,a);return e.join("")}function upe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fpe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}upe(r,e)}}function dpe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ov(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)NW(t.charCodeAt(i),n,r);return new Uint8Array(e)}function hpe(t){const e=[];return fpe(t,n=>e.push(n)),new Uint8Array(e)}function zp(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>w5(i,n,r)),w5(null,n,r),e.join("")}function ppe(t){return Math.round(Date.now()/1e3)+t}function mpe(){return Symbol("auth-callback")}const Qa=()=>typeof window<"u"&&typeof document<"u",bp={tested:!1,writable:!1},kW=()=>{if(!Qa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bp.tested)return bp.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bp.tested=!0,bp.writable=!0}catch{bp.tested=!0,bp.writable=!1}return bp.writable};function gpe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const LW=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vpe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pv=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xp=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Za=async(t,e)=>{await t.removeItem(e)};class AT{constructor(){this.promise=new AT.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}AT.promiseConstructor=Promise;function jw(t){const e=t.split(".");if(e.length!==3)throw new LN("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!rpe.test(e[r]))throw new LN("JWT not in base64url format");return{header:JSON.parse(M5(e[0])),payload:JSON.parse(M5(e[1])),signature:Ov(e[2]),raw:{header:e[0],payload:e[1]}}}async function ype(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bpe(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function xpe(t){return("0"+t.toString(16)).substr(-2)}function _pe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,xpe).join("")}async function Spe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wpe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Spe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tv(t,e,n=!1){const r=_pe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await pv(t,`${e}-code-verifier`,i);const a=await wpe(r);return[a,r===a?"plain":"s256"]}const Mpe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Epe(t){const e=t.headers.get(NN);if(!e||!e.match(Mpe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ape(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Tpe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cpe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nv(t){if(!Cpe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function OO(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rpe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function E5(t){return JSON.parse(JSON.stringify(t))}const Cp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ope=[502,503,504];async function A5(t){var e;if(!vpe(t))throw new kN(Cp(t),0);if(Ope.includes(t.status))throw new kN(Cp(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ip(Cp(a),a)}let r;const i=Epe(t);if(i&&i.getTime()>=IW["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _5(Cp(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ks}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new _5(Cp(n),t.status,n.weak_password.reasons);throw new ape(Cp(n),t.status||500,r)}const Ppe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xn(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[NN]||(a[NN]=IW["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Dpe(t,e,n+s,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Dpe(t,e,n,r,i,a){const o=Ppe(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new kN(Cp(l),0)}if(s.ok||await A5(s),r?.noResolveJson)return s;try{return await s.json()}catch(l){await A5(l)}}function dc(t){var e;let n=null;kpe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ppe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function T5(t){const e=dc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ipe(t){return{data:t,error:null}}function Npe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=Ey(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function C5(t){return t}function kpe(t){return t.access_token&&t.refresh_token&&t.expires_in}const PO=["global","local","others"];class Lpe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=LW(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=PO[0]){if(PO.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${PO.join(", ")}`);try{return await xn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kd})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ey(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Npe,redirectTo:n?.redirectTo})}catch(n){if(sn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kd})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:C5});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(sn(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){nv(e);try{return await xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kd})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){nv(e);try{return await xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Kd})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){nv(e);try{return await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kd})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){nv(e.userId);try{const{data:n,error:r}=await xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(sn(n))return{data:null,error:n};throw n}}async _deleteFactor(e){nv(e.userId),nv(e.id);try{return{data:await xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await xn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:C5});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(sn(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await xn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(sn(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await xn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(sn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await xn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await xn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(sn(n))return{data:null,error:n};throw n}}}function R5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const rv={debug:!!(globalThis&&kW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UW extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class O5 extends UW{}async function Upe(t,e,n){rv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;e>0&&setTimeout(()=>{r.abort(),rv.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){rv.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{rv.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw rv.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new O5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rv.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw i?.name==="AbortError"?new O5(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${e}ms`):i}}function Bpe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BW(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Fpe(t){return parseInt(t,16)}function jpe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function zpe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:d,uri:h,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=BW(t.address),b=d?`${d}://${r}`:r,_=t.statement?`${t.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${y}

${_}`;let w=`URI: ${h}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let E=`
Resources:`;for(const A of u){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}w+=E}return`${x}
${w}`}class ua extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ME extends ua{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Hpe({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ua({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ua({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ua({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ua({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ua({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ua({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ua({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ua({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(FW(o)){if(a.rp.id!==o)return new ua({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ua({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ua({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ua({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ua({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Vpe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ua({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ua({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(FW(r)){if(n.rpId!==r)return new ua({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ua({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ua({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ua({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Gpe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $pe=new Gpe;function Wpe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ey(t,["challenge","user","excludeCredentials"]),a=Ov(e).buffer,o=Object.assign(Object.assign({},n),{id:Ov(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ov(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function qpe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ey(t,["challenge","allowCredentials"]),i=Ov(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Ov(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function Xpe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:zp(new Uint8Array(t.response.attestationObject)),clientDataJSON:zp(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ype(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zp(new Uint8Array(i.authenticatorData)),clientDataJSON:zp(new Uint8Array(i.clientDataJSON)),signature:zp(new Uint8Array(i.signature)),userHandle:i.userHandle?zp(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FW(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function P5(){var t,e;return!!(Qa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Kpe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ME("Browser returned unexpected credential type",e)}:{data:null,error:new ME("Empty credential response",e)}}catch(e){return{data:null,error:Hpe({error:e,options:t})}}}async function Zpe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ME("Browser returned unexpected credential type",e)}:{data:null,error:new ME("Empty credential response",e)}}catch(e){return{data:null,error:Vpe({error:e,options:t})}}}const Jpe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qpe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function EE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const s=r[a];e(s)?r[a]=EE(s,o):r[a]=EE(o)}else r[a]=o}return r}function eme(t,e){return EE(Jpe,t,e||{})}function tme(t,e){return EE(Qpe,t,e||{})}class nme{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){var o;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:l};const u=i??$pe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const y=(await this.client.getUser()).data.user,b=((o=y?.user_metadata)===null||o===void 0?void 0:o.name)||y?.email||y?.id||"User";d.name=`${d.id}:${b}`}}d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=eme(s.webauthn.credential_options.publicKey,a?.create),{data:h,error:g}=await Kpe({publicKey:d,signal:u});return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=tme(s.webauthn.credential_options.publicKey,a?.request),{data:h,error:g}=await Zpe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(s){return sn(s)?{data:null,error:s}:{data:null,error:new Ip("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fx("rpId is required for WebAuthn authentication")};try{if(!P5())return{data:null,error:new Ip("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return sn(o)?{data:null,error:o}:{data:null,error:new Ip("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fx("rpId is required for WebAuthn registration")};try{if(!P5())return{data:null,error:new Ip("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return sn(o)?{data:null,error:o}:{data:null,error:new Ip("Unexpected error in register",o)}}}}Bpe();const rme={url:epe,storageKey:tpe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:npe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function D5(t,e,n){return await n()}const iv={};class jx{get jwks(){var e,n;return(n=(e=iv[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){iv[this.storageKey]=Object.assign(Object.assign({},iv[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=iv[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){iv[this.storageKey]=Object.assign(Object.assign({},iv[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},rme),e);if(this.storageKey=a.storageKey,this.instanceID=(n=jx.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,jx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Qa()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Lpe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=LW(a.fetch),this.lock=a.lock||D5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Qa()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Upe:this.lock=D5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nme(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:kW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R5(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=R5(this.memoryStorage)),Qa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}a.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${DW}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Qa()&&(n=gpe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Qa()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),spe(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return sn(n)?this._returnResult({error:n}):this._returnResult({error:new Ip("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:dc}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(sn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:h,options:g}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await tv(this.storage,this.storageKey)),a=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:b},xform:dc})}else if("phone"in e){const{phone:d,password:h,options:g}=e;a=await xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:dc})}else throw new Bw("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await Za(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:T5})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:T5})}else throw new Bw("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new ev;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(sn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,d,h,g;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:_,wallet:x,statement:w,options:E}=e;let A;if(Qa())if(typeof x=="object")A=x;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")A=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const C=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=BW(T[0]);let N=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const k=await A.request({method:"eth_chainId"});N=Fpe(k)}const R={domain:C.host,address:O,statement:w,uri:C.href,version:"1",chainId:N,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=zpe(R),b=await A.request({method:"personal_sign",params:[jpe(y),O]})}try{const{data:_,error:x}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:dc});if(x)throw x;if(!_||!_.session||!_.user){const w=new ev;return this._returnResult({data:{user:null,session:null},error:w})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(sn(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,d,h,g,y;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:x,wallet:w,statement:E,options:A}=e;let C;if(Qa())if(typeof w=="object")C=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))C=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const T=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const O=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let N;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")N=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)N=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((s=A?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((h=(d=A?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...A.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const O=await C.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=O}}try{const{data:x,error:w}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:zp(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:dc});if(w)throw w;if(!x||!x.session||!x.user){const E=new ev;return this._returnResult({data:{user:null,session:null},error:E})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(sn(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await xp(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new lpe;const{data:a,error:o}=await xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dc});if(await Za(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new ev;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:dc}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new ev;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(sn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await tv(this.storage,this.storageKey));const{error:h}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Bw("You must provide either an email or phone number.")}catch(s){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:dc});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(sn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await tv(this.storage,this.storageKey));const u=await xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Ipe});return!((a=u.data)===null||a===void 0)&&a.url&&Qa()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ks;const{error:i}=await xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(sn(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await xn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await xn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new Bw("You must provide either an email or phone number and a type")}catch(n){if(sn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<TO:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await xp(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=OO()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Rpe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kd}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ks}:await xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Kd})})}catch(n){if(sn(n))return CO(n)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ks;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await tv(this.storage,this.storageKey));const{data:u,error:d}=await xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Kd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ks;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=jw(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(sn(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ks;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(sn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Qa())throw new Fw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fw("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x5("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Fw("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(s);let g=d+h;l&&(g=parseInt(l));const y=g-d;y*1e3<=hv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const b=g-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:_,error:x}=await this._getUser(a);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(sn(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!CO(a))return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(ope(s)&&(s.status===404||s.status===401||s.status===403)||CO(s)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=mpe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await tv(this.storage,this.storageKey,!0));try{return await xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,d;const{data:h,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xn(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Qa()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(sn(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:d}=e,h=await xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:dc}),{data:g,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ev}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:y}))}catch(i){if(await Za(this.storage,`${this.storageKey}-code-verifier`),sn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bpe(async i=>(i>0&&await ype(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dc})),(i,a)=>{const o=200*Math.pow(2,i);return a&&RO(a)&&Date.now()+o-r<hv})}catch(r){if(this._debug(n,"error",r),sn(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xp(this.storage,this.storageKey);if(i&&this.userStorage){let o=await xp(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await pv(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:OO()}else if(i&&!i.user&&!i.user){const o=await xp(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Za(this.storage,this.storageKey+"-user"),await pv(this.storage,this.storageKey,i)):i.user=OO()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<TO;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${TO}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),RO(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new AT;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ks;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),sn(a)){const o={data:null,error:a};return RO(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Za(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await pv(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=E5(i);await pv(this.storage,this.storageKey,a)}else{const i=E5(n);await pv(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Za(this.storage,this.storageKey),await Za(this.storage,this.storageKey+"-code-verifier"),await Za(this.storage,this.storageKey+"-user"),this.userStorage&&await Za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qa()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hv);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/hv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hv}ms, refresh threshold is ${IN} ticks`),i<=IN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UW)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qa()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await tv(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await xn(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Xpe(e.webauthn.credential_response):Ype(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Wpe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qpe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,a;if(e)try{const{payload:y}=jw(e);let b=null;y.aal&&(b=y.aal);let _=b;const{data:{user:x},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((r=(n=x?.factors)===null||n===void 0?void 0:n.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const A=y.amr||[];return{data:{currentLevel:b,nextLevel:_,currentAuthenticationMethods:A},error:null}}catch(y){if(sn(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=jw(o.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ks})})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ks});const o=await xn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Qa()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ks});const o=await xn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Qa()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await xn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ks})})}catch(e){if(sn(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ks})})}catch(n){if(sn(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+ipe>i)return r;const{data:a,error:o}=await xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=jw(r);n?.allowExpired||Ape(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const d=Tpe(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,hpe(`${s}.${l}`)))throw new LN("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}}jx.nextInstanceID={};const ime=jx,ame="2.97.0";let zb="";typeof Deno<"u"?zb="deno":typeof document<"u"?zb="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zb="react-native":zb="node";const ome={"X-Client-Info":`supabase-js-${zb}/${ame}`},sme={headers:ome},lme={schema:"public"},cme={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ume={};function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function fme(t,e){if(zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dme(t){var e=fme(t,"string");return zx(e)=="symbol"?e:e+""}function hme(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const pme=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mme=()=>Headers,gme=(t,e,n)=>{const r=pme(n),i=mme();return async(a,o)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Vi(Vi({},o),{},{headers:u}))}};function vme(t){return t.endsWith("/")?t:t+"/"}function yme(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:d,global:h}=e,g={db:Vi(Vi({},l),i),auth:Vi(Vi({},u),a),realtime:Vi(Vi({},d),o),storage:{},global:Vi(Vi(Vi({},h),s),{},{headers:Vi(Vi({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function bme(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vme(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xme=class extends ime{constructor(t){super(t)}},_me=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=bme(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:lme,realtime:ume,auth:Vi(Vi({},cme),{},{storageKey:o}),global:sme},l=yme(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=gme(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Vi({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ohe(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Qhe(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Jde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l,throwOnError:u},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xme({url:this.authUrl.href,headers:Vi(Vi({},g),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new whe(this.realtimeUrl.href,Vi(Vi({},t),{},{params:Vi(Vi({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sme=(t,e,n)=>new _me(t,e,n);function wme(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}wme()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mme="https://your-project.supabase.co",Eme="your-anon-key",io=Sme(Mme,Eme);async function Ame(){const{data:t,error:e}=await io.from("rooms").select("*").order("building",{ascending:!0}).order("floor",{ascending:!0}).order("room_number",{ascending:!0});if(e)throw e;return t||[]}async function Tme(t,e,n){const r={status:e,last_updated:new Date().toISOString()},{error:i}=await io.from("rooms").update(r).eq("id",t);if(i)throw i}async function Cme(){const{data:t,error:e}=await io.from("profiles").select("*").order("full_name",{ascending:!0});if(e)throw e;return t||[]}async function Rme(t,e,n,r){const{data:i,error:a}=await io.from("work_logs").insert({room_number:t,staff_id:e,task_type:n,start_time:new Date().toISOString(),status:"In Progress",description:r}).select("id").single();if(a)throw a;return i.id}async function Ome(t,e){const{error:n}=await io.from("work_logs").update({pause_time:new Date().toISOString(),total_duration:e,status:"Paused"}).eq("id",t);if(n)throw n}async function Pme(t){const{error:e}=await io.from("work_logs").update({pause_time:null,status:"In Progress"}).eq("id",t);if(e)throw e}async function Dme(t,e){const{error:n}=await io.from("work_logs").update({end_time:new Date().toISOString(),total_duration:e,status:"Completed"}).eq("id",t);if(n)throw n}async function Ime(t){let e=io.from("work_logs").select("*").order("created_at",{ascending:!1});t?.staff_id&&(e=e.eq("staff_id",t.staff_id)),t?.date_from&&(e=e.gte("start_time",t.date_from)),t?.date_to&&(e=e.lte("start_time",t.date_to)),t?.task_type&&(e=e.eq("task_type",t.task_type));const{data:n,error:r}=await e;if(r)throw r;return n||[]}async function Nme(t){const{error:e}=await io.from("inspections").insert({...t,created_at:new Date().toISOString()});if(e)throw e}async function kme(t){let e=io.from("inspections").select("*").order("created_at",{ascending:!1});t?.room_number&&(e=e.eq("room_number",t.room_number)),t?.inspector_id&&(e=e.eq("inspector_id",t.inspector_id)),t?.date_from&&(e=e.gte("created_at",t.date_from)),t?.date_to&&(e=e.lte("created_at",t.date_to));const{data:n,error:r}=await e;if(r)throw r;return n||[]}async function Lme(){const{data:t,error:e}=await io.from("checklist_items").select("*").order("category",{ascending:!0}).order("item_name",{ascending:!0});if(e)throw e;return t||[]}async function Ume(t){const{error:e}=await io.from("audit_logs").insert(t);if(e)throw e}async function Bme(t){let e=io.from("audit_logs").select("*").order("timestamp",{ascending:!1});t?.date_from&&(e=e.gte("timestamp",t.date_from)),t?.date_to&&(e=e.lte("timestamp",t.date_to)),t?.room_number&&(e=e.eq("room_number",t.room_number)),t?.changed_by&&(e=e.eq("changed_by",t.changed_by));const{data:n,error:r}=await e;if(r)throw r;return n||[]}async function Fme(t){const{error:e}=await io.from("room_reports").insert({...t,created_at:new Date().toISOString()});if(e)throw e}async function jme(t){let e=io.from("room_reports").select("*").order("created_at",{ascending:!1});t?.room_number&&(e=e.eq("room_number",t.room_number)),t?.status&&(e=e.eq("status",t.status)),t?.report_type&&(e=e.eq("report_type",t.report_type));const{data:n,error:r}=await e;if(r)throw r;return n||[]}async function N5(t,e,n){const r={status:e};n&&(r.assigned_to=n),e==="Resolved"&&(r.resolved_at=new Date().toISOString());const{error:i}=await io.from("room_reports").update(r).eq("id",t);if(i)throw i}function zme(t){return io.channel("rooms_changes").on("postgres_changes",{event:"*",schema:"public",table:"rooms"},t).subscribe()}function Ty(){const{rooms:t,setRooms:e,updateRoom:n,currentUser:r,timer:i,startTimer:a,pauseTimer:o,resumeTimer:s,stopTimer:l,resetTimer:u,addNotification:d}=dh(),[h,g]=B.useState(!1),[y,b]=B.useState(null),_=B.useCallback(async()=>{g(!0),b(null);try{const R=await Ame();e(R)}catch(R){b(R.message),d({title:"Error loading rooms",message:R.message,type:"error"})}finally{g(!1)}},[e,d]);B.useEffect(()=>{_();const R=zme(k=>{k.eventType==="UPDATE"?n(k.new.id,k.new):k.eventType==="INSERT"&&e([...t,k.new])});return()=>{R.unsubscribe()}},[]);const x=B.useCallback(async(R,k,z)=>{if(!r){d({title:"Authentication required",message:"Please log in to change room status",type:"error"});return}try{const F=R.status;await Tme(R.id,k),await Ume({room_number:R.room_number,changed_by:r.id,changer_name:r.full_name,changer_role:r.role,from_status:F,to_status:k,timestamp:new Date().toISOString(),notes:z}),n(R.id,{status:k,last_updated:new Date().toISOString()}),d({title:"Status updated",message:`Room ${R.room_number} changed from ${F} to ${k}`,type:"success"})}catch(F){d({title:"Error updating status",message:F.message,type:"error"})}},[r,n,d]),w=B.useCallback(async(R,k)=>{if(r)try{const z=await Rme(R.room_number,r.id,k,`${k} started for room ${R.room_number}`);a(z,R.room_number,k);let F;switch(k){case"Cleaning":F="Cleaning";break;case"Repair":case"Maintenance":F="Out of Order";break;default:F=R.status}return F!==R.status&&await x(R,F,`${k} started`),d({title:"Task started",message:`${k} started for room ${R.room_number}`,type:"success"}),z}catch(z){d({title:"Error starting task",message:z.message,type:"error"})}},[r,a,x,d]),E=B.useCallback(async()=>{if(i.currentLogId)try{await Ome(i.currentLogId,i.elapsedTime),o(),d({title:"Task paused",message:`Task paused at ${Wv(i.elapsedTime)}`,type:"info"})}catch(R){d({title:"Error pausing task",message:R.message,type:"error"})}},[i,o,d]),A=B.useCallback(async()=>{if(i.currentLogId)try{await Pme(i.currentLogId),s(),d({title:"Task resumed",message:"Task timer resumed",type:"info"})}catch(R){d({title:"Error resuming task",message:R.message,type:"error"})}},[i,s,d]),C=B.useCallback(async(R,k)=>{if(!(!i.currentLogId||!r))try{await Dme(i.currentLogId,i.elapsedTime);let z;if(k)z=k;else switch(i.taskType){case"Cleaning":z="Vacant Clean";break;case"Inspection":z="Vacant Clean Inspected";break;case"Repair":case"Maintenance":z="Dirty";break;default:z=R.status}z!==R.status&&await x(R,z,`${i.taskType} completed`),d({title:"Task completed",message:`${i.taskType} completed for room ${R.room_number} in ${Wv(i.elapsedTime)}`,type:"success"}),l(),u()}catch(z){d({title:"Error completing task",message:z.message,type:"error"})}},[i,r,x,l,u,d]),T=B.useCallback(R=>t.filter(k=>k.status===R),[t]),O=B.useCallback((R,k)=>t.filter(z=>z.building===R&&(k===void 0||z.floor===k)),[t]),N=Array.from(new Set(t.map(R=>R.building))).sort();return{rooms:t,isLoading:h,error:y,buildings:N,loadRooms:_,changeRoomStatus:x,startTask:w,pauseTask:E,resumeTask:A,finishTask:C,getRoomsByStatus:T,getRoomsByBuildingFloor:O}}function Wv(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function Hme(){const{progress:t}=efe();return I.jsx(Y$,{"code-path":"src/components/3d/Dashboard3D.tsx:23:5",center:!0,children:I.jsxs("div",{"code-path":"src/components/3d/Dashboard3D.tsx:24:7",className:"flex flex-col items-center justify-center",children:[I.jsx("div",{"code-path":"src/components/3d/Dashboard3D.tsx:25:9",className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),I.jsxs("p",{"code-path":"src/components/3d/Dashboard3D.tsx:26:9",className:"mt-4 text-white text-lg",children:["Loading 3D Dashboard... ",t.toFixed(0),"%"]})]})})}function Vme({target:t}){const{camera:e}=So(),n=B.useRef(new de(...t));return xm(()=>{n.current.lerp(new de(...t),.05),e.lookAt(n.current)}),null}function Gme(){return I.jsxs(I.Fragment,{children:[I.jsx("ambientLight",{"code-path":"src/components/3d/Dashboard3D.tsx:49:7",intensity:.4}),I.jsx("directionalLight",{"code-path":"src/components/3d/Dashboard3D.tsx:50:7",position:[10,20,10],intensity:1,castShadow:!0,"shadow-mapSize":[2048,2048]}),I.jsx("directionalLight",{"code-path":"src/components/3d/Dashboard3D.tsx:56:7",position:[-10,10,-10],intensity:.5,color:"#4b5563"}),I.jsx("pointLight",{"code-path":"src/components/3d/Dashboard3D.tsx:61:7",position:[0,10,0],intensity:.3,color:"#3b82f6"})]})}function $me({position:t}){const e=["Dirty","Check-out Inspected","Cleaning","Vacant Clean","Vacant Clean Inspected","Occupied","Out of Order"],n={Dirty:"#ef4444","Check-out Inspected":"#f97316",Cleaning:"#3b82f6","Vacant Clean":"#22c55e","Vacant Clean Inspected":"#10b981",Occupied:"#8b5cf6","Out of Order":"#6b7280"};return I.jsxs("group",{"code-path":"src/components/3d/Dashboard3D.tsx:89:5",position:t,children:[I.jsx(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:90:7",position:[0,e.length*.6/2+.5,0],fontSize:.4,color:"white",anchorX:"center",anchorY:"middle",children:"Room Status"}),e.map((r,i)=>I.jsxs("group",{"code-path":"src/components/3d/Dashboard3D.tsx:100:9",position:[0,(e.length-i-1)*.6-1,0],children:[I.jsxs("mesh",{"code-path":"src/components/3d/Dashboard3D.tsx:101:11",position:[-2,0,0],children:[I.jsx("boxGeometry",{"code-path":"src/components/3d/Dashboard3D.tsx:102:13",args:[.4,.4,.4]}),I.jsx("meshStandardMaterial",{"code-path":"src/components/3d/Dashboard3D.tsx:103:13",color:n[r]})]}),I.jsx(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:105:11",position:[.5,0,0],fontSize:.25,color:"#d1d5db",anchorX:"left",anchorY:"middle",children:r})]},r))]})}function Wme({rooms:t,position:e}){const n={total:t.length,dirty:t.filter(r=>r.status==="Dirty").length,cleaning:t.filter(r=>r.status==="Cleaning").length,vacantClean:t.filter(r=>r.status==="Vacant Clean").length,occupied:t.filter(r=>r.status==="Occupied").length,ooo:t.filter(r=>r.status==="Out of Order").length};return I.jsxs("group",{"code-path":"src/components/3d/Dashboard3D.tsx:132:5",position:e,children:[I.jsxs("mesh",{"code-path":"src/components/3d/Dashboard3D.tsx:133:7",children:[I.jsx("planeGeometry",{"code-path":"src/components/3d/Dashboard3D.tsx:134:9",args:[4,5]}),I.jsx("meshStandardMaterial",{"code-path":"src/components/3d/Dashboard3D.tsx:135:9",color:"#111827",transparent:!0,opacity:.9})]}),I.jsx(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:137:7",position:[0,2,.01],fontSize:.35,color:"white",anchorX:"center",children:"Room Statistics"}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:140:7",position:[-1.5,1.2,.01],fontSize:.25,color:"#9ca3af",anchorX:"left",children:["Total Rooms: ",n.total]}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:143:7",position:[-1.5,.7,.01],fontSize:.25,color:"#ef4444",anchorX:"left",children:["Dirty: ",n.dirty]}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:146:7",position:[-1.5,.2,.01],fontSize:.25,color:"#3b82f6",anchorX:"left",children:["Cleaning: ",n.cleaning]}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:149:7",position:[-1.5,-.3,.01],fontSize:.25,color:"#22c55e",anchorX:"left",children:["Vacant Clean: ",n.vacantClean]}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:152:7",position:[-1.5,-.8,.01],fontSize:.25,color:"#8b5cf6",anchorX:"left",children:["Occupied: ",n.occupied]}),I.jsxs(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:155:7",position:[-1.5,-1.3,.01],fontSize:.25,color:"#6b7280",anchorX:"left",children:["Out of Order: ",n.ooo]})]})}function qme({rooms:t,onRoomClick:e,selectedRoomId:n,viewMode:r}){const i=B.useRef(null),[a]=B.useState([0,5,0]),o=Array.from(new Set(t.map(u=>u.building))).sort(),s=u=>{const h=(o.length-1)*25/2;return[u*25-h,0,0]},l=(u,d)=>t.filter(h=>h.building===u&&h.floor===d);return I.jsxs(I.Fragment,{children:[I.jsx(Gme,{"code-path":"src/components/3d/Dashboard3D.tsx:194:7"}),I.jsx(Hde,{"code-path":"src/components/3d/Dashboard3D.tsx:195:7",preset:"night"}),I.jsx($de,{"code-path":"src/components/3d/Dashboard3D.tsx:196:7",radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),I.jsx(Vme,{"code-path":"src/components/3d/Dashboard3D.tsx:198:7",target:a}),I.jsx(wde,{"code-path":"src/components/3d/Dashboard3D.tsx:200:7",ref:i,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:5,maxDistance:100,maxPolarAngle:Math.PI/2-.1}),I.jsx(Ede,{"code-path":"src/components/3d/Dashboard3D.tsx:211:7",position:[0,-.1,0],args:[200,200],cellSize:5,cellThickness:.5,cellColor:"#374151",sectionSize:25,sectionThickness:1,sectionColor:"#4b5563",fadeDistance:100,fadeStrength:1,infiniteGrid:!0}),r==="buildings"&&o.map((u,d)=>{const h=t.filter(b=>b.building===u),g=Math.max(...h.map(b=>b.floor)),y=Math.ceil(h.length/g);return I.jsx(qde,{"code-path":"src/components/3d/Dashboard3D.tsx:232:11",building:u,floors:g,roomsPerFloor:y,rooms:h,onRoomClick:e,selectedRoomId:n,position:s(d)},u)}),r==="floors"&&o.map((u,d)=>{const h=t.filter(y=>y.building===u),g=Math.max(...h.map(y=>y.floor));return I.jsxs("group",{"code-path":"src/components/3d/Dashboard3D.tsx:251:11",position:s(d),children:[I.jsx(Bs,{"code-path":"src/components/3d/Dashboard3D.tsx:252:13",position:[0,g*2.5+2,0],fontSize:1,color:"white",anchorX:"center",children:u}),Array.from({length:g},(y,b)=>{const _=b+1,x=l(u,_),w=Math.ceil(Math.sqrt(x.length))||1,E=2.5;return I.jsxs("group",{"code-path":"src/components/3d/Dashboard3D.tsx:262:17",position:[0,b*2.5,0],children:[I.jsx(wW,{"code-path":"src/components/3d/Dashboard3D.tsx:263:19",position:[0,0,0],size:[w*E+2,w*E+2],floorNumber:_,buildingName:""}),x.map((A,C)=>{const T=Math.floor(C/w),N=(C%w-w/2+.5)*E,R=(T-w/2+.5)*E;return I.jsx(SW,{"code-path":"src/components/3d/Dashboard3D.tsx:279:23",room:A,position:[N,.8,R],onClick:e,isSelected:n===A.id},A.id)})]},_)})]},u)}),I.jsx($me,{"code-path":"src/components/3d/Dashboard3D.tsx:296:7",position:[-30,5,-10]}),I.jsx(Wme,{"code-path":"src/components/3d/Dashboard3D.tsx:299:7",rooms:t,position:[30,5,-10]})]})}function jW({onRoomClick:t,selectedRoomId:e,viewMode:n="buildings",height:r="calc(100vh - 80px)"}){const{rooms:i,isLoading:a}=Ty(),{selectedRoom:o,setSelectedRoom:s}=dh(),[l,u]=B.useState(n);B.useEffect(()=>(I7(),()=>N7()),[]);const d=B.useCallback(g=>{s(g),t?.(g)},[t,s]),h=e??o?.id??null;return I.jsxs("div",{"code-path":"src/components/3d/Dashboard3D.tsx:336:5",className:"relative w-full",style:{height:r},children:[I.jsxs("div",{"code-path":"src/components/3d/Dashboard3D.tsx:338:7",className:"absolute top-4 left-4 z-10 flex gap-2",children:[I.jsx("button",{"code-path":"src/components/3d/Dashboard3D.tsx:339:9",onClick:()=>u("buildings"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="buildings"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Buildings"}),I.jsx("button",{"code-path":"src/components/3d/Dashboard3D.tsx:349:9",onClick:()=>u("floors"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l==="floors"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Floors"})]}),a&&I.jsx("div",{"code-path":"src/components/3d/Dashboard3D.tsx:363:9",className:"absolute inset-0 z-20 flex items-center justify-center bg-gray-900",children:I.jsxs("div",{"code-path":"src/components/3d/Dashboard3D.tsx:364:11",className:"text-center",children:[I.jsx("div",{"code-path":"src/components/3d/Dashboard3D.tsx:365:13",className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),I.jsx("p",{"code-path":"src/components/3d/Dashboard3D.tsx:366:13",className:"mt-4 text-white text-lg",children:"Loading rooms..."})]})}),I.jsx(Gue,{"code-path":"src/components/3d/Dashboard3D.tsx:372:7",shadows:!0,dpr:[1,2],gl:{antialias:!0,alpha:!0},camera:{position:[0,20,40],fov:60},children:I.jsx(B.Suspense,{"code-path":"src/components/3d/Dashboard3D.tsx:378:9",fallback:I.jsx(Hme,{"code-path":"src/components/3d/Dashboard3D.tsx:378:29"}),children:I.jsx(qme,{"code-path":"src/components/3d/Dashboard3D.tsx:379:11",rooms:i,onRoomClick:d,selectedRoomId:h,viewMode:l})})}),I.jsxs("div",{"code-path":"src/components/3d/Dashboard3D.tsx:389:7",className:"absolute bottom-4 left-4 z-10 bg-gray-900/80 backdrop-blur-sm rounded-lg p-4 text-sm text-gray-300",children:[I.jsx("p",{"code-path":"src/components/3d/Dashboard3D.tsx:390:9",className:"font-medium text-white mb-2",children:"Controls:"}),I.jsxs("ul",{"code-path":"src/components/3d/Dashboard3D.tsx:391:9",className:"space-y-1",children:[I.jsx("li",{"code-path":"src/components/3d/Dashboard3D.tsx:392:11",children:" Left click + drag to rotate"}),I.jsx("li",{"code-path":"src/components/3d/Dashboard3D.tsx:393:11",children:" Right click + drag to pan"}),I.jsx("li",{"code-path":"src/components/3d/Dashboard3D.tsx:394:11",children:" Scroll to zoom"}),I.jsx("li",{"code-path":"src/components/3d/Dashboard3D.tsx:395:11",children:" Click room to select"})]})]})]})}function Jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function k5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gf(...t){return e=>{let n=!1;const r=t.map(i=>{const a=k5(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():k5(t[i],null)}}}}function xr(...t){return B.useCallback(Gf(...t),t)}function Xme(t,e){const n=B.createContext(e),r=a=>{const{children:o,...s}=a,l=B.useMemo(()=>s,Object.values(s));return I.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(a){const o=B.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function $f(t,e=[]){let n=[];function r(a,o){const s=B.createContext(o),l=n.length;n=[...n,o];const u=h=>{const{scope:g,children:y,...b}=h,_=g?.[t]?.[l]||s,x=B.useMemo(()=>b,Object.values(b));return I.jsx(_.Provider,{value:x,children:y})};u.displayName=a+"Provider";function d(h,g){const y=g?.[t]?.[l]||s,b=B.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>B.createContext(o));return function(s){const l=s?.[t]||a;return B.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Yme(i,...e)]}function Yme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...s,...h}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ao=globalThis?.document?B.useLayoutEffect:()=>{},Kme=xL[" useId ".trim().toString()]||(()=>{}),Zme=0;function wu(t){const[e,n]=B.useState(Kme());return Ao(()=>{n(r=>r??String(Zme++))},[t]),t||(e?`radix-${e}`:"")}var Jme=xL[" useInsertionEffect ".trim().toString()]||Ao;function om({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=Qme({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const d=B.useRef(t!==void 0);B.useEffect(()=>{const h=d.current;h!==s&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const u=B.useCallback(d=>{if(s){const h=ege(d)?d(t):d;h!==t&&o.current?.(h)}else a(d)},[s,t,a,o]);return[l,u]}function Qme({defaultProp:t,onChange:e}){const[n,r]=B.useState(t),i=B.useRef(n),a=B.useRef(e);return Jme(()=>{a.current=e},[e]),B.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function ege(t){return typeof t=="function"}var G_=M7();const zW=Mr(G_);function tge(t){const e=nge(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,s=B.Children.toArray(a),l=s.find(ige);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function nge(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=oge(i),s=age(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rge=Symbol("radix.slottable");function ige(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rge}function age(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function oge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kn=sge.reduce((t,e)=>{const n=tge(`Primitive.${e}`),r=B.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(l,{...s,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HW(t,e){t&&G_.flushSync(()=>t.dispatchEvent(e))}function Cu(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...n)=>e.current?.(...n),[])}function lge(t,e=globalThis?.document){const n=Cu(t);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var cge="DismissableLayer",UN="dismissableLayer.update",uge="dismissableLayer.pointerDownOutside",fge="dismissableLayer.focusOutside",L5,VW=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TT=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,u=B.useContext(VW),[d,h]=B.useState(null),g=d?.ownerDocument??globalThis?.document,[,y]=B.useState({}),b=xr(e,N=>h(N)),_=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(x),E=d?_.indexOf(d):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,C=E>=w,T=pge(N=>{const R=N.target,k=[...u.branches].some(z=>z.contains(R));!C||k||(i?.(N),o?.(N),N.defaultPrevented||s?.())},g),O=mge(N=>{const R=N.target;[...u.branches].some(z=>z.contains(R))||(a?.(N),o?.(N),N.defaultPrevented||s?.())},g);return lge(N=>{E===u.layers.size-1&&(r?.(N),!N.defaultPrevented&&s&&(N.preventDefault(),s()))},g),B.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(L5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),U5(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=L5)}},[d,g,n,u]),B.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),U5())},[d,u]),B.useEffect(()=>{const N=()=>y({});return document.addEventListener(UN,N),()=>document.removeEventListener(UN,N)},[]),I.jsx(kn.div,{...l,ref:b,style:{pointerEvents:A?C?"auto":"none":void 0,...t.style},onFocusCapture:Jt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Jt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Jt(t.onPointerDownCapture,T.onPointerDownCapture)})});TT.displayName=cge;var dge="DismissableLayerBranch",hge=B.forwardRef((t,e)=>{const n=B.useContext(VW),r=B.useRef(null),i=xr(e,r);return B.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),I.jsx(kn.div,{...t,ref:i})});hge.displayName=dge;function pge(t,e=globalThis?.document){const n=Cu(t),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){GW(uge,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mge(t,e=globalThis?.document){const n=Cu(t),r=B.useRef(!1);return B.useEffect(()=>{const i=a=>{a.target&&!r.current&&GW(fge,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U5(){const t=new CustomEvent(UN);document.dispatchEvent(t)}function GW(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?HW(i,a):i.dispatchEvent(a)}var DO="focusScope.autoFocusOnMount",IO="focusScope.autoFocusOnUnmount",B5={bubbles:!1,cancelable:!0},gge="FocusScope",CT=B.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=B.useState(null),u=Cu(i),d=Cu(a),h=B.useRef(null),g=xr(e,_=>l(_)),y=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let _=function(A){if(y.paused||!s)return;const C=A.target;s.contains(C)?h.current=C:$d(h.current,{select:!0})},x=function(A){if(y.paused||!s)return;const C=A.relatedTarget;C!==null&&(s.contains(C)||$d(h.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const T of A)T.removedNodes.length>0&&$d(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const E=new MutationObserver(w);return s&&E.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),E.disconnect()}}},[r,s,y.paused]),B.useEffect(()=>{if(s){j5.add(y);const _=document.activeElement;if(!s.contains(_)){const w=new CustomEvent(DO,B5);s.addEventListener(DO,u),s.dispatchEvent(w),w.defaultPrevented||(vge(Sge($W(s)),{select:!0}),document.activeElement===_&&$d(s))}return()=>{s.removeEventListener(DO,u),setTimeout(()=>{const w=new CustomEvent(IO,B5);s.addEventListener(IO,d),s.dispatchEvent(w),w.defaultPrevented||$d(_??document.body,{select:!0}),s.removeEventListener(IO,d),j5.remove(y)},0)}}},[s,u,d,y]);const b=B.useCallback(_=>{if(!n&&!r||y.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,w=document.activeElement;if(x&&w){const E=_.currentTarget,[A,C]=yge(E);A&&C?!_.shiftKey&&w===C?(_.preventDefault(),n&&$d(A,{select:!0})):_.shiftKey&&w===A&&(_.preventDefault(),n&&$d(C,{select:!0})):w===E&&_.preventDefault()}},[n,r,y.paused]);return I.jsx(kn.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});CT.displayName=gge;function vge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($d(r,{select:e}),document.activeElement!==n)return}function yge(t){const e=$W(t),n=F5(e,t),r=F5(e.reverse(),t);return[n,r]}function $W(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function F5(t,e){for(const n of t)if(!bge(n,{upTo:e}))return n}function bge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xge(t){return t instanceof HTMLInputElement&&"select"in t}function $d(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xge(t)&&e&&t.select()}}var j5=_ge();function _ge(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=z5(t,e),t.unshift(e)},remove(e){t=z5(t,e),t[0]?.resume()}}}function z5(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Sge(t){return t.filter(e=>e.tagName!=="A")}var wge="Portal",RT=B.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=B.useState(!1);Ao(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?zW.createPortal(I.jsx(kn.div,{...r,ref:e}),o):null});RT.displayName=wge;function Mge(t,e){return B.useReducer((n,r)=>e[n][r]??n,t)}var Wf=t=>{const{present:e,children:n}=t,r=Ege(e),i=typeof n=="function"?n({present:r.isPresent}):B.Children.only(n),a=xr(r.ref,Age(i));return typeof n=="function"||r.isPresent?B.cloneElement(i,{ref:a}):null};Wf.displayName="Presence";function Ege(t){const[e,n]=B.useState(),r=B.useRef(null),i=B.useRef(t),a=B.useRef("none"),o=t?"mounted":"unmounted",[s,l]=Mge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=zw(r.current);a.current=s==="mounted"?u:"none"},[s]),Ao(()=>{const u=r.current,d=i.current;if(d!==t){const g=a.current,y=zw(u);t?l("MOUNT"):y==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ao(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const _=zw(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&_&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=y=>{y.target===e&&(a.current=zw(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:B.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zw(t){return t?.animationName||"none"}function Age(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NO=0;function TU(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H5()),document.body.insertAdjacentElement("beforeend",t[1]??H5()),NO++,()=>{NO===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),NO--}},[])}function H5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bM="right-scroll-bar-position",xM="width-before-scroll-bar",Tge="with-scroll-bars-hidden",Cge="--removed-body-scroll-bar-size";function kO(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rge(t,e){var n=B.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Oge=typeof window<"u"?B.useLayoutEffect:B.useEffect,V5=new WeakMap;function Pge(t,e){var n=Rge(null,function(r){return t.forEach(function(i){return kO(i,r)})});return Oge(function(){var r=V5.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(s){a.has(s)||kO(s,null)}),a.forEach(function(s){i.has(s)||kO(s,o)})}V5.set(n,t)},[t]),n}function Dge(t){return t}function Ige(t,e){e===void 0&&(e=Dge);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Nge(t){t===void 0&&(t={});var e=Ige(null);return e.options=yu({async:!0,ssr:!1},t),e}var WW=function(t){var e=t.sideCar,n=Ey(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,yu({},n))};WW.isSideCarExport=!0;function kge(t,e){return t.useMedium(e),WW}var qW=Nge(),LO=function(){},OT=B.forwardRef(function(t,e){var n=B.useRef(null),r=B.useState({onScrollCapture:LO,onWheelCapture:LO,onTouchMoveCapture:LO}),i=r[0],a=r[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,_=t.inert,x=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,A=t.gapMode,C=Ey(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,O=Pge([n,e]),N=yu(yu({},C),i);return B.createElement(B.Fragment,null,d&&B.createElement(T,{sideCar:qW,removeScrollBar:u,shards:h,noRelative:y,noIsolation:b,inert:_,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:A}),o?B.cloneElement(B.Children.only(s),yu(yu({},N),{ref:O})):B.createElement(E,yu({},N,{className:l,ref:O}),s))});OT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};OT.classNames={fullWidth:xM,zeroRight:bM};var Lge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uge(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lge();return e&&t.setAttribute("nonce",e),t}function Bge(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Fge(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var jge=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uge())&&(Bge(e,n),Fge(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zge=function(){var t=jge();return function(e,n){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},XW=function(){var t=zge(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Hge={left:0,top:0,right:0,gap:0},UO=function(t){return parseInt(t||"",10)||0},Vge=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[UO(n),UO(r),UO(i)]},Gge=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hge;var e=Vge(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$ge=XW(),Pv="data-scroll-locked",Wge=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tge,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Pv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bM,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(xM,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(bM," .").concat(bM,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xM," .").concat(xM,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pv,`] {
    `).concat(Cge,": ").concat(s,`px;
  }
`)},G5=function(){var t=parseInt(document.body.getAttribute(Pv)||"0",10);return isFinite(t)?t:0},qge=function(){B.useEffect(function(){return document.body.setAttribute(Pv,(G5()+1).toString()),function(){var t=G5()-1;t<=0?document.body.removeAttribute(Pv):document.body.setAttribute(Pv,t.toString())}},[])},Xge=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;qge();var a=B.useMemo(function(){return Gge(i)},[i]);return B.createElement($ge,{styles:Wge(a,!e,i,n?"":"!important")})},BN=!1;if(typeof window<"u")try{var Hw=Object.defineProperty({},"passive",{get:function(){return BN=!0,!0}});window.addEventListener("test",Hw,Hw),window.removeEventListener("test",Hw,Hw)}catch{BN=!1}var av=BN?{passive:!1}:!1,Yge=function(t){return t.tagName==="TEXTAREA"},YW=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yge(t)&&n[e]==="visible")},Kge=function(t){return YW(t,"overflowY")},Zge=function(t){return YW(t,"overflowX")},$5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=KW(t,r);if(i){var a=ZW(t,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jge=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qge=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},KW=function(t,e){return t==="v"?Kge(e):Zge(e)},ZW=function(t,e){return t==="v"?Jge(e):Qge(e)},eve=function(t,e){return t==="h"&&e==="rtl"?-1:1},tve=function(t,e,n,r,i){var a=eve(t,window.getComputedStyle(e).direction),o=a*r,s=n.target,l=e.contains(s),u=!1,d=o>0,h=0,g=0;do{if(!s)break;var y=ZW(t,s),b=y[0],_=y[1],x=y[2],w=_-x-a*b;(b||w)&&KW(t,s)&&(h+=w,g+=b);var E=s.parentNode;s=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(h)<1||!d&&Math.abs(g)<1)&&(u=!0),u},Vw=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W5=function(t){return[t.deltaX,t.deltaY]},q5=function(t){return t&&"current"in t?t.current:t},nve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ive=0,ov=[];function ave(t){var e=B.useRef([]),n=B.useRef([0,0]),r=B.useRef(),i=B.useState(ive++)[0],a=B.useState(XW)[0],o=B.useRef(t);B.useEffect(function(){o.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Yde([t.lockRef.current],(t.shards||[]).map(q5),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=B.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var w=Vw(_),E=n.current,A="deltaX"in _?_.deltaX:E[0]-w[0],C="deltaY"in _?_.deltaY:E[1]-w[1],T,O=_.target,N=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in _&&N==="h"&&O.type==="range")return!1;var R=window.getSelection(),k=R&&R.anchorNode,z=k?k===O||k.contains(O):!1;if(z)return!1;var F=$5(N,O);if(!F)return!0;if(F?T=N:(T=N==="v"?"h":"v",F=$5(N,O)),!F)return!1;if(!r.current&&"changedTouches"in _&&(A||C)&&(r.current=T),!T)return!0;var G=r.current||T;return tve(G,x,_,G==="h"?A:C)},[]),l=B.useCallback(function(_){var x=_;if(!(!ov.length||ov[ov.length-1]!==a)){var w="deltaY"in x?W5(x):Vw(x),E=e.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&nve(T.delta,w)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var A=(o.current.shards||[]).map(q5).filter(Boolean).filter(function(T){return T.contains(x.target)}),C=A.length>0?s(x,A[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),u=B.useCallback(function(_,x,w,E){var A={name:_,delta:x,target:w,should:E,shadowParent:ove(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(C){return C!==A})},1)},[]),d=B.useCallback(function(_){n.current=Vw(_),r.current=void 0},[]),h=B.useCallback(function(_){u(_.type,W5(_),_.target,s(_,t.lockRef.current))},[]),g=B.useCallback(function(_){u(_.type,Vw(_),_.target,s(_,t.lockRef.current))},[]);B.useEffect(function(){return ov.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,av),document.addEventListener("touchmove",l,av),document.addEventListener("touchstart",d,av),function(){ov=ov.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,av),document.removeEventListener("touchmove",l,av),document.removeEventListener("touchstart",d,av)}},[]);var y=t.removeScrollBar,b=t.inert;return B.createElement(B.Fragment,null,b?B.createElement(a,{styles:rve(i)}):null,y?B.createElement(Xge,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ove(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const sve=kge(qW,ave);var PT=B.forwardRef(function(t,e){return B.createElement(OT,yu({},t,{ref:e,sideCar:sve}))});PT.classNames=OT.classNames;var lve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sv=new WeakMap,Gw=new WeakMap,$w={},BO=0,JW=function(t){return t&&(t.host||JW(t.parentNode))},cve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=JW(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uve=function(t,e,n,r){var i=cve(e,Array.isArray(t)?t:[t]);$w[n]||($w[n]=new WeakMap);var a=$w[n],o=[],s=new Set,l=new Set(i),u=function(h){!h||s.has(h)||(s.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(s.has(g))d(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",_=(sv.get(g)||0)+1,x=(a.get(g)||0)+1;sv.set(g,_),a.set(g,x),o.push(g),_===1&&b&&Gw.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return d(e),s.clear(),BO++,function(){o.forEach(function(h){var g=sv.get(h)-1,y=a.get(h)-1;sv.set(h,g),a.set(h,y),g||(Gw.has(h)||h.removeAttribute(r),Gw.delete(h)),y||h.removeAttribute(n)}),BO--,BO||(sv=new WeakMap,sv=new WeakMap,Gw=new WeakMap,$w={})}},CU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=lve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),uve(r,i,n,"aria-hidden")):function(){return null}};function fve(t){const e=dve(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,s=B.Children.toArray(a),l=s.find(pve);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function dve(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=gve(i),s=mve(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hve=Symbol("radix.slottable");function pve(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hve}function mve(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function gve(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DT="Dialog",[QW]=$f(DT),[vve,Rc]=QW(DT),eq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=B.useRef(null),l=B.useRef(null),[u,d]=om({prop:r,defaultProp:i??!1,onChange:a,caller:DT});return I.jsx(vve,{scope:e,triggerRef:s,contentRef:l,contentId:wu(),titleId:wu(),descriptionId:wu(),open:u,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};eq.displayName=DT;var tq="DialogTrigger",nq=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rc(tq,n),a=xr(e,i.triggerRef);return I.jsx(kn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PU(i.open),...r,ref:a,onClick:Jt(t.onClick,i.onOpenToggle)})});nq.displayName=tq;var RU="DialogPortal",[yve,rq]=QW(RU,{forceMount:void 0}),iq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Rc(RU,e);return I.jsx(yve,{scope:e,forceMount:n,children:B.Children.map(r,o=>I.jsx(Wf,{present:n||a.open,children:I.jsx(RT,{asChild:!0,container:i,children:o})}))})};iq.displayName=RU;var AE="DialogOverlay",aq=B.forwardRef((t,e)=>{const n=rq(AE,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Rc(AE,t.__scopeDialog);return a.modal?I.jsx(Wf,{present:r||a.open,children:I.jsx(xve,{...i,ref:e})}):null});aq.displayName=AE;var bve=fve("DialogOverlay.RemoveScroll"),xve=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rc(AE,n);return I.jsx(PT,{as:bve,allowPinchZoom:!0,shards:[i.contentRef],children:I.jsx(kn.div,{"data-state":PU(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sm="DialogContent",oq=B.forwardRef((t,e)=>{const n=rq(sm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Rc(sm,t.__scopeDialog);return I.jsx(Wf,{present:r||a.open,children:a.modal?I.jsx(_ve,{...i,ref:e}):I.jsx(Sve,{...i,ref:e})})});oq.displayName=sm;var _ve=B.forwardRef((t,e)=>{const n=Rc(sm,t.__scopeDialog),r=B.useRef(null),i=xr(e,n.contentRef,r);return B.useEffect(()=>{const a=r.current;if(a)return CU(a)},[]),I.jsx(sq,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jt(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Jt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Jt(t.onFocusOutside,a=>a.preventDefault())})}),Sve=B.forwardRef((t,e)=>{const n=Rc(sm,t.__scopeDialog),r=B.useRef(!1),i=B.useRef(!1);return I.jsx(sq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),sq=B.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Rc(sm,n),l=B.useRef(null),u=xr(e,l);return TU(),I.jsxs(I.Fragment,{children:[I.jsx(CT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:I.jsx(TT,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":PU(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(Mve,{titleId:s.titleId}),I.jsx(Ave,{contentRef:l,descriptionId:s.descriptionId})]})]})}),OU="DialogTitle",lq=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rc(OU,n);return I.jsx(kn.h2,{id:i.titleId,...r,ref:e})});lq.displayName=OU;var cq="DialogDescription",wve=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rc(cq,n);return I.jsx(kn.p,{id:i.descriptionId,...r,ref:e})});wve.displayName=cq;var uq="DialogClose",fq=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rc(uq,n);return I.jsx(kn.button,{type:"button",...r,ref:e,onClick:Jt(t.onClick,()=>i.onOpenChange(!1))})});fq.displayName=uq;function PU(t){return t?"open":"closed"}var dq="DialogTitleWarning",[b2e,hq]=Xme(dq,{contentName:sm,titleName:OU,docsSlug:"dialog"}),Mve=({titleId:t})=>{const e=hq(dq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Eve="DialogDescriptionWarning",Ave=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hq(Eve).contentName}}.`;return B.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pq=eq,Tve=nq,mq=iq,gq=aq,vq=oq,yq=lq,bq=fq;function xq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xq(t))&&(r&&(r+=" "),r+=e);return r}const Cve=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Rve=(t,e)=>({classGroupId:t,validator:e}),_q=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),TE="-",X5=[],Ove="arbitrary..",Pve=t=>{const e=Ive(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Dve(o);const s=o.split(TE),l=s[0]===""&&s.length>1?1:0;return Sq(s,l,e)},getConflictingClassGroupIds:(o,s)=>{if(s){const l=r[o],u=n[o];return l?u?Cve(u,l):l:u||X5}return n[o]||X5}}},Sq=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const u=Sq(t,e+1,a);if(u)return u}const o=n.validators;if(o===null)return;const s=e===0?t.join(TE):t.slice(e).join(TE),l=o.length;for(let u=0;u<l;u++){const d=o[u];if(d.validator(s))return d.classGroupId}},Dve=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Ove+r:void 0})(),Ive=t=>{const{theme:e,classGroups:n}=t;return Nve(n,e)},Nve=(t,e)=>{const n=_q();for(const r in t){const i=t[r];DU(i,n,r,e)}return n},DU=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const o=t[a];kve(o,e,n,r)}},kve=(t,e,n,r)=>{if(typeof t=="string"){Lve(t,e,n);return}if(typeof t=="function"){Uve(t,e,n,r);return}Bve(t,e,n,r)},Lve=(t,e,n)=>{const r=t===""?e:wq(e,t);r.classGroupId=n},Uve=(t,e,n,r)=>{if(Fve(t)){DU(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Rve(n,t))},Bve=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let o=0;o<a;o++){const[s,l]=i[o];DU(l,wq(e,s),n,r)}},wq=(t,e)=>{let n=t;const r=e.split(TE),i=r.length;for(let a=0;a<i;a++){const o=r[a];let s=n.nextPart.get(o);s||(s=_q(),n.nextPart.set(o,s)),n=s}return n},Fve=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,jve=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,o)=>{n[a]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in n?n[a]=o:i(a,o)}}},FN="!",Y5=":",zve=[],K5=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Hve=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,s=0,l=0,u;const d=i.length;for(let _=0;_<d;_++){const x=i[_];if(o===0&&s===0){if(x===Y5){a.push(i.slice(l,_)),l=_+1;continue}if(x==="/"){u=_;continue}}x==="["?o++:x==="]"?o--:x==="("?s++:x===")"&&s--}const h=a.length===0?i:i.slice(l);let g=h,y=!1;h.endsWith(FN)?(g=h.slice(0,-1),y=!0):h.startsWith(FN)&&(g=h.slice(1),y=!0);const b=u&&u>l?u-l:void 0;return K5(a,y,g,b)};if(e){const i=e+Y5,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):K5(zve,!1,o,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},Vve=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const o=n[a],s=o[0]==="[",l=e.has(o);s||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},Gve=t=>({cache:jve(t.cacheSize),parseClassName:Hve(t),sortModifiers:Vve(t),...Pve(t)}),$ve=/\s+/,Wve=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],s=t.trim().split($ve);let l="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:h,modifiers:g,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:_}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let x=!!_,w=r(x?b.substring(0,_):b);if(!w){if(!x){l=d+(l.length>0?" "+l:l);continue}if(w=r(b),!w){l=d+(l.length>0?" "+l:l);continue}x=!1}const E=g.length===0?"":g.length===1?g[0]:a(g).join(":"),A=y?E+FN:E,C=A+w;if(o.indexOf(C)>-1)continue;o.push(C);const T=i(w,x);for(let O=0;O<T.length;++O){const N=T[O];o.push(A+N)}l=d+(l.length>0?" "+l:l)}return l},qve=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Mq(n))&&(i&&(i+=" "),i+=r);return i},Mq=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Mq(t[r]))&&(n&&(n+=" "),n+=e);return n},Xve=(t,...e)=>{let n,r,i,a;const o=l=>{const u=e.reduce((d,h)=>h(d),t());return n=Gve(u),r=n.cache.get,i=n.cache.set,a=s,s(l)},s=l=>{const u=r(l);if(u)return u;const d=Wve(l,n);return i(l,d),d};return a=o,(...l)=>a(qve(...l))},Yve=[],ya=t=>{const e=n=>n[t]||Yve;return e.isThemeGetter=!0,e},Eq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Aq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kve=/^\d+\/\d+$/,Zve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eye=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tye=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lv=t=>Kve.test(t),Kn=t=>!!t&&!Number.isNaN(Number(t)),Gd=t=>!!t&&Number.isInteger(Number(t)),FO=t=>t.endsWith("%")&&Kn(t.slice(0,-1)),wf=t=>Zve.test(t),nye=()=>!0,rye=t=>Jve.test(t)&&!Qve.test(t),Tq=()=>!1,iye=t=>eye.test(t),aye=t=>tye.test(t),oye=t=>!Qt(t)&&!en(t),sye=t=>Cy(t,Oq,Tq),Qt=t=>Eq.test(t),_p=t=>Cy(t,Pq,rye),jO=t=>Cy(t,dye,Kn),Z5=t=>Cy(t,Cq,Tq),lye=t=>Cy(t,Rq,aye),Ww=t=>Cy(t,Dq,iye),en=t=>Aq.test(t),Ab=t=>Ry(t,Pq),cye=t=>Ry(t,hye),J5=t=>Ry(t,Cq),uye=t=>Ry(t,Oq),fye=t=>Ry(t,Rq),qw=t=>Ry(t,Dq,!0),Cy=(t,e,n)=>{const r=Eq.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ry=(t,e,n=!1)=>{const r=Aq.exec(t);return r?r[1]?e(r[1]):n:!1},Cq=t=>t==="position"||t==="percentage",Rq=t=>t==="image"||t==="url",Oq=t=>t==="length"||t==="size"||t==="bg-size",Pq=t=>t==="length",dye=t=>t==="number",hye=t=>t==="family-name",Dq=t=>t==="shadow",pye=()=>{const t=ya("color"),e=ya("font"),n=ya("text"),r=ya("font-weight"),i=ya("tracking"),a=ya("leading"),o=ya("breakpoint"),s=ya("container"),l=ya("spacing"),u=ya("radius"),d=ya("shadow"),h=ya("inset-shadow"),g=ya("text-shadow"),y=ya("drop-shadow"),b=ya("blur"),_=ya("perspective"),x=ya("aspect"),w=ya("ease"),E=ya("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...C(),en,Qt],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],R=()=>[en,Qt,l],k=()=>[lv,"full","auto",...R()],z=()=>[Gd,"none","subgrid",en,Qt],F=()=>["auto",{span:["full",Gd,en,Qt]},Gd,en,Qt],G=()=>[Gd,"auto",en,Qt],V=()=>["auto","min","max","fr",en,Qt],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...R()],q=()=>[lv,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],Z=()=>[t,en,Qt],ee=()=>[...C(),J5,Z5,{position:[en,Qt]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",uye,sye,{size:[en,Qt]}],J=()=>[FO,Ab,_p],ne=()=>["","none","full",u,en,Qt],fe=()=>["",Kn,Ab,_p],ge=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Kn,FO,J5,Z5],pe=()=>["","none",b,en,Qt],xe=()=>["none",Kn,en,Qt],Oe=()=>["none",Kn,en,Qt],_e=()=>[Kn,en,Qt],ve=()=>[lv,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wf],breakpoint:[wf],color:[nye],container:[wf],"drop-shadow":[wf],ease:["in","out","in-out"],font:[oye],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wf],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wf],shadow:[wf],spacing:["px",Kn],text:[wf],"text-shadow":[wf],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lv,Qt,en,x]}],container:["container"],columns:[{columns:[Kn,Qt,en,s]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Gd,"auto",en,Qt]}],basis:[{basis:[lv,"full","auto",s,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kn,lv,"auto","initial","none",Qt]}],grow:[{grow:["",Kn,en,Qt]}],shrink:[{shrink:["",Kn,en,Qt]}],order:[{order:[Gd,"first","last","none",en,Qt]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[s,"screen",...q()]}],"min-w":[{"min-w":[s,"screen","none",...q()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,Ab,_p]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,en,jO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",FO,Qt]}],"font-family":[{font:[cye,Qt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,en,Qt]}],"line-clamp":[{"line-clamp":[Kn,"none",en,jO]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",en,Qt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",en,Qt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Kn,"from-font","auto",en,_p]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Kn,"auto",en,Qt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en,Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en,Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gd,en,Qt],radial:["",en,Qt],conic:[Gd,en,Qt]},fye,lye]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Kn,en,Qt]}],"outline-w":[{outline:["",Kn,Ab,_p]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",d,qw,Ww]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",h,qw,Ww]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Kn,_p]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",g,qw,Ww]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Kn,en,Qt]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kn]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[en,Qt]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Kn]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",en,Qt]}],filter:[{filter:["","none",en,Qt]}],blur:[{blur:pe()}],brightness:[{brightness:[Kn,en,Qt]}],contrast:[{contrast:[Kn,en,Qt]}],"drop-shadow":[{"drop-shadow":["","none",y,qw,Ww]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Kn,en,Qt]}],"hue-rotate":[{"hue-rotate":[Kn,en,Qt]}],invert:[{invert:["",Kn,en,Qt]}],saturate:[{saturate:[Kn,en,Qt]}],sepia:[{sepia:["",Kn,en,Qt]}],"backdrop-filter":[{"backdrop-filter":["","none",en,Qt]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Kn,en,Qt]}],"backdrop-contrast":[{"backdrop-contrast":[Kn,en,Qt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kn,en,Qt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kn,en,Qt]}],"backdrop-invert":[{"backdrop-invert":["",Kn,en,Qt]}],"backdrop-opacity":[{"backdrop-opacity":[Kn,en,Qt]}],"backdrop-saturate":[{"backdrop-saturate":[Kn,en,Qt]}],"backdrop-sepia":[{"backdrop-sepia":["",Kn,en,Qt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",en,Qt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kn,"initial",en,Qt]}],ease:[{ease:["linear","initial",w,en,Qt]}],delay:[{delay:[Kn,en,Qt]}],animate:[{animate:["none",E,en,Qt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,en,Qt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[en,Qt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en,Qt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en,Qt]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Kn,Ab,_p,jO]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mye=Xve(pye);function Zn(...t){return mye(Vn(t))}function Iq({...t}){return I.jsx(pq,{"code-path":"src/components/ui/dialog.tsx:10:10","data-slot":"dialog",...t})}function gye({...t}){return I.jsx(mq,{"code-path":"src/components/ui/dialog.tsx:22:10","data-slot":"dialog-portal",...t})}function vye({className:t,...e}){return I.jsx(gq,{"code-path":"src/components/ui/dialog.tsx:36:5","data-slot":"dialog-overlay",className:Zn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Nq({className:t,children:e,showCloseButton:n=!0,...r}){return I.jsxs(gye,{"code-path":"src/components/ui/dialog.tsx:56:5","data-slot":"dialog-portal",children:[I.jsx(vye,{"code-path":"src/components/ui/dialog.tsx:57:7"}),I.jsxs(vq,{"code-path":"src/components/ui/dialog.tsx:58:7","data-slot":"dialog-content",className:Zn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...r,children:[e,n&&I.jsxs(bq,{"code-path":"src/components/ui/dialog.tsx:68:11","data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[I.jsx(O7,{"code-path":"src/components/ui/dialog.tsx:72:13"}),I.jsx("span",{"code-path":"src/components/ui/dialog.tsx:73:13",className:"sr-only",children:"Close"})]})]})]})}function kq({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/dialog.tsx:83:5","data-slot":"dialog-header",className:Zn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Lq({className:t,...e}){return I.jsx(yq,{"code-path":"src/components/ui/dialog.tsx:109:5","data-slot":"dialog-title",className:Zn("text-lg leading-none font-semibold",t),...e})}var yye=Symbol.for("react.lazy"),CE=xL[" use ".trim().toString()];function bye(t){return typeof t=="object"&&t!==null&&"then"in t}function Uq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===yye&&"_payload"in t&&bye(t._payload)}function xye(t){const e=_ye(t),n=B.forwardRef((r,i)=>{let{children:a,...o}=r;Uq(a)&&typeof CE=="function"&&(a=CE(a._payload));const s=B.Children.toArray(a),l=s.find(wye);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var Bq=xye("Slot");function _ye(t){const e=B.forwardRef((n,r)=>{let{children:i,...a}=n;if(Uq(i)&&typeof CE=="function"&&(i=CE(i._payload)),B.isValidElement(i)){const o=Eye(i),s=Mye(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Sye=Symbol("radix.slottable");function wye(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sye}function Mye(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Eye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Q5=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ej=Vn,Fq=(t,e)=>n=>{var r;if(e?.variants==null)return ej(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=n?.[u],h=a?.[u];if(d===null)return null;const g=Q5(d)||Q5(h);return i[u][g]}),s=n&&Object.entries(n).reduce((u,d)=>{let[h,g]=d;return g===void 0||(u[h]=g),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:g,...y}=d;return Object.entries(y).every(b=>{let[_,x]=b;return Array.isArray(x)?x.includes({...a,...s}[_]):{...a,...s}[_]===x})?[...u,h,g]:u},[]);return ej(t,o,l,n?.class,n?.className)},Aye=Fq("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function mr({className:t,variant:e="default",size:n="default",asChild:r=!1,...i}){const a=r?Bq:"button";return I.jsx(a,{"code-path":"src/components/ui/button.tsx:52:5","data-slot":"button","data-variant":e,"data-size":n,className:Zn(Aye({variant:e,size:n,className:t})),...i})}const Tye=Fq("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Pl({className:t,variant:e,asChild:n=!1,...r}){const i=n?Bq:"span";return I.jsx(i,{"code-path":"src/components/ui/badge.tsx:38:5","data-slot":"badge",className:Zn(Tye({variant:e}),t),...r})}function tj(t){const e=Cye(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,s=B.Children.toArray(a),l=s.find(Oye);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Cye(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=Dye(i),s=Pye(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rye=Symbol("radix.slottable");function Oye(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rye}function Pye(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Dye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IT(t){const e=t+"CollectionProvider",[n,r]=$f(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:w}=_,E=he.useRef(null),A=he.useRef(new Map).current;return I.jsx(i,{scope:x,itemMap:A,collectionRef:E,children:w})};o.displayName=e;const s=t+"CollectionSlot",l=tj(s),u=he.forwardRef((_,x)=>{const{scope:w,children:E}=_,A=a(s,w),C=xr(x,A.collectionRef);return I.jsx(l,{ref:C,children:E})});u.displayName=s;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=tj(d),y=he.forwardRef((_,x)=>{const{scope:w,children:E,...A}=_,C=he.useRef(null),T=xr(x,C),O=a(d,w);return he.useEffect(()=>(O.itemMap.set(C,{ref:C,...A}),()=>{O.itemMap.delete(C)})),I.jsx(g,{[h]:"",ref:T,children:E})});y.displayName=d;function b(_){const x=a(t+"CollectionConsumer",_);return he.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((O,N)=>A.indexOf(O.ref.current)-A.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},b,r]}var Iye=B.createContext(void 0);function $_(t){const e=B.useContext(Iye);return t||e||"ltr"}var zO="rovingFocusGroup.onEntryFocus",Nye={bubbles:!1,cancelable:!0},W_="RovingFocusGroup",[jN,jq,kye]=IT(W_),[Lye,NT]=$f(W_,[kye]),[Uye,Bye]=Lye(W_),zq=B.forwardRef((t,e)=>I.jsx(jN.Provider,{scope:t.__scopeRovingFocusGroup,children:I.jsx(jN.Slot,{scope:t.__scopeRovingFocusGroup,children:I.jsx(Fye,{...t,ref:e})})}));zq.displayName=W_;var Fye=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,g=B.useRef(null),y=xr(e,g),b=$_(a),[_,x]=om({prop:o,defaultProp:s??null,onChange:l,caller:W_}),[w,E]=B.useState(!1),A=Cu(u),C=jq(n),T=B.useRef(!1),[O,N]=B.useState(0);return B.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(zO,A),()=>R.removeEventListener(zO,A)},[A]),I.jsx(Uye,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:_,onItemFocus:B.useCallback(R=>x(R),[x]),onItemShiftTab:B.useCallback(()=>E(!0),[]),onFocusableItemAdd:B.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:B.useCallback(()=>N(R=>R-1),[]),children:I.jsx(kn.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:Jt(t.onMouseDown,()=>{T.current=!0}),onFocus:Jt(t.onFocus,R=>{const k=!T.current;if(R.target===R.currentTarget&&k&&!w){const z=new CustomEvent(zO,Nye);if(R.currentTarget.dispatchEvent(z),!z.defaultPrevented){const F=C().filter(H=>H.focusable),G=F.find(H=>H.active),V=F.find(H=>H.id===_),K=[G,V,...F].filter(Boolean).map(H=>H.ref.current);Gq(K,d)}}T.current=!1}),onBlur:Jt(t.onBlur,()=>E(!1))})})}),Hq="RovingFocusGroupItem",Vq=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=t,l=wu(),u=a||l,d=Bye(Hq,n),h=d.currentTabStopId===u,g=jq(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:_}=d;return B.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),I.jsx(jN.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:I.jsx(kn.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:Jt(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Jt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Jt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=Hye(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let A=g().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")A.reverse();else if(w==="prev"||w==="next"){w==="prev"&&A.reverse();const C=A.indexOf(x.currentTarget);A=d.loop?Vye(A,C+1):A.slice(C+1)}setTimeout(()=>Gq(A))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:_!=null}):o})})});Vq.displayName=Hq;var jye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zye(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Hye(t,e,n){const r=zye(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jye[r]}function Gq(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Vye(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $q=zq,Wq=Vq,kT="Tabs",[Gye]=$f(kT,[NT]),qq=NT(),[$ye,IU]=Gye(kT),Xq=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,d=$_(s),[h,g]=om({prop:r,onChange:i,defaultProp:a??"",caller:kT});return I.jsx($ye,{scope:n,baseId:wu(),value:h,onValueChange:g,orientation:o,dir:d,activationMode:l,children:I.jsx(kn.div,{dir:d,"data-orientation":o,...u,ref:e})})});Xq.displayName=kT;var Yq="TabsList",Kq=B.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=IU(Yq,n),o=qq(n);return I.jsx($q,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:I.jsx(kn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Kq.displayName=Yq;var Zq="TabsTrigger",Jq=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=IU(Zq,n),s=qq(n),l=tX(o.baseId,r),u=nX(o.baseId,r),d=r===o.value;return I.jsx(Wq,{asChild:!0,...s,focusable:!i,active:d,children:I.jsx(kn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:Jt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Jt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Jt(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});Jq.displayName=Zq;var Qq="TabsContent",eX=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,s=IU(Qq,n),l=tX(s.baseId,r),u=nX(s.baseId,r),d=r===s.value,h=B.useRef(d);return B.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),I.jsx(Wf,{present:i||d,children:({present:g})=>I.jsx(kn.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});eX.displayName=Qq;function tX(t,e){return`${t}-trigger-${e}`}function nX(t,e){return`${t}-content-${e}`}var Wye=Xq,qye=Kq,Xye=Jq,Yye=eX;function Kye({className:t,...e}){return I.jsx(Wye,{"code-path":"src/components/ui/tabs.tsx:13:5","data-slot":"tabs",className:Zn("flex flex-col gap-2",t),...e})}function Zye({className:t,...e}){return I.jsx(qye,{"code-path":"src/components/ui/tabs.tsx:26:5","data-slot":"tabs-list",className:Zn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Xw({className:t,...e}){return I.jsx(Xye,{"code-path":"src/components/ui/tabs.tsx:42:5","data-slot":"tabs-trigger",className:Zn("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Yw({className:t,...e}){return I.jsx(Yye,{"code-path":"src/components/ui/tabs.tsx:58:5","data-slot":"tabs-content",className:Zn("flex-1 outline-none",t),...e})}function rX({className:t,...e}){return I.jsx("textarea",{"code-path":"src/components/ui/textarea.tsx:7:5","data-slot":"textarea",className:Zn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function RE(t,[e,n]){return Math.min(n,Math.max(e,t))}const Jye=["top","right","bottom","left"],uh=Math.min,Fs=Math.max,OE=Math.round,Kw=Math.floor,Mu=t=>({x:t,y:t}),Qye={left:"right",right:"left",bottom:"top",top:"bottom"},e0e={start:"end",end:"start"};function zN(t,e,n){return Fs(t,uh(e,n))}function Uf(t,e){return typeof t=="function"?t(e):t}function Bf(t){return t.split("-")[0]}function Oy(t){return t.split("-")[1]}function NU(t){return t==="x"?"y":"x"}function kU(t){return t==="y"?"height":"width"}const t0e=new Set(["top","bottom"]);function _u(t){return t0e.has(Bf(t))?"y":"x"}function LU(t){return NU(_u(t))}function n0e(t,e,n){n===void 0&&(n=!1);const r=Oy(t),i=LU(t),a=kU(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=PE(o)),[o,PE(o)]}function r0e(t){const e=PE(t);return[HN(t),e,HN(e)]}function HN(t){return t.replace(/start|end/g,e=>e0e[e])}const nj=["left","right"],rj=["right","left"],i0e=["top","bottom"],a0e=["bottom","top"];function o0e(t,e,n){switch(t){case"top":case"bottom":return n?e?rj:nj:e?nj:rj;case"left":case"right":return e?i0e:a0e;default:return[]}}function s0e(t,e,n,r){const i=Oy(t);let a=o0e(Bf(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(HN)))),a}function PE(t){return t.replace(/left|right|bottom|top/g,e=>Qye[e])}function l0e(t){return{top:0,right:0,bottom:0,left:0,...t}}function iX(t){return typeof t!="number"?l0e(t):{top:t,right:t,bottom:t,left:t}}function DE(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ij(t,e,n){let{reference:r,floating:i}=t;const a=_u(e),o=LU(e),s=kU(o),l=Bf(e),u=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Oy(e)){case"start":y[o]-=g*(n&&u?-1:1);break;case"end":y[o]+=g*(n&&u?-1:1);break}return y}const c0e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=ij(u,r,l),g=r,y={},b=0;for(let _=0;_<s.length;_++){const{name:x,fn:w}=s[_],{x:E,y:A,data:C,reset:T}=await w({x:d,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=A??h,y={...y,[x]:{...y[x],...C}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:d,y:h}=ij(u,g,l)),_=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:y}};async function Hx(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=Uf(e,t),b=iX(y),x=s[g?h==="floating"?"reference":"floating":h],w=DE(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),C=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},T=DE(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:E,offsetParent:A,strategy:l}):E);return{top:(w.top-T.top+b.top)/C.y,bottom:(T.bottom-w.bottom+b.bottom)/C.y,left:(w.left-T.left+b.left)/C.x,right:(T.right-w.right+b.right)/C.x}}const u0e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:d=0}=Uf(t,e)||{};if(u==null)return{};const h=iX(d),g={x:n,y:r},y=LU(i),b=kU(y),_=await o.getDimensions(u),x=y==="y",w=x?"top":"left",E=x?"bottom":"right",A=x?"clientHeight":"clientWidth",C=a.reference[b]+a.reference[y]-g[y]-a.floating[b],T=g[y]-a.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=O?O[A]:0;(!N||!await(o.isElement==null?void 0:o.isElement(O)))&&(N=s.floating[A]||a.floating[b]);const R=C/2-T/2,k=N/2-_[b]/2-1,z=uh(h[w],k),F=uh(h[E],k),G=z,V=N-_[b]-F,W=N/2-_[b]/2+R,K=zN(G,W,V),H=!l.arrow&&Oy(i)!=null&&W!==K&&a.reference[b]/2-(W<G?z:F)-_[b]/2<0,q=H?W<G?W-G:W-V:0;return{[y]:g[y]+q,data:{[y]:K,centerOffset:W-K-q,...H&&{alignmentOffset:q}},reset:H}}}),f0e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...x}=Uf(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=Bf(i),E=_u(s),A=Bf(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=g||(A||!_?[PE(s)]:r0e(s)),O=b!=="none";!g&&O&&T.push(...s0e(s,_,b,C));const N=[s,...T],R=await Hx(e,x),k=[];let z=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&k.push(R[w]),h){const W=n0e(i,o,C);k.push(R[W[0]],R[W[1]])}if(z=[...z,{placement:i,overflows:k}],!k.every(W=>W<=0)){var F,G;const W=(((F=a.flip)==null?void 0:F.index)||0)+1,K=N[W];if(K&&(!(h==="alignment"?E!==_u(K):!1)||z.every(Z=>_u(Z.placement)===E?Z.overflows[0]>0:!0)))return{data:{index:W,overflows:z},reset:{placement:K}};let H=(G=z.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:G.placement;if(!H)switch(y){case"bestFit":{var V;const q=(V=z.filter(Z=>{if(O){const ee=_u(Z.placement);return ee===E||ee==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ee=>ee>0).reduce((ee,ae)=>ee+ae,0)]).sort((Z,ee)=>Z[1]-ee[1])[0])==null?void 0:V[0];q&&(H=q);break}case"initialPlacement":H=s;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function aj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oj(t){return Jye.some(e=>t[e]>=0)}const d0e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Uf(t,e);switch(r){case"referenceHidden":{const a=await Hx(e,{...i,elementContext:"reference"}),o=aj(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oj(o)}}}case"escaped":{const a=await Hx(e,{...i,altBoundary:!0}),o=aj(a,n.floating);return{data:{escapedOffsets:o,escaped:oj(o)}}}default:return{}}}}},aX=new Set(["left","top"]);async function h0e(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Bf(n),s=Oy(n),l=_u(n)==="y",u=aX.has(o)?-1:1,d=a&&l?-1:1,h=Uf(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof b=="number"&&(y=s==="end"?b*-1:b),l?{x:y*d,y:g*u}:{x:g*u,y:y*d}}const p0e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await h0e(e,t);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},m0e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:x=>{let{x:w,y:E}=x;return{x:w,y:E}}},...l}=Uf(t,e),u={x:n,y:r},d=await Hx(e,l),h=_u(Bf(i)),g=NU(h);let y=u[g],b=u[h];if(a){const x=g==="y"?"top":"left",w=g==="y"?"bottom":"right",E=y+d[x],A=y-d[w];y=zN(E,y,A)}if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=b+d[x],A=b-d[w];b=zN(E,b,A)}const _=s.fn({...e,[g]:y,[h]:b});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:a,[h]:o}}}}}},g0e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Uf(t,e),d={x:n,y:r},h=_u(i),g=NU(h);let y=d[g],b=d[h];const _=Uf(s,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const A=g==="y"?"height":"width",C=a.reference[g]-a.floating[A]+x.mainAxis,T=a.reference[g]+a.reference[A]-x.mainAxis;y<C?y=C:y>T&&(y=T)}if(u){var w,E;const A=g==="y"?"width":"height",C=aX.has(Bf(i)),T=a.reference[h]-a.floating[A]+(C&&((w=o.offset)==null?void 0:w[h])||0)+(C?0:x.crossAxis),O=a.reference[h]+a.reference[A]+(C?0:((E=o.offset)==null?void 0:E[h])||0)-(C?x.crossAxis:0);b<T?b=T:b>O&&(b=O)}return{[g]:y,[h]:b}}}},v0e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...u}=Uf(t,e),d=await Hx(e,u),h=Bf(i),g=Oy(i),y=_u(i)==="y",{width:b,height:_}=a.floating;let x,w;h==="top"||h==="bottom"?(x=h,w=g===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(w=h,x=g==="end"?"top":"bottom");const E=_-d.top-d.bottom,A=b-d.left-d.right,C=uh(_-d[x],E),T=uh(b-d[w],A),O=!e.middlewareData.shift;let N=C,R=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=E),O&&!g){const z=Fs(d.left,0),F=Fs(d.right,0),G=Fs(d.top,0),V=Fs(d.bottom,0);y?R=b-2*(z!==0||F!==0?z+F:Fs(d.left,d.right)):N=_-2*(G!==0||V!==0?G+V:Fs(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:N});const k=await o.getDimensions(s.floating);return b!==k.width||_!==k.height?{reset:{rects:!0}}:{}}}};function LT(){return typeof window<"u"}function Py(t){return oX(t)?(t.nodeName||"").toLowerCase():"#document"}function Ws(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Nu(t){var e;return(e=(oX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oX(t){return LT()?t instanceof Node||t instanceof Ws(t).Node:!1}function Ec(t){return LT()?t instanceof Element||t instanceof Ws(t).Element:!1}function Ru(t){return LT()?t instanceof HTMLElement||t instanceof Ws(t).HTMLElement:!1}function sj(t){return!LT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ws(t).ShadowRoot}const y0e=new Set(["inline","contents"]);function q_(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ac(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!y0e.has(i)}const b0e=new Set(["table","td","th"]);function x0e(t){return b0e.has(Py(t))}const _0e=[":popover-open",":modal"];function UT(t){return _0e.some(e=>{try{return t.matches(e)}catch{return!1}})}const S0e=["transform","translate","scale","rotate","perspective"],w0e=["transform","translate","scale","rotate","perspective","filter"],M0e=["paint","layout","strict","content"];function UU(t){const e=BU(),n=Ec(t)?Ac(t):t;return S0e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||w0e.some(r=>(n.willChange||"").includes(r))||M0e.some(r=>(n.contain||"").includes(r))}function E0e(t){let e=fh(t);for(;Ru(e)&&!qv(e);){if(UU(e))return e;if(UT(e))return null;e=fh(e)}return null}function BU(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A0e=new Set(["html","body","#document"]);function qv(t){return A0e.has(Py(t))}function Ac(t){return Ws(t).getComputedStyle(t)}function BT(t){return Ec(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fh(t){if(Py(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sj(t)&&t.host||Nu(t);return sj(e)?e.host:e}function sX(t){const e=fh(t);return qv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ru(e)&&q_(e)?e:sX(e)}function Vx(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sX(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ws(i);if(a){const s=VN(o);return e.concat(o,o.visualViewport||[],q_(i)?i:[],s&&n?Vx(s):[])}return e.concat(i,Vx(i,[],n))}function VN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lX(t){const e=Ac(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ru(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=OE(n)!==a||OE(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function FU(t){return Ec(t)?t:t.contextElement}function Dv(t){const e=FU(t);if(!Ru(e))return Mu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=lX(e);let o=(a?OE(n.width):n.width)/r,s=(a?OE(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const T0e=Mu(0);function cX(t){const e=Ws(t);return!BU()||!e.visualViewport?T0e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C0e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ws(t)?!1:e}function lm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=FU(t);let o=Mu(1);e&&(r?Ec(r)&&(o=Dv(r)):o=Dv(t));const s=C0e(a,n,r)?cX(a):Mu(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const g=Ws(a),y=r&&Ec(r)?Ws(r):r;let b=g,_=VN(b);for(;_&&r&&y!==b;){const x=Dv(_),w=_.getBoundingClientRect(),E=Ac(_),A=w.left+(_.clientLeft+parseFloat(E.paddingLeft))*x.x,C=w.top+(_.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,h*=x.y,l+=A,u+=C,b=Ws(_),_=VN(b)}}return DE({width:d,height:h,x:l,y:u})}function FT(t,e){const n=BT(t).scrollLeft;return e?e.left+n:lm(Nu(t)).left+n}function uX(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-FT(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function R0e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Nu(r),s=e?UT(e.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},u=Mu(1);const d=Mu(0),h=Ru(r);if((h||!h&&!a)&&((Py(r)!=="body"||q_(o))&&(l=BT(r)),Ru(r))){const y=lm(r);u=Dv(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=o&&!h&&!a?uX(o,l):Mu(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function O0e(t){return Array.from(t.getClientRects())}function P0e(t){const e=Nu(t),n=BT(t),r=t.ownerDocument.body,i=Fs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Fs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+FT(t);const s=-n.scrollTop;return Ac(r).direction==="rtl"&&(o+=Fs(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}const lj=25;function D0e(t,e){const n=Ws(t),r=Nu(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const d=BU();(!d||d&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const u=FT(r);if(u<=0){const d=r.ownerDocument,h=d.body,g=getComputedStyle(h),y=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-y);b<=lj&&(a-=b)}else u<=lj&&(a+=u);return{width:a,height:o,x:s,y:l}}const I0e=new Set(["absolute","fixed"]);function N0e(t,e){const n=lm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ru(t)?Dv(t):Mu(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:o,height:s,x:l,y:u}}function cj(t,e,n){let r;if(e==="viewport")r=D0e(t,n);else if(e==="document")r=P0e(Nu(t));else if(Ec(e))r=N0e(e,n);else{const i=cX(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return DE(r)}function fX(t,e){const n=fh(t);return n===e||!Ec(n)||qv(n)?!1:Ac(n).position==="fixed"||fX(n,e)}function k0e(t,e){const n=e.get(t);if(n)return n;let r=Vx(t,[],!1).filter(s=>Ec(s)&&Py(s)!=="body"),i=null;const a=Ac(t).position==="fixed";let o=a?fh(t):t;for(;Ec(o)&&!qv(o);){const s=Ac(o),l=UU(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&I0e.has(i.position)||q_(o)&&!l&&fX(t,o))?r=r.filter(d=>d!==o):i=s,o=fh(o)}return e.set(t,r),r}function L0e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?UT(e)?[]:k0e(e,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,d)=>{const h=cj(e,d,i);return u.top=Fs(h.top,u.top),u.right=uh(h.right,u.right),u.bottom=uh(h.bottom,u.bottom),u.left=Fs(h.left,u.left),u},cj(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U0e(t){const{width:e,height:n}=lX(t);return{width:e,height:n}}function B0e(t,e,n){const r=Ru(e),i=Nu(e),a=n==="fixed",o=lm(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=Mu(0);function u(){l.x=FT(i)}if(r||!r&&!a)if((Py(e)!=="body"||q_(i))&&(s=BT(e)),r){const y=lm(e,!0,a,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?uX(i,s):Mu(0),h=o.left+s.scrollLeft-l.x-d.x,g=o.top+s.scrollTop-l.y-d.y;return{x:h,y:g,width:o.width,height:o.height}}function HO(t){return Ac(t).position==="static"}function uj(t,e){if(!Ru(t)||Ac(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Nu(t)===n&&(n=n.ownerDocument.body),n}function dX(t,e){const n=Ws(t);if(UT(t))return n;if(!Ru(t)){let i=fh(t);for(;i&&!qv(i);){if(Ec(i)&&!HO(i))return i;i=fh(i)}return n}let r=uj(t,e);for(;r&&x0e(r)&&HO(r);)r=uj(r,e);return r&&qv(r)&&HO(r)&&!UU(r)?n:r||E0e(t)||n}const F0e=async function(t){const e=this.getOffsetParent||dX,n=this.getDimensions,r=await n(t.floating);return{reference:B0e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j0e(t){return Ac(t).direction==="rtl"}const z0e={convertOffsetParentRelativeRectToViewportRelativeRect:R0e,getDocumentElement:Nu,getClippingRect:L0e,getOffsetParent:dX,getElementRects:F0e,getClientRects:O0e,getDimensions:U0e,getScale:Dv,isElement:Ec,isRTL:j0e};function hX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H0e(t,e){let n=null,r;const i=Nu(t);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:g,height:y}=u;if(s||e(),!g||!y)return;const b=Kw(h),_=Kw(i.clientWidth-(d+g)),x=Kw(i.clientHeight-(h+y)),w=Kw(d),A={rootMargin:-b+"px "+-_+"px "+-x+"px "+-w+"px",threshold:Fs(0,uh(1,l))||1};let C=!0;function T(O){const N=O[0].intersectionRatio;if(N!==l){if(!C)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!hX(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,A)}n.observe(t)}return o(!0),a}function V0e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=FU(t),d=i||a?[...u?Vx(u):[],...Vx(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const h=u&&s?H0e(u,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(w=>{let[E]=w;E&&E.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let b,_=l?lm(t):null;l&&x();function x(){const w=lm(t);_&&!hX(_,w)&&n(),_=w,b=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),h?.(),(w=y)==null||w.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const G0e=p0e,$0e=m0e,W0e=f0e,q0e=v0e,X0e=d0e,fj=u0e,Y0e=g0e,K0e=(t,e,n)=>{const r=new Map,i={platform:z0e,...n},a={...i.platform,_c:r};return c0e(t,e,{...i,platform:a})};var Z0e=typeof document<"u",J0e=function(){},_M=Z0e?B.useLayoutEffect:J0e;function IE(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!IE(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!IE(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function pX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dj(t,e){const n=pX(t);return Math.round(e*n)/n}function VO(t){const e=B.useRef(t);return _M(()=>{e.current=t}),e}function Q0e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[d,h]=B.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=B.useState(r);IE(g,r)||y(r);const[b,_]=B.useState(null),[x,w]=B.useState(null),E=B.useCallback(Z=>{Z!==O.current&&(O.current=Z,_(Z))},[]),A=B.useCallback(Z=>{Z!==N.current&&(N.current=Z,w(Z))},[]),C=a||b,T=o||x,O=B.useRef(null),N=B.useRef(null),R=B.useRef(d),k=l!=null,z=VO(l),F=VO(i),G=VO(u),V=B.useCallback(()=>{if(!O.current||!N.current)return;const Z={placement:e,strategy:n,middleware:g};F.current&&(Z.platform=F.current),K0e(O.current,N.current,Z).then(ee=>{const ae={...ee,isPositioned:G.current!==!1};W.current&&!IE(R.current,ae)&&(R.current=ae,G_.flushSync(()=>{h(ae)}))})},[g,e,n,F,G]);_M(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(Z=>({...Z,isPositioned:!1})))},[u]);const W=B.useRef(!1);_M(()=>(W.current=!0,()=>{W.current=!1}),[]),_M(()=>{if(C&&(O.current=C),T&&(N.current=T),C&&T){if(z.current)return z.current(C,T,V);V()}},[C,T,V,z,k]);const K=B.useMemo(()=>({reference:O,floating:N,setReference:E,setFloating:A}),[E,A]),H=B.useMemo(()=>({reference:C,floating:T}),[C,T]),q=B.useMemo(()=>{const Z={position:n,left:0,top:0};if(!H.floating)return Z;const ee=dj(H.floating,d.x),ae=dj(H.floating,d.y);return s?{...Z,transform:"translate("+ee+"px, "+ae+"px)",...pX(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:ae}},[n,s,H.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:V,refs:K,elements:H,floatingStyles:q}),[d,V,K,H,q])}const ebe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fj({element:r.current,padding:i}).fn(n):{}:r?fj({element:r,padding:i}).fn(n):{}}}},tbe=(t,e)=>({...G0e(t),options:[t,e]}),nbe=(t,e)=>({...$0e(t),options:[t,e]}),rbe=(t,e)=>({...Y0e(t),options:[t,e]}),ibe=(t,e)=>({...W0e(t),options:[t,e]}),abe=(t,e)=>({...q0e(t),options:[t,e]}),obe=(t,e)=>({...X0e(t),options:[t,e]}),sbe=(t,e)=>({...ebe(t),options:[t,e]});var lbe="Arrow",mX=B.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return I.jsx(kn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});mX.displayName=lbe;var cbe=mX;function gX(t){const[e,n]=B.useState(void 0);return Ao(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;n({width:o,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jU="Popper",[vX,jT]=$f(jU),[ube,yX]=vX(jU),bX=t=>{const{__scopePopper:e,children:n}=t,[r,i]=B.useState(null);return I.jsx(ube,{scope:e,anchor:r,onAnchorChange:i,children:n})};bX.displayName=jU;var xX="PopperAnchor",_X=B.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=yX(xX,n),o=B.useRef(null),s=xr(e,o),l=B.useRef(null);return B.useEffect(()=>{const u=l.current;l.current=r?.current||o.current,u!==l.current&&a.onAnchorChange(l.current)}),r?null:I.jsx(kn.div,{...i,ref:s})});_X.displayName=xX;var zU="PopperContent",[fbe,dbe]=vX(zU),SX=B.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,..._}=t,x=yX(zU,n),[w,E]=B.useState(null),A=xr(e,le=>E(le)),[C,T]=B.useState(null),O=gX(C),N=O?.width??0,R=O?.height??0,k=r+(a!=="center"?"-"+a:""),z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],G=F.length>0,V={padding:z,boundary:F.filter(pbe),altBoundary:G},{refs:W,floatingStyles:K,placement:H,isPositioned:q,middlewareData:Z}=Q0e({strategy:"fixed",placement:k,whileElementsMounted:(...le)=>V0e(...le,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[tbe({mainAxis:i+R,alignmentAxis:o}),l&&nbe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rbe():void 0,...V}),l&&ibe({...V}),abe({...V,apply:({elements:le,rects:pe,availableWidth:xe,availableHeight:Oe})=>{const{width:_e,height:ve}=pe.reference,Qe=le.floating.style;Qe.setProperty("--radix-popper-available-width",`${xe}px`),Qe.setProperty("--radix-popper-available-height",`${Oe}px`),Qe.setProperty("--radix-popper-anchor-width",`${_e}px`),Qe.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),C&&sbe({element:C,padding:s}),mbe({arrowWidth:N,arrowHeight:R}),g&&obe({strategy:"referenceHidden",...V})]}),[ee,ae]=EX(H),$=Cu(b);Ao(()=>{q&&$?.()},[q,$]);const J=Z.arrow?.x,ne=Z.arrow?.y,fe=Z.arrow?.centerOffset!==0,[ge,ce]=B.useState();return Ao(()=>{w&&ce(window.getComputedStyle(w).zIndex)},[w]),I.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:I.jsx(fbe,{scope:n,placedSide:ee,onArrowChange:T,arrowX:J,arrowY:ne,shouldHideArrow:fe,children:I.jsx(kn.div,{"data-side":ee,"data-align":ae,..._,ref:A,style:{..._.style,animation:q?void 0:"none"}})})})});SX.displayName=zU;var wX="PopperArrow",hbe={top:"bottom",right:"left",bottom:"top",left:"right"},MX=B.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=dbe(wX,r),o=hbe[a.placedSide];return I.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:I.jsx(cbe,{...i,ref:n,style:{...i.style,display:"block"}})})});MX.displayName=wX;function pbe(t){return t!==null}var mbe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=EX(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+s/2,y=(i.arrow?.y??0)+l/2;let b="",_="";return u==="bottom"?(b=o?h:`${g}px`,_=`${-l}px`):u==="top"?(b=o?h:`${g}px`,_=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,_=o?h:`${y}px`):u==="left"&&(b=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:b,y:_}}}});function EX(t){const[e,n="center"]=t.split("-");return[e,n]}var AX=bX,TX=_X,CX=SX,RX=MX;function gbe(t){const e=vbe(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,s=B.Children.toArray(a),l=s.find(bbe);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function vbe(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=_be(i),s=xbe(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ybe=Symbol("radix.slottable");function bbe(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ybe}function xbe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function _be(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OX(t){const e=B.useRef({value:t,previous:t});return B.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var PX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sbe="VisuallyHidden",wbe=B.forwardRef((t,e)=>I.jsx(kn.span,{...t,ref:e,style:{...PX,...t.style}}));wbe.displayName=Sbe;var Mbe=[" ","Enter","ArrowUp","ArrowDown"],Ebe=[" ","Enter"],cm="Select",[zT,HT,Abe]=IT(cm),[Dy]=$f(cm,[Abe,jT]),VT=jT(),[Tbe,vh]=Dy(cm),[Cbe,Rbe]=Dy(cm),DX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:g,required:y,form:b}=t,_=VT(e),[x,w]=B.useState(null),[E,A]=B.useState(null),[C,T]=B.useState(!1),O=$_(u),[N,R]=om({prop:r,defaultProp:i??!1,onChange:a,caller:cm}),[k,z]=om({prop:o,defaultProp:s,onChange:l,caller:cm}),F=B.useRef(null),G=x?b||!!x.closest("form"):!0,[V,W]=B.useState(new Set),K=Array.from(V).map(H=>H.props.value).join(";");return I.jsx(AX,{..._,children:I.jsxs(Tbe,{required:y,scope:e,trigger:x,onTriggerChange:w,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:C,onValueNodeHasChildrenChange:T,contentId:wu(),value:k,onValueChange:z,open:N,onOpenChange:R,dir:O,triggerPointerDownPosRef:F,disabled:g,children:[I.jsx(zT.Provider,{scope:e,children:I.jsx(Cbe,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(H=>{W(q=>new Set(q).add(H))},[]),onNativeOptionRemove:B.useCallback(H=>{W(q=>{const Z=new Set(q);return Z.delete(H),Z})},[]),children:n})}),G?I.jsxs(eY,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:H=>z(H.target.value),disabled:g,form:b,children:[k===void 0?I.jsx("option",{value:""}):null,Array.from(V)]},K):null]})})};DX.displayName=cm;var IX="SelectTrigger",NX=B.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=VT(n),o=vh(IX,n),s=o.disabled||r,l=xr(e,o.onTriggerChange),u=HT(n),d=B.useRef("touch"),[h,g,y]=nY(_=>{const x=u().filter(A=>!A.disabled),w=x.find(A=>A.value===o.value),E=rY(x,_,w);E!==void 0&&o.onValueChange(E.value)}),b=_=>{s||(o.onOpenChange(!0),y()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return I.jsx(TX,{asChild:!0,...a,children:I.jsx(kn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":tY(o.value)?"":void 0,...i,ref:l,onClick:Jt(i.onClick,_=>{_.currentTarget.focus(),d.current!=="mouse"&&b(_)}),onPointerDown:Jt(i.onPointerDown,_=>{d.current=_.pointerType;const x=_.target;x.hasPointerCapture(_.pointerId)&&x.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:Jt(i.onKeyDown,_=>{const x=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&g(_.key),!(x&&_.key===" ")&&Mbe.includes(_.key)&&(b(),_.preventDefault())})})})});NX.displayName=IX;var kX="SelectValue",LX=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=t,l=vh(kX,n),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,h=xr(e,l.onValueNodeChange);return Ao(()=>{u(d)},[u,d]),I.jsx(kn.span,{...s,ref:h,style:{pointerEvents:"none"},children:tY(l.value)?I.jsx(I.Fragment,{children:o}):a})});LX.displayName=kX;var Obe="SelectIcon",UX=B.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return I.jsx(kn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});UX.displayName=Obe;var Pbe="SelectPortal",BX=t=>I.jsx(RT,{asChild:!0,...t});BX.displayName=Pbe;var um="SelectContent",FX=B.forwardRef((t,e)=>{const n=vh(um,t.__scopeSelect),[r,i]=B.useState();if(Ao(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?G_.createPortal(I.jsx(jX,{scope:t.__scopeSelect,children:I.jsx(zT.Slot,{scope:t.__scopeSelect,children:I.jsx("div",{children:t.children})})}),a):null}return I.jsx(zX,{...t,ref:e})});FX.displayName=um;var hc=10,[jX,yh]=Dy(um),Dbe="SelectContentImpl",Ibe=gbe("SelectContent.RemoveScroll"),zX=B.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:_,avoidCollisions:x,...w}=t,E=vh(um,n),[A,C]=B.useState(null),[T,O]=B.useState(null),N=xr(e,le=>C(le)),[R,k]=B.useState(null),[z,F]=B.useState(null),G=HT(n),[V,W]=B.useState(!1),K=B.useRef(!1);B.useEffect(()=>{if(A)return CU(A)},[A]),TU();const H=B.useCallback(le=>{const[pe,...xe]=G().map(ve=>ve.ref.current),[Oe]=xe.slice(-1),_e=document.activeElement;for(const ve of le)if(ve===_e||(ve?.scrollIntoView({block:"nearest"}),ve===pe&&T&&(T.scrollTop=0),ve===Oe&&T&&(T.scrollTop=T.scrollHeight),ve?.focus(),document.activeElement!==_e))return},[G,T]),q=B.useCallback(()=>H([R,A]),[H,R,A]);B.useEffect(()=>{V&&q()},[V,q]);const{onOpenChange:Z,triggerPointerDownPosRef:ee}=E;B.useEffect(()=>{if(A){let le={x:0,y:0};const pe=Oe=>{le={x:Math.abs(Math.round(Oe.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(ee.current?.y??0))}},xe=Oe=>{le.x<=10&&le.y<=10?Oe.preventDefault():A.contains(Oe.target)||Z(!1),document.removeEventListener("pointermove",pe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",xe,{capture:!0})}}},[A,Z,ee]),B.useEffect(()=>{const le=()=>Z(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[Z]);const[ae,$]=nY(le=>{const pe=G().filter(_e=>!_e.disabled),xe=pe.find(_e=>_e.ref.current===document.activeElement),Oe=rY(pe,le,xe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),J=B.useCallback((le,pe,xe)=>{const Oe=!K.current&&!xe;(E.value!==void 0&&E.value===pe||Oe)&&(k(le),Oe&&(K.current=!0))},[E.value]),ne=B.useCallback(()=>A?.focus(),[A]),fe=B.useCallback((le,pe,xe)=>{const Oe=!K.current&&!xe;(E.value!==void 0&&E.value===pe||Oe)&&F(le)},[E.value]),ge=r==="popper"?GN:HX,ce=ge===GN?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:_,avoidCollisions:x}:{};return I.jsx(jX,{scope:n,content:A,viewport:T,onViewportChange:O,itemRefCallback:J,selectedItem:R,onItemLeave:ne,itemTextRefCallback:fe,focusSelectedItem:q,selectedItemText:z,position:r,isPositioned:V,searchRef:ae,children:I.jsx(PT,{as:Ibe,allowPinchZoom:!0,children:I.jsx(CT,{asChild:!0,trapped:E.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Jt(i,le=>{E.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:I.jsx(TT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:I.jsx(ge,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:le=>le.preventDefault(),...w,...ce,onPlaced:()=>W(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Jt(w.onKeyDown,le=>{const pe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!pe&&le.key.length===1&&$(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Oe=G().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const _e=le.target,ve=Oe.indexOf(_e);Oe=Oe.slice(ve+1)}setTimeout(()=>H(Oe)),le.preventDefault()}})})})})})})});zX.displayName=Dbe;var Nbe="SelectItemAlignedPosition",HX=B.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=vh(um,n),o=yh(um,n),[s,l]=B.useState(null),[u,d]=B.useState(null),h=xr(e,N=>d(N)),g=HT(n),y=B.useRef(!1),b=B.useRef(!0),{viewport:_,selectedItem:x,selectedItemText:w,focusSelectedItem:E}=o,A=B.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&_&&x&&w){const N=a.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),z=w.getBoundingClientRect();if(a.dir!=="rtl"){const _e=z.left-R.left,ve=k.left-_e,Qe=N.left-ve,Ee=N.width+Qe,Fe=Math.max(Ee,R.width),Ne=window.innerWidth-hc,Ge=RE(ve,[hc,Math.max(hc,Ne-Fe)]);s.style.minWidth=Ee+"px",s.style.left=Ge+"px"}else{const _e=R.right-z.right,ve=window.innerWidth-k.right-_e,Qe=window.innerWidth-N.right-ve,Ee=N.width+Qe,Fe=Math.max(Ee,R.width),Ne=window.innerWidth-hc,Ge=RE(ve,[hc,Math.max(hc,Ne-Fe)]);s.style.minWidth=Ee+"px",s.style.right=Ge+"px"}const F=g(),G=window.innerHeight-hc*2,V=_.scrollHeight,W=window.getComputedStyle(u),K=parseInt(W.borderTopWidth,10),H=parseInt(W.paddingTop,10),q=parseInt(W.borderBottomWidth,10),Z=parseInt(W.paddingBottom,10),ee=K+H+V+Z+q,ae=Math.min(x.offsetHeight*5,ee),$=window.getComputedStyle(_),J=parseInt($.paddingTop,10),ne=parseInt($.paddingBottom,10),fe=N.top+N.height/2-hc,ge=G-fe,ce=x.offsetHeight/2,le=x.offsetTop+ce,pe=K+H+le,xe=ee-pe;if(pe<=fe){const _e=F.length>0&&x===F[F.length-1].ref.current;s.style.bottom="0px";const ve=u.clientHeight-_.offsetTop-_.offsetHeight,Qe=Math.max(ge,ce+(_e?ne:0)+ve+q),Ee=pe+Qe;s.style.height=Ee+"px"}else{const _e=F.length>0&&x===F[0].ref.current;s.style.top="0px";const Qe=Math.max(fe,K+_.offsetTop+(_e?J:0)+ce)+xe;s.style.height=Qe+"px",_.scrollTop=pe-fe+_.offsetTop}s.style.margin=`${hc}px 0`,s.style.minHeight=ae+"px",s.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,s,u,_,x,w,a.dir,r]);Ao(()=>A(),[A]);const[C,T]=B.useState();Ao(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const O=B.useCallback(N=>{N&&b.current===!0&&(A(),E?.(),b.current=!1)},[A,E]);return I.jsx(Lbe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:I.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:I.jsx(kn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HX.displayName=Nbe;var kbe="SelectPopperPosition",GN=B.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hc,...a}=t,o=VT(n);return I.jsx(CX,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GN.displayName=kbe;var[Lbe,HU]=Dy(um,{}),$N="SelectViewport",VX=B.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=yh($N,n),o=HU($N,n),s=xr(e,a.onViewportChange),l=B.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),I.jsx(zT.Slot,{scope:n,children:I.jsx(kn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Jt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g?.current&&h){const y=Math.abs(l.current-d.scrollTop);if(y>0){const b=window.innerHeight-hc*2,_=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),w=Math.max(_,x);if(w<b){const E=w+y,A=Math.min(b,E),C=E-A;h.style.height=A+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});VX.displayName=$N;var GX="SelectGroup",[Ube,Bbe]=Dy(GX),Fbe=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wu();return I.jsx(Ube,{scope:n,id:i,children:I.jsx(kn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Fbe.displayName=GX;var $X="SelectLabel",jbe=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bbe($X,n);return I.jsx(kn.div,{id:i.id,...r,ref:e})});jbe.displayName=$X;var NE="SelectItem",[zbe,WX]=Dy(NE),qX=B.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,s=vh(NE,n),l=yh(NE,n),u=s.value===r,[d,h]=B.useState(a??""),[g,y]=B.useState(!1),b=xr(e,E=>l.itemRefCallback?.(E,r,i)),_=wu(),x=B.useRef("touch"),w=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(zbe,{scope:n,value:r,disabled:i,textId:_,isSelected:u,onItemTextChange:B.useCallback(E=>{h(A=>A||(E?.textContent??"").trim())},[]),children:I.jsx(zT.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:I.jsx(kn.div,{role:"option","aria-labelledby":_,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Jt(o.onFocus,()=>y(!0)),onBlur:Jt(o.onBlur,()=>y(!1)),onClick:Jt(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:Jt(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:Jt(o.onPointerDown,E=>{x.current=E.pointerType}),onPointerMove:Jt(o.onPointerMove,E=>{x.current=E.pointerType,i?l.onItemLeave?.():x.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Jt(o.onPointerLeave,E=>{E.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Jt(o.onKeyDown,E=>{l.searchRef?.current!==""&&E.key===" "||(Ebe.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});qX.displayName=NE;var Hb="SelectItemText",XX=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=vh(Hb,n),s=yh(Hb,n),l=WX(Hb,n),u=Rbe(Hb,n),[d,h]=B.useState(null),g=xr(e,w=>h(w),l.onItemTextChange,w=>s.itemTextRefCallback?.(w,l.value,l.disabled)),y=d?.textContent,b=B.useMemo(()=>I.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:x}=u;return Ao(()=>(_(b),()=>x(b)),[_,x,b]),I.jsxs(I.Fragment,{children:[I.jsx(kn.span,{id:l.textId,...a,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?G_.createPortal(a.children,o.valueNode):null]})});XX.displayName=Hb;var YX="SelectItemIndicator",KX=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return WX(YX,n).isSelected?I.jsx(kn.span,{"aria-hidden":!0,...r,ref:e}):null});KX.displayName=YX;var WN="SelectScrollUpButton",ZX=B.forwardRef((t,e)=>{const n=yh(WN,t.__scopeSelect),r=HU(WN,t.__scopeSelect),[i,a]=B.useState(!1),o=xr(e,r.onScrollButtonChange);return Ao(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=l.scrollTop>0;a(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?I.jsx(QX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});ZX.displayName=WN;var qN="SelectScrollDownButton",JX=B.forwardRef((t,e)=>{const n=yh(qN,t.__scopeSelect),r=HU(qN,t.__scopeSelect),[i,a]=B.useState(!1),o=xr(e,r.onScrollButtonChange);return Ao(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?I.jsx(QX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});JX.displayName=qN;var QX=B.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=yh("SelectScrollButton",n),o=B.useRef(null),s=HT(n),l=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>l(),[l]),Ao(()=>{s().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),I.jsx(kn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Jt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Jt(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Jt(i.onPointerLeave,()=>{l()})})}),Hbe="SelectSeparator",Vbe=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return I.jsx(kn.div,{"aria-hidden":!0,...r,ref:e})});Vbe.displayName=Hbe;var XN="SelectArrow",Gbe=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=VT(n),a=vh(XN,n),o=yh(XN,n);return a.open&&o.position==="popper"?I.jsx(RX,{...i,...r,ref:e}):null});Gbe.displayName=XN;var $be="SelectBubbleInput",eY=B.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=B.useRef(null),a=xr(r,i),o=OX(e);return B.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(h)}},[o,e]),I.jsx(kn.select,{...n,style:{...PX,...n.style},ref:a,defaultValue:e})});eY.displayName=$be;function tY(t){return t===""||t===void 0}function nY(t){const e=Cu(t),n=B.useRef(""),r=B.useRef(0),i=B.useCallback(o=>{const s=n.current+o;e(s),(function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),a=B.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function rY(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Wbe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Wbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qbe=DX,Xbe=NX,Ybe=LX,Kbe=UX,Zbe=BX,Jbe=FX,Qbe=VX,exe=qX,txe=XX,nxe=KX,rxe=ZX,ixe=JX;function hj({...t}){return I.jsx(qbe,{"code-path":"src/components/ui/select.tsx:10:10","data-slot":"select",...t})}function pj({...t}){return I.jsx(Ybe,{"code-path":"src/components/ui/select.tsx:22:10","data-slot":"select-value",...t})}function mj({className:t,size:e="default",children:n,...r}){return I.jsxs(Xbe,{"code-path":"src/components/ui/select.tsx:34:5","data-slot":"select-trigger","data-size":e,className:Zn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,I.jsx(Kbe,{"code-path":"src/components/ui/select.tsx:44:7",asChild:!0,children:I.jsx(_L,{"code-path":"src/components/ui/select.tsx:45:9",className:"size-4 opacity-50"})})]})}function gj({className:t,children:e,position:n="item-aligned",align:r="center",...i}){return I.jsx(Zbe,{"code-path":"src/components/ui/select.tsx:59:5",children:I.jsxs(Jbe,{"code-path":"src/components/ui/select.tsx:60:7","data-slot":"select-content",className:Zn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:r,...i,children:[I.jsx(axe,{"code-path":"src/components/ui/select.tsx:72:9"}),I.jsx(Qbe,{"code-path":"src/components/ui/select.tsx:73:9",className:Zn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),I.jsx(oxe,{"code-path":"src/components/ui/select.tsx:82:9"})]})})}function Mf({className:t,children:e,...n}){return I.jsxs(exe,{"code-path":"src/components/ui/select.tsx:107:5","data-slot":"select-item",className:Zn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[I.jsx("span",{"code-path":"src/components/ui/select.tsx:115:7","data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:I.jsx(nxe,{"code-path":"src/components/ui/select.tsx:119:9",children:I.jsx(gee,{"code-path":"src/components/ui/select.tsx:120:11",className:"size-4"})})}),I.jsx(txe,{"code-path":"src/components/ui/select.tsx:123:7",children:e})]})}function axe({className:t,...e}){return I.jsx(rxe,{"code-path":"src/components/ui/select.tsx:146:5","data-slot":"select-scroll-up-button",className:Zn("flex cursor-default items-center justify-center py-1",t),...e,children:I.jsx(bee,{"code-path":"src/components/ui/select.tsx:154:7",className:"size-4"})})}function oxe({className:t,...e}){return I.jsx(ixe,{"code-path":"src/components/ui/select.tsx:164:5","data-slot":"select-scroll-down-button",className:Zn("flex cursor-default items-center justify-center py-1",t),...e,children:I.jsx(_L,{"code-path":"src/components/ui/select.tsx:172:7",className:"size-4"})})}function sxe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const lxe=t=>{switch(t){case"success":return fxe;case"info":return hxe;case"warning":return dxe;case"error":return pxe;default:return null}},cxe=Array(12).fill(0),uxe=({visible:t,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},he.createElement("div",{className:"sonner-spinner"},cxe.map((n,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fxe=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dxe=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hxe=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pxe=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mxe=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gxe=()=>{const[t,e]=he.useState(document.hidden);return he.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let YN=1;class vxe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:YN++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:s,title:r}):l):this.addToast({title:r,...i,dismissible:s,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const s=i.then(async u=>{if(o=["resolve",u],he.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(bxe(u)&&!u.ok){a=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,b=typeof h=="object"&&!he.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...b})}else if(u instanceof Error){a=!1;const h=typeof n.error=="function"?await n.error(u):n.error,g=typeof n.description=="function"?await n.description(u):n.description,b=typeof h=="object"&&!he.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:g,...b})}else if(n.success!==void 0){a=!1;const h=typeof n.success=="function"?await n.success(u):n.success,g=typeof n.description=="function"?await n.description(u):n.description,b=typeof h=="object"&&!he.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:g,...b})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){a=!1;const d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!he.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...y})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,d)=>s.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||YN++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _s=new vxe,yxe=(t,e)=>{const n=e?.id||YN++;return _s.addToast({title:t,...e,id:n}),n},bxe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xxe=yxe,_xe=()=>_s.toasts,Sxe=()=>_s.getActiveToasts(),Qi=Object.assign(xxe,{success:_s.success,info:_s.info,warning:_s.warning,error:_s.error,custom:_s.custom,message:_s.message,promise:_s.promise,dismiss:_s.dismiss,loading:_s.loading},{getHistory:_xe,getToasts:Sxe});sxe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Zw(t){return t.label!==void 0}const wxe=3,Mxe="24px",Exe="16px",vj=4e3,Axe=356,Txe=14,Cxe=45,Rxe=200;function mu(...t){return t.filter(Boolean).join(" ")}function Oxe(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Pxe=t=>{var e,n,r,i,a,o,s,l,u;const{invert:d,toast:h,unstyled:g,interacting:y,setHeights:b,visibleToasts:_,heights:x,index:w,toasts:E,expanded:A,removeToast:C,defaultRichColors:T,closeButton:O,style:N,cancelButtonStyle:R,actionButtonStyle:k,className:z="",descriptionClassName:F="",duration:G,position:V,gap:W,expandByDefault:K,classNames:H,icons:q,closeButtonAriaLabel:Z="Close toast"}=t,[ee,ae]=he.useState(null),[$,J]=he.useState(null),[ne,fe]=he.useState(!1),[ge,ce]=he.useState(!1),[le,pe]=he.useState(!1),[xe,Oe]=he.useState(!1),[_e,ve]=he.useState(!1),[Qe,Ee]=he.useState(0),[Fe,Ne]=he.useState(0),Ge=he.useRef(h.duration||G||vj),ie=he.useRef(null),et=he.useRef(null),Ke=w===0,Be=w+1<=_,He=h.type,re=h.dismissible!==!1,X=h.className||"",ye=h.descriptionClassName||"",je=he.useMemo(()=>x.findIndex(Ce=>Ce.toastId===h.id)||0,[x,h.id]),Ue=he.useMemo(()=>{var Ce;return(Ce=h.closeButton)!=null?Ce:O},[h.closeButton,O]),ke=he.useMemo(()=>h.duration||G||vj,[h.duration,G]),ut=he.useRef(0),lt=he.useRef(0),Tt=he.useRef(0),Dt=he.useRef(null),[Ye,$e]=V.split("-"),rt=he.useMemo(()=>x.reduce((Ce,gt,Et)=>Et>=je?Ce:Ce+gt.height,0),[x,je]),me=gxe(),Le=h.invert||d,dt=He==="loading";lt.current=he.useMemo(()=>je*W+rt,[je,rt]),he.useEffect(()=>{Ge.current=ke},[ke]),he.useEffect(()=>{fe(!0)},[]),he.useEffect(()=>{const Ce=et.current;if(Ce){const gt=Ce.getBoundingClientRect().height;return Ne(gt),b(Et=>[{toastId:h.id,height:gt,position:h.position},...Et]),()=>b(Et=>Et.filter(Ct=>Ct.toastId!==h.id))}},[b,h.id]),he.useLayoutEffect(()=>{if(!ne)return;const Ce=et.current,gt=Ce.style.height;Ce.style.height="auto";const Et=Ce.getBoundingClientRect().height;Ce.style.height=gt,Ne(Et),b(Ct=>Ct.find(rn=>rn.toastId===h.id)?Ct.map(rn=>rn.toastId===h.id?{...rn,height:Et}:rn):[{toastId:h.id,height:Et,position:h.position},...Ct])},[ne,h.title,h.description,b,h.id,h.jsx,h.action,h.cancel]);const be=he.useCallback(()=>{ce(!0),Ee(lt.current),b(Ce=>Ce.filter(gt=>gt.toastId!==h.id)),setTimeout(()=>{C(h)},Rxe)},[h,C,b,lt]);he.useEffect(()=>{if(h.promise&&He==="loading"||h.duration===1/0||h.type==="loading")return;let Ce;return A||y||me?(()=>{if(Tt.current<ut.current){const Ct=new Date().getTime()-ut.current;Ge.current=Ge.current-Ct}Tt.current=new Date().getTime()})():Ge.current!==1/0&&(ut.current=new Date().getTime(),Ce=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),be()},Ge.current)),()=>clearTimeout(Ce)},[A,y,h,He,me,be]),he.useEffect(()=>{h.delete&&(be(),h.onDismiss==null||h.onDismiss.call(h,h))},[be,h.delete]);function Ae(){var Ce;if(q?.loading){var gt;return he.createElement("div",{className:mu(H?.loader,h==null||(gt=h.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":He==="loading"},q.loading)}return he.createElement(uxe,{className:mu(H?.loader,h==null||(Ce=h.classNames)==null?void 0:Ce.loader),visible:He==="loading"})}const it=h.icon||q?.[He]||lxe(He);var Pt,ct;return he.createElement("li",{tabIndex:0,ref:et,className:mu(z,X,H?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,H?.default,H?.[He],h==null||(n=h.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(Pt=h.richColors)!=null?Pt:T,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":ne,"data-promise":!!h.promise,"data-swiped":_e,"data-removed":ge,"data-visible":Be,"data-y-position":Ye,"data-x-position":$e,"data-index":w,"data-front":Ke,"data-swiping":le,"data-dismissible":re,"data-type":He,"data-invert":Le,"data-swipe-out":xe,"data-swipe-direction":$,"data-expanded":!!(A||K&&ne),"data-testid":h.testId,style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${ge?Qe:lt.current}px`,"--initial-height":K?"auto":`${Fe}px`,...N,...h.style},onDragEnd:()=>{pe(!1),ae(null),Dt.current=null},onPointerDown:Ce=>{Ce.button!==2&&(dt||!re||(ie.current=new Date,Ee(lt.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(pe(!0),Dt.current={x:Ce.clientX,y:Ce.clientY})))},onPointerUp:()=>{var Ce,gt,Et;if(xe||!re)return;Dt.current=null;const Ct=Number(((Ce=et.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$t=Number(((gt=et.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rn=new Date().getTime()-((Et=ie.current)==null?void 0:Et.getTime()),hn=ee==="x"?Ct:$t,Jn=Math.abs(hn)/rn;if(Math.abs(hn)>=Cxe||Jn>.11){Ee(lt.current),h.onDismiss==null||h.onDismiss.call(h,h),J(ee==="x"?Ct>0?"right":"left":$t>0?"down":"up"),be(),Oe(!0);return}else{var rr,gr;(rr=et.current)==null||rr.style.setProperty("--swipe-amount-x","0px"),(gr=et.current)==null||gr.style.setProperty("--swipe-amount-y","0px")}ve(!1),pe(!1),ae(null)},onPointerMove:Ce=>{var gt,Et,Ct;if(!Dt.current||!re||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const rn=Ce.clientY-Dt.current.y,hn=Ce.clientX-Dt.current.x;var Jn;const rr=(Jn=t.swipeDirections)!=null?Jn:Oxe(V);!ee&&(Math.abs(hn)>1||Math.abs(rn)>1)&&ae(Math.abs(hn)>Math.abs(rn)?"x":"y");let gr={x:0,y:0};const Zr=hr=>1/(1.5+Math.abs(hr)/20);if(ee==="y"){if(rr.includes("top")||rr.includes("bottom"))if(rr.includes("top")&&rn<0||rr.includes("bottom")&&rn>0)gr.y=rn;else{const hr=rn*Zr(rn);gr.y=Math.abs(hr)<Math.abs(rn)?hr:rn}}else if(ee==="x"&&(rr.includes("left")||rr.includes("right")))if(rr.includes("left")&&hn<0||rr.includes("right")&&hn>0)gr.x=hn;else{const hr=hn*Zr(hn);gr.x=Math.abs(hr)<Math.abs(hn)?hr:hn}(Math.abs(gr.x)>0||Math.abs(gr.y)>0)&&ve(!0),(Et=et.current)==null||Et.style.setProperty("--swipe-amount-x",`${gr.x}px`),(Ct=et.current)==null||Ct.style.setProperty("--swipe-amount-y",`${gr.y}px`)}},Ue&&!h.jsx&&He!=="loading"?he.createElement("button",{"aria-label":Z,"data-disabled":dt,"data-close-button":!0,onClick:dt||!re?()=>{}:()=>{be(),h.onDismiss==null||h.onDismiss.call(h,h)},className:mu(H?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ct=q?.close)!=null?ct:mxe):null,(He||h.icon||h.promise)&&h.icon!==null&&(q?.[He]!==null||h.icon)?he.createElement("div",{"data-icon":"",className:mu(H?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ae():null,h.type!=="loading"?it:null):null,he.createElement("div",{"data-content":"",className:mu(H?.content,h==null||(a=h.classNames)==null?void 0:a.content)},he.createElement("div",{"data-title":"",className:mu(H?.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?he.createElement("div",{"data-description":"",className:mu(F,ye,H?.description,h==null||(s=h.classNames)==null?void 0:s.description)},typeof h.description=="function"?h.description():h.description):null),he.isValidElement(h.cancel)?h.cancel:h.cancel&&Zw(h.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:Ce=>{Zw(h.cancel)&&re&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ce),be())},className:mu(H?.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,he.isValidElement(h.action)?h.action:h.action&&Zw(h.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:Ce=>{Zw(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ce),!Ce.defaultPrevented&&be())},className:mu(H?.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function yj(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Dxe(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",s=a?Exe:Mxe;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=s:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(s)}),n}const bj=he.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:l,className:u,offset:d,mobileOffset:h,theme:g="light",richColors:y,duration:b,style:_,visibleToasts:x=wxe,toastOptions:w,dir:E=yj(),gap:A=Txe,icons:C,containerAriaLabel:T="Notifications"}=e,[O,N]=he.useState([]),R=he.useMemo(()=>r?O.filter(ne=>ne.toasterId===r):O.filter(ne=>!ne.toasterId),[O,r]),k=he.useMemo(()=>Array.from(new Set([a].concat(R.filter(ne=>ne.position).map(ne=>ne.position)))),[R,a]),[z,F]=he.useState([]),[G,V]=he.useState(!1),[W,K]=he.useState(!1),[H,q]=he.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=he.useRef(null),ee=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=he.useRef(null),$=he.useRef(!1),J=he.useCallback(ne=>{N(fe=>{var ge;return(ge=fe.find(ce=>ce.id===ne.id))!=null&&ge.delete||_s.dismiss(ne.id),fe.filter(({id:ce})=>ce!==ne.id)})},[]);return he.useEffect(()=>_s.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{N(fe=>fe.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{zW.flushSync(()=>{N(fe=>{const ge=fe.findIndex(ce=>ce.id===ne.id);return ge!==-1?[...fe.slice(0,ge),{...fe[ge],...ne},...fe.slice(ge+1)]:[ne,...fe]})})})}),[O]),he.useEffect(()=>{if(g!=="system"){q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:fe})=>{q(fe?"dark":"light")})}catch{ne.addListener(({matches:ge})=>{try{q(ge?"dark":"light")}catch(ce){console.error(ce)}})}},[g]),he.useEffect(()=>{O.length<=1&&V(!1)},[O]),he.useEffect(()=>{const ne=fe=>{var ge;if(o.every(pe=>fe[pe]||fe.code===pe)){var le;V(!0),(le=Z.current)==null||le.focus()}fe.code==="Escape"&&(document.activeElement===Z.current||(ge=Z.current)!=null&&ge.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[o]),he.useEffect(()=>{if(Z.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,$.current=!1)}},[Z.current]),he.createElement("section",{ref:n,"aria-label":`${T} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((ne,fe)=>{var ge;const[ce,le]=ne.split("-");return R.length?he.createElement("ol",{key:ne,dir:E==="auto"?yj():E,tabIndex:-1,ref:Z,className:u,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":ce,"data-x-position":le,style:{"--front-toast-height":`${((ge=z[0])==null?void 0:ge.height)||0}px`,"--width":`${Axe}px`,"--gap":`${A}px`,..._,...Dxe(d,h)},onBlur:pe=>{$.current&&!pe.currentTarget.contains(pe.relatedTarget)&&($.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||$.current||($.current=!0,ae.current=pe.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{W||V(!1)},onDragEnd:()=>V(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},R.filter(pe=>!pe.position&&fe===0||pe.position===ne).map((pe,xe)=>{var Oe,_e;return he.createElement(Pxe,{key:pe.id,icons:C,index:xe,toast:pe,defaultRichColors:y,duration:(Oe=w?.duration)!=null?Oe:b,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:x,closeButton:(_e=w?.closeButton)!=null?_e:l,interacting:W,position:ne,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:J,toasts:R.filter(ve=>ve.position==pe.position),heights:z.filter(ve=>ve.position==pe.position),setHeights:F,expandByDefault:s,gap:A,expanded:G,swipeDirections:e.swipeDirections})})):null}))}),Ixe={Dirty:["Check-out Inspected","Cleaning","Out of Order"],"Check-out Inspected":["Cleaning","Out of Order"],Cleaning:["Vacant Clean","Dirty"],"Vacant Clean":["Vacant Clean Inspected","Dirty","Occupied"],"Vacant Clean Inspected":["Occupied","Dirty"],Occupied:["Dirty","Out of Order"],"Out of Order":["Dirty"]},Jw={Dirty:"bg-red-500","Check-out Inspected":"bg-orange-500",Cleaning:"bg-blue-500","Vacant Clean":"bg-green-500","Vacant Clean Inspected":"bg-emerald-500",Occupied:"bg-purple-500","Out of Order":"bg-gray-500"},GO={Dirty:"Dirty - Needs Cleaning","Check-out Inspected":"Check-out Inspected",Cleaning:"Cleaning in Progress","Vacant Clean":"Vacant Clean","Vacant Clean Inspected":"Vacant Clean Inspected",Occupied:"Occupied by Guest","Out of Order":"Out of Order"};function GT({room:t,isOpen:e,onClose:n}){const{currentUser:r,currentRole:i,timer:a,addNotification:o}=dh(),{changeRoomStatus:s,startTask:l,pauseTask:u,resumeTask:d,finishTask:h}=Ty(),[g,y]=B.useState("actions"),[b,_]=B.useState("Damage"),[x,w]=B.useState("Medium"),[E,A]=B.useState(""),[C,T]=B.useState(!1);if(B.useEffect(()=>{e&&(y("actions"),A(""))},[e]),!t)return null;const O=a.isRunning&&a.roomNumber===t.room_number,N=!a.isRunning&&a.currentLogId&&a.roomNumber===t.room_number,R=a.roomNumber===t.room_number,k=async Z=>{await s(t,Z),Qi.success(`Room ${t.room_number} status updated to ${Z}`)},z=async Z=>{await l(t,Z),Qi.success(`${Z} started for room ${t.room_number}`)},F=async()=>{await h(t),Qi.success(`Task completed for room ${t.room_number}`)},G=async()=>{if(!(!r||!E.trim())){T(!0);try{await Fme({room_number:t.room_number,reported_by:r.id,reporter_name:r.full_name,report_type:b,description:E,severity:x,status:"Open"}),Qi.success("Report submitted successfully"),A(""),o({title:"New Report",message:`${b} reported for room ${t.room_number}`,type:"warning"})}catch(Z){Qi.error("Failed to submit report: "+Z.message)}finally{T(!1)}}},V=Ixe[t.status]||[],W=i==="Housekeeping"&&["Dirty","Check-out Inspected"].includes(t.status),K=i==="Supervisor"&&["Vacant Clean","Check-out Inspected"].includes(t.status),H=i==="Engineering"&&t.status==="Out of Order",q=i==="Manager";return I.jsx(Iq,{"code-path":"src/components/RoomModal.tsx:161:5",open:e,onOpenChange:n,children:I.jsxs(Nq,{"code-path":"src/components/RoomModal.tsx:162:7",className:"max-w-2xl bg-gray-900 border-gray-700 text-white max-h-[90vh] overflow-y-auto",children:[I.jsx(kq,{"code-path":"src/components/RoomModal.tsx:163:9",children:I.jsx(Lq,{"code-path":"src/components/RoomModal.tsx:164:11",className:"flex items-center justify-between",children:I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:165:13",className:"flex items-center gap-3",children:[I.jsxs("span",{"code-path":"src/components/RoomModal.tsx:166:15",className:"text-2xl",children:["Room ",t.room_number]}),I.jsx(Pl,{"code-path":"src/components/RoomModal.tsx:167:15",className:`${Jw[t.status]} text-white`,children:GO[t.status]})]})})}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:175:9",className:"grid grid-cols-3 gap-4 p-4 bg-gray-800/50 rounded-lg",children:[I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:176:11",className:"flex items-center gap-2",children:[I.jsx(qb,{"code-path":"src/components/RoomModal.tsx:177:13",className:"w-4 h-4 text-gray-400"}),I.jsx("span",{"code-path":"src/components/RoomModal.tsx:178:13",className:"text-sm text-gray-300",children:t.building})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:180:11",className:"flex items-center gap-2",children:[I.jsx(Oee,{"code-path":"src/components/RoomModal.tsx:181:13",className:"w-4 h-4 text-gray-400"}),I.jsxs("span",{"code-path":"src/components/RoomModal.tsx:182:13",className:"text-sm text-gray-300",children:["Floor ",t.floor]})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:184:11",className:"flex items-center gap-2",children:[I.jsx(XI,{"code-path":"src/components/RoomModal.tsx:185:13",className:"w-4 h-4 text-gray-400"}),I.jsx("span",{"code-path":"src/components/RoomModal.tsx:186:13",className:"text-sm text-gray-300",children:t.room_type||"Standard"})]})]}),I.jsxs(Kye,{"code-path":"src/components/RoomModal.tsx:190:9",value:g,onValueChange:y,children:[I.jsxs(Zye,{"code-path":"src/components/RoomModal.tsx:191:11",className:"grid w-full grid-cols-4 bg-gray-800",children:[I.jsx(Xw,{"code-path":"src/components/RoomModal.tsx:192:13",value:"actions",className:"data-[state=active]:bg-gray-700",children:"Actions"}),I.jsx(Xw,{"code-path":"src/components/RoomModal.tsx:193:13",value:"status",className:"data-[state=active]:bg-gray-700",children:"Status"}),I.jsx(Xw,{"code-path":"src/components/RoomModal.tsx:194:13",value:"reports",className:"data-[state=active]:bg-gray-700",children:"Reports"}),I.jsx(Xw,{"code-path":"src/components/RoomModal.tsx:195:13",value:"history",className:"data-[state=active]:bg-gray-700",children:"History"})]}),I.jsxs(Yw,{"code-path":"src/components/RoomModal.tsx:199:11",value:"actions",className:"space-y-4",children:[R&&I.jsx("div",{"code-path":"src/components/RoomModal.tsx:202:15",className:"p-4 bg-blue-900/30 border border-blue-700 rounded-lg",children:I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:203:17",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:204:19",className:"flex items-center gap-3",children:[I.jsx(IA,{"code-path":"src/components/RoomModal.tsx:205:21",className:"w-5 h-5 text-blue-400"}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:206:21",children:[I.jsxs("p",{"code-path":"src/components/RoomModal.tsx:207:23",className:"text-sm text-gray-300",children:[a.taskType," in Progress"]}),I.jsx("p",{"code-path":"src/components/RoomModal.tsx:208:23",className:"text-2xl font-mono font-bold text-blue-400",children:Wv(a.elapsedTime)})]})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:213:19",className:"flex gap-2",children:[O?I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:215:23",variant:"outline",size:"sm",onClick:u,className:"border-yellow-600 text-yellow-400 hover:bg-yellow-900/30",children:[I.jsx(wM,{"code-path":"src/components/RoomModal.tsx:221:25",className:"w-4 h-4 mr-1"}),"Pause"]}):N?I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:225:23",variant:"outline",size:"sm",onClick:d,className:"border-green-600 text-green-400 hover:bg-green-900/30",children:[I.jsx(gx,{"code-path":"src/components/RoomModal.tsx:231:25",className:"w-4 h-4 mr-1"}),"Resume"]}):null,I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:235:21",variant:"outline",size:"sm",onClick:F,className:"border-red-600 text-red-400 hover:bg-red-900/30",children:[I.jsx(C7,{"code-path":"src/components/RoomModal.tsx:241:23",className:"w-4 h-4 mr-1"}),"Finish"]})]})]})}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:250:13",className:"grid grid-cols-2 gap-3",children:[W&&!R&&I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:252:17",onClick:()=>z("Cleaning"),className:"h-16 bg-blue-600 hover:bg-blue-700",children:[I.jsx(gx,{"code-path":"src/components/RoomModal.tsx:256:19",className:"w-5 h-5 mr-2"}),"Start Cleaning"]}),K&&!R&&I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:262:17",onClick:()=>z("Inspection"),className:"h-16 bg-emerald-600 hover:bg-emerald-700",children:[I.jsx(qI,{"code-path":"src/components/RoomModal.tsx:266:19",className:"w-5 h-5 mr-2"}),"Start Inspection"]}),H&&!R&&I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:272:17",onClick:()=>z("Repair"),className:"h-16 bg-orange-600 hover:bg-orange-700",children:[I.jsx(R7,{"code-path":"src/components/RoomModal.tsx:276:19",className:"w-5 h-5 mr-2"}),"Start Repair"]}),q&&I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:282:17",variant:"outline",onClick:()=>y("status"),className:"h-16 border-gray-600",children:[I.jsx(Jp,{"code-path":"src/components/RoomModal.tsx:287:19",className:"w-5 h-5 mr-2"}),"Change Status"]}),I.jsxs(mr,{"code-path":"src/components/RoomModal.tsx:292:15",variant:"outline",onClick:()=>y("reports"),className:"h-16 border-gray-600",children:[I.jsx(zee,{"code-path":"src/components/RoomModal.tsx:297:17",className:"w-5 h-5 mr-2"}),"Report Issue"]})]}),q&&I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:304:15",className:"p-4 bg-gray-800/50 rounded-lg",children:[I.jsx("p",{"code-path":"src/components/RoomModal.tsx:305:17",className:"text-sm font-medium text-gray-300 mb-3",children:"Quick Status Change"}),I.jsx("div",{"code-path":"src/components/RoomModal.tsx:306:17",className:"flex flex-wrap gap-2",children:V.map(Z=>I.jsx(mr,{"code-path":"src/components/RoomModal.tsx:308:21",variant:"outline",size:"sm",onClick:()=>k(Z),className:"text-xs",children:Z},Z))})]})]}),I.jsxs(Yw,{"code-path":"src/components/RoomModal.tsx:324:11",value:"status",className:"space-y-4",children:[I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:325:13",className:"p-4 bg-gray-800/50 rounded-lg",children:[I.jsx("p",{"code-path":"src/components/RoomModal.tsx:326:15",className:"text-sm text-gray-400 mb-4",children:"Current Status"}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:327:15",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg ${Jw[t.status]} bg-opacity-20 border border-opacity-50`,children:[I.jsx("div",{"code-path":"src/components/RoomModal.tsx:328:17",className:`w-3 h-3 rounded-full ${Jw[t.status]}`}),I.jsx("span",{"code-path":"src/components/RoomModal.tsx:329:17",className:"font-medium",children:GO[t.status]})]})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:333:13",className:"p-4 bg-gray-800/50 rounded-lg",children:[I.jsx("p",{"code-path":"src/components/RoomModal.tsx:334:15",className:"text-sm text-gray-400 mb-4",children:"Available Transitions"}),I.jsx("div",{"code-path":"src/components/RoomModal.tsx:335:15",className:"space-y-2",children:V.map(Z=>I.jsxs("button",{"code-path":"src/components/RoomModal.tsx:337:19",onClick:()=>k(Z),className:"w-full flex items-center justify-between p-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:342:21",className:"flex items-center gap-3",children:[I.jsx("div",{"code-path":"src/components/RoomModal.tsx:343:23",className:`w-3 h-3 rounded-full ${Jw[Z]}`}),I.jsx("span",{"code-path":"src/components/RoomModal.tsx:344:23",children:GO[Z]})]}),I.jsx(Jp,{"code-path":"src/components/RoomModal.tsx:346:21",className:"w-4 h-4 text-gray-500"})]},Z))})]}),t.last_updated&&I.jsxs("p",{"code-path":"src/components/RoomModal.tsx:353:15",className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date(t.last_updated).toLocaleString()]})]}),I.jsx(Yw,{"code-path":"src/components/RoomModal.tsx:360:11",value:"reports",className:"space-y-4",children:I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:361:13",className:"space-y-4",children:[I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:362:15",children:[I.jsx("label",{"code-path":"src/components/RoomModal.tsx:363:17",className:"text-sm text-gray-400 mb-2 block",children:"Report Type"}),I.jsxs(hj,{"code-path":"src/components/RoomModal.tsx:364:17",value:b,onValueChange:Z=>_(Z),children:[I.jsx(mj,{"code-path":"src/components/RoomModal.tsx:365:19",className:"bg-gray-800 border-gray-700",children:I.jsx(pj,{"code-path":"src/components/RoomModal.tsx:366:21"})}),I.jsxs(gj,{"code-path":"src/components/RoomModal.tsx:368:19",className:"bg-gray-800 border-gray-700",children:[I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:369:21",value:"Damage",children:"Damage"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:370:21",value:"Complaint",children:"Complaint"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:371:21",value:"Lost Found",children:"Lost & Found"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:372:21",value:"Maintenance",children:"Maintenance"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:373:21",value:"Other",children:"Other"})]})]})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:378:15",children:[I.jsx("label",{"code-path":"src/components/RoomModal.tsx:379:17",className:"text-sm text-gray-400 mb-2 block",children:"Severity"}),I.jsxs(hj,{"code-path":"src/components/RoomModal.tsx:380:17",value:x,onValueChange:Z=>w(Z),children:[I.jsx(mj,{"code-path":"src/components/RoomModal.tsx:381:19",className:"bg-gray-800 border-gray-700",children:I.jsx(pj,{"code-path":"src/components/RoomModal.tsx:382:21"})}),I.jsxs(gj,{"code-path":"src/components/RoomModal.tsx:384:19",className:"bg-gray-800 border-gray-700",children:[I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:385:21",value:"Low",children:"Low"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:386:21",value:"Medium",children:"Medium"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:387:21",value:"High",children:"High"}),I.jsx(Mf,{"code-path":"src/components/RoomModal.tsx:388:21",value:"Critical",children:"Critical"})]})]})]}),I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:393:15",children:[I.jsx("label",{"code-path":"src/components/RoomModal.tsx:394:17",className:"text-sm text-gray-400 mb-2 block",children:"Description"}),I.jsx(rX,{"code-path":"src/components/RoomModal.tsx:395:17",value:E,onChange:Z=>A(Z.target.value),placeholder:"Describe the issue...",className:"bg-gray-800 border-gray-700 min-h-[100px]"})]}),I.jsx(mr,{"code-path":"src/components/RoomModal.tsx:403:15",onClick:G,disabled:!E.trim()||C,className:"w-full",children:C?"Submitting...":"Submit Report"})]})}),I.jsx(Yw,{"code-path":"src/components/RoomModal.tsx:414:11",value:"history",className:"space-y-4",children:I.jsxs("div",{"code-path":"src/components/RoomModal.tsx:415:13",className:"p-4 bg-gray-800/50 rounded-lg text-center",children:[I.jsx(SL,{"code-path":"src/components/RoomModal.tsx:416:15",className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),I.jsx("p",{"code-path":"src/components/RoomModal.tsx:417:15",className:"text-gray-400",children:"History feature coming soon"}),I.jsx("p",{"code-path":"src/components/RoomModal.tsx:418:15",className:"text-sm text-gray-500",children:"View audit logs and past activities for this room"})]})})]})]})})}function Xr({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/card.tsx:7:5","data-slot":"card",className:Zn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Di({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/card.tsx:20:5","data-slot":"card-header",className:Zn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ii({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/card.tsx:33:5","data-slot":"card-title",className:Zn("leading-none font-semibold",t),...e})}function Yr({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/card.tsx:66:5","data-slot":"card-content",className:Zn("px-6",t),...e})}function Nxe(){const{currentUser:t,timer:e}=dh(),{rooms:n,isLoading:r,getRoomsByStatus:i,startTask:a,pauseTask:o,resumeTask:s,finishTask:l}=Ty(),[u,d]=B.useState(null),[h,g]=B.useState(!1),[y,b]=B.useState("all"),_=i("Dirty"),x=i("Cleaning"),w=i("Vacant Clean"),E=n.filter(R=>R.assigned_to===t?.id&&(R.status==="Cleaning"||R.status==="Check-out Inspected")),C=(()=>{switch(y){case"dirty":return _;case"cleaning":return x;case"my-tasks":return E;default:return[..._,...x,...w]}})(),T=R=>{d(R),g(!0)},O=async R=>{await a(R,"Cleaning"),Qi.success(`Started cleaning room ${R.room_number}`)},N=async R=>{await l(R),Qi.success(`Finished cleaning room ${R.room_number}`)};return I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:69:5",className:"p-6 space-y-6",children:[I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:71:7",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:72:9",children:[I.jsx("h1",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:73:11",className:"text-2xl font-bold text-white",children:"Housekeeping Dashboard"}),I.jsxs("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:74:11",className:"text-gray-400",children:["Welcome back, ",t?.full_name]})]}),I.jsx("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:76:9",className:"flex items-center gap-4",children:e.isRunning&&I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:79:13",className:"flex items-center gap-3 px-4 py-2 bg-blue-900/50 rounded-lg border border-blue-700",children:[I.jsx(IA,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:80:15",className:"w-5 h-5 text-blue-400 animate-pulse"}),I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:81:15",children:[I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:82:17",className:"text-xs text-blue-300",children:"Active Task"}),I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:83:17",className:"text-lg font-mono font-bold text-blue-400",children:Wv(e.elapsedTime)})]}),I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:87:15",className:"flex gap-1 ml-2",children:[I.jsx(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:88:17",size:"sm",variant:"ghost",onClick:o,className:"h-8 w-8 p-0",children:I.jsx(wM,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:94:19",className:"w-4 h-4"})}),I.jsx(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:96:17",size:"sm",variant:"ghost",onClick:()=>e.roomNumber&&N(n.find(R=>R.room_number===e.roomNumber)),className:"h-8 w-8 p-0 text-red-400",children:I.jsx(C7,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:102:19",className:"w-4 h-4"})})]})]})})]}),I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:111:7",className:"grid grid-cols-4 gap-4",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:112:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:113:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:114:13",className:"text-sm text-gray-400",children:"Dirty Rooms"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:116:11",children:I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:117:13",className:"text-3xl font-bold text-red-400",children:_.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:121:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:122:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:123:13",className:"text-sm text-gray-400",children:"In Progress"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:125:11",children:I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:126:13",className:"text-3xl font-bold text-blue-400",children:x.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:130:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:131:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:132:13",className:"text-sm text-gray-400",children:"Vacant Clean"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:134:11",children:I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:135:13",className:"text-3xl font-bold text-green-400",children:w.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:139:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:140:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:141:13",className:"text-sm text-gray-400",children:"My Tasks"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:143:11",children:I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:144:13",className:"text-3xl font-bold text-purple-400",children:E.length})})]})]}),I.jsx("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:150:7",className:"flex gap-2",children:[{key:"all",label:"All Rooms",count:_.length+x.length+w.length},{key:"dirty",label:"Dirty",count:_.length},{key:"cleaning",label:"In Progress",count:x.length},{key:"my-tasks",label:"My Tasks",count:E.length}].map(R=>I.jsxs(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:157:11",variant:y===R.key?"default":"outline",size:"sm",onClick:()=>b(R.key),className:y===R.key?"bg-blue-600":"border-gray-600",children:[R.label,I.jsx(Pl,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:165:13",variant:"secondary",className:"ml-2",children:R.count})]},R.key))}),r?I.jsx("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:172:9",className:"flex items-center justify-center h-64",children:I.jsx(T7,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:173:11",className:"w-8 h-8 animate-spin text-blue-500"})}):C.length===0?I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:176:9",className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[I.jsx(Jp,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:177:11",className:"w-12 h-12 mb-4"}),I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:178:11",children:"No rooms to display"})]}):I.jsx("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:181:9",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:C.map(R=>{const k=R.assigned_to===t?.id,z=e.roomNumber===R.room_number&&e.isRunning;return I.jsx(Xr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:187:15",className:`bg-gray-800 border-gray-700 hover:border-gray-600 transition-all cursor-pointer ${z?"ring-2 ring-blue-500":""}`,onClick:()=>T(R),children:I.jsxs(Yr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:194:17",className:"p-4",children:[I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:195:19",className:"flex items-start justify-between mb-3",children:[I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:196:21",children:[I.jsx("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:197:23",className:"text-lg font-bold text-white",children:R.room_number}),I.jsxs("p",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:198:23",className:"text-xs text-gray-400",children:[R.building," - Floor ",R.floor]})]}),I.jsx(Pl,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:200:21",className:R.status==="Dirty"?"bg-red-500":R.status==="Cleaning"?"bg-blue-500":"bg-green-500",children:R.status==="Dirty"?"Dirty":R.status==="Cleaning"?"Cleaning":"Clean"})]}),R.status==="Dirty"&&I.jsxs(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:213:21",size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:F=>{F.stopPropagation(),O(R)},children:[I.jsx(gx,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:221:23",className:"w-4 h-4 mr-1"}),"Start"]}),R.status==="Cleaning"&&k&&I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:227:21",className:"flex gap-2",children:[z?I.jsxs(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:229:25",size:"sm",variant:"outline",className:"flex-1 border-yellow-600 text-yellow-400",onClick:F=>{F.stopPropagation(),o()},children:[I.jsx(wM,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:238:27",className:"w-4 h-4 mr-1"}),"Pause"]}):I.jsxs(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:242:25",size:"sm",variant:"outline",className:"flex-1 border-green-600 text-green-400",onClick:F=>{F.stopPropagation(),s()},children:[I.jsx(gx,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:251:27",className:"w-4 h-4 mr-1"}),"Resume"]}),I.jsxs(mr,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:255:23",size:"sm",variant:"outline",className:"flex-1 border-red-600 text-red-400",onClick:F=>{F.stopPropagation(),N(R)},children:[I.jsx(Jp,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:264:25",className:"w-4 h-4 mr-1"}),"Finish"]})]}),R.is_vip&&I.jsxs("div",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:271:21",className:"mt-2 flex items-center gap-1 text-yellow-400 text-xs",children:[I.jsx(_ee,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:272:23",className:"w-3 h-3"}),I.jsx("span",{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:273:23",children:"VIP Room"})]})]})},R.id)})}),I.jsx(GT,{"code-path":"src/components/dashboards/HousekeepingDashboard.tsx:284:7",room:u,isOpen:h,onClose:()=>{g(!1),d(null)}})]})}var iY=["PageUp","PageDown"],aY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Iy="Slider",[KN,kxe,Lxe]=IT(Iy),[sY]=$f(Iy,[Lxe]),[Uxe,$T]=sY(Iy),lY=B.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:b,..._}=t,x=B.useRef(new Set),w=B.useRef(0),A=o==="horizontal"?Bxe:Fxe,[C=[],T]=om({prop:d,defaultProp:u,onChange:F=>{[...x.current][w.current]?.focus(),h(F)}}),O=B.useRef(C);function N(F){const G=Gxe(C,F);z(F,G)}function R(F){z(F,w.current)}function k(){const F=O.current[w.current];C[w.current]!==F&&g(C)}function z(F,G,{commit:V}={commit:!1}){const W=Xxe(a),K=Yxe(Math.round((F-r)/a)*a+r,W),H=RE(K,[r,i]);T((q=[])=>{const Z=Hxe(q,H,G);if(qxe(Z,l*a)){w.current=Z.indexOf(H);const ee=String(Z)!==String(q);return ee&&V&&g(Z),ee?Z:q}else return q})}return I.jsx(Uxe,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:w,thumbs:x.current,values:C,orientation:o,form:b,children:I.jsx(KN.Provider,{scope:t.__scopeSlider,children:I.jsx(KN.Slot,{scope:t.__scopeSlider,children:I.jsx(A,{"aria-disabled":s,"data-disabled":s?"":void 0,..._,ref:e,onPointerDown:Jt(_.onPointerDown,()=>{s||(O.current=C)}),min:r,max:i,inverted:y,onSlideStart:s?void 0:N,onSlideMove:s?void 0:R,onSlideEnd:s?void 0:k,onHomeKeyDown:()=>!s&&z(r,0,{commit:!0}),onEndKeyDown:()=>!s&&z(i,C.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:G})=>{if(!s){const K=iY.includes(F.key)||F.shiftKey&&aY.includes(F.key)?10:1,H=w.current,q=C[H],Z=a*K*G;z(q+Z,H,{commit:!0})}}})})})})});lY.displayName=Iy;var[cY,uY]=sY(Iy,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Bxe=B.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:u,...d}=t,[h,g]=B.useState(null),y=xr(e,A=>g(A)),b=B.useRef(void 0),_=$_(i),x=_==="ltr",w=x&&!a||!x&&a;function E(A){const C=b.current||h.getBoundingClientRect(),T=[0,C.width],N=VU(T,w?[n,r]:[r,n]);return b.current=C,N(A-C.left)}return I.jsx(cY,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:I.jsx(fY,{dir:_,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const C=E(A.clientX);o?.(C)},onSlideMove:A=>{const C=E(A.clientX);s?.(C)},onSlideEnd:()=>{b.current=void 0,l?.()},onStepKeyDown:A=>{const T=oY[w?"from-left":"from-right"].includes(A.key);u?.({event:A,direction:T?-1:1})}})})}),Fxe=B.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...u}=t,d=B.useRef(null),h=xr(e,d),g=B.useRef(void 0),y=!i;function b(_){const x=g.current||d.current.getBoundingClientRect(),w=[0,x.height],A=VU(w,y?[r,n]:[n,r]);return g.current=x,A(_-x.top)}return I.jsx(cY,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:I.jsx(fY,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const x=b(_.clientY);a?.(x)},onSlideMove:_=>{const x=b(_.clientY);o?.(x)},onSlideEnd:()=>{g.current=void 0,s?.()},onStepKeyDown:_=>{const w=oY[y?"from-bottom":"from-top"].includes(_.key);l?.({event:_,direction:w?-1:1})}})})}),fY=B.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...u}=t,d=$T(Iy,n);return I.jsx(kn.span,{...u,ref:e,onKeyDown:Jt(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(s(h),h.preventDefault()):iY.concat(aY).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Jt(t.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(g)?g.focus():r(h)}),onPointerMove:Jt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Jt(t.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),a(h))})})}),dY="SliderTrack",hY=B.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=$T(dY,n);return I.jsx(kn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});hY.displayName=dY;var ZN="SliderRange",pY=B.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=$T(ZN,n),a=uY(ZN,n),o=B.useRef(null),s=xr(e,o),l=i.values.length,u=i.values.map(g=>vY(g,i.min,i.max)),d=l>1?Math.min(...u):0,h=100-Math.max(...u);return I.jsx(kn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});pY.displayName=ZN;var JN="SliderThumb",mY=B.forwardRef((t,e)=>{const n=kxe(t.__scopeSlider),[r,i]=B.useState(null),a=xr(e,s=>i(s)),o=B.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return I.jsx(jxe,{...t,ref:a,index:o})}),jxe=B.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...a}=t,o=$T(JN,n),s=uY(JN,n),[l,u]=B.useState(null),d=xr(e,E=>u(E)),h=l?o.form||!!l.closest("form"):!0,g=gX(l),y=o.values[r],b=y===void 0?0:vY(y,o.min,o.max),_=Vxe(r,o.values.length),x=g?.[s.size],w=x?$xe(x,b,s.direction):0;return B.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),I.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${b}% + ${w}px)`},children:[I.jsx(KN.ItemSlot,{scope:t.__scopeSlider,children:I.jsx(kn.span,{role:"slider","aria-label":t["aria-label"]||_,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:y===void 0?{display:"none"}:t.style,onFocus:Jt(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&I.jsx(gY,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},r)]})});mY.displayName=JN;var zxe="RadioBubbleInput",gY=B.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=B.useRef(null),a=xr(i,r),o=OX(e);return B.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(s,e),s.dispatchEvent(h)}},[o,e]),I.jsx(kn.input,{style:{display:"none"},...n,ref:a,defaultValue:e})});gY.displayName=zxe;function Hxe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,a)=>i-a)}function vY(t,e,n){const a=100/(n-e)*(t-e);return RE(a,[0,100])}function Vxe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Gxe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function $xe(t,e,n){const r=t/2,a=VU([0,50],[0,r]);return(r-a(e)*n)*n}function Wxe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function qxe(t,e){if(e>0){const n=Wxe(t);return Math.min(...n)>=e}return!0}function VU(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Xxe(t){return(String(t).split(".")[1]||"").length}function Yxe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Kxe=lY,Zxe=hY,Jxe=pY,Qxe=mY;function e_e({className:t,defaultValue:e,value:n,min:r=0,max:i=100,...a}){const o=B.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,i],[n,e,r,i]);return I.jsxs(Kxe,{"code-path":"src/components/ui/slider.tsx:27:5","data-slot":"slider",defaultValue:e,value:n,min:r,max:i,className:Zn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[I.jsx(Zxe,{"code-path":"src/components/ui/slider.tsx:39:7","data-slot":"slider-track",className:Zn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:I.jsx(Jxe,{"code-path":"src/components/ui/slider.tsx:45:9","data-slot":"slider-range",className:Zn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(s,l)=>I.jsx(Qxe,{"code-path":"src/components/ui/slider.tsx:53:9","data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}function t_e(){const{currentUser:t,timer:e}=dh(),{getRoomsByStatus:n,startTask:r,finishTask:i}=Ty(),[a,o]=B.useState(null),[s,l]=B.useState(!1),[u,d]=B.useState(!1),[h,g]=B.useState("all"),[y,b]=B.useState([]),[_,x]=B.useState([]),[w,E]=B.useState(100),[A,C]=B.useState(""),[T,O]=B.useState(!1);B.useEffect(()=>{u&&N()},[u]);const N=async()=>{try{const Z=await Lme();b(Z),x(Z.map(ee=>({item_id:ee.id,item_name:ee.item_name,passed:!0})))}catch{Qi.error("Failed to load checklist")}},R=n("Vacant Clean"),k=n("Check-out Inspected"),z=n("Vacant Clean Inspected"),G=(()=>{switch(h){case"vacant-clean":return R;case"checkout-inspected":return k;default:return[...R,...k]}})(),V=Z=>{o(Z),l(!0)},W=async Z=>{o(Z),await r(Z,"Inspection"),d(!0),Qi.success(`Inspection started for room ${Z.room_number}`)},K=(Z,ee)=>{x(J=>J.map(ne=>ne.item_id===Z?{...ne,passed:ee}:ne));const ae=_.filter(J=>J.item_id===Z?ee:J.passed).length,$=Math.round(ae/y.length*100);E($)},H=async()=>{if(!(!a||!t)){O(!0);try{await Nme({room_number:a.room_number,inspector_id:t.id,inspector_name:t.full_name,score:w,notes:A,checklist_data:_,status_after:w>=80?"Vacant Clean Inspected":"Dirty"}),await i(a,w>=80?"Vacant Clean Inspected":"Dirty"),Qi.success(`Inspection completed. Score: ${w}`),d(!1),C(""),E(100)}catch(Z){Qi.error("Failed to submit inspection: "+Z.message)}finally{O(!1)}}},q=y.reduce((Z,ee)=>(Z[ee.category]||(Z[ee.category]=[]),Z[ee.category].push(ee),Z),{});return I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:150:5",className:"p-6 space-y-6",children:[I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:152:7",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:153:9",children:[I.jsx("h1",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:154:11",className:"text-2xl font-bold text-white",children:"Supervisor Dashboard"}),I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:155:11",className:"text-gray-400",children:"Quality Control & Inspections"})]}),I.jsx("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:157:9",className:"flex items-center gap-4",children:e.isRunning&&e.taskType==="Inspection"&&I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:159:13",className:"flex items-center gap-3 px-4 py-2 bg-emerald-900/50 rounded-lg border border-emerald-700",children:[I.jsx(IA,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:160:15",className:"w-5 h-5 text-emerald-400 animate-pulse"}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:161:15",children:[I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:162:17",className:"text-xs text-emerald-300",children:"Inspection in Progress"}),I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:163:17",className:"text-lg font-mono font-bold text-emerald-400",children:Wv(e.elapsedTime)})]})]})})]}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:173:7",className:"grid grid-cols-4 gap-4",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:174:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:175:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:176:13",className:"text-sm text-gray-400",children:"Pending Inspection"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:178:11",children:I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:179:13",className:"text-3xl font-bold text-green-400",children:R.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:183:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:184:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:185:13",className:"text-sm text-gray-400",children:"Check-out Inspected"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:187:11",children:I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:188:13",className:"text-3xl font-bold text-orange-400",children:k.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:192:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:193:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:194:13",className:"text-sm text-gray-400",children:"Approved Today"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:196:11",children:I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:197:13",className:"text-3xl font-bold text-emerald-400",children:z.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:201:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:202:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:203:13",className:"text-sm text-gray-400",children:"Avg Score"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:205:11",children:I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:206:13",className:"text-3xl font-bold text-yellow-400",children:"94%"})})]})]}),I.jsx("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:212:7",className:"flex gap-2",children:[{key:"all",label:"All Pending",count:R.length+k.length},{key:"vacant-clean",label:"Vacant Clean",count:R.length},{key:"checkout-inspected",label:"Check-out Inspected",count:k.length}].map(Z=>I.jsxs(mr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:218:11",variant:h===Z.key?"default":"outline",size:"sm",onClick:()=>g(Z.key),className:h===Z.key?"bg-emerald-600":"border-gray-600",children:[Z.label,I.jsx(Pl,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:226:13",variant:"secondary",className:"ml-2",children:Z.count})]},Z.key))}),I.jsx("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:232:7",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:G.map(Z=>I.jsx(Xr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:234:11",className:"bg-gray-800 border-gray-700 hover:border-gray-600 transition-all",children:I.jsxs(Yr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:238:13",className:"p-4",children:[I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:239:15",className:"flex items-start justify-between mb-3",children:[I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:240:17",children:[I.jsx("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:241:19",className:"text-lg font-bold text-white",children:Z.room_number}),I.jsxs("p",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:242:19",className:"text-xs text-gray-400",children:[Z.building," - Floor ",Z.floor]})]}),I.jsx(Pl,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:244:17",className:Z.status==="Vacant Clean"?"bg-green-500":Z.status==="Check-out Inspected"?"bg-orange-500":"bg-emerald-500",children:Z.status==="Vacant Clean"?"Ready":"Inspected"})]}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:255:15",className:"space-y-2",children:[I.jsxs(mr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:256:17",size:"sm",className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>W(Z),disabled:e.isRunning,children:[I.jsx(qI,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:262:19",className:"w-4 h-4 mr-1"}),"Inspect"]}),I.jsxs(mr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:265:17",size:"sm",variant:"outline",className:"w-full border-gray-600",onClick:()=>V(Z),children:[I.jsx(SL,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:271:19",className:"w-4 h-4 mr-1"}),"Details"]})]})]})},Z.id))}),I.jsx(GT,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:281:7",room:a,isOpen:s,onClose:()=>{l(!1),o(null)}}),I.jsx(Iq,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:291:7",open:u,onOpenChange:d,children:I.jsxs(Nq,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:292:9",className:"max-w-3xl bg-gray-900 border-gray-700 text-white max-h-[90vh] overflow-y-auto",children:[I.jsx(kq,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:293:11",children:I.jsxs(Lq,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:294:13",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:295:15",className:"flex items-center gap-3",children:[I.jsx(qI,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:296:17",className:"w-6 h-6 text-emerald-400"}),I.jsxs("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:297:17",children:["Room Inspection - ",a?.room_number]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:299:15",className:"flex items-center gap-2",children:[I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:300:17",className:"text-sm text-gray-400",children:"Score:"}),I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:301:17",className:`text-2xl font-bold ${w>=90?"text-green-400":w>=80?"text-yellow-400":"text-red-400"}`,children:w})]})]})}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:313:11",className:"space-y-6",children:[Object.entries(q).map(([Z,ee])=>I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:315:15",className:"space-y-3",children:[I.jsx("h3",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:316:17",className:"text-lg font-semibold text-gray-300 border-b border-gray-700 pb-2",children:Z}),I.jsx("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:319:17",className:"space-y-2",children:ee.map(ae=>{const $=_.find(J=>J.item_id===ae.id);return I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:323:23",className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:327:25",className:"text-sm",children:ae.item_name}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:328:25",className:"flex gap-2",children:[I.jsx("button",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:329:27",onClick:()=>K(ae.id,!0),className:`p-2 rounded ${$?.passed?"bg-green-600 text-white":"bg-gray-700 text-gray-400"}`,children:I.jsx(Jp,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:337:29",className:"w-4 h-4"})}),I.jsx("button",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:339:27",onClick:()=>K(ae.id,!1),className:`p-2 rounded ${$?.passed?"bg-gray-700 text-gray-400":"bg-red-600 text-white"}`,children:I.jsx(Mee,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:347:29",className:"w-4 h-4"})})]})]},ae.id)})})]},Z)),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:358:13",children:[I.jsx("label",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:359:15",className:"text-sm text-gray-400 mb-2 block",children:"Inspection Notes"}),I.jsx(rX,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:360:15",value:A,onChange:Z=>C(Z.target.value),placeholder:"Add any notes or observations...",className:"bg-gray-800 border-gray-700 min-h-[100px]"})]}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:369:13",children:[I.jsx("label",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:370:15",className:"text-sm text-gray-400 mb-2 block",children:"Override Score (if needed)"}),I.jsx(e_e,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:371:15",value:[w],onValueChange:([Z])=>E(Z),min:0,max:100,step:1,className:"py-4"}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:379:15",className:"flex justify-between text-xs text-gray-500",children:[I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:380:17",children:"0"}),I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:381:17",children:"50"}),I.jsx("span",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:382:17",children:"100"})]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:387:13",className:"flex gap-3",children:[I.jsx(mr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:388:15",variant:"outline",onClick:()=>d(!1),className:"flex-1 border-gray-600",children:"Cancel"}),I.jsx(mr,{"code-path":"src/components/dashboards/SupervisorDashboard.tsx:395:15",onClick:H,disabled:T,className:`flex-1 ${w>=80?"bg-emerald-600 hover:bg-emerald-700":"bg-red-600 hover:bg-red-700"}`,children:T?"Submitting...":`Submit (${w>=80?"Pass":"Fail"})`})]})]})]})})]})}function n_e(){const{currentUser:t,timer:e}=dh(),{rooms:n,getRoomsByStatus:r,startTask:i,pauseTask:a,resumeTask:o,finishTask:s}=Ty(),[l,u]=B.useState(null),[d,h]=B.useState(!1),[g,y]=B.useState([]),[b,_]=B.useState("all"),[x,w]=B.useState(!1);B.useEffect(()=>{E()},[]);const E=async()=>{w(!0);try{const V=await jme({status:"Open"});y(V)}catch{Qi.error("Failed to load reports")}finally{w(!1)}},A=r("Out of Order"),C=n.filter(V=>V.assigned_to===t?.id&&V.status==="Out of Order"),T=()=>{switch(b){case"ooo":return{rooms:A,reports:[]};case"reports":return{rooms:[],reports:g};case"my-tasks":return{rooms:C,reports:[]};default:return{rooms:A,reports:g}}},{rooms:O,reports:N}=T(),R=async V=>{await i(V,"Repair"),Qi.success(`Repair started for room ${V.room_number}`)},k=async V=>{await s(V,"Dirty"),Qi.success(`Repair completed for room ${V.room_number}`)},z=async V=>{try{await N5(V.id,"In Progress",t?.id),Qi.success("Report claimed"),E()}catch{Qi.error("Failed to claim report")}},F=async V=>{try{await N5(V.id,"Resolved"),Qi.success("Report resolved"),E()}catch{Qi.error("Failed to resolve report")}},G={Low:"bg-blue-500",Medium:"bg-yellow-500",High:"bg-orange-500",Critical:"bg-red-500"};return I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:107:5",className:"p-6 space-y-6",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:109:7",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:110:9",children:[I.jsx("h1",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:111:11",className:"text-2xl font-bold text-white",children:"Engineering Dashboard"}),I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:112:11",className:"text-gray-400",children:"Maintenance & Repairs"})]}),I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:114:9",className:"flex items-center gap-4",children:e.isRunning&&e.taskType==="Repair"&&I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:116:13",className:"flex items-center gap-3 px-4 py-2 bg-orange-900/50 rounded-lg border border-orange-700",children:[I.jsx(IA,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:117:15",className:"w-5 h-5 text-orange-400 animate-pulse"}),I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:118:15",children:[I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:119:17",className:"text-xs text-orange-300",children:"Repair in Progress"}),I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:120:17",className:"text-lg font-mono font-bold text-orange-400",children:Wv(e.elapsedTime)})]})]})})]}),I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:130:7",className:"grid grid-cols-4 gap-4",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:131:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:132:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:133:13",className:"text-sm text-gray-400",children:"Out of Order"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:135:11",children:I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:136:13",className:"text-3xl font-bold text-gray-400",children:A.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:140:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:141:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:142:13",className:"text-sm text-gray-400",children:"Open Reports"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:144:11",children:I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:145:13",className:"text-3xl font-bold text-yellow-400",children:g.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:149:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:150:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:151:13",className:"text-sm text-gray-400",children:"My Tasks"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:153:11",children:I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:154:13",className:"text-3xl font-bold text-blue-400",children:C.length})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:158:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:159:11",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:160:13",className:"text-sm text-gray-400",children:"Critical"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:162:11",children:I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:163:13",className:"text-3xl font-bold text-red-400",children:g.filter(V=>V.severity==="Critical").length})})]})]}),I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:171:7",className:"flex gap-2",children:[{key:"all",label:"All",count:A.length+g.length},{key:"ooo",label:"Out of Order",count:A.length},{key:"reports",label:"Reports",count:g.length},{key:"my-tasks",label:"My Tasks",count:C.length}].map(V=>I.jsxs(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:178:11",variant:b===V.key?"default":"outline",size:"sm",onClick:()=>_(V.key),className:b===V.key?"bg-orange-600":"border-gray-600",children:[V.label,I.jsx(Pl,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:186:13",variant:"secondary",className:"ml-2",children:V.count})]},V.key))}),I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:192:7",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(b==="all"||b==="ooo"||b==="my-tasks")&&I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:195:11",children:[I.jsx("h2",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:196:13",className:"text-lg font-semibold text-white mb-4",children:"Rooms Requiring Maintenance"}),I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:197:13",className:"grid grid-cols-2 gap-4",children:O.map(V=>{const W=V.assigned_to===t?.id,K=e.roomNumber===V.room_number&&e.isRunning;return I.jsx(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:203:19",className:`bg-gray-800 border-gray-700 ${K?"ring-2 ring-orange-500":""}`,children:I.jsxs(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:209:21",className:"p-4",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:210:23",className:"flex items-start justify-between mb-3",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:211:25",children:[I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:212:27",className:"text-lg font-bold text-white",children:V.room_number}),I.jsxs("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:213:27",className:"text-xs text-gray-400",children:[V.building," - Floor ",V.floor]})]}),I.jsx(Pl,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:215:25",className:"bg-gray-500",children:"OOO"})]}),W?I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:219:25",className:"flex gap-2",children:[K?I.jsxs(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:221:29",size:"sm",variant:"outline",className:"flex-1 border-yellow-600 text-yellow-400",onClick:a,children:[I.jsx(wM,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:227:31",className:"w-4 h-4 mr-1"}),"Pause"]}):I.jsxs(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:231:29",size:"sm",variant:"outline",className:"flex-1 border-green-600 text-green-400",onClick:o,children:[I.jsx(gx,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:237:31",className:"w-4 h-4 mr-1"}),"Resume"]}),I.jsxs(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:241:27",size:"sm",variant:"outline",className:"flex-1 border-red-600 text-red-400",onClick:()=>k(V),children:[I.jsx(Jp,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:247:29",className:"w-4 h-4 mr-1"}),"Done"]})]}):I.jsxs(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:252:25",size:"sm",className:"w-full bg-orange-600 hover:bg-orange-700",onClick:()=>R(V),disabled:e.isRunning,children:[I.jsx(R7,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:258:27",className:"w-4 h-4 mr-1"}),"Start Repair"]})]})},V.id)})})]}),(b==="all"||b==="reports")&&I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:272:11",children:[I.jsx("h2",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:273:13",className:"text-lg font-semibold text-white mb-4",children:"Maintenance Reports"}),I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:274:13",className:"space-y-3",children:x?I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:276:17",className:"flex items-center justify-center h-32",children:I.jsx(T7,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:277:19",className:"w-6 h-6 animate-spin text-orange-500"})}):N.length===0?I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:280:17",className:"text-center text-gray-400 py-8",children:[I.jsx(Jp,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:281:19",className:"w-12 h-12 mx-auto mb-2"}),I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:282:19",children:"No open reports"})]}):N.map(V=>I.jsx(Xr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:286:19",className:"bg-gray-800 border-gray-700",children:I.jsx(Yr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:287:21",className:"p-4",children:I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:288:23",className:"flex items-start justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:289:25",className:"flex-1",children:[I.jsxs("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:290:27",className:"flex items-center gap-2 mb-2",children:[I.jsx(Pl,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:291:29",className:G[V.severity],children:V.severity}),I.jsx(Pl,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:294:29",variant:"outline",className:"text-gray-400",children:V.report_type})]}),I.jsxs("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:298:27",className:"font-semibold text-white",children:["Room ",V.room_number]}),I.jsx("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:299:27",className:"text-sm text-gray-400 mt-1",children:V.description}),I.jsxs("p",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:300:27",className:"text-xs text-gray-500 mt-2",children:["Reported by ",V.reporter_name,"  ",new Date(V.created_at).toLocaleDateString()]})]}),I.jsx("div",{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:304:25",className:"flex flex-col gap-2",children:V.status==="Open"?I.jsx(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:306:29",size:"sm",variant:"outline",onClick:()=>z(V),className:"border-blue-600 text-blue-400",children:"Claim"}):I.jsx(mr,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:315:29",size:"sm",variant:"outline",onClick:()=>F(V),className:"border-green-600 text-green-400",children:"Resolve"})})]})})},V.id))})]})]}),I.jsx(GT,{"code-path":"src/components/dashboards/EngineeringDashboard.tsx:336:7",room:l,isOpen:d,onClose:()=>{h(!1),u(null)}})]})}function xj({className:t,type:e,...n}){return I.jsx("input",{"code-path":"src/components/ui/input.tsx:7:5",type:e,"data-slot":"input",className:Zn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function _j({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/table.tsx:7:5","data-slot":"table-container",className:"relative w-full overflow-x-auto",children:I.jsx("table",{"code-path":"src/components/ui/table.tsx:11:7","data-slot":"table",className:Zn("w-full caption-bottom text-sm",t),...e})})}function Sj({className:t,...e}){return I.jsx("thead",{"code-path":"src/components/ui/table.tsx:22:5","data-slot":"table-header",className:Zn("[&_tr]:border-b",t),...e})}function wj({className:t,...e}){return I.jsx("tbody",{"code-path":"src/components/ui/table.tsx:32:5","data-slot":"table-body",className:Zn("[&_tr:last-child]:border-0",t),...e})}function Qw({className:t,...e}){return I.jsx("tr",{"code-path":"src/components/ui/table.tsx:55:5","data-slot":"table-row",className:Zn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function cc({className:t,...e}){return I.jsx("th",{"code-path":"src/components/ui/table.tsx:68:5","data-slot":"table-head",className:Zn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function uc({className:t,...e}){return I.jsx("td",{"code-path":"src/components/ui/table.tsx:81:5","data-slot":"table-cell",className:Zn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}var $O,Mj;function Ms(){if(Mj)return $O;Mj=1;var t=Array.isArray;return $O=t,$O}var WO,Ej;function yY(){if(Ej)return WO;Ej=1;var t=typeof NS=="object"&&NS&&NS.Object===Object&&NS;return WO=t,WO}var qO,Aj;function ku(){if(Aj)return qO;Aj=1;var t=yY(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return qO=n,qO}var XO,Tj;function X_(){if(Tj)return XO;Tj=1;var t=ku(),e=t.Symbol;return XO=e,XO}var YO,Cj;function r_e(){if(Cj)return YO;Cj=1;var t=X_(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(s?o[i]=l:delete o[i]),d}return YO=a,YO}var KO,Rj;function i_e(){if(Rj)return KO;Rj=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return KO=n,KO}var ZO,Oj;function qf(){if(Oj)return ZO;Oj=1;var t=X_(),e=r_e(),n=i_e(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):n(s)}return ZO=o,ZO}var JO,Pj;function Xf(){if(Pj)return JO;Pj=1;function t(e){return e!=null&&typeof e=="object"}return JO=t,JO}var QO,Dj;function Ny(){if(Dj)return QO;Dj=1;var t=qf(),e=Xf(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return QO=r,QO}var e3,Ij;function GU(){if(Ij)return e3;Ij=1;var t=Ms(),e=Ny(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return e3=i,e3}var t3,Nj;function bh(){if(Nj)return t3;Nj=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return t3=t,t3}var n3,kj;function $U(){if(kj)return n3;kj=1;var t=qf(),e=bh(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==r||l==i||l==n||l==a}return n3=o,n3}var r3,Lj;function a_e(){if(Lj)return r3;Lj=1;var t=ku(),e=t["__core-js_shared__"];return r3=e,r3}var i3,Uj;function o_e(){if(Uj)return i3;Uj=1;var t=a_e(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return i3=n,i3}var a3,Bj;function bY(){if(Bj)return a3;Bj=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return a3=n,a3}var o3,Fj;function s_e(){if(Fj)return o3;Fj=1;var t=$U(),e=o_e(),n=bh(),r=bY(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!n(g)||e(g))return!1;var y=t(g)?d:a;return y.test(r(g))}return o3=h,o3}var s3,jj;function l_e(){if(jj)return s3;jj=1;function t(e,n){return e?.[n]}return s3=t,s3}var l3,zj;function _m(){if(zj)return l3;zj=1;var t=s_e(),e=l_e();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return l3=n,l3}var c3,Hj;function WT(){if(Hj)return c3;Hj=1;var t=_m(),e=t(Object,"create");return c3=e,c3}var u3,Vj;function c_e(){if(Vj)return u3;Vj=1;var t=WT();function e(){this.__data__=t?t(null):{},this.size=0}return u3=e,u3}var f3,Gj;function u_e(){if(Gj)return f3;Gj=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return f3=t,f3}var d3,$j;function f_e(){if($j)return d3;$j=1;var t=WT(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return d3=i,d3}var h3,Wj;function d_e(){if(Wj)return h3;Wj=1;var t=WT(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return h3=r,h3}var p3,qj;function h_e(){if(qj)return p3;qj=1;var t=WT(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return p3=n,p3}var m3,Xj;function p_e(){if(Xj)return m3;Xj=1;var t=c_e(),e=u_e(),n=f_e(),r=d_e(),i=h_e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,m3=a,m3}var g3,Yj;function m_e(){if(Yj)return g3;Yj=1;function t(){this.__data__=[],this.size=0}return g3=t,g3}var v3,Kj;function WU(){if(Kj)return v3;Kj=1;function t(e,n){return e===n||e!==e&&n!==n}return v3=t,v3}var y3,Zj;function qT(){if(Zj)return y3;Zj=1;var t=WU();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return y3=e,y3}var b3,Jj;function g_e(){if(Jj)return b3;Jj=1;var t=qT(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return b3=r,b3}var x3,Qj;function v_e(){if(Qj)return x3;Qj=1;var t=qT();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return x3=e,x3}var _3,ez;function y_e(){if(ez)return _3;ez=1;var t=qT();function e(n){return t(this.__data__,n)>-1}return _3=e,_3}var S3,tz;function b_e(){if(tz)return S3;tz=1;var t=qT();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return S3=e,S3}var w3,nz;function XT(){if(nz)return w3;nz=1;var t=m_e(),e=g_e(),n=v_e(),r=y_e(),i=b_e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,w3=a,w3}var M3,rz;function qU(){if(rz)return M3;rz=1;var t=_m(),e=ku(),n=t(e,"Map");return M3=n,M3}var E3,iz;function x_e(){if(iz)return E3;iz=1;var t=p_e(),e=XT(),n=qU();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return E3=r,E3}var A3,az;function __e(){if(az)return A3;az=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return A3=t,A3}var T3,oz;function YT(){if(oz)return T3;oz=1;var t=__e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return T3=e,T3}var C3,sz;function S_e(){if(sz)return C3;sz=1;var t=YT();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return C3=e,C3}var R3,lz;function w_e(){if(lz)return R3;lz=1;var t=YT();function e(n){return t(this,n).get(n)}return R3=e,R3}var O3,cz;function M_e(){if(cz)return O3;cz=1;var t=YT();function e(n){return t(this,n).has(n)}return O3=e,O3}var P3,uz;function E_e(){if(uz)return P3;uz=1;var t=YT();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return P3=e,P3}var D3,fz;function XU(){if(fz)return D3;fz=1;var t=x_e(),e=S_e(),n=w_e(),r=M_e(),i=E_e();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,D3=a,D3}var I3,dz;function xY(){if(dz)return I3;dz=1;var t=XU(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=r.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,I3=n,I3}var N3,hz;function A_e(){if(hz)return N3;hz=1;var t=xY(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return N3=n,N3}var k3,pz;function T_e(){if(pz)return k3;pz=1;var t=A_e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(n,"$1"):s||o)}),a});return k3=r,k3}var L3,mz;function YU(){if(mz)return L3;mz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return L3=t,L3}var U3,gz;function C_e(){if(gz)return U3;gz=1;var t=X_(),e=YU(),n=Ms(),r=Ny(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return e(s,o)+"";if(r(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return U3=o,U3}var B3,vz;function _Y(){if(vz)return B3;vz=1;var t=C_e();function e(n){return n==null?"":t(n)}return B3=e,B3}var F3,yz;function SY(){if(yz)return F3;yz=1;var t=Ms(),e=GU(),n=T_e(),r=_Y();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return F3=i,F3}var j3,bz;function KT(){if(bz)return j3;bz=1;var t=Ny();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return j3=e,j3}var z3,xz;function KU(){if(xz)return z3;xz=1;var t=SY(),e=KT();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return z3=n,z3}var H3,_z;function wY(){if(_z)return H3;_z=1;var t=KU();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return H3=e,H3}var R_e=wY();const qs=Mr(R_e);var V3,Sz;function O_e(){if(Sz)return V3;Sz=1;function t(e){return e==null}return V3=t,V3}var P_e=O_e();const nr=Mr(P_e);var G3,wz;function D_e(){if(wz)return G3;wz=1;var t=qf(),e=Ms(),n=Xf(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return G3=i,G3}var I_e=D_e();const fm=Mr(I_e);var N_e=$U();const An=Mr(N_e);var k_e=bh();const ky=Mr(k_e);var $3={exports:{}},Dr={};var Mz;function L_e(){if(Mz)return Dr;Mz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function _(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case t:switch(x=x.type,x){case n:case i:case r:case u:case d:return x;default:switch(x=x&&x.$$typeof,x){case s:case o:case l:case g:case h:case a:return x;default:return w}}case e:return w}}}return Dr.ContextConsumer=o,Dr.ContextProvider=a,Dr.Element=t,Dr.ForwardRef=l,Dr.Fragment=n,Dr.Lazy=g,Dr.Memo=h,Dr.Portal=e,Dr.Profiler=i,Dr.StrictMode=r,Dr.Suspense=u,Dr.SuspenseList=d,Dr.isAsyncMode=function(){return!1},Dr.isConcurrentMode=function(){return!1},Dr.isContextConsumer=function(x){return _(x)===o},Dr.isContextProvider=function(x){return _(x)===a},Dr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Dr.isForwardRef=function(x){return _(x)===l},Dr.isFragment=function(x){return _(x)===n},Dr.isLazy=function(x){return _(x)===g},Dr.isMemo=function(x){return _(x)===h},Dr.isPortal=function(x){return _(x)===e},Dr.isProfiler=function(x){return _(x)===i},Dr.isStrictMode=function(x){return _(x)===r},Dr.isSuspense=function(x){return _(x)===u},Dr.isSuspenseList=function(x){return _(x)===d},Dr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===d||x===y||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===h||x.$$typeof===a||x.$$typeof===o||x.$$typeof===l||x.$$typeof===b||x.getModuleId!==void 0)},Dr.typeOf=_,Dr}var Ez;function U_e(){return Ez||(Ez=1,$3.exports=L_e()),$3.exports}var B_e=U_e(),W3,Az;function MY(){if(Az)return W3;Az=1;var t=qf(),e=Xf(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return W3=r,W3}var q3,Tz;function F_e(){if(Tz)return q3;Tz=1;var t=MY();function e(n){return t(n)&&n!=+n}return q3=e,q3}var j_e=F_e();const Y_=Mr(j_e);var z_e=MY();const H_e=Mr(z_e);var Wo=function(e){return e===0?0:e>0?1:-1},Hp=function(e){return fm(e)&&e.indexOf("%")===e.length-1},Ft=function(e){return H_e(e)&&!Y_(e)},V_e=function(e){return nr(e)},Sa=function(e){return Ft(e)||fm(e)},G_e=0,K_=function(e){var n=++G_e;return"".concat(e||"").concat(n)},qo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(e)&&!fm(e))return r;var a;if(Hp(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Y_(a)&&(a=r),i&&a>n&&(a=n),a},Zd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$_e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},qd=function(e,n){return Ft(e)&&Ft(n)?function(r){return e+r*(n-e)}:function(){return n}};function QN(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qs(r,e))===n})}var W_e=function(e,n){return Ft(e)&&Ft(n)?e-n:fm(e)&&fm(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Iv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ek(t){"@babel/helpers - typeof";return ek=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ek(t)}var q_e=["viewBox","children"],X_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cz=["points","pathLength"],X3={svg:q_e,polygon:Cz,polyline:Cz},ZU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kE=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!ky(r))return null;var i={};return Object.keys(r).forEach(function(a){ZU.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Y_e=function(e,n,r){return function(i){return e(n,r,i),null}},dm=function(e,n,r){if(!ky(e)||ek(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];ZU.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Y_e(o,n,r))}),i},K_e=["children"],Z_e=["children"];function Rz(t,e){if(t==null)return{};var n=J_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Pz=null,Y3=null,JU=function t(e){if(e===Pz&&Array.isArray(Y3))return Y3;var n=[];return B.Children.forEach(e,function(r){nr(r)||(B_e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Y3=n,Pz=e,n};function Ll(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Nf(i)}):r=[Nf(e)],JU(t).forEach(function(i){var a=qs(i,"type.displayName")||qs(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Us(t,e){var n=Ll(t,e);return n&&n[0]}var Dz=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ft(r)||r<=0||!Ft(i)||i<=0)},Q_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e1e=function(e){return e&&e.type&&fm(e.type)&&Q_e.indexOf(e.type)>=0},t1e=function(e,n,r,i){var a,o=(a=X3?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!An(e)&&(i&&o.includes(n)||X_e.includes(n))||r&&ZU.includes(n)},En=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!ky(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;t1e((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},tk=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Iz(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!Iz(a,o))return!1}return!0},Iz=function(e,n){if(nr(e)&&nr(n))return!0;if(!nr(e)&&!nr(n)){var r=e.props||{},i=r.children,a=Rz(r,K_e),o=n.props||{},s=o.children,l=Rz(o,Z_e);return i&&s?Iv(a,l)&&tk(i,s):!i&&!s?Iv(a,l):!1}return!1},Nz=function(e,n){var r=[],i={};return JU(e).forEach(function(a,o){if(e1e(a))r.push(a);else if(a){var s=Nf(a.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var h=u(a,s,o);r.push(h),i[s]=!0}}}),r},n1e=function(e){var n=e&&e.type;return n&&Oz[n]?Oz[n]:null},r1e=function(e,n){return JU(n).indexOf(e)},i1e=["children","width","height","viewBox","className","style","title","desc"];function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nk.apply(this,arguments)}function a1e(t,e){if(t==null)return{};var n=o1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rk(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=a1e(t,i1e),d=i||{width:n,height:r,x:0,y:0},h=Vn("recharts-surface",a);return he.createElement("svg",nk({},En(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),he.createElement("title",null,s),he.createElement("desc",null,l),e)}var s1e=["children","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ik.apply(this,arguments)}function l1e(t,e){if(t==null)return{};var n=c1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Br=he.forwardRef(function(t,e){var n=t.children,r=t.className,i=l1e(t,s1e),a=Vn("recharts-layer",r);return he.createElement("g",ik({className:a},En(i,!0),{ref:e}),n)}),Sc=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},K3,kz;function u1e(){if(kz)return K3;kz=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return K3=t,K3}var Z3,Lz;function f1e(){if(Lz)return Z3;Lz=1;var t=u1e();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return Z3=e,Z3}var J3,Uz;function EY(){if(Uz)return J3;Uz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return J3=l,J3}var Q3,Bz;function d1e(){if(Bz)return Q3;Bz=1;function t(e){return e.split("")}return Q3=t,Q3}var eP,Fz;function h1e(){if(Fz)return eP;Fz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",b=u+"?",_="["+a+"]?",x="(?:"+y+"(?:"+[d,h,g].join("|")+")"+_+b+")*",w=_+b+x,E="(?:"+[d+s+"?",s,h,g,o].join("|")+")",A=RegExp(l+"(?="+l+")|"+E+w,"g");function C(T){return T.match(A)||[]}return eP=C,eP}var tP,jz;function p1e(){if(jz)return tP;jz=1;var t=d1e(),e=EY(),n=h1e();function r(i){return e(i)?n(i):t(i)}return tP=r,tP}var nP,zz;function m1e(){if(zz)return nP;zz=1;var t=f1e(),e=EY(),n=p1e(),r=_Y();function i(a){return function(o){o=r(o);var s=e(o)?n(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return nP=i,nP}var rP,Hz;function g1e(){if(Hz)return rP;Hz=1;var t=m1e(),e=t("toUpperCase");return rP=e,rP}var v1e=g1e();const ZT=Mr(v1e);function oi(t){return function(){return t}}const AY=Math.cos,LE=Math.sin,Oc=Math.sqrt,UE=Math.PI,JT=2*UE,ak=Math.PI,ok=2*ak,Rp=1e-6,y1e=ok-Rp;function TY(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function b1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return TY;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class x1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?TY:b1e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,d=o-e,h=s-n,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Rp)if(!(Math.abs(h*l-u*d)>Rp)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,b=i-s,_=l*l+u*u,x=y*y+b*b,w=Math.sqrt(_),E=Math.sqrt(g),A=a*Math.tan((ak-Math.acos((_+g-x)/(2*w*E)))/2),C=A/E,T=A/w;Math.abs(C-1)>Rp&&this._append`L${e+C*d},${n+C*h}`,this._append`A${a},${a},0,0,${+(h*y>d*b)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,h=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Rp||Math.abs(this._y1-d)>Rp)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%ok+ok),g>y1e?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>Rp&&this._append`A${r},${r},0,${+(g>=ak)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QU(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new x1e(e)}function e2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function CY(t){this._context=t}CY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function QT(t){return new CY(t)}function RY(t){return t[0]}function OY(t){return t[1]}function PY(t,e){var n=oi(!0),r=null,i=QT,a=null,o=QU(s);t=typeof t=="function"?t:t===void 0?RY:oi(t),e=typeof e=="function"?e:e===void 0?OY:oi(e);function s(l){var u,d=(l=e2(l)).length,h,g=!1,y;for(r==null&&(a=i(y=o())),u=0;u<=d;++u)!(u<d&&n(h=l[u],u,l))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,u,l),+e(h,u,l));if(y)return a=null,y+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:oi(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:oi(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:oi(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function eM(t,e,n){var r=null,i=oi(!0),a=null,o=QT,s=null,l=QU(u);t=typeof t=="function"?t:t===void 0?RY:oi(+t),e=typeof e=="function"?e:oi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OY:oi(+n);function u(h){var g,y,b,_=(h=e2(h)).length,x,w=!1,E,A=new Array(_),C=new Array(_);for(a==null&&(s=o(E=l())),g=0;g<=_;++g){if(!(g<_&&i(x=h[g],g,h))===w)if(w=!w)y=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=g-1;b>=y;--b)s.point(A[b],C[b]);s.lineEnd(),s.areaEnd()}w&&(A[g]=+t(x,g,h),C[g]=+e(x,g,h),s.point(r?+r(x,g,h):A[g],n?+n(x,g,h):C[g]))}if(E)return s=null,E+""||null}function d(){return PY().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:oi(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:oi(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:oi(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:oi(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:oi(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:oi(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:oi(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}class DY{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _1e(t){return new DY(t,!0)}function S1e(t){return new DY(t,!1)}const t2={draw(t,e){const n=Oc(e/UE);t.moveTo(n,0),t.arc(0,0,n,0,JT)}},w1e={draw(t,e){const n=Oc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},IY=Oc(1/3),M1e=IY*2,E1e={draw(t,e){const n=Oc(e/M1e),r=n*IY;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},A1e={draw(t,e){const n=Oc(e),r=-n/2;t.rect(r,r,n,n)}},T1e=.8908130915292852,NY=LE(UE/10)/LE(7*UE/10),C1e=LE(JT/10)*NY,R1e=-AY(JT/10)*NY,O1e={draw(t,e){const n=Oc(e*T1e),r=C1e*n,i=R1e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=JT*a/5,s=AY(o),l=LE(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},iP=Oc(3),P1e={draw(t,e){const n=-Oc(e/(iP*3));t.moveTo(0,n*2),t.lineTo(-iP*n,-n),t.lineTo(iP*n,-n),t.closePath()}},Al=-.5,Tl=Oc(3)/2,sk=1/Oc(12),D1e=(sk/2+1)*3,I1e={draw(t,e){const n=Oc(e/D1e),r=n/2,i=n*sk,a=r,o=n*sk+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Al*r-Tl*i,Tl*r+Al*i),t.lineTo(Al*a-Tl*o,Tl*a+Al*o),t.lineTo(Al*s-Tl*l,Tl*s+Al*l),t.lineTo(Al*r+Tl*i,Al*i-Tl*r),t.lineTo(Al*a+Tl*o,Al*o-Tl*a),t.lineTo(Al*s+Tl*l,Al*l-Tl*s),t.closePath()}};function N1e(t,e){let n=null,r=QU(i);t=typeof t=="function"?t:oi(t||t2),e=typeof e=="function"?e:oi(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:oi(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:oi(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function BE(){}function FE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kY(t){this._context=t}kY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k1e(t){return new kY(t)}function LY(t){this._context=t}LY.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:FE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L1e(t){return new LY(t)}function UY(t){this._context=t}UY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:FE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U1e(t){return new UY(t)}function BY(t){this._context=t}BY.prototype={areaStart:BE,areaEnd:BE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B1e(t){return new BY(t)}function Vz(t){return t<0?-1:1}function Gz(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Vz(a)+Vz(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function $z(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function aP(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function jE(t){this._context=t}jE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aP(this,this._t0,$z(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,aP(this,$z(this,n=Gz(this,t,e)),n);break;default:aP(this,this._t0,n=Gz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function FY(t){this._context=new jY(t)}(FY.prototype=Object.create(jE.prototype)).point=function(t,e){jE.prototype.point.call(this,e,t)};function jY(t){this._context=t}jY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function F1e(t){return new jE(t)}function j1e(t){return new FY(t)}function zY(t){this._context=t}zY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Wz(t),i=Wz(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Wz(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function z1e(t){return new zY(t)}function eC(t,e){this._context=t,this._t=e}eC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function H1e(t){return new eC(t,.5)}function V1e(t){return new eC(t,0)}function G1e(t){return new eC(t,1)}function Xv(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $1e(t,e){return t[e]}function W1e(t){const e=[];return e.key=t,e}function q1e(){var t=oi([]),e=lk,n=Xv,r=$1e;function i(a){var o=Array.from(t.apply(this,arguments),W1e),s,l=o.length,u=-1,d;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,d=e2(e(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:oi(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:oi(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?lk:typeof a=="function"?a:oi(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Xv,i):n},i}function X1e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Xv(t,e)}}function Y1e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Xv(t,e)}}function K1e(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],h=d[r][1]||0,g=d[r-1][1]||0,y=(h-g)/2,b=0;b<s;++b){var _=t[e[b]],x=_[r][1]||0,w=_[r-1][1]||0;y+=x-w}l+=h,u+=y*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Xv(t,e)}}function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}var Z1e=["type","size","sizeType"];function ck(){return ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ck.apply(this,arguments)}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=Q1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q1e(t){var e=eSe(t,"string");return Gx(e)=="symbol"?e:e+""}function eSe(t,e){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tSe(t,e){if(t==null)return{};var n=nSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HY={symbolCircle:t2,symbolCross:w1e,symbolDiamond:E1e,symbolSquare:A1e,symbolStar:O1e,symbolTriangle:P1e,symbolWye:I1e},rSe=Math.PI/180,iSe=function(e){var n="symbol".concat(ZT(e));return HY[n]||t2},aSe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rSe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oSe=function(e,n){HY["symbol".concat(ZT(e))]=n},n2=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=tSe(e,Z1e),u=Xz(Xz({},l),{},{type:r,size:a,sizeType:s}),d=function(){var x=iSe(r),w=N1e().type(x).size(aSe(a,s,r));return w()},h=u.className,g=u.cx,y=u.cy,b=En(u,!0);return g===+g&&y===+y&&a===+a?he.createElement("path",ck({},b,{className:Vn("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(y,")"),d:d()})):null};n2.registerSymbol=oSe;function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uk.apply(this,arguments)}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GY(r.key),r)}}function uSe(t,e,n){return e&&cSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fSe(t,e,n){return e=zE(e),dSe(t,VY()?Reflect.construct(e,n||[],zE(t).constructor):e.apply(t,n))}function dSe(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hSe(t)}function hSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VY=function(){return!!t})()}function zE(t){return zE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zE(t)}function pSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fk(t,e)}function $x(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=mSe(t,"string");return Yv(e)=="symbol"?e:e+""}function mSe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cl=32,r2=(function(t){function e(){return lSe(this,e),fSe(this,e,arguments)}return pSe(e,t),uSe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Cl/2,o=Cl/6,s=Cl/3,l=r.inactive?i:r.color;if(r.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Cl,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Cl,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return he.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Cl/8,"h").concat(Cl,"v").concat(Cl*3/4,"h").concat(-Cl,"z"),className:"recharts-legend-icon"});if(he.isValidElement(r.legendIcon)){var u=sSe({},r);return delete u.legendIcon,he.cloneElement(r.legendIcon,u)}return he.createElement(n2,{fill:l,cx:a,cy:a,size:Cl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Cl,height:Cl},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,b){var _=y.formatter||l,x=Vn($x($x({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",y.inactive));if(y.type==="none")return null;var w=An(y.value)?null:y.value;Sc(!An(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?u:y.color;return he.createElement("li",uk({className:x,style:h,key:"legend-item-".concat(b)},dm(r.props,y,b)),he.createElement(rk,{width:o,height:o,viewBox:d,style:g},r.renderIcon(y)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},_?_(w,y,b):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(B.PureComponent);$x(r2,"displayName","Legend");$x(r2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oP,Kz;function gSe(){if(Kz)return oP;Kz=1;var t=XT();function e(){this.__data__=new t,this.size=0}return oP=e,oP}var sP,Zz;function vSe(){if(Zz)return sP;Zz=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return sP=t,sP}var lP,Jz;function ySe(){if(Jz)return lP;Jz=1;function t(e){return this.__data__.get(e)}return lP=t,lP}var cP,Qz;function bSe(){if(Qz)return cP;Qz=1;function t(e){return this.__data__.has(e)}return cP=t,cP}var uP,e6;function xSe(){if(e6)return uP;e6=1;var t=XT(),e=qU(),n=XU(),r=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return uP=i,uP}var fP,t6;function $Y(){if(t6)return fP;t6=1;var t=XT(),e=gSe(),n=vSe(),r=ySe(),i=bSe(),a=xSe();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,fP=o,fP}var dP,n6;function _Se(){if(n6)return dP;n6=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return dP=e,dP}var hP,r6;function SSe(){if(r6)return hP;r6=1;function t(e){return this.__data__.has(e)}return hP=t,hP}var pP,i6;function WY(){if(i6)return pP;i6=1;var t=XU(),e=_Se(),n=SSe();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,pP=r,pP}var mP,a6;function qY(){if(a6)return mP;a6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return mP=t,mP}var gP,o6;function XY(){if(o6)return gP;o6=1;function t(e,n){return e.has(n)}return gP=t,gP}var vP,s6;function YY(){if(s6)return vP;s6=1;var t=WY(),e=qY(),n=XY(),r=1,i=2;function a(o,s,l,u,d,h){var g=l&r,y=o.length,b=s.length;if(y!=b&&!(g&&b>y))return!1;var _=h.get(o),x=h.get(s);if(_&&x)return _==s&&x==o;var w=-1,E=!0,A=l&i?new t:void 0;for(h.set(o,s),h.set(s,o);++w<y;){var C=o[w],T=s[w];if(u)var O=g?u(T,C,w,s,o,h):u(C,T,w,o,s,h);if(O!==void 0){if(O)continue;E=!1;break}if(A){if(!e(s,function(N,R){if(!n(A,R)&&(C===N||d(C,N,l,u,h)))return A.push(R)})){E=!1;break}}else if(!(C===T||d(C,T,l,u,h))){E=!1;break}}return h.delete(o),h.delete(s),E}return vP=a,vP}var yP,l6;function wSe(){if(l6)return yP;l6=1;var t=ku(),e=t.Uint8Array;return yP=e,yP}var bP,c6;function MSe(){if(c6)return bP;c6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return bP=t,bP}var xP,u6;function i2(){if(u6)return xP;u6=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return xP=t,xP}var _P,f6;function ESe(){if(f6)return _P;f6=1;var t=X_(),e=wSe(),n=WU(),r=YY(),i=MSe(),a=i2(),o=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",A=t?t.prototype:void 0,C=A?A.valueOf:void 0;function T(O,N,R,k,z,F,G){switch(R){case E:if(O.byteLength!=N.byteLength||O.byteOffset!=N.byteOffset)return!1;O=O.buffer,N=N.buffer;case w:return!(O.byteLength!=N.byteLength||!F(new e(O),new e(N)));case l:case u:case g:return n(+O,+N);case d:return O.name==N.name&&O.message==N.message;case y:case _:return O==N+"";case h:var V=i;case b:var W=k&o;if(V||(V=a),O.size!=N.size&&!W)return!1;var K=G.get(O);if(K)return K==N;k|=s,G.set(O,N);var H=r(V(O),V(N),k,z,F,G);return G.delete(O),H;case x:if(C)return C.call(O)==C.call(N)}return!1}return _P=T,_P}var SP,d6;function KY(){if(d6)return SP;d6=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return SP=t,SP}var wP,h6;function ASe(){if(h6)return wP;h6=1;var t=KY(),e=Ms();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return wP=n,wP}var MP,p6;function TSe(){if(p6)return MP;p6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}return MP=t,MP}var EP,m6;function CSe(){if(m6)return EP;m6=1;function t(){return[]}return EP=t,EP}var AP,g6;function RSe(){if(g6)return AP;g6=1;var t=TSe(),e=CSe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return r.call(o,s)}))}:e;return AP=a,AP}var TP,v6;function OSe(){if(v6)return TP;v6=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return TP=t,TP}var CP,y6;function PSe(){if(y6)return CP;y6=1;var t=qf(),e=Xf(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return CP=r,CP}var RP,b6;function a2(){if(b6)return RP;b6=1;var t=PSe(),e=Xf(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return RP=a,RP}var Vb={exports:{}},OP,x6;function DSe(){if(x6)return OP;x6=1;function t(){return!1}return OP=t,OP}Vb.exports;var _6;function ZY(){return _6||(_6=1,(function(t,e){var n=ku(),r=DSe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Vb,Vb.exports)),Vb.exports}var PP,S6;function o2(){if(S6)return PP;S6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return PP=n,PP}var DP,w6;function s2(){if(w6)return DP;w6=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return DP=e,DP}var IP,M6;function ISe(){if(M6)return IP;M6=1;var t=qf(),e=s2(),n=Xf(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",k="[object Uint16Array]",z="[object Uint32Array]",F={};F[E]=F[A]=F[C]=F[T]=F[O]=F[N]=F[R]=F[k]=F[z]=!0,F[r]=F[i]=F[x]=F[a]=F[w]=F[o]=F[s]=F[l]=F[u]=F[d]=F[h]=F[g]=F[y]=F[b]=F[_]=!1;function G(V){return n(V)&&e(V.length)&&!!F[t(V)]}return IP=G,IP}var NP,E6;function JY(){if(E6)return NP;E6=1;function t(e){return function(n){return e(n)}}return NP=t,NP}var Gb={exports:{}};Gb.exports;var A6;function NSe(){return A6||(A6=1,(function(t,e){var n=yY(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(Gb,Gb.exports)),Gb.exports}var kP,T6;function QY(){if(T6)return kP;T6=1;var t=ISe(),e=JY(),n=NSe(),r=n&&n.isTypedArray,i=r?e(r):t;return kP=i,kP}var LP,C6;function kSe(){if(C6)return LP;C6=1;var t=OSe(),e=a2(),n=Ms(),r=ZY(),i=o2(),a=QY(),o=Object.prototype,s=o.hasOwnProperty;function l(u,d){var h=n(u),g=!h&&e(u),y=!h&&!g&&r(u),b=!h&&!g&&!y&&a(u),_=h||g||y||b,x=_?t(u.length,String):[],w=x.length;for(var E in u)(d||s.call(u,E))&&!(_&&(E=="length"||y&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,w)))&&x.push(E);return x}return LP=l,LP}var UP,R6;function LSe(){if(R6)return UP;R6=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return UP=e,UP}var BP,O6;function eK(){if(O6)return BP;O6=1;function t(e,n){return function(r){return e(n(r))}}return BP=t,BP}var FP,P6;function USe(){if(P6)return FP;P6=1;var t=eK(),e=t(Object.keys,Object);return FP=e,FP}var jP,D6;function BSe(){if(D6)return jP;D6=1;var t=LSe(),e=USe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return jP=i,jP}var zP,I6;function Z_(){if(I6)return zP;I6=1;var t=$U(),e=s2();function n(r){return r!=null&&e(r.length)&&!t(r)}return zP=n,zP}var HP,N6;function tC(){if(N6)return HP;N6=1;var t=kSe(),e=BSe(),n=Z_();function r(i){return n(i)?t(i):e(i)}return HP=r,HP}var VP,k6;function FSe(){if(k6)return VP;k6=1;var t=ASe(),e=RSe(),n=tC();function r(i){return t(i,n,e)}return VP=r,VP}var GP,L6;function jSe(){if(L6)return GP;L6=1;var t=FSe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,u,d){var h=s&e,g=t(a),y=g.length,b=t(o),_=b.length;if(y!=_&&!h)return!1;for(var x=y;x--;){var w=g[x];if(!(h?w in o:r.call(o,w)))return!1}var E=d.get(a),A=d.get(o);if(E&&A)return E==o&&A==a;var C=!0;d.set(a,o),d.set(o,a);for(var T=h;++x<y;){w=g[x];var O=a[w],N=o[w];if(l)var R=h?l(N,O,w,o,a,d):l(O,N,w,a,o,d);if(!(R===void 0?O===N||u(O,N,s,l,d):R)){C=!1;break}T||(T=w=="constructor")}if(C&&!T){var k=a.constructor,z=o.constructor;k!=z&&"constructor"in a&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof z=="function"&&z instanceof z)&&(C=!1)}return d.delete(a),d.delete(o),C}return GP=i,GP}var $P,U6;function zSe(){if(U6)return $P;U6=1;var t=_m(),e=ku(),n=t(e,"DataView");return $P=n,$P}var WP,B6;function HSe(){if(B6)return WP;B6=1;var t=_m(),e=ku(),n=t(e,"Promise");return WP=n,WP}var qP,F6;function tK(){if(F6)return qP;F6=1;var t=_m(),e=ku(),n=t(e,"Set");return qP=n,qP}var XP,j6;function VSe(){if(j6)return XP;j6=1;var t=_m(),e=ku(),n=t(e,"WeakMap");return XP=n,XP}var YP,z6;function GSe(){if(z6)return YP;z6=1;var t=zSe(),e=qU(),n=HSe(),r=tK(),i=VSe(),a=qf(),o=bY(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",y=o(t),b=o(e),_=o(n),x=o(r),w=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=g||e&&E(new e)!=s||n&&E(n.resolve())!=u||r&&E(new r)!=d||i&&E(new i)!=h)&&(E=function(A){var C=a(A),T=C==l?A.constructor:void 0,O=T?o(T):"";if(O)switch(O){case y:return g;case b:return s;case _:return u;case x:return d;case w:return h}return C}),YP=E,YP}var KP,H6;function $Se(){if(H6)return KP;H6=1;var t=$Y(),e=YY(),n=ESe(),r=jSe(),i=GSe(),a=Ms(),o=ZY(),s=QY(),l=1,u="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function b(_,x,w,E,A,C){var T=a(_),O=a(x),N=T?d:i(_),R=O?d:i(x);N=N==u?h:N,R=R==u?h:R;var k=N==h,z=R==h,F=N==R;if(F&&o(_)){if(!o(x))return!1;T=!0,k=!1}if(F&&!k)return C||(C=new t),T||s(_)?e(_,x,w,E,A,C):n(_,x,N,w,E,A,C);if(!(w&l)){var G=k&&y.call(_,"__wrapped__"),V=z&&y.call(x,"__wrapped__");if(G||V){var W=G?_.value():_,K=V?x.value():x;return C||(C=new t),A(W,K,w,E,C)}}return F?(C||(C=new t),r(_,x,w,E,A,C)):!1}return KP=b,KP}var ZP,V6;function l2(){if(V6)return ZP;V6=1;var t=$Se(),e=Xf();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,s)}return ZP=n,ZP}var JP,G6;function WSe(){if(G6)return JP;G6=1;var t=$Y(),e=l2(),n=1,r=2;function i(a,o,s,l){var u=s.length,d=u,h=!l;if(a==null)return!d;for(a=Object(a);u--;){var g=s[u];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++u<d;){g=s[u];var y=g[0],b=a[y],_=g[1];if(h&&g[2]){if(b===void 0&&!(y in a))return!1}else{var x=new t;if(l)var w=l(b,_,y,a,o,x);if(!(w===void 0?e(_,b,n|r,l,x):w))return!1}}return!0}return JP=i,JP}var QP,$6;function nK(){if($6)return QP;$6=1;var t=bh();function e(n){return n===n&&!t(n)}return QP=e,QP}var eD,W6;function qSe(){if(W6)return eD;W6=1;var t=nK(),e=tC();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,t(s)]}return i}return eD=n,eD}var tD,q6;function rK(){if(q6)return tD;q6=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return tD=t,tD}var nD,X6;function XSe(){if(X6)return nD;X6=1;var t=WSe(),e=qSe(),n=rK();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return nD=r,nD}var rD,Y6;function YSe(){if(Y6)return rD;Y6=1;function t(e,n){return e!=null&&n in Object(e)}return rD=t,rD}var iD,K6;function KSe(){if(K6)return iD;K6=1;var t=SY(),e=a2(),n=Ms(),r=o2(),i=s2(),a=KT();function o(s,l,u){l=t(l,s);for(var d=-1,h=l.length,g=!1;++d<h;){var y=a(l[d]);if(!(g=s!=null&&u(s,y)))break;s=s[y]}return g||++d!=h?g:(h=s==null?0:s.length,!!h&&i(h)&&r(y,h)&&(n(s)||e(s)))}return iD=o,iD}var aD,Z6;function ZSe(){if(Z6)return aD;Z6=1;var t=YSe(),e=KSe();function n(r,i){return r!=null&&e(r,i,t)}return aD=n,aD}var oD,J6;function JSe(){if(J6)return oD;J6=1;var t=l2(),e=wY(),n=ZSe(),r=GU(),i=nK(),a=rK(),o=KT(),s=1,l=2;function u(d,h){return r(d)&&i(h)?a(o(d),h):function(g){var y=e(g,d);return y===void 0&&y===h?n(g,d):t(h,y,s|l)}}return oD=u,oD}var sD,Q6;function Ly(){if(Q6)return sD;Q6=1;function t(e){return e}return sD=t,sD}var lD,e8;function QSe(){if(e8)return lD;e8=1;function t(e){return function(n){return n?.[e]}}return lD=t,lD}var cD,t8;function ewe(){if(t8)return cD;t8=1;var t=KU();function e(n){return function(r){return t(r,n)}}return cD=e,cD}var uD,n8;function twe(){if(n8)return uD;n8=1;var t=QSe(),e=ewe(),n=GU(),r=KT();function i(a){return n(a)?t(r(a)):e(a)}return uD=i,uD}var fD,r8;function Lu(){if(r8)return fD;r8=1;var t=XSe(),e=JSe(),n=Ly(),r=Ms(),i=twe();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return fD=a,fD}var dD,i8;function iK(){if(i8)return dD;i8=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return dD=t,dD}var hD,a8;function nwe(){if(a8)return hD;a8=1;function t(e){return e!==e}return hD=t,hD}var pD,o8;function rwe(){if(o8)return pD;o8=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return pD=t,pD}var mD,s8;function iwe(){if(s8)return mD;s8=1;var t=iK(),e=nwe(),n=rwe();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return mD=r,mD}var gD,l8;function awe(){if(l8)return gD;l8=1;var t=iwe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return gD=e,gD}var vD,c8;function owe(){if(c8)return vD;c8=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return vD=t,vD}var yD,u8;function swe(){if(u8)return yD;u8=1;function t(){}return yD=t,yD}var bD,f8;function lwe(){if(f8)return bD;f8=1;var t=tK(),e=swe(),n=i2(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return bD=i,bD}var xD,d8;function cwe(){if(d8)return xD;d8=1;var t=WY(),e=awe(),n=owe(),r=XY(),i=lwe(),a=i2(),o=200;function s(l,u,d){var h=-1,g=e,y=l.length,b=!0,_=[],x=_;if(d)b=!1,g=n;else if(y>=o){var w=u?null:i(l);if(w)return a(w);b=!1,g=r,x=new t}else x=u?[]:_;e:for(;++h<y;){var E=l[h],A=u?u(E):E;if(E=d||E!==0?E:0,b&&A===A){for(var C=x.length;C--;)if(x[C]===A)continue e;u&&x.push(A),_.push(E)}else g(x,A,d)||(x!==_&&x.push(A),_.push(E))}return _}return xD=s,xD}var _D,h8;function uwe(){if(h8)return _D;h8=1;var t=Lu(),e=cwe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return _D=n,_D}var fwe=uwe();const p8=Mr(fwe);function aK(t,e,n){return e===!0?p8(t,n):An(e)?p8(t,e):t}function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}var dwe=["ref"];function m8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(n),!0).forEach(function(r){nC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sK(r.key),r)}}function pwe(t,e,n){return e&&g8(t.prototype,e),n&&g8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t,e,n){return e=HE(e),gwe(t,oK()?Reflect.construct(e,n||[],HE(t).constructor):e.apply(t,n))}function gwe(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(t)}function vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!t})()}function HE(t){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HE(t)}function ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dk(t,e)}function nC(t,e,n){return e=sK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sK(t){var e=bwe(t,"string");return Kv(e)=="symbol"?e:e+""}function bwe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xwe(t,e){if(t==null)return{};var n=_we(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _we(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Swe(t){return t.value}function wwe(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var n=xwe(e,dwe);return he.createElement(r2,n)}var v8=1,Nv=(function(t){function e(){var n;hwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=mwe(this,e,[].concat(i)),nC(n,"lastBoundingBox",{width:-1,height:-1}),n}return ywe(e,t),pwe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>v8||Math.abs(i.height-this.lastBoundingBox.height)>v8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ef({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,h,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();h={left:((u||0)-y.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();g={top:((d||0)-b.height)/2}}else g=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ef(Ef({},h),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=Ef(Ef({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return he.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){r.wrapperNode=y}},wwe(a,Ef(Ef({},this.props),{},{payload:aK(d,u,Swe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ef(Ef({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ft(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(B.PureComponent);nC(Nv,"displayName","Legend");nC(Nv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SD,y8;function Mwe(){if(y8)return SD;y8=1;var t=X_(),e=a2(),n=Ms(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return SD=i,SD}var wD,b8;function lK(){if(b8)return wD;b8=1;var t=KY(),e=Mwe();function n(r,i,a,o,s){var l=-1,u=r.length;for(a||(a=e),s||(s=[]);++l<u;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):t(s,d):o||(s[s.length]=d)}return s}return wD=n,wD}var MD,x8;function Ewe(){if(x8)return MD;x8=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var u=s[e?l:++a];if(r(o[u],u,o)===!1)break}return n}}return MD=t,MD}var ED,_8;function Awe(){if(_8)return ED;_8=1;var t=Ewe(),e=t();return ED=e,ED}var AD,S8;function cK(){if(S8)return AD;S8=1;var t=Awe(),e=tC();function n(r,i){return r&&t(r,i,e)}return AD=n,AD}var TD,w8;function Twe(){if(w8)return TD;w8=1;var t=Z_();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,s=r?o:-1,l=Object(i);(r?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return TD=e,TD}var CD,M8;function c2(){if(M8)return CD;M8=1;var t=cK(),e=Twe(),n=e(t);return CD=n,CD}var RD,E8;function uK(){if(E8)return RD;E8=1;var t=c2(),e=Z_();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(s,l,u){o[++a]=i(s,l,u)}),o}return RD=n,RD}var OD,A8;function Cwe(){if(A8)return OD;A8=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return OD=t,OD}var PD,T8;function Rwe(){if(T8)return PD;T8=1;var t=Ny();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,s=t(n),l=r!==void 0,u=r===null,d=r===r,h=t(r);if(!u&&!h&&!s&&n>r||s&&l&&d&&!u&&!h||a&&l&&d||!i&&d||!o)return 1;if(!a&&!s&&!h&&n<r||h&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!d)return-1}return 0}return PD=e,PD}var DD,C8;function Owe(){if(C8)return DD;C8=1;var t=Rwe();function e(n,r,i){for(var a=-1,o=n.criteria,s=r.criteria,l=o.length,u=i.length;++a<l;){var d=t(o[a],s[a]);if(d){if(a>=u)return d;var h=i[a];return d*(h=="desc"?-1:1)}}return n.index-r.index}return DD=e,DD}var ID,R8;function Pwe(){if(R8)return ID;R8=1;var t=YU(),e=KU(),n=Lu(),r=uK(),i=Cwe(),a=JY(),o=Owe(),s=Ly(),l=Ms();function u(d,h,g){h.length?h=t(h,function(_){return l(_)?function(x){return e(x,_.length===1?_[0]:_)}:_}):h=[s];var y=-1;h=t(h,a(n));var b=r(d,function(_,x,w){var E=t(h,function(A){return A(_)});return{criteria:E,index:++y,value:_}});return i(b,function(_,x){return o(_,x,g)})}return ID=u,ID}var ND,O8;function Dwe(){if(O8)return ND;O8=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ND=t,ND}var kD,P8;function Iwe(){if(P8)return kD;P8=1;var t=Dwe(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(u),t(r,this,d)}}return kD=n,kD}var LD,D8;function Nwe(){if(D8)return LD;D8=1;function t(e){return function(){return e}}return LD=t,LD}var UD,I8;function fK(){if(I8)return UD;I8=1;var t=_m(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return UD=e,UD}var BD,N8;function kwe(){if(N8)return BD;N8=1;var t=Nwe(),e=fK(),n=Ly(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return BD=r,BD}var FD,k8;function Lwe(){if(k8)return FD;k8=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return FD=r,FD}var jD,L8;function Uwe(){if(L8)return jD;L8=1;var t=kwe(),e=Lwe(),n=e(t);return jD=n,jD}var zD,U8;function Bwe(){if(U8)return zD;U8=1;var t=Ly(),e=Iwe(),n=Uwe();function r(i,a){return n(e(i,a,t),i+"")}return zD=r,zD}var HD,B8;function rC(){if(B8)return HD;B8=1;var t=WU(),e=Z_(),n=o2(),r=bh();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?e(s)&&n(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return HD=i,HD}var VD,F8;function Fwe(){if(F8)return VD;F8=1;var t=lK(),e=Pwe(),n=Bwe(),r=rC(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return VD=i,VD}var jwe=Fwe();const u2=Mr(jwe);function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hk.apply(this,arguments)}function zwe(t,e){return $we(t)||Gwe(t,e)||Vwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vwe(t,e){if(t){if(typeof t=="string")return j8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j8(t,e)}}function j8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $we(t){if(Array.isArray(t))return t}function z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(n),!0).forEach(function(r){Wwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wwe(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Xwe(t,"string");return Wx(e)=="symbol"?e:e+""}function Xwe(t,e){if(Wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ywe(t){return Array.isArray(t)&&Sa(t[0])&&Sa(t[1])?t.join(" ~ "):t}var Kwe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,g=e.itemSorter,y=e.wrapperClassName,b=e.labelClassName,_=e.label,x=e.labelFormatter,w=e.accessibilityLayer,E=w===void 0?!1:w,A=function(){if(d&&d.length){var G={padding:0,margin:0},V=(g?u2(d,g):d).map(function(W,K){if(W.type==="none")return null;var H=GD({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),q=W.formatter||h||Ywe,Z=W.value,ee=W.name,ae=Z,$=ee;if(q&&ae!=null&&$!=null){var J=q(Z,ee,W,K,d);if(Array.isArray(J)){var ne=zwe(J,2);ae=ne[0],$=ne[1]}else ae=J}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:H},Sa($)?he.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Sa($)?he.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,he.createElement("span",{className:"recharts-tooltip-item-value"},ae),he.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:G},V)}return null},C=GD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=GD({margin:0},u),O=!nr(_),N=O?_:"",R=Vn("recharts-default-tooltip",y),k=Vn("recharts-tooltip-label",b);O&&x&&d!==void 0&&d!==null&&(N=x(_,d));var z=E?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",hk({className:R,style:C},z),he.createElement("p",{className:k,style:T},he.isValidElement(N)?N:"".concat(N)),A())};function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}function tM(t,e,n){return e=Zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=Jwe(t,"string");return qx(e)=="symbol"?e:e+""}function Jwe(t,e){if(qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tb="recharts-tooltip-wrapper",Qwe={visibility:"hidden"};function eMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Vn(Tb,tM(tM(tM(tM({},"".concat(Tb,"-right"),Ft(n)&&e&&Ft(e.x)&&n>=e.x),"".concat(Tb,"-left"),Ft(n)&&e&&Ft(e.x)&&n<e.x),"".concat(Tb,"-bottom"),Ft(r)&&e&&Ft(e.y)&&r>=e.y),"".concat(Tb,"-top"),Ft(r)&&e&&Ft(e.y)&&r<e.y))}function H8(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ft(a[r]))return a[r];var d=n[r]-s-i,h=n[r]+i;if(e[r])return o[r]?d:h;if(o[r]){var g=d,y=l[r];return g<y?Math.max(h,l[r]):Math.max(d,l[r])}var b=h+s,_=l[r]+u;return b>_?Math.max(d,l[r]):Math.max(h,l[r])}function tMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=H8({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=H8({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=tMe({translateX:d,translateY:h,useTranslate3d:s})):u=Qwe,{cssProperties:u,cssClasses:eMe({translateX:d,translateY:h,coordinate:n})}}function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){mk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hK(r.key),r)}}function aMe(t,e,n){return e&&iMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oMe(t,e,n){return e=VE(e),sMe(t,dK()?Reflect.construct(e,n||[],VE(t).constructor):e.apply(t,n))}function sMe(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lMe(t)}function lMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function VE(t){return VE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VE(t)}function cMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pk(t,e)}function mk(t,e,n){return e=hK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hK(t){var e=uMe(t,"string");return Zv(e)=="symbol"?e:e+""}function uMe(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $8=1,fMe=(function(t){function e(){var n;rMe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=oMe(this,e,[].concat(i)),mk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mk(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return cMe(e,t),aMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$8||Math.abs(r.height-this.state.lastBoundingBox.height)>$8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,y=i.offset,b=i.position,_=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,A=nMe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:y,position:b,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),C=A.cssClasses,T=A.cssProperties,O=G8(G8({transition:g&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},E);return he.createElement("div",{tabIndex:-1,className:C,style:O,ref:function(R){r.wrapperNode=R}},u)}}])})(B.PureComponent),dMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uy={isSsr:dMe()};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){f2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mK(r.key),r)}}function mMe(t,e,n){return e&&pMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gMe(t,e,n){return e=GE(e),vMe(t,pK()?Reflect.construct(e,n||[],GE(t).constructor):e.apply(t,n))}function vMe(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(t)}function yMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!t})()}function GE(t){return GE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GE(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gk(t,e)}function gk(t,e){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gk(t,e)}function f2(t,e,n){return e=mK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=xMe(t,"string");return Jv(e)=="symbol"?e:e+""}function xMe(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _Me(t){return t.dataKey}function SMe(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(Kwe,e)}var gc=(function(t){function e(){return hMe(this,e),gMe(this,e,arguments)}return bMe(e,t),mMe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,g=i.isAnimationActive,y=i.offset,b=i.payload,_=i.payloadUniqBy,x=i.position,w=i.reverseDirection,E=i.useTranslate3d,A=i.viewBox,C=i.wrapperStyle,T=b??[];h&&T.length&&(T=aK(b.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),_,_Me));var O=T.length>0;return he.createElement(fMe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:g,active:a,coordinate:d,hasPayload:O,offset:y,position:x,reverseDirection:w,useTranslate3d:E,viewBox:A,wrapperStyle:C},SMe(u,q8(q8({},this.props),{},{payload:T})))}}])})(B.PureComponent);f2(gc,"displayName","Tooltip");f2(gc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $D,X8;function wMe(){if(X8)return $D;X8=1;var t=ku(),e=function(){return t.Date.now()};return $D=e,$D}var WD,Y8;function MMe(){if(Y8)return WD;Y8=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return WD=e,WD}var qD,K8;function EMe(){if(K8)return qD;K8=1;var t=MMe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return qD=n,qD}var XD,Z8;function gK(){if(Z8)return XD;Z8=1;var t=EMe(),e=bh(),n=Ny(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?r:+u}return XD=l,XD}var YD,J8;function AMe(){if(J8)return YD;J8=1;var t=bh(),e=wMe(),n=gK(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var d,h,g,y,b,_,x=0,w=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(w=!!u.leading,E="maxWait"in u,g=E?i(n(u.maxWait)||0,l):g,A="trailing"in u?!!u.trailing:A);function C(V){var W=d,K=h;return d=h=void 0,x=V,y=s.apply(K,W),y}function T(V){return x=V,b=setTimeout(R,l),w?C(V):y}function O(V){var W=V-_,K=V-x,H=l-W;return E?a(H,g-K):H}function N(V){var W=V-_,K=V-x;return _===void 0||W>=l||W<0||E&&K>=g}function R(){var V=e();if(N(V))return k(V);b=setTimeout(R,O(V))}function k(V){return b=void 0,A&&d?C(V):(d=h=void 0,y)}function z(){b!==void 0&&clearTimeout(b),x=0,d=_=h=b=void 0}function F(){return b===void 0?y:k(e())}function G(){var V=e(),W=N(V);if(d=arguments,h=this,_=V,W){if(b===void 0)return T(_);if(E)return clearTimeout(b),b=setTimeout(R,l),C(_)}return b===void 0&&(b=setTimeout(R,l)),y}return G.cancel=z,G.flush=F,G}return YD=o,YD}var KD,Q8;function TMe(){if(Q8)return KD;Q8=1;var t=AMe(),e=bh(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return KD=r,KD}var CMe=TMe();const vK=Mr(CMe);function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}function eH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eH(Object(n),!0).forEach(function(r){RMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RMe(t,e,n){return e=OMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OMe(t){var e=PMe(t,"string");return Xx(e)=="symbol"?e:e+""}function PMe(t,e){if(Xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DMe(t,e){return LMe(t)||kMe(t,e)||NMe(t,e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NMe(t,e){if(t){if(typeof t=="string")return tH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tH(t,e)}}function tH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function LMe(t){if(Array.isArray(t))return t}var nH=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,g=t.maxHeight,y=t.children,b=t.debounce,_=b===void 0?0:b,x=t.id,w=t.className,E=t.onResize,A=t.style,C=A===void 0?{}:A,T=B.useRef(null),O=B.useRef();O.current=E,B.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var N=B.useState({containerWidth:i.width,containerHeight:i.height}),R=DMe(N,2),k=R[0],z=R[1],F=B.useCallback(function(V,W){z(function(K){var H=Math.round(V),q=Math.round(W);return K.containerWidth===H&&K.containerHeight===q?K:{containerWidth:H,containerHeight:q}})},[]);B.useEffect(function(){var V=function(ee){var ae,$=ee[0].contentRect,J=$.width,ne=$.height;F(J,ne),(ae=O.current)===null||ae===void 0||ae.call(O,J,ne)};_>0&&(V=vK(V,_,{trailing:!0,leading:!1}));var W=new ResizeObserver(V),K=T.current.getBoundingClientRect(),H=K.width,q=K.height;return F(H,q),W.observe(T.current),function(){W.disconnect()}},[F,_]);var G=B.useMemo(function(){var V=k.containerWidth,W=k.containerHeight;if(V<0||W<0)return null;Sc(Hp(o)||Hp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Sc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Hp(o)?V:o,H=Hp(l)?W:l;n&&n>0&&(K?H=K/n:H&&(K=H*n),g&&H>g&&(H=g)),Sc(K>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,H,o,l,d,h,n);var q=!Array.isArray(y)&&Nf(y.type).endsWith("Chart");return he.Children.map(y,function(Z){return he.isValidElement(Z)?B.cloneElement(Z,nM({width:K,height:H},q?{style:nM({height:"100%",width:"100%",maxHeight:H,maxWidth:K},Z.props.style)}:{})):Z})},[n,y,l,g,h,d,k,o]);return he.createElement("div",{id:x?"".concat(x):void 0,className:Vn("recharts-responsive-container",w),style:nM(nM({},C),{},{width:o,height:l,minWidth:d,minHeight:h,maxHeight:g}),ref:T},G)}),iC=function(e){return null};iC.displayName="Cell";function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(t)}function rH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rH(Object(n),!0).forEach(function(r){UMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e,n){return e=BMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BMe(t){var e=FMe(t,"string");return Yx(e)=="symbol"?e:e+""}function FMe(t,e){if(Yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cv={widthCache:{},cacheCount:0},jMe=2e3,zMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iH="recharts_measurement_span";function HMe(t){var e=vk({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ux=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uy.isSsr)return{width:0,height:0};var r=HMe(n),i=JSON.stringify({text:e,copyStyle:r});if(cv.widthCache[i])return cv.widthCache[i];try{var a=document.getElementById(iH);a||(a=document.createElement("span"),a.setAttribute("id",iH),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=vk(vk({},zMe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return cv.widthCache[i]=l,++cv.cacheCount>jMe&&(cv.cacheCount=0,cv.widthCache={}),l}catch{return{width:0,height:0}}},VMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}function $E(t,e){return qMe(t)||WMe(t,e)||$Me(t,e)||GMe()}function GMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(t,e){if(t){if(typeof t=="string")return aH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aH(t,e)}}function aH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qMe(t){if(Array.isArray(t))return t}function XMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KMe(r.key),r)}}function YMe(t,e,n){return e&&oH(t.prototype,e),n&&oH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KMe(t){var e=ZMe(t,"string");return Kx(e)=="symbol"?e:e+""}function ZMe(t,e){if(Kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eEe=Object.keys(yK),xv="NaN";function tEe(t,e){return t*yK[e]}var rM=(function(){function t(e,n){XMe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JMe.test(n)&&(this.num=NaN,this.unit=""),eEe.includes(n)&&(this.num=tEe(e,n),this.unit="px")}return YMe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=QMe.exec(n))!==null&&r!==void 0?r:[],a=$E(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])})();function bK(t){if(t.includes(xv))return xv;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=sH.exec(e))!==null&&n!==void 0?n:[],i=$E(r,4),a=i[1],o=i[2],s=i[3],l=rM.parse(a??""),u=rM.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return xv;e=e.replace(sH,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=lH.exec(e))!==null&&h!==void 0?h:[],y=$E(g,4),b=y[1],_=y[2],x=y[3],w=rM.parse(b??""),E=rM.parse(x??""),A=_==="+"?w.add(E):w.subtract(E);if(A.isNaN())return xv;e=e.replace(lH,A.toString())}return e}var cH=/\(([^()]*)\)/;function nEe(t){for(var e=t;e.includes("(");){var n=cH.exec(e),r=$E(n,2),i=r[1];e=e.replace(cH,bK(i))}return e}function rEe(t){var e=t.replace(/\s+/g,"");return e=nEe(e),e=bK(e),e}function iEe(t){try{return rEe(t)}catch{return xv}}function ZD(t){var e=iEe(t.slice(5,-1));return e===xv?"":e}var aEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oEe=["dx","dy","angle","className","breakAll"];function yk(){return yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yk.apply(this,arguments)}function uH(t,e){if(t==null)return{};var n=sEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fH(t,e){return fEe(t)||uEe(t,e)||cEe(t,e)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cEe(t,e){if(t){if(typeof t=="string")return dH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dH(t,e)}}function dH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fEe(t){if(Array.isArray(t))return t}var xK=/[ \f\n\r\t\v\u2028\u2029]+/,_K=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];nr(n)||(r?a=n.toString().split(""):a=n.toString().split(xK));var o=a.map(function(l){return{word:l,width:ux(l,i).width}}),s=r?0:ux("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},dEe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Ft(o),h=s,g=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(H,q){var Z=q.word,ee=q.width,ae=H[H.length-1];if(ae&&(i==null||a||ae.width+ee+r<Number(i)))ae.words.push(Z),ae.width+=ee+r;else{var $={words:[Z],width:ee};H.push($)}return H},[])},y=g(n),b=function(K){return K.reduce(function(H,q){return H.width>q.width?H:q})};if(!d)return y;for(var _="",x=function(K){var H=h.slice(0,K),q=_K({breakAll:u,style:l,children:H+_}).wordsWithComputedWidth,Z=g(q),ee=Z.length>o||b(Z).width>Number(i);return[ee,Z]},w=0,E=h.length-1,A=0,C;w<=E&&A<=h.length-1;){var T=Math.floor((w+E)/2),O=T-1,N=x(O),R=fH(N,2),k=R[0],z=R[1],F=x(T),G=fH(F,1),V=G[0];if(!k&&!V&&(w=T+1),k&&V&&(E=T-1),!k&&V){C=z;break}A++}return C||y},hH=function(e){var n=nr(e)?[]:e.toString().split(xK);return[{words:n}]},hEe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Uy.isSsr){var l,u,d=_K({breakAll:o,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,g=d.spaceWidth;l=h,u=g}else return hH(i);return dEe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return hH(i)},pH="#808080",hm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,g=e.textAnchor,y=g===void 0?"start":g,b=e.verticalAnchor,_=b===void 0?"end":b,x=e.fill,w=x===void 0?pH:x,E=uH(e,aEe),A=B.useMemo(function(){return hEe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:h,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,h,E.style,E.width]),C=E.dx,T=E.dy,O=E.angle,N=E.className,R=E.breakAll,k=uH(E,oEe);if(!Sa(r)||!Sa(a))return null;var z=r+(Ft(C)?C:0),F=a+(Ft(T)?T:0),G;switch(_){case"start":G=ZD("calc(".concat(u,")"));break;case"middle":G=ZD("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:G=ZD("calc(".concat(A.length-1," * -").concat(s,")"));break}var V=[];if(h){var W=A[0].width,K=E.width;V.push("scale(".concat((Ft(K)?K/W:1)/W,")"))}return O&&V.push("rotate(".concat(O,", ").concat(z,", ").concat(F,")")),V.length&&(k.transform=V.join(" ")),he.createElement("text",yk({},En(k,!0),{x:z,y:F,className:Vn("recharts-text",N),textAnchor:y,fill:w.includes("url")?pH:w}),A.map(function(H,q){var Z=H.words.join(R?"":" ");return he.createElement("tspan",{x:z,dy:q===0?G:s,key:"".concat(Z,"-").concat(q)},Z)}))};function rh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d2(t){let e,n,r;t.length!==2?(e=rh,n=(s,l)=>rh(t(s),l),r=(s,l)=>t(s)-l):(e=t===rh||t===pEe?t:mEe,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(s[h],l)<0?u=h+1:d=h}while(u<d)}return u}function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(s[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function o(s,l,u=0,d=s.length){const h=i(s,l,u,d-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function mEe(){return 0}function SK(t){return t===null?NaN:+t}function*gEe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vEe=d2(rh),J_=vEe.right;d2(SK).center;class mH extends Map{constructor(e,n=xEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gH(this,e))}has(e){return super.has(gH(this,e))}set(e,n){return super.set(yEe(this,e),n)}delete(e){return super.delete(bEe(this,e))}}function gH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bEe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Ee(t=rh){if(t===rh)return wK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SEe=Math.sqrt(50),wEe=Math.sqrt(10),MEe=Math.sqrt(2);function WE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=SEe?10:a>=wEe?5:a>=MEe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?WE(t,e,n*2):[s,l,u]}function bk(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?WE(e,t,n):WE(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function xk(t,e,n){return e=+e,t=+t,n=+n,WE(t,e,n)[2]}function _k(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xk(e,t,n):xk(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vH(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yH(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function MK(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wK:_Ee(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*h/l+g)),b=Math.min(r,Math.floor(e+(l-u)*h/l+g));MK(t,e,y,b,i)}const a=t[e];let o=n,s=r;for(Cb(t,n,e),i(t[r],a)>0&&Cb(t,n,r);o<s;){for(Cb(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Cb(t,n,s):(++s,Cb(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Cb(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EEe(t,e,n){if(t=Float64Array.from(gEe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yH(t);if(e>=1)return vH(t);var r,i=(r-1)*e,a=Math.floor(i),o=vH(MK(t,a).subarray(0,a+1)),s=yH(t.subarray(a+1));return o+(s-o)*(i-a)}}function AEe(t,e,n=SK){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function TEe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function jl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sk=Symbol("implicit");function h2(){var t=new mH,e=[],n=[],r=Sk;function i(a){let o=t.get(a);if(o===void 0){if(r!==Sk)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new mH;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return h2(e,n).unknown(r)},jl.apply(i,arguments),i}function Zx(){var t=h2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var g=e().length,y=i<r,b=y?i:r,_=y?r:i;a=(_-b)/Math.max(1,g-l+u*2),s&&(a=Math.floor(a)),b+=(_-b-a*(g-l))*d,o=a*(1-l),s&&(b=Math.round(b),o=Math.round(o));var x=TEe(g).map(function(w){return b+a*w});return n(y?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(s=!!g,h()):s},t.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},t.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},t.copy=function(){return Zx(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},jl.apply(h(),arguments)}function EK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EK(e())},t}function fx(){return EK(Zx.apply(null,arguments).paddingInner(1))}function p2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Q_(){}var Jx=.7,qE=1/Jx,kv="\\s*([+-]?\\d+)\\s*",Qx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CEe=/^#([0-9a-f]{3,8})$/,REe=new RegExp(`^rgb\\(${kv},${kv},${kv}\\)$`),OEe=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),PEe=new RegExp(`^rgba\\(${kv},${kv},${kv},${Qx}\\)$`),DEe=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${Qx}\\)$`),IEe=new RegExp(`^hsl\\(${Qx},${Eu},${Eu}\\)$`),NEe=new RegExp(`^hsla\\(${Qx},${Eu},${Eu},${Qx}\\)$`),bH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p2(Q_,e_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xH,formatHex:xH,formatHex8:kEe,formatHsl:LEe,formatRgb:_H,toString:_H});function xH(){return this.rgb().formatHex()}function kEe(){return this.rgb().formatHex8()}function LEe(){return TK(this).formatHsl()}function _H(){return this.rgb().formatRgb()}function e_(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CEe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SH(e):n===3?new ws(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?iM(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?iM(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=REe.exec(t))?new ws(e[1],e[2],e[3],1):(e=OEe.exec(t))?new ws(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PEe.exec(t))?iM(e[1],e[2],e[3],e[4]):(e=DEe.exec(t))?iM(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IEe.exec(t))?EH(e[1],e[2]/100,e[3]/100,1):(e=NEe.exec(t))?EH(e[1],e[2]/100,e[3]/100,e[4]):bH.hasOwnProperty(t)?SH(bH[t]):t==="transparent"?new ws(NaN,NaN,NaN,0):null}function SH(t){return new ws(t>>16&255,t>>8&255,t&255,1)}function iM(t,e,n,r){return r<=0&&(t=e=n=NaN),new ws(t,e,n,r)}function UEe(t){return t instanceof Q_||(t=e_(t)),t?(t=t.rgb(),new ws(t.r,t.g,t.b,t.opacity)):new ws}function wk(t,e,n,r){return arguments.length===1?UEe(t):new ws(t,e,n,r??1)}function ws(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}p2(ws,wk,AK(Q_,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jx:Math.pow(Jx,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ws(Kp(this.r),Kp(this.g),Kp(this.b),XE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wH,formatHex:wH,formatHex8:BEe,formatRgb:MH,toString:MH}));function wH(){return`#${Vp(this.r)}${Vp(this.g)}${Vp(this.b)}`}function BEe(){return`#${Vp(this.r)}${Vp(this.g)}${Vp(this.b)}${Vp((isNaN(this.opacity)?1:this.opacity)*255)}`}function MH(){const t=XE(this.opacity);return`${t===1?"rgb(":"rgba("}${Kp(this.r)}, ${Kp(this.g)}, ${Kp(this.b)}${t===1?")":`, ${t})`}`}function XE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vp(t){return t=Kp(t),(t<16?"0":"")+t.toString(16)}function EH(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bc(t,e,n,r)}function TK(t){if(t instanceof bc)return new bc(t.h,t.s,t.l,t.opacity);if(t instanceof Q_||(t=e_(t)),!t)return new bc;if(t instanceof bc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new bc(o,s,l,t.opacity)}function FEe(t,e,n,r){return arguments.length===1?TK(t):new bc(t,e,n,r??1)}function bc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}p2(bc,FEe,AK(Q_,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new bc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jx:Math.pow(Jx,t),new bc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ws(JD(t>=240?t-240:t+120,i,r),JD(t,i,r),JD(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bc(AH(this.h),aM(this.s),aM(this.l),XE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=XE(this.opacity);return`${t===1?"hsl(":"hsla("}${AH(this.h)}, ${aM(this.s)*100}%, ${aM(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AH(t){return t=(t||0)%360,t<0?t+360:t}function aM(t){return Math.max(0,Math.min(1,t||0))}function JD(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const m2=t=>()=>t;function jEe(t,e){return function(n){return t+n*e}}function zEe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HEe(t){return(t=+t)==1?CK:function(e,n){return n-e?zEe(e,n,t):m2(isNaN(e)?n:e)}}function CK(t,e){var n=e-t;return n?jEe(t,n):m2(isNaN(t)?e:t)}const TH=(function t(e){var n=HEe(e);function r(i,a){var o=n((i=wk(i)).r,(a=wk(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=CK(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function VEe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function GEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $Ee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=By(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function WEe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function YE(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qEe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=By(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Mk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QD=new RegExp(Mk.source,"g");function XEe(t){return function(){return t}}function YEe(t){return function(e){return t(e)+""}}function KEe(t,e){var n=Mk.lastIndex=QD.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Mk.exec(t))&&(i=QD.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:YE(r,i)})),n=QD.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?YEe(l[0].x):XEe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)s[(h=l[d]).i]=h.x(u);return s.join("")})}function By(t,e){var n=typeof e,r;return e==null||n==="boolean"?m2(e):(n==="number"?YE:n==="string"?(r=e_(e))?(e=r,TH):KEe:e instanceof e_?TH:e instanceof Date?WEe:GEe(e)?VEe:Array.isArray(e)?$Ee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qEe:YE)(t,e)}function g2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZEe(t,e){e===void 0&&(e=t,t=By);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function JEe(t){return function(){return t}}function KE(t){return+t}var CH=[0,1];function Xo(t){return t}function Ek(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JEe(isNaN(e)?NaN:.5)}function QEe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function eAe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ek(i,r),a=n(o,a)):(r=Ek(r,i),a=n(a,o)),function(s){return a(r(s))}}function tAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ek(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=J_(t,s,1,r)-1;return a[l](i[l](s))}}function e1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function aC(){var t=CH,e=CH,n=By,r,i,a,o=Xo,s,l,u;function d(){var g=Math.min(t.length,e.length);return o!==Xo&&(o=QEe(t[0],t[g-1])),s=g>2?tAe:eAe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?a:(l||(l=s(t.map(r),e,n)))(r(o(g)))}return h.invert=function(g){return o(i((u||(u=s(e,t.map(r),YE)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,KE),d()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=g2,d()},h.clamp=function(g){return arguments.length?(o=g?!0:Xo,d()):o!==Xo},h.interpolate=function(g){return arguments.length?(n=g,d()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,y){return r=g,i=y,d()}}function v2(){return aC()(Xo,Xo)}function nAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ZE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qv(t){return t=ZE(Math.abs(t)),t?t[1]:NaN}function rAe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function iAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var aAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t_(t){if(!(e=aAe.exec(t)))throw new Error("invalid format: "+t);var e;return new y2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}t_.prototype=y2.prototype;function y2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}y2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var RK;function sAe(t,e){var n=ZE(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(RK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ZE(t,Math.max(0,e+a-1))[0]}function RH(t,e){var n=ZE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RH(t*100,e),r:RH,s:sAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PH(t){return t}var DH=Array.prototype.map,IH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lAe(t){var e=t.grouping===void 0||t.thousands===void 0?PH:rAe(DH.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?PH:iAe(DH.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=t_(h);var g=h.fill,y=h.align,b=h.sign,_=h.symbol,x=h.zero,w=h.width,E=h.comma,A=h.precision,C=h.trim,T=h.type;T==="n"?(E=!0,T="g"):OH[T]||(A===void 0&&(A=12),C=!0,T="g"),(x||g==="0"&&y==="=")&&(x=!0,g="0",y="=");var O=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",N=_==="$"?r:/[%p]/.test(T)?o:"",R=OH[T],k=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function z(F){var G=O,V=N,W,K,H;if(T==="c")V=R(F)+V,F="";else{F=+F;var q=F<0||1/F<0;if(F=isNaN(F)?l:R(Math.abs(F),A),C&&(F=oAe(F)),q&&+F==0&&b!=="+"&&(q=!1),G=(q?b==="("?b:s:b==="-"||b==="("?"":b)+G,V=(T==="s"?IH[8+RK/3]:"")+V+(q&&b==="("?")":""),k){for(W=-1,K=F.length;++W<K;)if(H=F.charCodeAt(W),48>H||H>57){V=(H===46?i+F.slice(W+1):F.slice(W))+V,F=F.slice(0,W);break}}}E&&!x&&(F=e(F,1/0));var Z=G.length+F.length+V.length,ee=Z<w?new Array(w-Z+1).join(g):"";switch(E&&x&&(F=e(ee+F,ee.length?w-V.length:1/0),ee=""),y){case"<":F=G+F+V+ee;break;case"=":F=G+ee+F+V;break;case"^":F=ee.slice(0,Z=ee.length>>1)+G+F+V+ee.slice(Z);break;default:F=ee+G+F+V;break}return a(F)}return z.toString=function(){return h+""},z}function d(h,g){var y=u((h=t_(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(Qv(g)/3)))*3,_=Math.pow(10,-b),x=IH[8+b/3];return function(w){return y(_*w)+x}}return{format:u,formatPrefix:d}}var oM,b2,OK;cAe({thousands:",",grouping:[3],currency:["$",""]});function cAe(t){return oM=lAe(t),b2=oM.format,OK=oM.formatPrefix,oM}function uAe(t){return Math.max(0,-Qv(Math.abs(t)))}function fAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qv(e)/3)))*3-Qv(Math.abs(t)))}function dAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qv(e)-Qv(t))+1}function PK(t,e,n,r){var i=_k(t,e,n),a;switch(r=t_(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=fAe(i,o))&&(r.precision=a),OK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=dAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return b2(r)}function xh(t){var e=t.domain;return t.ticks=function(n){var r=e();return bk(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=xk(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function JE(){var t=v2();return t.copy=function(){return e1(t,JE())},jl.apply(t,arguments),xh(t)}function DK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,KE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return DK(t).unknown(e)},t=arguments.length?Array.from(t,KE):[0,1],xh(n)}function IK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function NH(t){return Math.log(t)}function kH(t){return Math.exp(t)}function hAe(t){return-Math.log(-t)}function pAe(t){return-Math.exp(-t)}function mAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gAe(t){return t===10?mAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LH(t){return(e,n)=>-t(-e,n)}function x2(t){const e=t(NH,kH),n=e.domain;let r=10,i,a;function o(){return i=vAe(r),a=gAe(r),n()[0]<0?(i=LH(i),a=LH(a),t(hAe,pAe)):t(NH,kH),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),y=i(d),b,_;const x=s==null?10:+s;let w=[];if(!(r%1)&&y-g<x){if(g=Math.floor(g),y=Math.ceil(y),u>0){for(;g<=y;++g)for(b=1;b<r;++b)if(_=g<0?b/a(-g):b*a(g),!(_<u)){if(_>d)break;w.push(_)}}else for(;g<=y;++g)for(b=r-1;b>=1;--b)if(_=g>0?b/a(-g):b*a(g),!(_<u)){if(_>d)break;w.push(_)}w.length*2<x&&(w=bk(u,d,x))}else w=bk(g,y,Math.min(y-g,x)).map(a);return h?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=t_(l)).precision==null&&(l.trim=!0),l=b2(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>n(IK(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function NK(){const t=x2(aC()).domain([1,10]);return t.copy=()=>e1(t,NK()).base(t.base()),jl.apply(t,arguments),t}function UH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _2(t){var e=1,n=t(UH(e),BH(e));return n.constant=function(r){return arguments.length?t(UH(e=+r),BH(e)):e},xh(n)}function kK(){var t=_2(aC());return t.copy=function(){return e1(t,kK()).constant(t.constant())},jl.apply(t,arguments)}function FH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bAe(t){return t<0?-t*t:t*t}function S2(t){var e=t(Xo,Xo),n=1;function r(){return n===1?t(Xo,Xo):n===.5?t(yAe,bAe):t(FH(n),FH(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xh(e)}function w2(){var t=S2(aC());return t.copy=function(){return e1(t,w2()).exponent(t.exponent())},jl.apply(t,arguments),t}function xAe(){return w2.apply(null,arguments).exponent(.5)}function jH(t){return Math.sign(t)*t*t}function _Ae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LK(){var t=v2(),e=[0,1],n=!1,r;function i(a){var o=_Ae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(jH(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,KE)).map(jH)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},jl.apply(i,arguments),xh(i)}function UK(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=AEe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[J_(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(rh),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return UK().domain(t).range(e).unknown(r)},jl.apply(a,arguments)}function BK(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[J_(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return BK().domain([t,e]).range(i).unknown(a)},jl.apply(xh(o),arguments)}function FK(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[J_(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return FK().domain(t).range(e).unknown(n)},jl.apply(i,arguments)}const eI=new Date,tI=new Date;function Ea(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Ea(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(eI.setTime(+a),tI.setTime(+o),t(eI),t(tI),Math.floor(n(eI,tI))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const QE=Ea(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);QE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ea(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):QE);QE.range;const Of=1e3,Dl=Of*60,Pf=Dl*60,Ff=Pf*24,M2=Ff*7,zH=Ff*30,nI=Ff*365,Gp=Ea(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Of)},(t,e)=>(e-t)/Of,t=>t.getUTCSeconds());Gp.range;const E2=Ea(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Of)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getMinutes());E2.range;const A2=Ea(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Dl)},(t,e)=>(e-t)/Dl,t=>t.getUTCMinutes());A2.range;const T2=Ea(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Of-t.getMinutes()*Dl)},(t,e)=>{t.setTime(+t+e*Pf)},(t,e)=>(e-t)/Pf,t=>t.getHours());T2.range;const C2=Ea(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pf)},(t,e)=>(e-t)/Pf,t=>t.getUTCHours());C2.range;const t1=Ea(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Dl)/Ff,t=>t.getDate()-1);t1.range;const oC=Ea(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ff,t=>t.getUTCDate()-1);oC.range;const jK=Ea(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ff,t=>Math.floor(t/Ff));jK.range;function Sm(t){return Ea(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Dl)/M2)}const sC=Sm(0),eA=Sm(1),SAe=Sm(2),wAe=Sm(3),ey=Sm(4),MAe=Sm(5),EAe=Sm(6);sC.range;eA.range;SAe.range;wAe.range;ey.range;MAe.range;EAe.range;function wm(t){return Ea(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M2)}const lC=wm(0),tA=wm(1),AAe=wm(2),TAe=wm(3),ty=wm(4),CAe=wm(5),RAe=wm(6);lC.range;tA.range;AAe.range;TAe.range;ty.range;CAe.range;RAe.range;const R2=Ea(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());R2.range;const O2=Ea(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());O2.range;const jf=Ea(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ea(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jf.range;const zf=Ea(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ea(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zf.range;function zK(t,e,n,r,i,a){const o=[[Gp,1,Of],[Gp,5,5*Of],[Gp,15,15*Of],[Gp,30,30*Of],[a,1,Dl],[a,5,5*Dl],[a,15,15*Dl],[a,30,30*Dl],[i,1,Pf],[i,3,3*Pf],[i,6,6*Pf],[i,12,12*Pf],[r,1,Ff],[r,2,2*Ff],[n,1,M2],[e,1,zH],[e,3,3*zH],[t,1,nI]];function s(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const y=h&&typeof h.range=="function"?h:l(u,d,h),b=y?y.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,y=d2(([,,x])=>x).right(o,g);if(y===o.length)return t.every(_k(u/nI,d/nI,h));if(y===0)return QE.every(Math.max(_k(u,d,h),1));const[b,_]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return b.every(_)}return[s,l]}const[OAe,PAe]=zK(zf,O2,lC,jK,C2,A2),[DAe,IAe]=zK(jf,R2,sC,t1,T2,E2);function rI(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iI(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rb(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ob(i),d=Pb(i),h=Ob(a),g=Pb(a),y=Ob(o),b=Pb(o),_=Ob(s),x=Pb(s),w=Ob(l),E=Pb(l),A={a:q,A:Z,b:ee,B:ae,c:null,d:qH,e:qH,f:rTe,g:hTe,G:mTe,H:eTe,I:tTe,j:nTe,L:HK,m:iTe,M:aTe,p:$,q:J,Q:KH,s:ZH,S:oTe,u:sTe,U:lTe,V:cTe,w:uTe,W:fTe,x:null,X:null,y:dTe,Y:pTe,Z:gTe,"%":YH},C={a:ne,A:fe,b:ge,B:ce,c:null,d:XH,e:XH,f:xTe,g:OTe,G:DTe,H:vTe,I:yTe,j:bTe,L:GK,m:_Te,M:STe,p:le,q:pe,Q:KH,s:ZH,S:wTe,u:MTe,U:ETe,V:ATe,w:TTe,W:CTe,x:null,X:null,y:RTe,Y:PTe,Z:ITe,"%":YH},T={a:z,A:F,b:G,B:V,c:W,d:$H,e:$H,f:KAe,g:GH,G:VH,H:WH,I:WH,j:WAe,L:YAe,m:$Ae,M:qAe,p:k,q:GAe,Q:JAe,s:QAe,S:XAe,u:FAe,U:jAe,V:zAe,w:BAe,W:HAe,x:K,X:H,y:GH,Y:VH,Z:VAe,"%":ZAe};A.x=O(n,A),A.X=O(r,A),A.c=O(e,A),C.x=O(n,C),C.X=O(r,C),C.c=O(e,C);function O(xe,Oe){return function(_e){var ve=[],Qe=-1,Ee=0,Fe=xe.length,Ne,Ge,ie;for(_e instanceof Date||(_e=new Date(+_e));++Qe<Fe;)xe.charCodeAt(Qe)===37&&(ve.push(xe.slice(Ee,Qe)),(Ge=HH[Ne=xe.charAt(++Qe)])!=null?Ne=xe.charAt(++Qe):Ge=Ne==="e"?" ":"0",(ie=Oe[Ne])&&(Ne=ie(_e,Ge)),ve.push(Ne),Ee=Qe+1);return ve.push(xe.slice(Ee,Qe)),ve.join("")}}function N(xe,Oe){return function(_e){var ve=Rb(1900,void 0,1),Qe=R(ve,xe,_e+="",0),Ee,Fe;if(Qe!=_e.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ee=iI(Rb(ve.y,0,1)),Fe=Ee.getUTCDay(),Ee=Fe>4||Fe===0?tA.ceil(Ee):tA(Ee),Ee=oC.offset(Ee,(ve.V-1)*7),ve.y=Ee.getUTCFullYear(),ve.m=Ee.getUTCMonth(),ve.d=Ee.getUTCDate()+(ve.w+6)%7):(Ee=rI(Rb(ve.y,0,1)),Fe=Ee.getDay(),Ee=Fe>4||Fe===0?eA.ceil(Ee):eA(Ee),Ee=t1.offset(Ee,(ve.V-1)*7),ve.y=Ee.getFullYear(),ve.m=Ee.getMonth(),ve.d=Ee.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Fe="Z"in ve?iI(Rb(ve.y,0,1)).getUTCDay():rI(Rb(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Fe+5)%7:ve.w+ve.U*7-(Fe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,iI(ve)):rI(ve)}}function R(xe,Oe,_e,ve){for(var Qe=0,Ee=Oe.length,Fe=_e.length,Ne,Ge;Qe<Ee;){if(ve>=Fe)return-1;if(Ne=Oe.charCodeAt(Qe++),Ne===37){if(Ne=Oe.charAt(Qe++),Ge=T[Ne in HH?Oe.charAt(Qe++):Ne],!Ge||(ve=Ge(xe,_e,ve))<0)return-1}else if(Ne!=_e.charCodeAt(ve++))return-1}return ve}function k(xe,Oe,_e){var ve=u.exec(Oe.slice(_e));return ve?(xe.p=d.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function z(xe,Oe,_e){var ve=y.exec(Oe.slice(_e));return ve?(xe.w=b.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function F(xe,Oe,_e){var ve=h.exec(Oe.slice(_e));return ve?(xe.w=g.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function G(xe,Oe,_e){var ve=w.exec(Oe.slice(_e));return ve?(xe.m=E.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function V(xe,Oe,_e){var ve=_.exec(Oe.slice(_e));return ve?(xe.m=x.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function W(xe,Oe,_e){return R(xe,e,Oe,_e)}function K(xe,Oe,_e){return R(xe,n,Oe,_e)}function H(xe,Oe,_e){return R(xe,r,Oe,_e)}function q(xe){return o[xe.getDay()]}function Z(xe){return a[xe.getDay()]}function ee(xe){return l[xe.getMonth()]}function ae(xe){return s[xe.getMonth()]}function $(xe){return i[+(xe.getHours()>=12)]}function J(xe){return 1+~~(xe.getMonth()/3)}function ne(xe){return o[xe.getUTCDay()]}function fe(xe){return a[xe.getUTCDay()]}function ge(xe){return l[xe.getUTCMonth()]}function ce(xe){return s[xe.getUTCMonth()]}function le(xe){return i[+(xe.getUTCHours()>=12)]}function pe(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Oe=O(xe+="",A);return Oe.toString=function(){return xe},Oe},parse:function(xe){var Oe=N(xe+="",!1);return Oe.toString=function(){return xe},Oe},utcFormat:function(xe){var Oe=O(xe+="",C);return Oe.toString=function(){return xe},Oe},utcParse:function(xe){var Oe=N(xe+="",!0);return Oe.toString=function(){return xe},Oe}}}var HH={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,kAe=/^%/,LAe=/[\\^$*+?|[\]().{}]/g;function wr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function UAe(t){return t.replace(LAe,"\\$&")}function Ob(t){return new RegExp("^(?:"+t.map(UAe).join("|")+")","i")}function Pb(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function BAe(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function FAe(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jAe(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zAe(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function VH(t,e,n){var r=Fa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function GH(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GAe(t,e,n){var r=Fa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $Ae(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $H(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WAe(t,e,n){var r=Fa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WH(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XAe(t,e,n){var r=Fa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function YAe(t,e,n){var r=Fa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=Fa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZAe(t,e,n){var r=kAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function JAe(t,e,n){var r=Fa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function QAe(t,e,n){var r=Fa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qH(t,e){return wr(t.getDate(),e,2)}function eTe(t,e){return wr(t.getHours(),e,2)}function tTe(t,e){return wr(t.getHours()%12||12,e,2)}function nTe(t,e){return wr(1+t1.count(jf(t),t),e,3)}function HK(t,e){return wr(t.getMilliseconds(),e,3)}function rTe(t,e){return HK(t,e)+"000"}function iTe(t,e){return wr(t.getMonth()+1,e,2)}function aTe(t,e){return wr(t.getMinutes(),e,2)}function oTe(t,e){return wr(t.getSeconds(),e,2)}function sTe(t){var e=t.getDay();return e===0?7:e}function lTe(t,e){return wr(sC.count(jf(t)-1,t),e,2)}function VK(t){var e=t.getDay();return e>=4||e===0?ey(t):ey.ceil(t)}function cTe(t,e){return t=VK(t),wr(ey.count(jf(t),t)+(jf(t).getDay()===4),e,2)}function uTe(t){return t.getDay()}function fTe(t,e){return wr(eA.count(jf(t)-1,t),e,2)}function dTe(t,e){return wr(t.getFullYear()%100,e,2)}function hTe(t,e){return t=VK(t),wr(t.getFullYear()%100,e,2)}function pTe(t,e){return wr(t.getFullYear()%1e4,e,4)}function mTe(t,e){var n=t.getDay();return t=n>=4||n===0?ey(t):ey.ceil(t),wr(t.getFullYear()%1e4,e,4)}function gTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wr(e/60|0,"0",2)+wr(e%60,"0",2)}function XH(t,e){return wr(t.getUTCDate(),e,2)}function vTe(t,e){return wr(t.getUTCHours(),e,2)}function yTe(t,e){return wr(t.getUTCHours()%12||12,e,2)}function bTe(t,e){return wr(1+oC.count(zf(t),t),e,3)}function GK(t,e){return wr(t.getUTCMilliseconds(),e,3)}function xTe(t,e){return GK(t,e)+"000"}function _Te(t,e){return wr(t.getUTCMonth()+1,e,2)}function STe(t,e){return wr(t.getUTCMinutes(),e,2)}function wTe(t,e){return wr(t.getUTCSeconds(),e,2)}function MTe(t){var e=t.getUTCDay();return e===0?7:e}function ETe(t,e){return wr(lC.count(zf(t)-1,t),e,2)}function $K(t){var e=t.getUTCDay();return e>=4||e===0?ty(t):ty.ceil(t)}function ATe(t,e){return t=$K(t),wr(ty.count(zf(t),t)+(zf(t).getUTCDay()===4),e,2)}function TTe(t){return t.getUTCDay()}function CTe(t,e){return wr(tA.count(zf(t)-1,t),e,2)}function RTe(t,e){return wr(t.getUTCFullYear()%100,e,2)}function OTe(t,e){return t=$K(t),wr(t.getUTCFullYear()%100,e,2)}function PTe(t,e){return wr(t.getUTCFullYear()%1e4,e,4)}function DTe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ty(t):ty.ceil(t),wr(t.getUTCFullYear()%1e4,e,4)}function ITe(){return"+0000"}function YH(){return"%"}function KH(t){return+t}function ZH(t){return Math.floor(+t/1e3)}var uv,WK,qK;NTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NTe(t){return uv=NAe(t),WK=uv.format,uv.parse,qK=uv.utcFormat,uv.utcParse,uv}function kTe(t){return new Date(t)}function LTe(t){return t instanceof Date?+t:+new Date(+t)}function P2(t,e,n,r,i,a,o,s,l,u){var d=v2(),h=d.invert,g=d.domain,y=u(".%L"),b=u(":%S"),_=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),E=u("%b %d"),A=u("%B"),C=u("%Y");function T(O){return(l(O)<O?y:s(O)<O?b:o(O)<O?_:a(O)<O?x:r(O)<O?i(O)<O?w:E:n(O)<O?A:C)(O)}return d.invert=function(O){return new Date(h(O))},d.domain=function(O){return arguments.length?g(Array.from(O,LTe)):g().map(kTe)},d.ticks=function(O){var N=g();return t(N[0],N[N.length-1],O??10)},d.tickFormat=function(O,N){return N==null?T:u(N)},d.nice=function(O){var N=g();return(!O||typeof O.range!="function")&&(O=e(N[0],N[N.length-1],O??10)),O?g(IK(N,O)):d},d.copy=function(){return e1(d,P2(t,e,n,r,i,a,o,s,l,u))},d}function UTe(){return jl.apply(P2(DAe,IAe,jf,R2,sC,t1,T2,E2,Gp,WK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BTe(){return jl.apply(P2(OAe,PAe,zf,O2,lC,oC,C2,A2,Gp,qK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cC(){var t=0,e=1,n,r,i,a,o=Xo,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(g){var y,b;return arguments.length?([y,b]=g,o=h(y,b),u):[o(0),o(1)]}}return u.range=d(By),u.rangeRound=d(g2),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function _h(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XK(){var t=xh(cC()(Xo));return t.copy=function(){return _h(t,XK())},Yf.apply(t,arguments)}function YK(){var t=x2(cC()).domain([1,10]);return t.copy=function(){return _h(t,YK()).base(t.base())},Yf.apply(t,arguments)}function KK(){var t=_2(cC());return t.copy=function(){return _h(t,KK()).constant(t.constant())},Yf.apply(t,arguments)}function D2(){var t=S2(cC());return t.copy=function(){return _h(t,D2()).exponent(t.exponent())},Yf.apply(t,arguments)}function FTe(){return D2.apply(null,arguments).exponent(.5)}function ZK(){var t=[],e=Xo;function n(r){if(r!=null&&!isNaN(r=+r))return e((J_(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>EEe(t,a/r))},n.copy=function(){return ZK(e).domain(t)},Yf.apply(n,arguments)}function uC(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Xo,d,h=!1,g;function y(_){return isNaN(_=+_)?g:(_=.5+((_=+d(_))-a)*(r*_<r*a?s:l),u(h?Math.max(0,Math.min(1,_)):_))}y.domain=function(_){return arguments.length?([t,e,n]=_,i=d(t=+t),a=d(e=+e),o=d(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(_){return arguments.length?(h=!!_,y):h},y.interpolator=function(_){return arguments.length?(u=_,y):u};function b(_){return function(x){var w,E,A;return arguments.length?([w,E,A]=x,u=ZEe(_,[w,E,A]),y):[u(0),u(.5),u(1)]}}return y.range=b(By),y.rangeRound=b(g2),y.unknown=function(_){return arguments.length?(g=_,y):g},function(_){return d=_,i=_(t),a=_(e),o=_(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function JK(){var t=xh(uC()(Xo));return t.copy=function(){return _h(t,JK())},Yf.apply(t,arguments)}function QK(){var t=x2(uC()).domain([.1,1,10]);return t.copy=function(){return _h(t,QK()).base(t.base())},Yf.apply(t,arguments)}function eZ(){var t=_2(uC());return t.copy=function(){return _h(t,eZ()).constant(t.constant())},Yf.apply(t,arguments)}function I2(){var t=S2(uC());return t.copy=function(){return _h(t,I2()).exponent(t.exponent())},Yf.apply(t,arguments)}function jTe(){return I2.apply(null,arguments).exponent(.5)}const JH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zx,scaleDiverging:JK,scaleDivergingLog:QK,scaleDivergingPow:I2,scaleDivergingSqrt:jTe,scaleDivergingSymlog:eZ,scaleIdentity:DK,scaleImplicit:Sk,scaleLinear:JE,scaleLog:NK,scaleOrdinal:h2,scalePoint:fx,scalePow:w2,scaleQuantile:UK,scaleQuantize:BK,scaleRadial:LK,scaleSequential:XK,scaleSequentialLog:YK,scaleSequentialPow:D2,scaleSequentialQuantile:ZK,scaleSequentialSqrt:FTe,scaleSequentialSymlog:KK,scaleSqrt:xAe,scaleSymlog:kK,scaleThreshold:FK,scaleTime:UTe,scaleUtc:BTe,tickFormat:PK},Symbol.toStringTag,{value:"Module"}));var aI,QH;function fC(){if(QH)return aI;QH=1;var t=Ny();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,d=s}return d}return aI=e,aI}var oI,eV;function tZ(){if(eV)return oI;eV=1;function t(e,n){return e>n}return oI=t,oI}var sI,tV;function zTe(){if(tV)return sI;tV=1;var t=fC(),e=tZ(),n=Ly();function r(i){return i&&i.length?t(i,n,e):void 0}return sI=r,sI}var HTe=zTe();const dC=Mr(HTe);var lI,nV;function nZ(){if(nV)return lI;nV=1;function t(e,n){return e<n}return lI=t,lI}var cI,rV;function VTe(){if(rV)return cI;rV=1;var t=fC(),e=nZ(),n=Ly();function r(i){return i&&i.length?t(i,n,e):void 0}return cI=r,cI}var GTe=VTe();const hC=Mr(GTe);var uI,iV;function $Te(){if(iV)return uI;iV=1;var t=YU(),e=Lu(),n=uK(),r=Ms();function i(a,o){var s=r(a)?t:n;return s(a,e(o,3))}return uI=i,uI}var fI,aV;function WTe(){if(aV)return fI;aV=1;var t=lK(),e=$Te();function n(r,i){return t(e(r,i),1)}return fI=n,fI}var qTe=WTe();const XTe=Mr(qTe);var dI,oV;function YTe(){if(oV)return dI;oV=1;var t=l2();function e(n,r){return t(n,r)}return dI=e,dI}var KTe=YTe();const pC=Mr(KTe);var Fy=1e9,ZTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k2,Ei=!0,Bl="[DecimalError] ",Zp=Bl+"Invalid argument: ",N2=Bl+"Exponent out of range: ",jy=Math.floor,Op=Math.pow,JTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hs,Na=1e7,vi=7,rZ=9007199254740991,nA=jy(rZ/vi),Xt={};Xt.absoluteValue=Xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xt.comparedTo=Xt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xt.dividedBy=Xt.div=function(t){return kf(this,new this.constructor(t))};Xt.dividedToIntegerBy=Xt.idiv=function(t){var e=this,n=e.constructor;return Kr(kf(e,new n(t),0,1),n.precision)};Xt.equals=Xt.eq=function(t){return!this.cmp(t)};Xt.exponent=function(){return fa(this)};Xt.greaterThan=Xt.gt=function(t){return this.cmp(t)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(t){return this.cmp(t)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(t){return this.cmp(t)<0};Xt.lessThanOrEqualTo=Xt.lte=function(t){return this.cmp(t)<1};Xt.logarithm=Xt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hs))throw Error(Bl+"NaN");if(n.s<1)throw Error(Bl+(n.s?"NaN":"-Infinity"));return n.eq(Hs)?new r(0):(Ei=!1,e=kf(n_(n,a),n_(t,a),a),Ei=!0,Kr(e,i))};Xt.minus=Xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oZ(e,t):iZ(e,(t.s=-t.s,t))};Xt.modulo=Xt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Bl+"NaN");return n.s?(Ei=!1,e=kf(n,t,0,1).times(t),Ei=!0,n.minus(e)):Kr(new r(n),i)};Xt.naturalExponential=Xt.exp=function(){return aZ(this)};Xt.naturalLogarithm=Xt.ln=function(){return n_(this)};Xt.negated=Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xt.plus=Xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iZ(e,t):oZ(e,(t.s=-t.s,t))};Xt.precision=Xt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zp+t);if(e=fa(i)+1,r=i.d.length-1,n=r*vi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Xt.squareRoot=Xt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Bl+"NaN")}for(t=fa(s),Ei=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Su(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(kf(s,a,o+2)).times(.5),Su(a.d).slice(0,o)===(e=Su(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Kr(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Ei=!0,Kr(r,n)};Xt.times=Xt.mul=function(t){var e,n,r,i,a,o,s,l,u,d=this,h=d.constructor,g=d.d,y=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=g.length,u=y.length,l<u&&(a=g,g=y,y=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+y[r]*g[i-r-1]+e,a[i--]=s%Na|0,e=s/Na|0;a[i]=(a[i]+e)%Na|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ei?Kr(t,h.precision):t};Xt.toDecimalPlaces=Xt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ou(t,0,Fy),e===void 0?e=r.rounding:Ou(e,0,8),Kr(n,t+fa(n)+1,e))};Xt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pm(r,!0):(Ou(t,0,Fy),e===void 0?e=i.rounding:Ou(e,0,8),r=Kr(new i(r),t+1,e),n=pm(r,!0,t+1)),n};Xt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?pm(i):(Ou(t,0,Fy),e===void 0?e=a.rounding:Ou(e,0,8),r=Kr(new a(i),t+fa(i)+1,e),n=pm(r.abs(),!1,t+fa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xt.toInteger=Xt.toint=function(){var t=this,e=t.constructor;return Kr(new e(t),fa(t)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Hs);if(s=new l(s),!s.s){if(t.s<1)throw Error(Bl+"Infinity");return s}if(s.eq(Hs))return s;if(r=l.precision,t.eq(Hs))return Kr(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=d<0?-d:d)<=rZ){for(i=new l(Hs),e=Math.ceil(r/vi+4),Ei=!1;n%2&&(i=i.times(s),lV(i.d,e)),n=jy(n/2),n!==0;)s=s.times(s),lV(s.d,e);return Ei=!0,t.s<0?new l(Hs).div(i):Kr(i,r)}}else if(a<0)throw Error(Bl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ei=!1,i=t.times(n_(s,r+u)),Ei=!0,i=aZ(i),i.s=a,i};Xt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=fa(i),r=pm(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ou(t,1,Fy),e===void 0?e=a.rounding:Ou(e,0,8),i=Kr(new a(i),t,e),n=fa(i),r=pm(i,t<=n||n<=a.toExpNeg,t)),r};Xt.toSignificantDigits=Xt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ou(t,1,Fy),e===void 0?e=r.rounding:Ou(e,0,8)),Kr(new r(n),t,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fa(t),n=t.constructor;return pm(t,e<=n.toExpNeg||e>=n.toExpPos)};function iZ(t,e){var n,r,i,a,o,s,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ei?Kr(e,h):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(h/vi),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Na|0,l[a]%=Na;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ei?Kr(e,h):e}function Ou(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zp+t)}function Su(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=vi-r.length,n&&(a+=Xd(n)),a+=r;o=t[e],r=o+"",n=vi-r.length,n&&(a+=Xd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var kf=(function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Na|0,o=a/Na|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Na+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,d,h,g,y,b,_,x,w,E,A,C,T,O,N,R,k=r.constructor,z=r.s==i.s?1:-1,F=r.d,G=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Bl+"Division by zero");for(l=r.e-i.e,N=G.length,T=F.length,y=new k(z),b=y.d=[],u=0;G[u]==(F[u]||0);)++u;if(G[u]>(F[u]||0)&&--l,a==null?E=a=k.precision:o?E=a+(fa(r)-fa(i))+1:E=a,E<0)return new k(0);if(E=E/vi+2|0,u=0,N==1)for(d=0,G=G[0],E++;(u<T||d)&&E--;u++)A=d*Na+(F[u]||0),b[u]=A/G|0,d=A%G|0;else{for(d=Na/(G[0]+1)|0,d>1&&(G=t(G,d),F=t(F,d),N=G.length,T=F.length),C=N,_=F.slice(0,N),x=_.length;x<N;)_[x++]=0;R=G.slice(),R.unshift(0),O=G[0],G[1]>=Na/2&&++O;do d=0,s=e(G,_,N,x),s<0?(w=_[0],N!=x&&(w=w*Na+(_[1]||0)),d=w/O|0,d>1?(d>=Na&&(d=Na-1),h=t(G,d),g=h.length,x=_.length,s=e(h,_,g,x),s==1&&(d--,n(h,N<g?R:G,g))):(d==0&&(s=d=1),h=G.slice()),g=h.length,g<x&&h.unshift(0),n(_,h,x),s==-1&&(x=_.length,s=e(G,_,N,x),s<1&&(d++,n(_,N<x?R:G,x))),x=_.length):s===0&&(d++,_=[0]),b[u++]=d,s&&_[0]?_[x++]=F[C]||0:(_=[F[C]],x=1);while((C++<T||_[0]!==void 0)&&E--)}return b[0]||b.shift(),y.e=l,Kr(y,o?a+fa(y)+1:a)}})();function aZ(t,e){var n,r,i,a,o,s,l=0,u=0,d=t.constructor,h=d.precision;if(fa(t)>16)throw Error(N2+fa(t));if(!t.s)return new d(Hs);for(Ei=!1,s=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Op(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new d(Hs),d.precision=s;;){if(i=Kr(i.times(t),s),n=n.times(++l),o=a.plus(kf(i,n,s)),Su(o.d).slice(0,s)===Su(a.d).slice(0,s)){for(;u--;)a=Kr(a.times(a),s);return d.precision=h,e==null?(Ei=!0,Kr(a,h)):a}a=o}}function fa(t){for(var e=t.e*vi,n=t.d[0];n>=10;n/=10)e++;return e}function hI(t,e,n){if(e>t.LN10.sd())throw Ei=!0,n&&(t.precision=n),Error(Bl+"LN10 precision limit exceeded");return Kr(new t(t.LN10),e)}function Xd(t){for(var e="";t--;)e+="0";return e}function n_(t,e){var n,r,i,a,o,s,l,u,d,h=1,g=10,y=t,b=y.d,_=y.constructor,x=_.precision;if(y.s<1)throw Error(Bl+(y.s?"NaN":"-Infinity"));if(y.eq(Hs))return new _(0);if(e==null?(Ei=!1,u=x):u=e,y.eq(10))return e==null&&(Ei=!0),hI(_,u);if(u+=g,_.precision=u,n=Su(b),r=n.charAt(0),a=fa(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Su(y.d),r=n.charAt(0),h++;a=fa(y),r>1?(y=new _("0."+n),a++):y=new _(r+"."+n.slice(1))}else return l=hI(_,u+2,x).times(a+""),y=n_(new _(r+"."+n.slice(1)),u-g).plus(l),_.precision=x,e==null?(Ei=!0,Kr(y,x)):y;for(s=o=y=kf(y.minus(Hs),y.plus(Hs),u),d=Kr(y.times(y),u),i=3;;){if(o=Kr(o.times(d),u),l=s.plus(kf(o,new _(i),u)),Su(l.d).slice(0,u)===Su(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(hI(_,u+2,x).times(a+""))),s=kf(s,new _(h),u),_.precision=x,e==null?(Ei=!0,Kr(s,x)):s;s=l,i+=2}}function sV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jy(n/vi),t.d=[],r=(n+1)%vi,n<0&&(r+=vi),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vi;r<i;)t.d.push(+e.slice(r,r+=vi));e=e.slice(r),r=vi-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ei&&(t.e>nA||t.e<-nA))throw Error(N2+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kr(t,e,n){var r,i,a,o,s,l,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=vi,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/vi),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;r%=vi,i=r-vi+o}if(n!==void 0&&(a=Op(10,o-i-1),s=u/a%10|0,l=e<0||h[d+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Op(10,o-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=fa(t),h.length=1,e=e-a-1,h[0]=Op(10,(vi-e%vi)%vi),t.e=jy(-e/vi)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=Op(10,vi-r),h[d]=i>0?(u/Op(10,o-i)%Op(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==Na&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Na)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Ei&&(t.e>nA||t.e<-nA))throw Error(N2+fa(t));return t}function oZ(t,e){var n,r,i,a,o,s,l,u,d,h,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Ei?Kr(e,y):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(y/vi),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}o=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Na-1;--l[a],l[i]+=Na}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ei?Kr(e,y):e):new g(0)}function pm(t,e,n){var r,i=fa(t),a=Su(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Xd(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xd(-i-1)+a,n&&(r=n-o)>0&&(a+=Xd(r))):i>=o?(a+=Xd(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Xd(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Xd(r))),t.s<0?"-"+a:a}function lV(t,e){if(t.length>e)return t.length=e,!0}function sZ(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zp+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return sV(o,a.toString())}else if(typeof a!="string")throw Error(Zp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,JTe.test(a))sV(o,a);else throw Error(Zp+a)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sZ,i.config=i.set=QTe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function QTe(t){if(!t||typeof t!="object")throw Error(Bl+"Object expected");var e,n,r,i=["precision",1,Fy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zp+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zp+n+": "+r);return this}var k2=sZ(ZTe);Hs=new k2(1);const $r=k2;function eCe(t){return iCe(t)||rCe(t)||nCe(t)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function rCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iCe(t){if(Array.isArray(t))return Ak(t)}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aCe=function(e){return e},lZ={},cZ=function(e){return e===lZ},cV=function(e){return function n(){return arguments.length===0||arguments.length===1&&cZ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},oCe=function t(e,n){return e===1?n:cV(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==lZ}).length;return o>=e?n.apply(void 0,i):t(e-o,cV(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(h){return cZ(h)?l.shift():h});return n.apply(void 0,eCe(d).concat(l))}))})},mC=function(e){return oCe(e.length,e)},Tk=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},sCe=mC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lCe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aCe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Ck=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uZ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function cCe(t){var e;return t===0?e=1:e=Math.floor(new $r(t).abs().log(10).toNumber())+1,e}function uCe(t,e,n){for(var r=new $r(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var fCe=mC(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dCe=mC(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hCe=mC(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const gC={rangeStep:uCe,getDigitCount:cCe,interpolateNumber:fCe,uninterpolateNumber:dCe,uninterpolateTruncation:hCe};function Rk(t){return gCe(t)||mCe(t)||fZ(t)||pCe()}function pCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mCe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gCe(t){if(Array.isArray(t))return Ok(t)}function r_(t,e){return bCe(t)||yCe(t,e)||fZ(t,e)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(t,e){if(t){if(typeof t=="string")return Ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,e)}}function Ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yCe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function bCe(t){if(Array.isArray(t))return t}function dZ(t){var e=r_(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function hZ(t,e,n){if(t.lte(0))return new $r(0);var r=gC.getDigitCount(t.toNumber()),i=new $r(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new $r(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new $r(Math.ceil(l))}function xCe(t,e,n){var r=1,i=new $r(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new $r(10).pow(gC.getDigitCount(t)-1),i=new $r(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new $r(Math.floor(t)))}else t===0?i=new $r(Math.floor((e-1)/2)):n||(i=new $r(Math.floor(t)));var o=Math.floor((e-1)/2),s=lCe(sCe(function(l){return i.add(new $r(l-o).mul(r)).toNumber()}),Tk);return s(0,e)}function pZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $r(0),tickMin:new $r(0),tickMax:new $r(0)};var a=hZ(new $r(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new $r(0):(o=new $r(t).add(e).div(2),o=o.sub(new $r(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new $r(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?pZ(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new $r(s).mul(a)),tickMax:o.add(new $r(l).mul(a))})}function _Ce(t){var e=r_(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=dZ([n,r]),l=r_(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Rk(Tk(0,i-1).map(function(){return 1/0}))):[].concat(Rk(Tk(0,i-1).map(function(){return-1/0})),[d]);return n>r?Ck(h):h}if(u===d)return xCe(u,i,a);var g=pZ(u,d,o,a),y=g.step,b=g.tickMin,_=g.tickMax,x=gC.rangeStep(b,_.add(new $r(.1).mul(y)),y);return n>r?Ck(x):x}function SCe(t,e){var n=r_(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dZ([r,i]),s=r_(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),h=hZ(new $r(u).sub(l).div(d-1),a,0),g=[].concat(Rk(gC.rangeStep(new $r(l),new $r(u).sub(new $r(.99).mul(h)),h)),[u]);return r>i?Ck(g):g}var wCe=uZ(_Ce),MCe=uZ(SCe),ECe="Invariant failed";function mm(t,e){throw new Error(ECe)}var ACe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(this,arguments)}function TCe(t,e){return PCe(t)||OCe(t,e)||RCe(t,e)||CCe()}function CCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RCe(t,e){if(t){if(typeof t=="string")return uV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uV(t,e)}}function uV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function PCe(t){if(Array.isArray(t))return t}function DCe(t,e){if(t==null)return{};var n=ICe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ICe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vZ(r.key),r)}}function LCe(t,e,n){return e&&kCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UCe(t,e,n){return e=iA(e),BCe(t,mZ()?Reflect.construct(e,n||[],iA(t).constructor):e.apply(t,n))}function BCe(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(t)}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mZ=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iA(t)}function jCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pk(t,e)}function gZ(t,e,n){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=zCe(t,"string");return ny(e)=="symbol"?e:e+""}function zCe(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vC=(function(t){function e(){return NCe(this,e),UCe(this,e,arguments)}return jCe(e,t),LCe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,g=DCe(r,ACe),y=En(g,!1);this.props.direction==="x"&&d.type!=="number"&&mm();var b=l.map(function(_){var x=u(_,s),w=x.x,E=x.y,A=x.value,C=x.errorVal;if(!C)return null;var T=[],O,N;if(Array.isArray(C)){var R=TCe(C,2);O=R[0],N=R[1]}else O=N=C;if(a==="vertical"){var k=d.scale,z=E+i,F=z+o,G=z-o,V=k(A-O),W=k(A+N);T.push({x1:W,y1:F,x2:W,y2:G}),T.push({x1:V,y1:z,x2:W,y2:z}),T.push({x1:V,y1:F,x2:V,y2:G})}else if(a==="horizontal"){var K=h.scale,H=w+i,q=H-o,Z=H+o,ee=K(A-O),ae=K(A+N);T.push({x1:q,y1:ae,x2:Z,y2:ae}),T.push({x1:H,y1:ee,x2:H,y2:ae}),T.push({x1:q,y1:ee,x2:Z,y2:ee})}return he.createElement(Br,rA({className:"recharts-errorBar",key:"bar-".concat(T.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},y),T.map(function($){return he.createElement("line",rA({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return he.createElement(Br,{className:"recharts-errorBars"},b)}}])})(he.Component);gZ(vC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gZ(vC,"displayName","ErrorBar");function i_(t){"@babel/helpers - typeof";return i_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(t)}function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){HCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HCe(t,e,n){return e=VCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VCe(t){var e=GCe(t,"string");return i_(e)=="symbol"?e:e+""}function GCe(t,e){if(i_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(i_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Us(n,Nv);if(!o)return null;var s=Nv.defaultProps,l=s!==void 0?Sp(Sp({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,h){var g=h.item,y=h.props,b=y.sectors||y.data||[];return d.concat(b.map(function(_){return{type:o.props.iconType||g.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(d){var h=d.item,g=h.type.defaultProps,y=g!==void 0?Sp(Sp({},g),h.props):{},b=y.dataKey,_=y.name,x=y.legendType,w=y.hide;return{inactive:w,dataKey:b,type:l.iconType||x||"square",color:L2(h),value:_||b,payload:y}}),Sp(Sp(Sp({},l),Nv.getWithHeight(o,i)),{},{payload:u,item:o})};function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}function dV(t){return XCe(t)||qCe(t)||WCe(t)||$Ce()}function $Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(t,e){if(t){if(typeof t=="string")return Dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dk(t,e)}}function qCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XCe(t){if(Array.isArray(t))return Dk(t)}function Dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){Lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lv(t,e,n){return e=YCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YCe(t){var e=KCe(t,"string");return a_(e)=="symbol"?e:e+""}function KCe(t,e){if(a_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mo(t,e,n){return nr(t)||nr(e)?n:Sa(e)?qs(t,e,n):An(e)?e(t):n}function dx(t,e,n,r){var i=XTe(t,function(s){return Mo(s,e)});if(n==="number"){var a=i.filter(function(s){return Ft(s)||parseFloat(s)});return a.length?[hC(a),dC(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!nr(s)}):i;return o.map(function(s){return Sa(s)||s instanceof Date?s:""})}var ZCe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,g=u>=s-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Wo(h-d)!==Wo(g-h)){var b=[];if(Wo(g-h)===Wo(l[1]-l[0])){y=g;var _=h+l[1]-l[0];b[0]=Math.min(_,(_+d)/2),b[1]=Math.max(_,(_+d)/2)}else{y=d;var x=g+l[1]-l[0];b[0]=Math.min(h,(x+h)/2),b[1]=Math.max(h,(x+h)/2)}var w=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){o=i[u].index;break}}else{var E=Math.min(d,g),A=Math.max(d,g);if(e>(E+h)/2&&e<=(A+h)/2){o=i[u].index;break}}}else for(var C=0;C<s;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<s-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===s-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},L2=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Gi(Gi({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},JCe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var d=a[s[l]].stackGroups,h=Object.keys(d),g=0,y=h.length;g<y;g++){var b=d[h[g]],_=b.items,x=b.cateAxisId,w=_.filter(function(N){return Nf(N.type).indexOf("Bar")>=0});if(w&&w.length){var E=w[0].type.defaultProps,A=E!==void 0?Gi(Gi({},E),w[0].props):w[0].props,C=A.barSize,T=A[x];o[T]||(o[T]=[]);var O=nr(C)?n:C;o[T].push({item:w[0],stackList:w.slice(1),barSize:nr(O)?void 0:qo(O,r,0)})}}return o},QCe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=qo(n,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=i/l,b=o.reduce(function(C,T){return C+T.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&y>0&&(g=!0,y*=.9,b=l*y);var _=(i-b)/2>>0,x={offset:_-u,size:0};d=o.reduce(function(C,T){var O={item:T.item,position:{offset:x.offset+x.size+u,size:g?y:T.barSize}},N=[].concat(dV(C),[O]);return x=N[N.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(R){N.push({item:R,position:x})}),N},h)}else{var w=qo(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var E=(i-2*w-(l-1)*u)/l;E>1&&(E>>=0);var A=s===+s?Math.min(E,s):E;d=o.reduce(function(C,T,O){var N=[].concat(dV(C),[{item:T.item,position:{offset:w+(E+u)*O+(E-A)/2,size:A}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(R){N.push({item:R,position:N[N.length-1].position})}),N},h)}return d},eRe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=yZ({children:a,legendWidth:l});if(u){var d=i||{},h=d.width,g=d.height,y=u.align,b=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&b==="middle")&&y!=="center"&&Ft(e[y]))return Gi(Gi({},e),{},Lv({},y,e[y]+(h||0)));if((_==="horizontal"||_==="vertical"&&y==="center")&&b!=="middle"&&Ft(e[b]))return Gi(Gi({},e),{},Lv({},b,e[b]+(g||0)))}return e},tRe=function(e,n,r){return nr(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bZ=function(e,n,r,i,a){var o=n.props.children,s=Ll(o,vC).filter(function(u){return tRe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Mo(d,r);if(nr(h))return u;var g=Array.isArray(h)?[hC(h),dC(h)]:[h,h],y=l.reduce(function(b,_){var x=Mo(d,_,0),w=g[0]-Math.abs(Array.isArray(x)?x[0]:x),E=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,b[0]),Math.max(E,b[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},nRe=function(e,n,r,i,a){var o=n.map(function(s){return bZ(e,s,r,a,i)}).filter(function(s){return!nr(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xZ=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bZ(e,l,u,i)||dx(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},_Z=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SZ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Df=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?Wo(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var g=a?a.indexOf(h):h;return{coordinate:i(g)+u,value:h,offset:u}});return d.filter(function(h){return!Y_(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+u,value:h,index:g,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,g){return{coordinate:i(h)+u,value:a?a[h]:h,index:g,offset:u}})},pI=new WeakMap,sM=function(e,n){if(typeof n!="function")return e;pI.has(e)||pI.set(e,new WeakMap);var r=pI.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},wZ=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Zx(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:JE(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fx(),realScaleType:"point"}:a==="category"?{scale:Zx(),realScaleType:"band"}:{scale:JE(),realScaleType:"linear"};if(fm(i)){var l="scale".concat(ZT(i));return{scale:(JH[l]||fx)(),realScaleType:JH[l]?l:"point"}}return An(i)?{scale:i}:{scale:fx(),realScaleType:"point"}},pV=1e-4,MZ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-pV,o=Math.max(i[0],i[1])+pV,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},rRe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},iRe=function(e,n){if(!n||n.length!==2||!Ft(n[0])||!Ft(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ft(e[0])||e[0]<r)&&(a[0]=r),(!Ft(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},aRe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Y_(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},oRe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Y_(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},sRe={sign:aRe,expand:X1e,none:Xv,silhouette:Y1e,wiggle:K1e,positive:oRe},lRe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=sRe[r],o=q1e().keys(i).value(function(s,l){return+Mo(s,l,0)}).order(lk).offset(a);return o(e)},cRe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(h,g){var y,b=(y=g.type)!==null&&y!==void 0&&y.defaultProps?Gi(Gi({},g.type.defaultProps),g.props):g.props,_=b.stackId,x=b.hide;if(x)return h;var w=b[r],E=h[w]||{hasStack:!1,stackGroups:{}};if(Sa(_)){var A=E.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(g),E.hasStack=!0,E.stackGroups[_]=A}else E.stackGroups[K_("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Gi(Gi({},h),{},Lv({},w,E))},l),d={};return Object.keys(u).reduce(function(h,g){var y=u[g];if(y.hasStack){var b={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(_,x){var w=y.stackGroups[x];return Gi(Gi({},_),{},Lv({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:lRe(e,w.items,a)}))},b)}return Gi(Gi({},h),{},Lv({},g,y))},d)},EZ=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=wCe(u,a,s);return e.domain([hC(d),dC(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),g=MCe(h,a,s);return{niceTicks:g}}return null},mV=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Mo(o,n.dataKey,n.domain[s]);return nr(l)?null:n.scale(l)-a/2+i},uRe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},fRe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Gi(Gi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Sa(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},dRe=function(e){return e.reduce(function(n,r){return[hC(r.concat([n[0]]).filter(Ft)),dC(r.concat([n[1]]).filter(Ft))]},[1/0,-1/0])},AZ=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,d){var h=dRe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ik=function(e,n,r){if(An(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ft(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gV.test(e[0])){var a=+gV.exec(e[0])[1];i[0]=n[0]-a}else An(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ft(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(vV.test(e[1])){var o=+vV.exec(e[1])[1];i[1]=n[1]+o}else An(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},aA=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=u2(n,function(h){return h.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},yV=function(e,n,r){return!e||!e.length||pC(e,qs(r,"type.defaultProps.domain"))?n:e},TZ=function(e,n){var r=e.type.defaultProps?Gi(Gi({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return Gi(Gi({},En(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:L2(e),value:Mo(n,i),type:l,payload:n,chartType:u,hide:d})};function o_(t){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_(t)}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){CZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CZ(t,e,n){return e=hRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hRe(t){var e=pRe(t,"string");return o_(e)=="symbol"?e:e+""}function pRe(t,e){if(o_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(o_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mRe(t,e){return bRe(t)||yRe(t,e)||vRe(t,e)||gRe()}function gRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(t,e){if(t){if(typeof t=="string")return xV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(t,e)}}function xV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bRe(t){if(Array.isArray(t))return t}var oA=Math.PI/180,xRe=function(e){return e*180/Math.PI},si=function(e,n,r,i){return{x:e+Math.cos(-oA*i)*r,y:n+Math.sin(-oA*i)*r}},RZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_Re=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=qo(e.cx,o,o/2),h=qo(e.cy,s,s/2),g=RZ(o,s,r),y=qo(e.innerRadius,g,0),b=qo(e.outerRadius,g,g*.8),_=Object.keys(n);return _.reduce(function(x,w){var E=n[w],A=E.domain,C=E.reversed,T;if(nr(E.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[y,b]),C&&(T=[T[1],T[0]]);else{T=E.range;var O=T,N=mRe(O,2);l=N[0],u=N[1]}var R=wZ(E,a),k=R.realScaleType,z=R.scale;z.domain(A).range(T),MZ(z);var F=EZ(z,Tf(Tf({},E),{},{realScaleType:k})),G=Tf(Tf(Tf({},E),F),{},{range:T,radius:b,realScaleType:k,scale:z,cx:d,cy:h,innerRadius:y,outerRadius:b,startAngle:l,endAngle:u});return Tf(Tf({},x),{},CZ({},w,G))},{})},SRe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},wRe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=SRe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:xRe(u),angleInRadian:u}},MRe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},ERe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},_V=function(e,n){var r=e.x,i=e.y,a=wRe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=MRe(n),h=d.startAngle,g=d.endAngle,y=s,b;if(h<=g){for(;y>g;)y-=360;for(;y<h;)y+=360;b=y>=h&&y<=g}else{for(;y>h;)y-=360;for(;y<g;)y+=360;b=y>=g&&y<=h}return b?Tf(Tf({},n),{},{radius:o,angle:ERe(y,n)}):null},OZ=function(e){return!B.isValidElement(e)&&!An(e)&&typeof e!="boolean"?e.className:""};function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var ARe=["offset"];function TRe(t){return PRe(t)||ORe(t)||RRe(t)||CRe()}function CRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(t,e){if(t){if(typeof t=="string")return Nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nk(t,e)}}function ORe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PRe(t){if(Array.isArray(t))return Nk(t)}function Nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DRe(t,e){if(t==null)return{};var n=IRe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){NRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NRe(t,e,n){return e=kRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kRe(t){var e=LRe(t,"string");return s_(e)=="symbol"?e:e+""}function LRe(t,e){if(s_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}var URe=function(e){var n=e.value,r=e.formatter,i=nr(e.children)?n:e.children;return An(r)?r(i):i},BRe=function(e,n){var r=Wo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},FRe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,d=l.cy,h=l.innerRadius,g=l.outerRadius,y=l.startAngle,b=l.endAngle,_=l.clockWise,x=(h+g)/2,w=BRe(y,b),E=w>=0?1:-1,A,C;i==="insideStart"?(A=y+E*o,C=_):i==="insideEnd"?(A=b-E*o,C=!_):i==="end"&&(A=b+E*o,C=_),C=w<=0?C:!C;var T=si(u,d,x,A),O=si(u,d,x,A+(C?1:-1)*359),N="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),R=nr(e.id)?K_("recharts-radial-line-"):e.id;return he.createElement("text",l_({},r,{dominantBaseline:"central",className:Vn("recharts-radial-bar-label",s)}),he.createElement("defs",null,he.createElement("path",{id:R,d:N})),he.createElement("textPath",{xlinkHref:"#".concat(R)},n))},jRe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,g=(d+h)/2;if(i==="outside"){var y=si(o,s,u+r,g),b=y.x,_=y.y;return{x:b,y:_,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=si(o,s,x,g),E=w.x,A=w.y;return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},zRe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,d=o.height,h=d>=0?1:-1,g=h*i,y=h>0?"end":"start",b=h>0?"start":"end",_=u>=0?1:-1,x=_*i,w=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var A={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:y};return xa(xa({},A),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var C={x:s+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b};return xa(xa({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(a==="left"){var T={x:s-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return xa(xa({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(a==="right"){var O={x:s+u+x,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return xa(xa({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:d}:{})}var N=r?{width:u,height:d}:{};return a==="insideLeft"?xa({x:s+x,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},N):a==="insideRight"?xa({x:s+u-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?xa({x:s+u/2,y:l+g,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?xa({x:s+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:y},N):a==="insideTopLeft"?xa({x:s+x,y:l+g,textAnchor:E,verticalAnchor:b},N):a==="insideTopRight"?xa({x:s+u-x,y:l+g,textAnchor:w,verticalAnchor:b},N):a==="insideBottomLeft"?xa({x:s+x,y:l+d-g,textAnchor:E,verticalAnchor:y},N):a==="insideBottomRight"?xa({x:s+u-x,y:l+d-g,textAnchor:w,verticalAnchor:y},N):ky(a)&&(Ft(a.x)||Hp(a.x))&&(Ft(a.y)||Hp(a.y))?xa({x:s+qo(a.x,u),y:l+qo(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):xa({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},HRe=function(e){return"cx"in e&&Ft(e.cx)};function ka(t){var e=t.offset,n=e===void 0?5:e,r=DRe(t,ARe),i=xa({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,d=i.className,h=d===void 0?"":d,g=i.textBreakAll;if(!a||nr(s)&&nr(l)&&!B.isValidElement(u)&&!An(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var y;if(An(u)){if(y=B.createElement(u,i),B.isValidElement(y))return y}else y=URe(i);var b=HRe(a),_=En(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return FRe(i,y,_);var x=b?jRe(i):zRe(i);return he.createElement(hm,l_({className:Vn("recharts-label",h)},_,x,{breakAll:g}),y)}ka.displayName="Label";var PZ=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,g=e.y,y=e.top,b=e.left,_=e.width,x=e.height,w=e.clockWise,E=e.labelViewBox;if(E)return E;if(Ft(_)&&Ft(x)){if(Ft(h)&&Ft(g))return{x:h,y:g,width:_,height:x};if(Ft(y)&&Ft(b))return{x:y,y:b,width:_,height:x}}return Ft(h)&&Ft(g)?{x:h,y:g,width:0,height:0}:Ft(n)&&Ft(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},VRe=function(e,n){return e?e===!0?he.createElement(ka,{key:"label-implicit",viewBox:n}):Sa(e)?he.createElement(ka,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===ka?B.cloneElement(e,{key:"label-implicit",viewBox:n}):he.createElement(ka,{key:"label-implicit",content:e,viewBox:n}):An(e)?he.createElement(ka,{key:"label-implicit",content:e,viewBox:n}):ky(e)?he.createElement(ka,l_({viewBox:n},e,{key:"label-implicit"})):null:null},GRe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=PZ(e),o=Ll(i,ka).map(function(l,u){return B.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=VRe(e.label,n||a);return[s].concat(TRe(o))};ka.parseViewBox=PZ;ka.renderCallByParent=GRe;var mI,wV;function $Re(){if(wV)return mI;wV=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return mI=t,mI}var WRe=$Re();const qRe=Mr(WRe);function c_(t){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}var XRe=["valueAccessor"],YRe=["data","dataKey","clockWise","id","textBreakAll"];function KRe(t){return eOe(t)||QRe(t)||JRe(t)||ZRe()}function ZRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRe(t,e){if(t){if(typeof t=="string")return kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(t,e)}}function QRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eOe(t){if(Array.isArray(t))return kk(t)}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(this,arguments)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){tOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tOe(t,e,n){return e=nOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nOe(t){var e=rOe(t,"string");return c_(e)=="symbol"?e:e+""}function rOe(t,e){if(c_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AV(t,e){if(t==null)return{};var n=iOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aOe=function(e){return Array.isArray(e.value)?qRe(e.value):e.value};function ih(t){var e=t.valueAccessor,n=e===void 0?aOe:e,r=AV(t,XRe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=AV(r,YRe);return!i||!i.length?null:he.createElement(Br,{className:"recharts-label-list"},i.map(function(d,h){var g=nr(a)?n(d,h):Mo(d&&d.payload,a),y=nr(s)?{}:{id:"".concat(s,"-").concat(h)};return he.createElement(ka,sA({},En(d,!0),u,y,{parentViewBox:d.parentViewBox,value:g,textBreakAll:l,viewBox:ka.parseViewBox(nr(o)?d:EV(EV({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ih.displayName="LabelList";function oOe(t,e){return t?t===!0?he.createElement(ih,{key:"labelList-implicit",data:e}):he.isValidElement(t)||An(t)?he.createElement(ih,{key:"labelList-implicit",data:e,content:t}):ky(t)?he.createElement(ih,sA({data:e},t,{key:"labelList-implicit"})):null:null}function sOe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ll(r,ih).map(function(o,s){return B.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=oOe(t.label,e);return[a].concat(KRe(i))}ih.renderCallByParent=sOe;function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lk.apply(this,arguments)}function TV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(n),!0).forEach(function(r){lOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lOe(t,e,n){return e=cOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cOe(t){var e=uOe(t,"string");return u_(e)=="symbol"?e:e+""}function uOe(t,e){if(u_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fOe=function(e,n){var r=Wo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},lM=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,h=Math.asin(l/d)/oA,g=u?a:a+o*h,y=si(n,r,d,g),b=si(n,r,i,g),_=u?a-o*h:a,x=si(n,r,d*Math.cos(h*oA),_);return{center:y,circleTangency:b,lineTangency:x,theta:h}},DZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=fOe(o,s),u=o+l,d=si(n,r,a,o),h=si(n,r,a,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=si(n,r,i,o),b=si(n,r,i,u);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},dOe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=Wo(d-u),g=lM({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,_=g.theta,x=lM({cx:n,cy:r,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:l}),w=x.circleTangency,E=x.lineTangency,A=x.theta,C=l?Math.abs(u-d):Math.abs(u-d)-_-A;if(C<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DZ({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var O=lM({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=O.circleTangency,R=O.lineTangency,k=O.theta,z=lM({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),F=z.circleTangency,G=z.lineTangency,V=z.theta,W=l?Math.abs(u-d):Math.abs(u-d)-k-V;if(W<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},hOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IZ=function(e){var n=CV(CV({},hOe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,g=n.className;if(o<a||d===h)return null;var y=Vn("recharts-sector",g),b=o-a,_=qo(s,b,0,!0),x;return _>0&&Math.abs(d-h)<360?x=dOe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):x=DZ({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),he.createElement("path",Lk({},En(n,!0),{className:y,d:x,role:"img"}))};function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function Uk(){return Uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uk.apply(this,arguments)}function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){pOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pOe(t,e,n){return e=mOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mOe(t){var e=gOe(t,"string");return f_(e)=="symbol"?e:e+""}function gOe(t,e){if(f_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PV={curveBasisClosed:L1e,curveBasisOpen:U1e,curveBasis:k1e,curveBumpX:_1e,curveBumpY:S1e,curveLinearClosed:B1e,curveLinear:QT,curveMonotoneX:F1e,curveMonotoneY:j1e,curveNatural:z1e,curveStep:H1e,curveStepAfter:G1e,curveStepBefore:V1e},cM=function(e){return e.x===+e.x&&e.y===+e.y},Db=function(e){return e.x},Ib=function(e){return e.y},vOe=function(e,n){if(An(e))return e;var r="curve".concat(ZT(e));return(r==="curveMonotone"||r==="curveBump")&&n?PV["".concat(r).concat(n==="vertical"?"Y":"X")]:PV[r]||QT},yOe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=vOe(r,s),h=u?a.filter(function(_){return cM(_)}):a,g;if(Array.isArray(o)){var y=u?o.filter(function(_){return cM(_)}):o,b=h.map(function(_,x){return OV(OV({},_),{},{base:y[x]})});return s==="vertical"?g=eM().y(Ib).x1(Db).x0(function(_){return _.base.x}):g=eM().x(Db).y1(Ib).y0(function(_){return _.base.y}),g.defined(cM).curve(d),g(b)}return s==="vertical"&&Ft(o)?g=eM().y(Ib).x1(Db).x0(o):Ft(o)?g=eM().x(Db).y1(Ib).y0(o):g=PY().x(Db).y(Ib),g.defined(cM).curve(d),g(h)},Bk=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?yOe(e):i;return B.createElement("path",Uk({},En(e,!1),kE(e),{className:Vn("recharts-curve",n),d:o,ref:a}))},gI={exports:{}},vI,DV;function bOe(){if(DV)return vI;DV=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vI=t,vI}var yI,IV;function xOe(){if(IV)return yI;IV=1;var t=bOe();function e(){}function n(){}return n.resetWarningCache=e,yI=function(){function r(o,s,l,u,d,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},yI}var NV;function _Oe(){return NV||(NV=1,gI.exports=xOe()()),gI.exports}var SOe=_Oe();const Ir=Mr(SOe),{getOwnPropertyNames:wOe,getOwnPropertySymbols:MOe}=Object,{hasOwnProperty:EOe}=Object.prototype;function bI(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function uM(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function AOe(t){return t?.[Symbol.toStringTag]}function kV(t){return wOe(t).concat(MOe(t))}const TOe=Object.hasOwn||((t,e)=>EOe.call(t,e));function Mm(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const COe="__v",ROe="__o",OOe="_owner",{getOwnPropertyDescriptor:LV,keys:UV}=Object;function POe(t,e){return t.byteLength===e.byteLength&&lA(new Uint8Array(t),new Uint8Array(e))}function DOe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function IOe(t,e){return t.byteLength===e.byteLength&&lA(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function NOe(t,e){return Mm(t.getTime(),e.getTime())}function kOe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function LOe(t,e){return t===e}function BV(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,h=0;for(;(s=u.next())&&!s.done;){if(i[h]){h++;continue}const g=o.value,y=s.value;if(n.equals(g[0],y[0],l,h,t,e,n)&&n.equals(g[1],y[1],g[0],y[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}const UOe=Mm;function BOe(t,e,n){const r=UV(t);let i=r.length;if(UV(e).length!==i)return!1;for(;i-- >0;)if(!NZ(t,e,n,r[i]))return!1;return!0}function Nb(t,e,n){const r=kV(t);let i=r.length;if(kV(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!NZ(t,e,n,a)||(o=LV(t,a),s=LV(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function FOe(t,e){return Mm(t.valueOf(),e.valueOf())}function jOe(t,e){return t.source===e.source&&t.flags===e.flags}function FV(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const l=e.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function lA(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zOe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function NZ(t,e,n,r){return(r===OOe||r===ROe||r===COe)&&(t.$$typeof||e.$$typeof)?!0:TOe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const HOe="[object ArrayBuffer]",VOe="[object Arguments]",GOe="[object Boolean]",$Oe="[object DataView]",WOe="[object Date]",qOe="[object Error]",XOe="[object Map]",YOe="[object Number]",KOe="[object Object]",ZOe="[object RegExp]",JOe="[object Set]",QOe="[object String]",e3e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},t3e="[object URL]",n3e=Object.prototype.toString;function r3e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:b}){return function(x,w,E){if(x===w)return!0;if(x==null||w==null)return!1;const A=typeof x;if(A!==typeof w)return!1;if(A!=="object")return A==="number"?s(x,w,E):A==="function"?a(x,w,E):!1;const C=x.constructor;if(C!==w.constructor)return!1;if(C===Object)return l(x,w,E);if(Array.isArray(x))return e(x,w,E);if(C===Date)return r(x,w,E);if(C===RegExp)return d(x,w,E);if(C===Map)return o(x,w,E);if(C===Set)return h(x,w,E);const T=n3e.call(x);if(T===WOe)return r(x,w,E);if(T===ZOe)return d(x,w,E);if(T===XOe)return o(x,w,E);if(T===JOe)return h(x,w,E);if(T===KOe)return typeof x.then!="function"&&typeof w.then!="function"&&l(x,w,E);if(T===t3e)return y(x,w,E);if(T===qOe)return i(x,w,E);if(T===VOe)return l(x,w,E);if(e3e[T])return g(x,w,E);if(T===HOe)return t(x,w,E);if(T===$Oe)return n(x,w,E);if(T===GOe||T===YOe||T===QOe)return u(x,w,E);if(b){let O=b[T];if(!O){const N=AOe(x);N&&(O=b[N])}if(O)return O(x,w,E)}return!1}}function i3e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:POe,areArraysEqual:n?Nb:DOe,areDataViewsEqual:IOe,areDatesEqual:NOe,areErrorsEqual:kOe,areFunctionsEqual:LOe,areMapsEqual:n?bI(BV,Nb):BV,areNumbersEqual:UOe,areObjectsEqual:n?Nb:BOe,arePrimitiveWrappersEqual:FOe,areRegExpsEqual:jOe,areSetsEqual:n?bI(FV,Nb):FV,areTypedArraysEqual:n?bI(lA,Nb):lA,areUrlsEqual:zOe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=uM(r.areArraysEqual),a=uM(r.areMapsEqual),o=uM(r.areObjectsEqual),s=uM(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function a3e(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function o3e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,a)}}const s3e=Sh();Sh({strict:!0});Sh({circular:!0});Sh({circular:!0,strict:!0});Sh({createInternalComparator:()=>Mm});Sh({strict:!0,createInternalComparator:()=>Mm});Sh({circular:!0,createInternalComparator:()=>Mm});Sh({circular:!0,createInternalComparator:()=>Mm,strict:!0});function Sh(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=i3e(t),o=r3e(a),s=n?n(o):a3e(o);return o3e({circular:e,comparator:o,createState:r,equals:s,strict:i})}function l3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):l3e(i)};requestAnimationFrame(r)}function Fk(t){"@babel/helpers - typeof";return Fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fk(t)}function c3e(t){return h3e(t)||d3e(t)||f3e(t)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f3e(t,e){if(t){if(typeof t=="string")return zV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zV(t,e)}}function zV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h3e(t){if(Array.isArray(t))return t}function p3e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=c3e(o),l=s[0],u=s.slice(1);if(typeof l=="number"){jV(i.bind(null,u),l);return}i(l),jV(i.bind(null,u));return}Fk(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}function HV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(n),!0).forEach(function(r){kZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kZ(t,e,n){return e=m3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3e(t){var e=g3e(t,"string");return d_(e)==="symbol"?e:String(e)}function g3e(t,e){if(d_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v3e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},y3e=function(e){return e},b3e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hx=function(e,n){return Object.keys(n).reduce(function(r,i){return VV(VV({},r),{},kZ({},i,e(i,n[i])))},{})},GV=function(e,n,r){return e.map(function(i){return"".concat(b3e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function x3e(t,e){return w3e(t)||S3e(t,e)||LZ(t,e)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function w3e(t){if(Array.isArray(t))return t}function M3e(t){return T3e(t)||A3e(t)||LZ(t)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(t,e){if(t){if(typeof t=="string")return jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jk(t,e)}}function A3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T3e(t){if(Array.isArray(t))return jk(t)}function jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cA=1e-4,UZ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BZ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},$V=function(e,n){return function(r){var i=UZ(e,n);return BZ(i,r)}},C3e=function(e,n){return function(r){var i=UZ(e,n),a=[].concat(M3e(i.map(function(o,s){return o*s}).slice(1)),[0]);return BZ(a,r)}},WV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=x3e(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var h=$V(i,o),g=$V(a,s),y=C3e(i,o),b=function(w){return w>1?1:w<0?0:w},_=function(w){for(var E=w>1?1:w,A=E,C=0;C<8;++C){var T=h(A)-E,O=y(A);if(Math.abs(T-E)<cA||O<cA)return g(A);A=b(A-T/O)}return g(A)};return _.isStepper=!1,_},R3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,h,g){var y=-(d-h)*r,b=g*a,_=g+(y-b)*s/1e3,x=g*s/1e3+d;return Math.abs(x-h)<cA&&Math.abs(_)<cA?[h,0]:[x,_]};return l.isStepper=!0,l.dt=s,l},O3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WV(i);case"spring":return R3e();default:if(i.split("(")[0]==="cubic-bezier")return WV(i)}return typeof i=="function"?i:null};function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}function qV(t){return I3e(t)||D3e(t)||FZ(t)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I3e(t){if(Array.isArray(t))return Hk(t)}function XV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(n),!0).forEach(function(r){zk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zk(t,e,n){return e=N3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N3e(t){var e=k3e(t,"string");return h_(e)==="symbol"?e:String(e)}function k3e(t,e){if(h_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L3e(t,e){return F3e(t)||B3e(t,e)||FZ(t,e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(t,e){if(t){if(typeof t=="string")return Hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function F3e(t){if(Array.isArray(t))return t}var uA=function(e,n,r){return e+(n-e)*r},Vk=function(e){var n=e.from,r=e.to;return n!==r},j3e=function t(e,n,r){var i=hx(function(a,o){if(Vk(o)){var s=e(o.from,o.to,o.velocity),l=L3e(s,2),u=l[0],d=l[1];return eo(eo({},o),{},{from:u,velocity:d})}return o},n);return r<1?hx(function(a,o){return Vk(o)?eo(eo({},o),{},{velocity:uA(o.velocity,i[a].velocity,r),from:uA(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const z3e=(function(t,e,n,r,i){var a=v3e(t,e),o=a.reduce(function(x,w){return eo(eo({},x),{},zk({},w,[t[w],e[w]]))},{}),s=a.reduce(function(x,w){return eo(eo({},x),{},zk({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,d,h=function(){return null},g=function(){return hx(function(w,E){return E.from},s)},y=function(){return!Object.values(s).filter(Vk).length},b=function(w){u||(u=w);var E=w-u,A=E/n.dt;s=j3e(n,s,A),i(eo(eo(eo({},t),e),g())),u=w,y()||(l=requestAnimationFrame(h))},_=function(w){d||(d=w);var E=(w-d)/r,A=hx(function(T,O){return uA.apply(void 0,qV(O).concat([n(E)]))},o);if(i(eo(eo(eo({},t),e),A)),E<1)l=requestAnimationFrame(h);else{var C=hx(function(T,O){return uA.apply(void 0,qV(O).concat([n(1)]))},o);i(eo(eo(eo({},t),e),C))}};return h=n.isStepper?b:_,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}var H3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function V3e(t,e){if(t==null)return{};var n=G3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xI(t){return X3e(t)||q3e(t)||W3e(t)||$3e()}function $3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3e(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function q3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X3e(t){if(Array.isArray(t))return Gk(t)}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){$b(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $b(t,e,n){return e=jZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jZ(r.key),r)}}function Z3e(t,e,n){return e&&K3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jZ(t){var e=J3e(t,"string");return ry(e)==="symbol"?e:String(e)}function J3e(t,e){if(ry(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$k(t,e)}function $k(t,e){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$k(t,e)}function ePe(t){var e=tPe();return function(){var r=fA(t),i;if(e){var a=fA(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Wk(this,i)}}function Wk(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qk(t)}function qk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fA(t){return fA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fA(t)}var Hf=(function(t){Q3e(n,t);var e=ePe(n);function n(r,i){var a;Y3e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,h=o.steps,g=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(qk(a)),a.changeStyle=a.changeStyle.bind(qk(a)),!s||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:d}),Wk(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof g=="function")return a.state={style:u},Wk(a);a.state={style:l?$b({},l,u):u}}else a.state={style:{}};return a}return Z3e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,g=this.state.style;if(s){if(!o){var y={style:l?$b({},l,d):d};this.state&&g&&(l&&g[l]!==d||!l&&g!==d)&&this.setState(y);return}if(!(s3e(i.to,d)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=b||u?h:i.to;if(this.state&&g){var x={style:l?$b({},l,_):_};(l&&g[l]!==_||!l&&g!==_)&&this.setState(x)}this.runAnimation(fc(fc({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,y=z3e(o,s,O3e(u),l,this.changeStyle),b=function(){a.stopJSAnimation=y()};this.manager.start([g,d,b,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,g=h===void 0?0:h,y=function(_,x,w){if(w===0)return _;var E=x.duration,A=x.easing,C=A===void 0?"ease":A,T=x.style,O=x.properties,N=x.onAnimationEnd,R=w>0?o[w-1]:x,k=O||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(xI(_),[a.runJSAnimation.bind(a,{from:R.style,to:T,duration:E,easing:C}),E]);var z=GV(k,E,C),F=fc(fc(fc({},R.style),T),{},{transition:z});return[].concat(xI(_),[F,E,N]).filter(y3e)};return this.manager.start([l].concat(xI(o.reduce(y,[d,Math.max(g,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=p3e());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,y=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var _=s?$b({},s,l):l,x=GV(Object.keys(_),o,u);b.start([d,a,fc(fc({},_),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=V3e(i,H3e),u=B.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var h=function(y){var b=y.props,_=b.style,x=_===void 0?{}:_,w=b.className,E=B.cloneElement(y,fc(fc({},l),{},{style:fc(fc({},x),d),className:w}));return E};return u===1?h(B.Children.only(a)):he.createElement("div",null,B.Children.map(a,function(g){return h(g)}))}}]),n})(B.PureComponent);Hf.displayName="Animate";Hf.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hf.propTypes={from:Ir.oneOfType([Ir.object,Ir.string]),to:Ir.oneOfType([Ir.object,Ir.string]),attributeName:Ir.string,duration:Ir.number,begin:Ir.number,easing:Ir.oneOfType([Ir.string,Ir.func]),steps:Ir.arrayOf(Ir.shape({duration:Ir.number.isRequired,style:Ir.object.isRequired,easing:Ir.oneOfType([Ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ir.func]),properties:Ir.arrayOf("string"),onAnimationEnd:Ir.func})),children:Ir.oneOfType([Ir.node,Ir.func]),isActive:Ir.bool,canBegin:Ir.bool,onAnimationEnd:Ir.func,shouldReAnimate:Ir.bool,onAnimationStart:Ir.func,onAnimationReStart:Ir.func};function p_(t){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(t)}function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(this,arguments)}function nPe(t,e){return oPe(t)||aPe(t,e)||iPe(t,e)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(t,e){if(t){if(typeof t=="string")return KV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KV(t,e)}}function KV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function oPe(t){if(Array.isArray(t))return t}function ZV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(n),!0).forEach(function(r){sPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e,n){return e=lPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lPe(t){var e=cPe(t,"string");return p_(e)=="symbol"?e:e+""}function cPe(t,e){if(p_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QV=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=a[g]>o?o:a[g];d="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),d+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*h[1])),d+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),d+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);d="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*b," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},uPe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),h=Math.min(o,o+l),g=Math.max(o,o+l);return r>=u&&r<=d&&i>=h&&i<=g}return!1},fPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U2=function(e){var n=JV(JV({},fPe),e),r=B.useRef(),i=B.useState(-1),a=nPe(i,2),o=a[0],s=a[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&s(C)}catch{}},[]);var l=n.x,u=n.y,d=n.width,h=n.height,g=n.radius,y=n.className,b=n.animationEasing,_=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var A=Vn("recharts-rectangle",y);return E?he.createElement(Hf,{canBegin:o>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:_,animationEasing:b,isActive:E},function(C){var T=C.width,O=C.height,N=C.x,R=C.y;return he.createElement(Hf,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,isActive:w,easing:b},he.createElement("path",dA({},En(n,!0),{className:A,d:QV(N,R,T,O,g),ref:r})))}):he.createElement("path",dA({},En(n,!0),{className:A,d:QV(l,u,d,h,g)}))},dPe=["points","className","baseLinePoints","connectNulls"];function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function hPe(t,e){if(t==null)return{};var n=pPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eG(t){return yPe(t)||vPe(t)||gPe(t)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(t,e){if(t){if(typeof t=="string")return Xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(t,e)}}function vPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yPe(t){if(Array.isArray(t))return Xk(t)}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tG=function(e){return e&&e.x===+e.x&&e.y===+e.y},bPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){tG(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),tG(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},px=function(e,n){var r=bPe(e);n&&(r=[r.reduce(function(a,o){return[].concat(eG(a),eG(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},xPe=function(e,n,r){var i=px(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(px(n.reverse(),r).slice(1))},_Pe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=hPe(e,dPe);if(!n||!n.length)return null;var s=Vn("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=xPe(n,i,a);return he.createElement("g",{className:s},he.createElement("path",_v({},En(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?he.createElement("path",_v({},En(o,!0),{fill:"none",d:px(n,a)})):null,l?he.createElement("path",_v({},En(o,!0),{fill:"none",d:px(i,a)})):null)}var d=px(n,a);return he.createElement("path",_v({},En(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk.apply(this,arguments)}var B2=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Vn("recharts-dot",a);return n===+n&&r===+r&&i===+i?B.createElement("circle",Yk({},En(e,!1),kE(e),{className:o,cx:n,cy:r,r:i})):null};function m_(t){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(t)}var SPe=["x","y","top","left","width","height","className"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kk.apply(this,arguments)}function nG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(n),!0).forEach(function(r){MPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MPe(t,e,n){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EPe(t){var e=APe(t,"string");return m_(e)=="symbol"?e:e+""}function APe(t,e){if(m_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TPe(t,e){if(t==null)return{};var n=CPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RPe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},OPe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,g=e.height,y=g===void 0?0:g,b=e.className,_=TPe(e,SPe),x=wPe({x:r,y:a,top:s,left:u,width:h,height:y},_);return!Ft(r)||!Ft(a)||!Ft(h)||!Ft(y)||!Ft(s)||!Ft(u)?null:he.createElement("path",Kk({},En(x,!0),{className:Vn("recharts-cross",b),d:RPe(r,a,h,y,s,u)}))},_I,rG;function PPe(){if(rG)return _I;rG=1;var t=fC(),e=tZ(),n=Lu();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return _I=r,_I}var DPe=PPe();const IPe=Mr(DPe);var SI,iG;function NPe(){if(iG)return SI;iG=1;var t=fC(),e=Lu(),n=nZ();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return SI=r,SI}var kPe=NPe();const LPe=Mr(kPe);var UPe=["cx","cy","angle","ticks","axisLine"],BPe=["ticks","tick","angle","tickFormatter","stroke"];function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(n),!0).forEach(function(r){yC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oG(t,e){if(t==null)return{};var n=FPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HZ(r.key),r)}}function zPe(t,e,n){return e&&sG(t.prototype,e),n&&sG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HPe(t,e,n){return e=hA(e),VPe(t,zZ()?Reflect.construct(e,n||[],hA(t).constructor):e.apply(t,n))}function VPe(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GPe(t)}function GPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zZ=function(){return!!t})()}function hA(t){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hA(t)}function $Pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zk(t,e)}function Zk(t,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zk(t,e)}function yC(t,e,n){return e=HZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HZ(t){var e=WPe(t,"string");return iy(e)=="symbol"?e:e+""}function WPe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bC=(function(t){function e(){return jPe(this,e),HPe(this,e,arguments)}return $Pe(e,t),zPe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return si(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=IPe(s,function(d){return d.coordinate||0}),u=LPe(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=oG(r,UPe),d=s.reduce(function(b,_){return[Math.min(b[0],_.coordinate),Math.max(b[1],_.coordinate)]},[1/0,-1/0]),h=si(i,a,d[0],o),g=si(i,a,d[1],o),y=wp(wp(wp({},En(u,!1)),{},{fill:"none"},En(l,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return he.createElement("line",mx({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=oG(i,BPe),h=this.getTickTextAnchor(),g=En(d,!1),y=En(o,!1),b=a.map(function(_,x){var w=r.getTickValueCoord(_),E=wp(wp(wp(wp({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},g),{},{stroke:"none",fill:u},y),{},{index:x},w),{},{payload:_});return he.createElement(Br,mx({className:Vn("recharts-polar-radius-axis-tick",OZ(o)),key:"tick-".concat(_.coordinate)},dm(r.props,_,x)),e.renderTickItem(o,E,l?l(_.value,x):_.value))});return he.createElement(Br,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:he.createElement(Br,{className:Vn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ka.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return he.isValidElement(r)?o=he.cloneElement(r,i):An(r)?o=r(i):o=he.createElement(hm,mx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(B.PureComponent);yC(bC,"displayName","PolarRadiusAxis");yC(bC,"axisType","radiusAxis");yC(bC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function lG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lG(Object(n),!0).forEach(function(r){xC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GZ(r.key),r)}}function XPe(t,e,n){return e&&cG(t.prototype,e),n&&cG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YPe(t,e,n){return e=pA(e),KPe(t,VZ()?Reflect.construct(e,n||[],pA(t).constructor):e.apply(t,n))}function KPe(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZPe(t)}function ZPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VZ=function(){return!!t})()}function pA(t){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pA(t)}function JPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jk(t,e)}function Jk(t,e){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jk(t,e)}function xC(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=QPe(t,"string");return ay(e)=="symbol"?e:e+""}function QPe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eDe=Math.PI/180,uG=1e-5,_C=(function(t){function e(){return qPe(this,e),YPe(this,e,arguments)}return JPe(e,t),XPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,h=si(a,o,s,r.coordinate),g=si(a,o,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*eDe),o;return a>uG?o=i==="outer"?"start":"end":a<-uG?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Mp(Mp({},En(this.props,!1)),{},{fill:"none"},En(s,!1));if(l==="circle")return he.createElement(B2,Np({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(g){return si(i,a,o,g.coordinate)});return he.createElement(_Pe,Np({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=En(this.props,!1),h=En(o,!1),g=Mp(Mp({},d),{},{fill:"none"},En(s,!1)),y=a.map(function(b,_){var x=r.getTickLineCoord(b),w=r.getTickTextAnchor(b),E=Mp(Mp(Mp({textAnchor:w},d),{},{stroke:"none",fill:u},h),{},{index:_,payload:b,x:x.x2,y:x.y2});return he.createElement(Br,Np({className:Vn("recharts-polar-angle-axis-tick",OZ(o)),key:"tick-".concat(b.coordinate)},dm(r.props,b,_)),s&&he.createElement("line",Np({className:"recharts-polar-angle-axis-tick-line"},g,x)),o&&e.renderTickItem(o,E,l?l(b.value,_):b.value))});return he.createElement(Br,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:he.createElement(Br,{className:Vn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return he.isValidElement(r)?o=he.cloneElement(r,i):An(r)?o=r(i):o=he.createElement(hm,Np({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(B.PureComponent);xC(_C,"displayName","PolarAngleAxis");xC(_C,"axisType","angleAxis");xC(_C,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wI,fG;function tDe(){if(fG)return wI;fG=1;var t=eK(),e=t(Object.getPrototypeOf,Object);return wI=e,wI}var MI,dG;function nDe(){if(dG)return MI;dG=1;var t=qf(),e=tDe(),n=Xf(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var g=s.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==l}return MI=u,MI}var rDe=nDe();const iDe=Mr(rDe);var EI,hG;function aDe(){if(hG)return EI;hG=1;var t=qf(),e=Xf(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return EI=r,EI}var oDe=aDe();const sDe=Mr(oDe);function g_(t){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(t)}function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mA.apply(this,arguments)}function lDe(t,e){return dDe(t)||fDe(t,e)||uDe(t,e)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uDe(t,e){if(t){if(typeof t=="string")return pG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pG(t,e)}}function pG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dDe(t){if(Array.isArray(t))return t}function mG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(n),!0).forEach(function(r){hDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hDe(t,e,n){return e=pDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pDe(t){var e=mDe(t,"string");return g_(e)=="symbol"?e:e+""}function mDe(t,e){if(g_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vG=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},gDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vDe=function(e){var n=gG(gG({},gDe),e),r=B.useRef(),i=B.useState(-1),a=lDe(i,2),o=a[0],s=a[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,g=n.height,y=n.className,b=n.animationEasing,_=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||g!==+g||d===0&&h===0||g===0)return null;var E=Vn("recharts-trapezoid",y);return w?he.createElement(Hf,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:g,x:l,y:u},duration:_,animationEasing:b,isActive:w},function(A){var C=A.upperWidth,T=A.lowerWidth,O=A.height,N=A.x,R=A.y;return he.createElement(Hf,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,easing:b},he.createElement("path",mA({},En(n,!0),{className:E,d:vG(N,R,C,T,O),ref:r})))}):he.createElement("g",null,he.createElement("path",mA({},En(n,!0),{className:E,d:vG(l,u,d,h,g)})))},yDe=["option","shapeType","propTransformer","activeClassName","isActive"];function v_(t){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(t)}function bDe(t,e){if(t==null)return{};var n=xDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(n),!0).forEach(function(r){_De(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _De(t,e,n){return e=SDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SDe(t){var e=wDe(t,"string");return v_(e)=="symbol"?e:e+""}function wDe(t,e){if(v_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MDe(t,e){return gA(gA({},e),t)}function EDe(t,e){return t==="symbols"}function bG(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return he.createElement(U2,n);case"trapezoid":return he.createElement(vDe,n);case"sector":return he.createElement(IZ,n);case"symbols":if(EDe(e))return he.createElement(n2,n);break;default:return null}}function ADe(t){return B.isValidElement(t)?t.props:t}function $Z(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?MDe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=bDe(t,yDe),u;if(B.isValidElement(e))u=B.cloneElement(e,gA(gA({},l),ADe(e)));else if(An(e))u=e(l);else if(iDe(e)&&!sDe(e)){var d=i(e,l);u=he.createElement(bG,{shapeType:n,elementProps:d})}else{var h=l;u=he.createElement(bG,{shapeType:n,elementProps:h})}return s?he.createElement(Br,{className:o},u):u}function SC(t,e){return e!=null&&"trapezoids"in t.props}function wC(t,e){return e!=null&&"sectors"in t.props}function y_(t,e){return e!=null&&"points"in t.props}function TDe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function CDe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function RDe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ODe(t,e){var n;return SC(t,e)?n=TDe:wC(t,e)?n=CDe:y_(t,e)&&(n=RDe),n}function PDe(t,e){var n;return SC(t,e)?n="trapezoids":wC(t,e)?n="sectors":y_(t,e)&&(n="points"),n}function DDe(t,e){if(SC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return y_(t,e)?e.payload:{}}function IDe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=PDe(n,e),a=DDe(n,e),o=r.filter(function(l,u){var d=pC(a,l),h=n.props[i].filter(function(b){var _=ODe(n,e);return _(b,e)}),g=n.props[i].indexOf(h[h.length-1]),y=u===g;return d&&y}),s=r.indexOf(o[o.length-1]);return s}var SM;function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function xG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(n),!0).forEach(function(r){Ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qZ(r.key),r)}}function kDe(t,e,n){return e&&_G(t.prototype,e),n&&_G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LDe(t,e,n){return e=vA(e),UDe(t,WZ()?Reflect.construct(e,n||[],vA(t).constructor):e.apply(t,n))}function UDe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BDe(t)}function BDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WZ=function(){return!!t})()}function vA(t){return vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vA(t)}function FDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qk(t,e)}function Qk(t,e){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qk(t,e)}function Ol(t,e,n){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=jDe(t,"string");return oy(e)=="symbol"?e:e+""}function jDe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=(function(t){function e(n){var r;return NDe(this,e),r=LDe(this,e,[n]),Ol(r,"pieRef",null),Ol(r,"sectorRefs",[]),Ol(r,"id",K_("recharts-pie-")),Ol(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),An(i)&&i()}),Ol(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),An(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return FDe(e,t),kDe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,d=En(this.props,!1),h=En(o,!1),g=En(s,!1),y=o&&o.offsetRadius||20,b=r.map(function(_,x){var w=(_.startAngle+_.endAngle)/2,E=si(_.cx,_.cy,_.outerRadius+y,w),A=ai(ai(ai(ai({},d),_),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(E.x,_.cx)},E),C=ai(ai(ai(ai({},d),_),{},{fill:"none",stroke:_.fill},g),{},{index:x,points:[si(_.cx,_.cy,_.outerRadius,w),E]}),T=l;return nr(l)&&nr(u)?T="value":nr(l)&&(T=u),he.createElement(Br,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,C,"line"),e.renderLabelItem(o,A,Mo(_,T)))});return he.createElement(Br,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var h=i.isActiveIndex(d),g=l&&i.hasActiveIndex()?l:null,y=h?o:g,b=ai(ai({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return he.createElement(Br,Sv({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},dm(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),he.createElement($Z,Sv({option:y,isActive:h,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,g=h.prevSectors,y=h.prevIsAnimationActive;return he.createElement(Hf,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var _=b.t,x=[],w=a&&a[0],E=w.startAngle;return a.forEach(function(A,C){var T=g&&g[C],O=C>0?qs(A,"paddingAngle",0):0;if(T){var N=qd(T.endAngle-T.startAngle,A.endAngle-A.startAngle),R=ai(ai({},A),{},{startAngle:E+O,endAngle:E+N(_)+O});x.push(R),E=R.endAngle}else{var k=A.endAngle,z=A.startAngle,F=qd(0,k-z),G=F(_),V=ai(ai({},A),{},{startAngle:E+O,endAngle:E+G+O});x.push(V),E=V.endAngle}}),he.createElement(Br,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!pC(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,h=i.innerRadius,g=i.outerRadius,y=i.isAnimationActive,b=this.state.isAnimationFinished;if(a||!o||!o.length||!Ft(u)||!Ft(d)||!Ft(h)||!Ft(g))return null;var _=Vn("recharts-pie",s);return he.createElement(Br,{tabIndex:this.props.rootTabIndex,className:_,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(o),ka.renderCallByParent(this.props,null,!1),(!y||b)&&ih.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(he.isValidElement(r))return he.cloneElement(r,i);if(An(r))return r(i);var o=Vn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return he.createElement(Bk,Sv({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(he.isValidElement(r))return he.cloneElement(r,i);var o=a;if(An(r)&&(o=r(i),he.isValidElement(o)))return o;var s=Vn("recharts-pie-label-text",typeof r!="boolean"&&!An(r)?r.className:"");return he.createElement(hm,Sv({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(B.PureComponent);SM=Kf;Ol(Kf,"displayName","Pie");Ol(Kf,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uy.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ol(Kf,"parseDeltaAngle",function(t,e){var n=Wo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ol(Kf,"getRealPieData",function(t){var e=t.data,n=t.children,r=En(t,!1),i=Ll(n,iC);return e&&e.length?e.map(function(a,o){return ai(ai(ai({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ai(ai({},r),a.props)}):[]});Ol(Kf,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=RZ(i,a),s=r+qo(t.cx,i,i/2),l=n+qo(t.cy,a,a/2),u=qo(t.innerRadius,o,0),d=qo(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:h}});Ol(Kf,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ai(ai({},e.type.defaultProps),e.props):e.props,i=SM.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,h=r.valueKey,g=r.tooltipType,y=Math.abs(r.minAngle),b=SM.parseCoordinateOfPie(r,n),_=SM.parseDeltaAngle(o,s),x=Math.abs(_),w=u;nr(u)&&nr(h)?(Sc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):nr(u)&&(Sc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var E=i.filter(function(R){return Mo(R,w,0)!==0}).length,A=(x>=360?E:E-1)*l,C=x-E*y-A,T=i.reduce(function(R,k){var z=Mo(k,w,0);return R+(Ft(z)?z:0)},0),O;if(T>0){var N;O=i.map(function(R,k){var z=Mo(R,w,0),F=Mo(R,d,k),G=(Ft(z)?z:0)/T,V;k?V=N.endAngle+Wo(_)*l*(z!==0?1:0):V=o;var W=V+Wo(_)*((z!==0?y:0)+G*C),K=(V+W)/2,H=(b.innerRadius+b.outerRadius)/2,q=[{name:F,value:z,payload:R,dataKey:w,type:g}],Z=si(b.cx,b.cy,H,K);return N=ai(ai(ai({percent:G,cornerRadius:a,name:F,tooltipPayload:q,midAngle:K,middleRadius:H,tooltipPosition:Z},R),b),{},{value:Mo(R,w),startAngle:V,endAngle:W,payload:R,paddingAngle:Wo(_)*l}),N})}return ai(ai({},b),{},{sectors:O,data:i})});var AI,SG;function zDe(){if(SG)return AI;SG=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var s=-1,l=e(t((i-r)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=r,r+=a;return u}return AI=n,AI}var TI,wG;function XZ(){if(wG)return TI;wG=1;var t=gK(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return TI=r,TI}var CI,MG;function HDe(){if(MG)return CI;MG=1;var t=zDe(),e=rC(),n=XZ();function r(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),t(a,o,s,i)}}return CI=r,CI}var RI,EG;function VDe(){if(EG)return RI;EG=1;var t=HDe(),e=t();return RI=e,RI}var GDe=VDe();const yA=Mr(GDe);function b_(t){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(t)}function AG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AG(Object(n),!0).forEach(function(r){YZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YZ(t,e,n){return e=$De(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $De(t){var e=WDe(t,"string");return b_(e)=="symbol"?e:e+""}function WDe(t,e){if(b_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qDe=["Webkit","Moz","O","ms"],XDe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=qDe.reduce(function(a,o){return TG(TG({},a),{},YZ({},o+r,n))},{});return i[e]=n,i};function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(this,arguments)}function CG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CG(Object(n),!0).forEach(function(r){Ls(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZZ(r.key),r)}}function KDe(t,e,n){return e&&RG(t.prototype,e),n&&RG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZDe(t,e,n){return e=xA(e),JDe(t,KZ()?Reflect.construct(e,n||[],xA(t).constructor):e.apply(t,n))}function JDe(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QDe(t)}function QDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KZ=function(){return!!t})()}function xA(t){return xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xA(t)}function eIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eL(t,e)}function eL(t,e){return eL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eL(t,e)}function Ls(t,e,n){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=tIe(t,"string");return sy(e)=="symbol"?e:e+""}function tIe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nIe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=fx().domain(yA(0,l)).range([a,a+o-s]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},OG=function(e){return e.changedTouches&&!!e.changedTouches.length},ly=(function(t){function e(n){var r;return YDe(this,e),r=ZDe(this,e,[n]),Ls(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ls(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ls(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ls(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ls(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ls(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ls(r,"handleSlideDragStart",function(i){var a=OG(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return eIe(e,t),KDe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,h=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(o,h),b=e.getIndexInRange(o,g);return{startIndex:y-y%l,endIndex:b===d?d:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Mo(a[r],s,r);return An(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,g=l.startIndex,y=l.endIndex,b=l.onChange,_=r.pageX-a;_>0?_=Math.min(_,u+d-h-s,u+d-h-o):_<0&&(_=Math.max(_,u-o,u-s));var x=this.getIndex({startX:o+_,endX:s+_});(x.startIndex!==g||x.endIndex!==y)&&b&&b(x),this.setState({startX:o+_,endX:s+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=OG(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],d=this.props,h=d.x,g=d.width,y=d.travellerWidth,b=d.onChange,_=d.gap,x=d.data,w={startX:this.state.startX,endX:this.state.endX},E=r.pageX-a;E>0?E=Math.min(E,h+g-y-u):E<0&&(E=Math.max(E,h-u)),w[o]=u+E;var A=this.getIndex(w),C=A.startIndex,T=A.endIndex,O=function(){var R=x.length-1;return o==="startX"&&(s>l?C%_===0:T%_===0)||s<l&&T===R||o==="endX"&&(s>l?T%_===0:C%_===0)||s>l&&T===R};this.setState(Ls(Ls({},o,u+E),"brushMoveStartX",r.pageX),function(){b&&O()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],h=s.indexOf(d);if(h!==-1){var g=h+r;if(!(g===-1||g>=s.length)){var y=s[g];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Ls({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return he.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,h=B.Children.only(u);return h?he.cloneElement(h,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,g=l.traveller,y=l.ariaLabel,b=l.data,_=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),E=OI(OI({},En(this.props,!1)),{},{x:w,y:u,width:d,height:h}),A=y||"Min value: ".concat((a=b[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return he.createElement(Br,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,E))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,g=d.endX,y=5,b={pointerEvents:"none",fill:u};return he.createElement(Br,{className:"recharts-brush-texts"},he.createElement(hm,bA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-y,y:o+s/2},b),this.getTextOfTick(i)),he.createElement(hm,bA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+l+y,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,d=r.height,h=r.alwaysShowText,g=this.state,y=g.startX,b=g.endX,_=g.isTextActive,x=g.isSlideMoving,w=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!Ft(s)||!Ft(l)||!Ft(u)||!Ft(d)||u<=0||d<=0)return null;var A=Vn("recharts-brush",a),C=he.Children.count(o)===1,T=XDe("userSelect","none");return he.createElement(Br,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(y,b),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(b,"endX"),(_||x||w||E||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),he.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return he.isValidElement(r)?a=he.cloneElement(r,i):An(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return OI({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?nIe({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])})(B.PureComponent);Ls(ly,"displayName","Brush");Ls(ly,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PI,PG;function rIe(){if(PG)return PI;PG=1;var t=c2();function e(n,r){var i;return t(n,function(a,o,s){return i=r(a,o,s),!i}),!!i}return PI=e,PI}var DI,DG;function iIe(){if(DG)return DI;DG=1;var t=qY(),e=Lu(),n=rIe(),r=Ms(),i=rC();function a(o,s,l){var u=r(o)?t:n;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return DI=a,DI}var aIe=iIe();const oIe=Mr(aIe);var Au=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},II,IG;function sIe(){if(IG)return II;IG=1;var t=fK();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return II=e,II}var NI,NG;function lIe(){if(NG)return NI;NG=1;var t=sIe(),e=cK(),n=Lu();function r(i,a){var o={};return a=n(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return NI=r,NI}var cIe=lIe();const uIe=Mr(cIe);var kI,kG;function fIe(){if(kG)return kI;kG=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return kI=t,kI}var LI,LG;function dIe(){if(LG)return LI;LG=1;var t=c2();function e(n,r){var i=!0;return t(n,function(a,o,s){return i=!!r(a,o,s),i}),i}return LI=e,LI}var UI,UG;function hIe(){if(UG)return UI;UG=1;var t=fIe(),e=dIe(),n=Lu(),r=Ms(),i=rC();function a(o,s,l){var u=r(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,n(s,3))}return UI=a,UI}var pIe=hIe();const JZ=Mr(pIe);var mIe=["x","y"];function x_(t){"@babel/helpers - typeof";return x_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(t)}function tL(){return tL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tL.apply(this,arguments)}function BG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BG(Object(n),!0).forEach(function(r){gIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gIe(t,e,n){return e=vIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vIe(t){var e=yIe(t,"string");return x_(e)=="symbol"?e:e+""}function yIe(t,e){if(x_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bIe(t,e){if(t==null)return{};var n=xIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Ie(t,e){var n=t.x,r=t.y,i=bIe(t,mIe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return kb(kb(kb(kb(kb({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function FG(t){return he.createElement($Z,tL({shapeType:"rectangle",propTransformer:_Ie,activeClassName:"recharts-active-bar"},t))}var SIe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ft(r)||V_e(r);return a?e(r,i):(a||mm(),n)}},wIe=["value","background"],QZ;function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function MIe(t,e){if(t==null)return{};var n=EIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(this,arguments)}function jG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jG(Object(n),!0).forEach(function(r){nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tJ(r.key),r)}}function TIe(t,e,n){return e&&zG(t.prototype,e),n&&zG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CIe(t,e,n){return e=SA(e),RIe(t,eJ()?Reflect.construct(e,n||[],SA(t).constructor):e.apply(t,n))}function RIe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OIe(t)}function OIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eJ=function(){return!!t})()}function SA(t){return SA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SA(t)}function PIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nL(t,e)}function nL(t,e){return nL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nL(t,e)}function nh(t,e,n){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=DIe(t,"string");return cy(e)=="symbol"?e:e+""}function DIe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Em=(function(t){function e(){var n;AIe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=CIe(this,e,[].concat(i)),nh(n,"state",{isAnimationFinished:!1}),nh(n,"id",K_("recharts-bar-")),nh(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),nh(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return PIe(e,t),TIe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,d=En(this.props,!1);return r&&r.map(function(h,g){var y=g===l,b=y?u:o,_=ca(ca(ca({},d),h),{},{isActive:y,option:b,index:g,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(Br,_A({className:"recharts-bar-rectangle"},dm(i.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),he.createElement(FG,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,g=this.state.prevData;return he.createElement(Hf,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,_=a.map(function(x,w){var E=g&&g[w];if(E){var A=qd(E.x,x.x),C=qd(E.y,x.y),T=qd(E.width,x.width),O=qd(E.height,x.height);return ca(ca({},x),{},{x:A(b),y:C(b),width:T(b),height:O(b)})}if(o==="horizontal"){var N=qd(0,x.height),R=N(b);return ca(ca({},x),{},{y:x.y+x.height-R,height:R})}var k=qd(0,x.width),z=k(b);return ca(ca({},x),{},{width:z})});return he.createElement(Br,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!pC(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=En(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,g=MIe(u,wIe);if(!h)return null;var y=ca(ca(ca(ca(ca({},g),{},{fill:"#eee"},h),l),dm(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return he.createElement(FG,_A({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,h=Ll(d,vC);if(!h)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,y=function(x,w){var E=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:E,errorVal:Mo(x,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return he.createElement(Br,b,h.map(function(_){return he.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,h=r.width,g=r.height,y=r.isAnimationActive,b=r.background,_=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=Vn("recharts-bar",o),E=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,C=E||A,T=nr(_)?this.id:_;return he.createElement(Br,{className:w},E||A?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(T)},he.createElement("rect",{x:E?u:u-h/2,y:A?d:d-g/2,width:E?h:h*2,height:A?g:g*2}))):null,he.createElement(Br,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!y||x)&&ih.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(B.PureComponent);QZ=Em;nh(Em,"displayName","Bar");nh(Em,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nh(Em,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,g=t.offset,y=rRe(r,n);if(!y)return null;var b=e.layout,_=n.type.defaultProps,x=_!==void 0?ca(ca({},_),n.props):n.props,w=x.dataKey,E=x.children,A=x.minPointSize,C=b==="horizontal"?o:a,T=u?C.scale.domain():null,O=uRe({numericAxis:C}),N=Ll(E,iC),R=h.map(function(k,z){var F,G,V,W,K,H;u?F=iRe(u[d+z],T):(F=Mo(k,w),Array.isArray(F)||(F=[O,F]));var q=SIe(A,QZ.defaultProps.minPointSize)(F[1],z);if(b==="horizontal"){var Z,ee=[o.scale(F[0]),o.scale(F[1])],ae=ee[0],$=ee[1];G=mV({axis:a,ticks:s,bandSize:i,offset:y.offset,entry:k,index:z}),V=(Z=$??ae)!==null&&Z!==void 0?Z:void 0,W=y.size;var J=ae-$;if(K=Number.isNaN(J)?0:J,H={x:G,y:o.y,width:W,height:o.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var ne=Wo(K||q)*(Math.abs(q)-Math.abs(K));V-=ne,K+=ne}}else{var fe=[a.scale(F[0]),a.scale(F[1])],ge=fe[0],ce=fe[1];if(G=ge,V=mV({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:k,index:z}),W=ce-ge,K=y.size,H={x:a.x,y:V,width:a.width,height:K},Math.abs(q)>0&&Math.abs(W)<Math.abs(q)){var le=Wo(W||q)*(Math.abs(q)-Math.abs(W));W+=le}}return ca(ca(ca({},k),{},{x:G,y:V,width:W,height:K,value:u?F:F[1],payload:k,background:H},N&&N[z]&&N[z].props),{},{tooltipPayload:[TZ(n,k)],tooltipPosition:{x:G+W/2,y:V+K/2}})});return ca({data:R,layout:b},g)});function __(t){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__(t)}function IIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nJ(r.key),r)}}function NIe(t,e,n){return e&&HG(t.prototype,e),n&&HG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(n),!0).forEach(function(r){MC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MC(t,e,n){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=kIe(t,"string");return __(e)=="symbol"?e:e+""}function kIe(t,e){if(__(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(__(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LIe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},g=!!Us(u,Em);return d.reduce(function(y,b){var _=n[b],x=_.orientation,w=_.domain,E=_.padding,A=E===void 0?{}:E,C=_.mirror,T=_.reversed,O="".concat(x).concat(C?"Mirror":""),N,R,k,z,F;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var G=w[1]-w[0],V=1/0,W=_.categoricalDomain.sort(W_e);if(W.forEach(function(fe,ge){ge>0&&(V=Math.min((fe||0)-(W[ge-1]||0),V))}),Number.isFinite(V)){var K=V/G,H=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(N=K*H/2),_.padding==="no-gap"){var q=qo(e.barCategoryGap,K*H),Z=K*H/2;N=Z-q-(Z-q)/H*q}}}i==="xAxis"?R=[r.left+(A.left||0)+(N||0),r.left+r.width-(A.right||0)-(N||0)]:i==="yAxis"?R=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(N||0),r.top+r.height-(A.bottom||0)-(N||0)]:R=_.range,T&&(R=[R[1],R[0]]);var ee=wZ(_,a,g),ae=ee.scale,$=ee.realScaleType;ae.domain(w).range(R),MZ(ae);var J=EZ(ae,vc(vc({},_),{},{realScaleType:$}));i==="xAxis"?(F=x==="top"&&!C||x==="bottom"&&C,k=r.left,z=h[O]-F*_.height):i==="yAxis"&&(F=x==="left"&&!C||x==="right"&&C,k=h[O]-F*_.width,z=r.top);var ne=vc(vc(vc({},_),J),{},{realScaleType:$,x:k,y:z,scale:ae,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return ne.bandSize=aA(ne,J),!_.hide&&i==="xAxis"?h[O]+=(F?-1:1)*ne.height:_.hide||(h[O]+=(F?-1:1)*ne.width),vc(vc({},y),{},MC({},b,ne))},{})},rJ=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},UIe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return rJ({x:n,y:r},{x:i,y:a})},iJ=(function(){function t(e){IIe(this,t),this.scale=e}return NIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();MC(iJ,"EPS",1e-4);var F2=function(e){var n=Object.keys(e).reduce(function(r,i){return vc(vc({},r),{},MC({},i,iJ.create(e[i])))},{});return vc(vc({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return uIe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return JZ(i,function(a,o){return n[o].isInRange(a)})}})};function BIe(t){return(t%180+180)%180}var FIe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=BIe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},BI,GG;function jIe(){if(GG)return BI;GG=1;var t=Lu(),e=Z_(),n=tC();function r(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=n(a),o=function(h){return u(l[h],h,l)}}var d=i(a,o,s);return d>-1?l[u?a[d]:d]:void 0}}return BI=r,BI}var FI,$G;function zIe(){if($G)return FI;$G=1;var t=XZ();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return FI=e,FI}var jI,WG;function HIe(){if(WG)return jI;WG=1;var t=iK(),e=Lu(),n=zIe(),r=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),t(a,e(o,3),u)}return jI=i,jI}var zI,qG;function VIe(){if(qG)return zI;qG=1;var t=jIe(),e=HIe(),n=t(e);return zI=n,zI}var GIe=VIe();const $Ie=Mr(GIe);var WIe=xY();const qIe=Mr(WIe);var XIe=qIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),j2=B.createContext(void 0),z2=B.createContext(void 0),aJ=B.createContext(void 0),oJ=B.createContext({}),sJ=B.createContext(void 0),lJ=B.createContext(0),cJ=B.createContext(0),XG=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=XIe(a);return he.createElement(j2.Provider,{value:r},he.createElement(z2.Provider,{value:i},he.createElement(oJ.Provider,{value:a},he.createElement(aJ.Provider,{value:d},he.createElement(sJ.Provider,{value:o},he.createElement(lJ.Provider,{value:u},he.createElement(cJ.Provider,{value:l},s)))))))},YIe=function(){return B.useContext(sJ)},uJ=function(e){var n=B.useContext(j2);n==null&&mm();var r=n[e];return r==null&&mm(),r},KIe=function(){var e=B.useContext(j2);return Zd(e)},ZIe=function(){var e=B.useContext(z2),n=$Ie(e,function(r){return JZ(r.domain,Number.isFinite)});return n||Zd(e)},fJ=function(e){var n=B.useContext(z2);n==null&&mm();var r=n[e];return r==null&&mm(),r},JIe=function(){var e=B.useContext(aJ);return e},QIe=function(){return B.useContext(oJ)},H2=function(){return B.useContext(cJ)},V2=function(){return B.useContext(lJ)};function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function eNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hJ(r.key),r)}}function nNe(t,e,n){return e&&tNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rNe(t,e,n){return e=wA(e),iNe(t,dJ()?Reflect.construct(e,n||[],wA(t).constructor):e.apply(t,n))}function iNe(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aNe(t)}function aNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!t})()}function wA(t){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wA(t)}function oNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rL(t,e)}function rL(t,e){return rL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rL(t,e)}function YG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YG(Object(n),!0).forEach(function(r){G2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G2(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=sNe(t,"string");return uy(e)=="symbol"?e:e+""}function sNe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lNe(t,e){return dNe(t)||fNe(t,e)||uNe(t,e)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(t,e){if(t){if(typeof t=="string")return ZG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZG(t,e)}}function ZG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dNe(t){if(Array.isArray(t))return t}function iL(){return iL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iL.apply(this,arguments)}var hNe=function(e,n){var r;return he.isValidElement(e)?r=he.cloneElement(e,n):An(e)?r=e(n):r=he.createElement("line",iL({},n,{className:"recharts-reference-line-line"})),r},pNe=function(e,n,r,i,a,o,s,l,u){var d=a.x,h=a.y,g=a.width,y=a.height;if(r){var b=u.y,_=e.y.apply(b,{position:o});if(Au(u,"discard")&&!e.y.isInRange(_))return null;var x=[{x:d+g,y:_},{x:d,y:_}];return l==="left"?x.reverse():x}if(n){var w=u.x,E=e.x.apply(w,{position:o});if(Au(u,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:h+y},{x:E,y:h}];return s==="top"?A.reverse():A}if(i){var C=u.segment,T=C.map(function(O){return e.apply(O,{position:o})});return Au(u,"discard")&&oIe(T,function(O){return!e.isInRange(O)})?null:T}return null};function mNe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=YIe(),d=uJ(i),h=fJ(a),g=JIe();if(!u||!g)return null;Sc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=F2({x:d.scale,y:h.scale}),b=Sa(e),_=Sa(n),x=r&&r.length===2,w=pNe(y,b,_,x,g,t.position,d.orientation,h.orientation,t);if(!w)return null;var E=lNe(w,2),A=E[0],C=A.x,T=A.y,O=E[1],N=O.x,R=O.y,k=Au(t,"hidden")?"url(#".concat(u,")"):void 0,z=KG(KG({clipPath:k},En(t,!0)),{},{x1:C,y1:T,x2:N,y2:R});return he.createElement(Br,{className:Vn("recharts-reference-line",s)},hNe(o,z),ka.renderCallByParent(t,UIe({x1:C,y1:T,x2:N,y2:R})))}var $2=(function(t){function e(){return eNe(this,e),rNe(this,e,arguments)}return oNe(e,t),nNe(e,[{key:"render",value:function(){return he.createElement(mNe,this.props)}}])})(he.Component);G2($2,"displayName","ReferenceLine");G2($2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aL(){return aL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aL.apply(this,arguments)}function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function JG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JG(Object(n),!0).forEach(function(r){EC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mJ(r.key),r)}}function yNe(t,e,n){return e&&vNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bNe(t,e,n){return e=MA(e),xNe(t,pJ()?Reflect.construct(e,n||[],MA(t).constructor):e.apply(t,n))}function xNe(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ne(t)}function _Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!t})()}function MA(t){return MA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MA(t)}function SNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oL(t,e)}function oL(t,e){return oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oL(t,e)}function EC(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=wNe(t,"string");return fy(e)=="symbol"?e:e+""}function wNe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MNe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=F2({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Au(e,"discard")&&!o.isInRange(s)?null:s},AC=(function(t){function e(){return gNe(this,e),bNe(this,e,arguments)}return SNe(e,t),yNe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Sa(i),d=Sa(a);if(Sc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=MNe(this.props);if(!h)return null;var g=h.x,y=h.y,b=this.props,_=b.shape,x=b.className,w=Au(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=QG(QG({clipPath:w},En(this.props,!0)),{},{cx:g,cy:y});return he.createElement(Br,{className:Vn("recharts-reference-dot",x)},e.renderDot(_,E),ka.renderCallByParent(this.props,{x:g-o,y:y-o,width:2*o,height:2*o}))}}])})(he.Component);EC(AC,"displayName","ReferenceDot");EC(AC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});EC(AC,"renderDot",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):An(t)?n=t(e):n=he.createElement(B2,aL({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function sL(){return sL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sL.apply(this,arguments)}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function e7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(n),!0).forEach(function(r){TC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ENe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ANe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vJ(r.key),r)}}function TNe(t,e,n){return e&&ANe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CNe(t,e,n){return e=EA(e),RNe(t,gJ()?Reflect.construct(e,n||[],EA(t).constructor):e.apply(t,n))}function RNe(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(t)}function ONe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!t})()}function EA(t){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EA(t)}function PNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lL(t,e)}function lL(t,e){return lL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lL(t,e)}function TC(t,e,n){return e=vJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vJ(t){var e=DNe(t,"string");return dy(e)=="symbol"?e:e+""}function DNe(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var INe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var g=F2({x:d.scale,y:h.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(l,{position:"start"}):g.y.rangeMin},b={x:n?g.x.apply(s,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return Au(a,"discard")&&(!g.isInRange(y)||!g.isInRange(b))?null:rJ(y,b)},CC=(function(t){function e(){return ENe(this,e),CNe(this,e,arguments)}return PNe(e,t),TNe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;Sc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Sa(i),g=Sa(a),y=Sa(o),b=Sa(s),_=this.props.shape;if(!h&&!g&&!y&&!b&&!_)return null;var x=INe(h,g,y,b,this.props);if(!x&&!_)return null;var w=Au(this.props,"hidden")?"url(#".concat(d,")"):void 0;return he.createElement(Br,{className:Vn("recharts-reference-area",l)},e.renderRect(_,t7(t7({clipPath:w},En(this.props,!0)),x)),ka.renderCallByParent(this.props,x))}}])})(he.Component);TC(CC,"displayName","ReferenceArea");TC(CC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});TC(CC,"renderRect",function(t,e){var n;return he.isValidElement(t)?n=he.cloneElement(t,e):An(t)?n=t(e):n=he.createElement(U2,sL({},e,{className:"recharts-reference-area-rect"})),n});function yJ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function NNe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FIe(r,n)}function kNe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function AA(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function LNe(t,e){return yJ(t,e+1)}function UNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,h=function(){var b=r?.[l];if(b===void 0)return{v:yJ(r,u)};var _=l,x,w=function(){return x===void 0&&(x=n(b,_)),x},E=b.coordinate,A=l===0||AA(t,E,w,d,s);A||(l=0,d=o,u+=1),A&&(d=E+t*(w()/2+i),l+=u)},g;u<=a.length;)if(g=h(),g)return g.v;return[]}function S_(t){"@babel/helpers - typeof";return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(t)}function n7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(n),!0).forEach(function(r){BNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BNe(t,e,n){return e=FNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FNe(t){var e=jNe(t,"string");return S_(e)=="symbol"?e:e+""}function jNe(t,e){if(S_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(g){var y=a[g],b,_=function(){return b===void 0&&(b=n(y,g)),b};if(g===o-1){var x=t*(y.coordinate+t*_()/2-l);a[g]=y=_o(_o({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else a[g]=y=_o(_o({},y),{},{tickCoord:y.coordinate});var w=AA(t,y.tickCoord,_,s,l);w&&(l=y.tickCoord-t*(_()/2+i),a[g]=_o(_o({},y),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function HNe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var d=r[s-1],h=n(d,s-1),g=t*(d.coordinate+t*h/2-u);o[s-1]=d=_o(_o({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var y=AA(t,d.tickCoord,function(){return h},l,u);y&&(u=d.tickCoord-t*(h/2+i),o[s-1]=_o(_o({},d),{},{isShow:!0}))}for(var b=a?s-1:s,_=function(E){var A=o[E],C,T=function(){return C===void 0&&(C=n(A,E)),C};if(E===0){var O=t*(A.coordinate-t*T()/2-l);o[E]=A=_o(_o({},A),{},{tickCoord:O<0?A.coordinate-O*t:A.coordinate})}else o[E]=A=_o(_o({},A),{},{tickCoord:A.coordinate});var N=AA(t,A.tickCoord,T,l,u);N&&(l=A.tickCoord+t*(T()/2+i),o[E]=_o(_o({},A),{},{isShow:!0}))},x=0;x<b;x++)_(x);return o}function W2(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Ft(l)||Uy.isSsr)return LNe(i,typeof l=="number"&&Ft(l)?l:0);var g=[],y=s==="top"||s==="bottom"?"width":"height",b=d&&y==="width"?ux(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(A,C){var T=An(u)?u(A.value,C):A.value;return y==="width"?NNe(ux(T,{fontSize:e,letterSpacing:n}),b,h):ux(T,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Wo(i[1].coordinate-i[0].coordinate):1,w=kNe(a,x,y);return l==="equidistantPreserveStart"?UNe(x,w,_,i,o):(l==="preserveStart"||l==="preserveStartEnd"?g=HNe(x,w,_,i,o,l==="preserveStartEnd"):g=zNe(x,w,_,i,o),g.filter(function(E){return E.isShow}))}var VNe=["viewBox"],GNe=["viewBox"],$Ne=["ticks"];function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){q2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HI(t,e){if(t==null)return{};var n=WNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xJ(r.key),r)}}function XNe(t,e,n){return e&&i7(t.prototype,e),n&&i7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YNe(t,e,n){return e=TA(e),KNe(t,bJ()?Reflect.construct(e,n||[],TA(t).constructor):e.apply(t,n))}function KNe(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZNe(t)}function ZNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!t})()}function TA(t){return TA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TA(t)}function JNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cL(t,e)}function cL(t,e){return cL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cL(t,e)}function q2(t,e,n){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=QNe(t,"string");return hy(e)=="symbol"?e:e+""}function QNe(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=(function(t){function e(n){var r;return qNe(this,e),r=YNe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return JNe(e,t),XNe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=HI(r,VNe),s=this.props,l=s.viewBox,u=HI(s,GNe);return!Iv(a,l)||!Iv(o,u)||!Iv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,g=i.tickMargin,y,b,_,x,w,E,A=h?-1:1,C=r.tickSize||d,T=Ft(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=b=r.coordinate,x=o+ +!h*l,_=x-A*C,E=_-A*g,w=T;break;case"left":_=x=r.coordinate,b=a+ +!h*s,y=b-A*C,w=y-A*g,E=T;break;case"right":_=x=r.coordinate,b=a+ +h*s,y=b+A*C,w=y+A*g,E=T;break;default:y=b=r.coordinate,x=o+ +h*l,_=x+A*C,E=_+A*g,w=T;break}return{line:{x1:y,y1:_,x2:b,y2:x},tick:{x:w,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,h=ba(ba(ba({},En(this.props,!1)),En(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!u||l==="bottom"&&u);h=ba(ba({},h),{},{x1:i,y1:a+g*s,x2:i+o,y2:a+g*s})}else{var y=+(l==="left"&&!u||l==="right"&&u);h=ba(ba({},h),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+s})}return he.createElement("line",wv({},h,{className:Vn("recharts-cartesian-axis-line",qs(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,h=s.tickFormatter,g=s.unit,y=W2(ba(ba({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),x=En(this.props,!1),w=En(d,!1),E=ba(ba({},x),{},{fill:"none"},En(l,!1)),A=y.map(function(C,T){var O=o.getTickLineCoord(C),N=O.line,R=O.tick,k=ba(ba(ba(ba({textAnchor:b,verticalAnchor:_},x),{},{stroke:"none",fill:u},w),R),{},{index:T,payload:C,visibleTicksCount:y.length,tickFormatter:h});return he.createElement(Br,wv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},dm(o.props,C,T)),l&&he.createElement("line",wv({},E,N,{className:Vn("recharts-cartesian-axis-tick-line",qs(l,"className"))})),d&&e.renderTickItem(d,k,"".concat(An(h)?h(C.value,T):C.value).concat(g||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,g=h.ticks,y=HI(h,$Ne),b=g;return An(l)&&(b=g&&g.length>0?l(this.props):l(y)),o<=0||s<=0||!b||!b.length?null:he.createElement(Br,{className:Vn("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),ka.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Vn(i.className,"recharts-cartesian-axis-tick-value");return he.isValidElement(r)?o=he.cloneElement(r,ba(ba({},i),{},{className:s})):An(r)?o=r(ba(ba({},i),{},{className:s})):o=he.createElement(hm,wv({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(B.Component);q2(zy,"displayName","CartesianAxis");q2(zy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eke=["x1","y1","x2","y2","key"],tke=["offset"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e,n){return e=rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=ike(t,"string");return gm(e)=="symbol"?e:e+""}function ike(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function o7(t,e){if(t==null)return{};var n=ake(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ake(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return he.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _J(t,e){var n;if(he.isValidElement(t))n=he.cloneElement(t,e);else if(An(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=o7(e,eke),u=En(l,!1);u.offset;var d=o7(u,tke);n=he.createElement("line",$p({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function ske(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=wo(wo({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _J(i,u)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=wo(wo({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _J(i,u)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function cke(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==d[0]&&d.unshift(0);var h=d.map(function(g,y){var b=!d[y+1],_=b?i+o-g:d[y+1]-g;if(_<=0)return null;var x=y%e.length;return he.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:_,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function uke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==d[0]&&d.unshift(0);var h=d.map(function(g,y){var b=!d[y+1],_=b?a+s-g:d[y+1]-g;if(_<=0)return null;var x=y%r.length;return he.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:_,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var fke=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return SZ(W2(wo(wo(wo({},zy.defaultProps),r),{},{ticks:Df(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},dke=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return SZ(W2(wo(wo(wo({},zy.defaultProps),r),{},{ticks:Df(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},fv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SJ(t){var e,n,r,i,a,o,s=H2(),l=V2(),u=QIe(),d=wo(wo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:fv.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:fv.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:fv.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:fv.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:fv.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:fv.verticalFill,x:Ft(t.x)?t.x:u.left,y:Ft(t.y)?t.y:u.top,width:Ft(t.width)?t.width:u.width,height:Ft(t.height)?t.height:u.height}),h=d.x,g=d.y,y=d.width,b=d.height,_=d.syncWithTicks,x=d.horizontalValues,w=d.verticalValues,E=KIe(),A=ZIe();if(!Ft(y)||y<=0||!Ft(b)||b<=0||!Ft(h)||h!==+h||!Ft(g)||g!==+g)return null;var C=d.verticalCoordinatesGenerator||fke,T=d.horizontalCoordinatesGenerator||dke,O=d.horizontalPoints,N=d.verticalPoints;if((!O||!O.length)&&An(T)){var R=x&&x.length,k=T({yAxis:A?wo(wo({},A),{},{ticks:R?x:A.ticks}):void 0,width:s,height:l,offset:u},R?!0:_);Sc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gm(k),"]")),Array.isArray(k)&&(O=k)}if((!N||!N.length)&&An(C)){var z=w&&w.length,F=C({xAxis:E?wo(wo({},E),{},{ticks:z?w:E.ticks}):void 0,width:s,height:l,offset:u},z?!0:_);Sc(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gm(F),"]")),Array.isArray(F)&&(N=F)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(oke,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),he.createElement(ske,$p({},d,{offset:u,horizontalPoints:O,xAxis:E,yAxis:A})),he.createElement(lke,$p({},d,{offset:u,verticalPoints:N,xAxis:E,yAxis:A})),he.createElement(cke,$p({},d,{horizontalPoints:O})),he.createElement(uke,$p({},d,{verticalPoints:N})))}SJ.displayName="CartesianGrid";function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function hke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EJ(r.key),r)}}function mke(t,e,n){return e&&pke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,n){return e=CA(e),vke(t,wJ()?Reflect.construct(e,n||[],CA(t).constructor):e.apply(t,n))}function vke(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(t)}function yke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!t})()}function CA(t){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CA(t)}function bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uL(t,e)}function uL(t,e){return uL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uL(t,e)}function MJ(t,e,n){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EJ(t){var e=xke(t,"string");return py(e)=="symbol"?e:e+""}function xke(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fL(){return fL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fL.apply(this,arguments)}function _ke(t){var e=t.xAxisId,n=H2(),r=V2(),i=uJ(e);return i==null?null:B.createElement(zy,fL({},i,{className:Vn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Df(o,!0)}}))}var RC=(function(t){function e(){return hke(this,e),gke(this,e,arguments)}return bke(e,t),mke(e,[{key:"render",value:function(){return B.createElement(_ke,this.props)}}])})(B.Component);MJ(RC,"displayName","XAxis");MJ(RC,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CJ(r.key),r)}}function Mke(t,e,n){return e&&wke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eke(t,e,n){return e=RA(e),Ake(t,AJ()?Reflect.construct(e,n||[],RA(t).constructor):e.apply(t,n))}function Ake(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(t)}function Tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!t})()}function RA(t){return RA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RA(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dL(t,e)}function dL(t,e){return dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dL(t,e)}function TJ(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=Rke(t,"string");return my(e)=="symbol"?e:e+""}function Rke(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hL(){return hL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hL.apply(this,arguments)}var Oke=function(e){var n=e.yAxisId,r=H2(),i=V2(),a=fJ(n);return a==null?null:B.createElement(zy,hL({},a,{className:Vn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Df(s,!0)}}))},OC=(function(t){function e(){return Ske(this,e),Eke(this,e,arguments)}return Cke(e,t),Mke(e,[{key:"render",value:function(){return B.createElement(Oke,this.props)}}])})(B.Component);TJ(OC,"displayName","YAxis");TJ(OC,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function s7(t){return Nke(t)||Ike(t)||Dke(t)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(t,e){if(t){if(typeof t=="string")return pL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(t,e)}}function Ike(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nke(t){if(Array.isArray(t))return pL(t)}function pL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mL=function(e,n,r,i,a){var o=Ll(e,$2),s=Ll(e,AC),l=[].concat(s7(o),s7(s)),u=Ll(e,CC),d="".concat(i,"Id"),h=i[0],g=n;if(l.length&&(g=l.reduce(function(_,x){if(x.props[d]===r&&Au(x.props,"extendDomain")&&Ft(x.props[h])){var w=x.props[h];return[Math.min(_[0],w),Math.max(_[1],w)]}return _},g)),u.length){var y="".concat(h,"1"),b="".concat(h,"2");g=u.reduce(function(_,x){if(x.props[d]===r&&Au(x.props,"extendDomain")&&Ft(x.props[y])&&Ft(x.props[b])){var w=x.props[y],E=x.props[b];return[Math.min(_[0],w,E),Math.max(_[1],w,E)]}return _},g)}return a&&a.length&&(g=a.reduce(function(_,x){return Ft(x)?[Math.min(_[0],x),Math.max(_[1],x)]:_},g)),g},VI={exports:{}},l7;function kke(){return l7||(l7=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,h||l,g),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,y=h.length,b=new Array(y);g<y;g++)b[g]=h[g].fn;return b},s.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,d,h,g,y,b){var _=n?n+u:u;if(!this._events[_])return!1;var x=this._events[_],w=arguments.length,E,A;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,g),!0;case 5:return x.fn.call(x.context,d,h,g,y),!0;case 6:return x.fn.call(x.context,d,h,g,y,b),!0}for(A=1,E=new Array(w-1);A<w;A++)E[A-1]=arguments[A];x.fn.apply(x.context,E)}else{var C=x.length,T;for(A=0;A<C;A++)switch(x[A].once&&this.removeListener(u,x[A].fn,void 0,!0),w){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,d);break;case 3:x[A].fn.call(x[A].context,d,h);break;case 4:x[A].fn.call(x[A].context,d,h,g);break;default:if(!E)for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];x[A].fn.apply(x[A].context,E)}}return!0},s.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},s.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},s.prototype.removeListener=function(u,d,h,g){var y=n?n+u:u;if(!this._events[y])return this;if(!d)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&o(this,y);else{for(var _=0,x=[],w=b.length;_<w;_++)(b[_].fn!==d||g&&!b[_].once||h&&b[_].context!==h)&&x.push(b[_]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(VI)),VI.exports}var Lke=kke();const Uke=Mr(Lke);var GI=new Uke,$I="recharts.syncMouseEvents";function w_(t){"@babel/helpers - typeof";return w_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(t)}function Bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RJ(r.key),r)}}function jke(t,e,n){return e&&Fke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WI(t,e,n){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=zke(t,"string");return w_(e)=="symbol"?e:e+""}function zke(t,e){if(w_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hke=(function(){function t(){Bke(this,t),WI(this,"activeIndex",0),WI(this,"coordinateList",[]),WI(this,"layout","horizontal")}return jke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,d=n.offset,h=d===void 0?null:d,g=n.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+l+u,g=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function Vke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Ft(r)&&Ft(i))return!0}return!1}function Gke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=si(e,n,r,i),s=si(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function $ke(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,g=si(s,l,u,h),y=si(s,l,d,h);r=g.x,i=g.y,a=y.x,o=y.y}else return OJ(e);return[{x:r,y:i},{x:a,y:o}]}function M_(t){"@babel/helpers - typeof";return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M_(t)}function c7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(n),!0).forEach(function(r){Wke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wke(t,e,n){return e=qke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qke(t){var e=Xke(t,"string");return M_(e)=="symbol"?e:e+""}function Xke(t,e){if(M_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yke(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,_=Bk;if(g==="ScatterChart")b=o,_=OPe;else if(g==="BarChart")b=Gke(h,o,l,d),_=U2;else if(h==="radial"){var x=OJ(o),w=x.cx,E=x.cy,A=x.radius,C=x.startAngle,T=x.endAngle;b={cx:w,cy:E,startAngle:C,endAngle:T,innerRadius:A,outerRadius:A},_=IZ}else b={points:$ke(h,o,l)},_=Bk;var O=fM(fM(fM(fM({stroke:"#ccc",pointerEvents:"none"},l),b),En(y,!1)),{},{payload:s,payloadIndex:u,className:Vn("recharts-tooltip-cursor",y.className)});return B.isValidElement(y)?B.cloneElement(y,O):B.createElement(_,O)}var Kke=["item"],Zke=["children","className","width","height","style","compact","title","desc"];function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function u7(t,e){return eLe(t)||Qke(t,e)||DJ(t,e)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eLe(t){if(Array.isArray(t))return t}function f7(t,e){if(t==null)return{};var n=tLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IJ(r.key),r)}}function iLe(t,e,n){return e&&rLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aLe(t,e,n){return e=OA(e),oLe(t,PJ()?Reflect.construct(e,n||[],OA(t).constructor):e.apply(t,n))}function oLe(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(t)}function sLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function OA(t){return OA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OA(t)}function lLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gL(t,e)}function gL(t,e){return gL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gL(t,e)}function vy(t){return fLe(t)||uLe(t)||DJ(t)||cLe()}function cLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return vL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(t,e)}}function uLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fLe(t){if(Array.isArray(t))return vL(t)}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(n),!0).forEach(function(r){bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bn(t,e,n){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=dLe(t,"string");return gy(e)=="symbol"?e:e+""}function dLe(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hLe={xAxis:["bottom","top"],yAxis:["left","right"]},pLe={width:"100%",height:"100%"},NJ={x:0,y:0};function dM(t){return t}var mLe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},gLe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return pt(pt(pt({},i),si(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return pt(pt(pt({},i),si(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return NJ},PC=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(vy(s),vy(u)):s},[]);return o.length>0?o:e&&e.length&&Ft(i)&&Ft(a)?e.slice(i,a+1):[]};function kJ(t){return t==="number"?[0,"auto"]:void 0}var yL=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=PC(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?s:h;g=QN(y,o.dataKey,i)}else g=h&&h[r]||s[r];return g?[].concat(vy(l),[TZ(u,g)]):l},[])},h7=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=mLe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=ZCe(o,s,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,g=yL(e,n,d,h),y=gLe(r,s,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:g,activeCoordinate:y}}return null},vLe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,g=e.stackOffset,y=_Z(d,a);return r.reduce(function(b,_){var x,w=_.type.defaultProps!==void 0?pt(pt({},_.type.defaultProps),_.props):_.props,E=w.type,A=w.dataKey,C=w.allowDataOverflow,T=w.allowDuplicatedCategory,O=w.scale,N=w.ticks,R=w.includeHidden,k=w[o];if(b[k])return b;var z=PC(e.data,{graphicalItems:i.filter(function(J){var ne,fe=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o];return fe===k}),dataStartIndex:l,dataEndIndex:u}),F=z.length,G,V,W;Vke(w.domain,C,E)&&(G=Ik(w.domain,null,C),y&&(E==="number"||O!=="auto")&&(W=dx(z,A,"category")));var K=kJ(E);if(!G||G.length===0){var H,q=(H=w.domain)!==null&&H!==void 0?H:K;if(A){if(G=dx(z,A,E),E==="category"&&y){var Z=$_e(G);T&&Z?(V=G,G=yA(0,F)):T||(G=yV(q,G,_).reduce(function(J,ne){return J.indexOf(ne)>=0?J:[].concat(vy(J),[ne])},[]))}else if(E==="category")T?G=G.filter(function(J){return J!==""&&!nr(J)}):G=yV(q,G,_).reduce(function(J,ne){return J.indexOf(ne)>=0||ne===""||nr(ne)?J:[].concat(vy(J),[ne])},[]);else if(E==="number"){var ee=nRe(z,i.filter(function(J){var ne,fe,ge=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o],ce="hide"in J.props?J.props.hide:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ge===k&&(R||!ce)}),A,a,d);ee&&(G=ee)}y&&(E==="number"||O!=="auto")&&(W=dx(z,A,"category"))}else y?G=yA(0,F):s&&s[k]&&s[k].hasStack&&E==="number"?G=g==="expand"?[0,1]:AZ(s[k].stackGroups,l,u):G=xZ(z,i.filter(function(J){var ne=o in J.props?J.props[o]:J.type.defaultProps[o],fe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ne===k&&(R||!fe)}),E,d,!0);if(E==="number")G=mL(h,G,k,a,N),q&&(G=Ik(q,G,C));else if(E==="category"&&q){var ae=q,$=G.every(function(J){return ae.indexOf(J)>=0});$&&(G=ae)}}return pt(pt({},b),{},bn({},k,pt(pt({},w),{},{axisType:a,domain:G,categoricalDomain:W,duplicateDomain:V,originalDomain:(x=w.domain)!==null&&x!==void 0?x:K,isCategorical:y,layout:d})))},{})},yLe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,h=e.children,g=PC(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=g.length,b=_Z(d,a),_=-1;return r.reduce(function(x,w){var E=w.type.defaultProps!==void 0?pt(pt({},w.type.defaultProps),w.props):w.props,A=E[o],C=kJ("number");if(!x[A]){_++;var T;return b?T=yA(0,y):s&&s[A]&&s[A].hasStack?(T=AZ(s[A].stackGroups,l,u),T=mL(h,T,A,a)):(T=Ik(C,xZ(g,r.filter(function(O){var N,R,k=o in O.props?O.props[o]:(N=O.type.defaultProps)===null||N===void 0?void 0:N[o],z="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return k===A&&!z}),"number",d),i.defaultProps.allowDataOverflow),T=mL(h,T,A,a)),pt(pt({},x),{},bn({},A,pt(pt({axisType:a},i.defaultProps),{},{hide:!0,orientation:qs(hLe,"".concat(a,".").concat(_%2),null),domain:T,originalDomain:C,isCategorical:b,layout:d})))}return x},{})},bLe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),g=Ll(d,a),y={};return g&&g.length?y=vLe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(y=yLe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),y},xLe=function(e){var n=Zd(e),r=Df(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:u2(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:aA(n,r)}},p7=function(e){var n=e.children,r=e.defaultShowTooltip,i=Us(n,ly),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},_Le=function(e){return!e||!e.length?!1:e.some(function(n){var r=Nf(n&&n.type);return r&&r.indexOf("Bar")>=0})},m7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SLe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,h=r.children,g=r.margin||{},y=Us(h,ly),b=Us(h,Nv),_=Object.keys(l).reduce(function(T,O){var N=l[O],R=N.orientation;return!N.mirror&&!N.hide?pt(pt({},T),{},bn({},R,T[R]+N.width)):T},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(T,O){var N=o[O],R=N.orientation;return!N.mirror&&!N.hide?pt(pt({},T),{},bn({},R,qs(T,"".concat(R))+N.height)):T},{top:g.top||0,bottom:g.bottom||0}),w=pt(pt({},x),_),E=w.bottom;y&&(w.bottom+=y.props.height||ly.defaultProps.height),b&&n&&(w=eRe(w,i,r,n));var A=u-w.left-w.right,C=d-w.top-w.bottom;return pt(pt({brushBottom:E},w),{},{width:Math.max(A,0),height:Math.max(C,0)})},wLe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},LJ=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,g=function(w,E){var A=E.graphicalItems,C=E.stackGroups,T=E.offset,O=E.updateId,N=E.dataStartIndex,R=E.dataEndIndex,k=w.barSize,z=w.layout,F=w.barGap,G=w.barCategoryGap,V=w.maxBarSize,W=m7(z),K=W.numericAxisName,H=W.cateAxisName,q=_Le(A),Z=[];return A.forEach(function(ee,ae){var $=PC(w.data,{graphicalItems:[ee],dataStartIndex:N,dataEndIndex:R}),J=ee.type.defaultProps!==void 0?pt(pt({},ee.type.defaultProps),ee.props):ee.props,ne=J.dataKey,fe=J.maxBarSize,ge=J["".concat(K,"Id")],ce=J["".concat(H,"Id")],le={},pe=l.reduce(function(Be,He){var re=E["".concat(He.axisType,"Map")],X=J["".concat(He.axisType,"Id")];re&&re[X]||He.axisType==="zAxis"||mm();var ye=re[X];return pt(pt({},Be),{},bn(bn({},He.axisType,ye),"".concat(He.axisType,"Ticks"),Df(ye)))},le),xe=pe[H],Oe=pe["".concat(H,"Ticks")],_e=C&&C[ge]&&C[ge].hasStack&&fRe(ee,C[ge].stackGroups),ve=Nf(ee.type).indexOf("Bar")>=0,Qe=aA(xe,Oe),Ee=[],Fe=q&&JCe({barSize:k,stackGroups:C,totalSize:wLe(pe,H)});if(ve){var Ne,Ge,ie=nr(fe)?V:fe,et=(Ne=(Ge=aA(xe,Oe,!0))!==null&&Ge!==void 0?Ge:ie)!==null&&Ne!==void 0?Ne:0;Ee=QCe({barGap:F,barCategoryGap:G,bandSize:et!==Qe?et:Qe,sizeList:Fe[ce],maxBarSize:ie}),et!==Qe&&(Ee=Ee.map(function(Be){return pt(pt({},Be),{},{position:pt(pt({},Be.position),{},{offset:Be.position.offset-et/2})})}))}var Ke=ee&&ee.type&&ee.type.getComposedData;Ke&&Z.push({props:pt(pt({},Ke(pt(pt({},pe),{},{displayedData:$,props:w,dataKey:ne,item:ee,bandSize:Qe,barPosition:Ee,offset:T,stackedData:_e,layout:z,dataStartIndex:N,dataEndIndex:R}))),{},bn(bn(bn({key:ee.key||"item-".concat(ae)},K,pe[K]),H,pe[H]),"animationId",O)),childIndex:r1e(ee,w.children),item:ee})}),Z},y=function(w,E){var A=w.props,C=w.dataStartIndex,T=w.dataEndIndex,O=w.updateId;if(!Dz({props:A}))return null;var N=A.children,R=A.layout,k=A.stackOffset,z=A.data,F=A.reverseStackOrder,G=m7(R),V=G.numericAxisName,W=G.cateAxisName,K=Ll(N,r),H=cRe(z,K,"".concat(V,"Id"),"".concat(W,"Id"),k,F),q=l.reduce(function(J,ne){var fe="".concat(ne.axisType,"Map");return pt(pt({},J),{},bn({},fe,bLe(A,pt(pt({},ne),{},{graphicalItems:K,stackGroups:ne.axisType===V&&H,dataStartIndex:C,dataEndIndex:T}))))},{}),Z=SLe(pt(pt({},q),{},{props:A,graphicalItems:K}),E?.legendBBox);Object.keys(q).forEach(function(J){q[J]=d(A,q[J],Z,J.replace("Map",""),n)});var ee=q["".concat(W,"Map")],ae=xLe(ee),$=g(A,pt(pt({},q),{},{dataStartIndex:C,dataEndIndex:T,updateId:O,graphicalItems:K,stackGroups:H,offset:Z}));return pt(pt({formattedGraphicalItems:$,graphicalItems:K,offset:Z,stackGroups:H},ae),q)},b=(function(x){function w(E){var A,C,T;return nLe(this,w),T=aLe(this,w,[E]),bn(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bn(T,"accessibilityManager",new Hke),bn(T,"handleLegendBBoxUpdate",function(O){if(O){var N=T.state,R=N.dataStartIndex,k=N.dataEndIndex,z=N.updateId;T.setState(pt({legendBBox:O},y({props:T.props,dataStartIndex:R,dataEndIndex:k,updateId:z},pt(pt({},T.state),{},{legendBBox:O}))))}}),bn(T,"handleReceiveSyncEvent",function(O,N,R){if(T.props.syncId===O){if(R===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(N)}}),bn(T,"handleBrushChange",function(O){var N=O.startIndex,R=O.endIndex;if(N!==T.state.dataStartIndex||R!==T.state.dataEndIndex){var k=T.state.updateId;T.setState(function(){return pt({dataStartIndex:N,dataEndIndex:R},y({props:T.props,dataStartIndex:N,dataEndIndex:R,updateId:k},T.state))}),T.triggerSyncEvent({dataStartIndex:N,dataEndIndex:R})}}),bn(T,"handleMouseEnter",function(O){var N=T.getMouseInfo(O);if(N){var R=pt(pt({},N),{},{isTooltipActive:!0});T.setState(R),T.triggerSyncEvent(R);var k=T.props.onMouseEnter;An(k)&&k(R,O)}}),bn(T,"triggeredAfterMouseMove",function(O){var N=T.getMouseInfo(O),R=N?pt(pt({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(R),T.triggerSyncEvent(R);var k=T.props.onMouseMove;An(k)&&k(R,O)}),bn(T,"handleItemMouseEnter",function(O){T.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),bn(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),bn(T,"handleMouseMove",function(O){O.persist(),T.throttleTriggeredAfterMouseMove(O)}),bn(T,"handleMouseLeave",function(O){T.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};T.setState(N),T.triggerSyncEvent(N);var R=T.props.onMouseLeave;An(R)&&R(N,O)}),bn(T,"handleOuterEvent",function(O){var N=n1e(O),R=qs(T.props,"".concat(N));if(N&&An(R)){var k,z;/.*touch.*/i.test(N)?z=T.getMouseInfo(O.changedTouches[0]):z=T.getMouseInfo(O),R((k=z)!==null&&k!==void 0?k:{},O)}}),bn(T,"handleClick",function(O){var N=T.getMouseInfo(O);if(N){var R=pt(pt({},N),{},{isTooltipActive:!0});T.setState(R),T.triggerSyncEvent(R);var k=T.props.onClick;An(k)&&k(R,O)}}),bn(T,"handleMouseDown",function(O){var N=T.props.onMouseDown;if(An(N)){var R=T.getMouseInfo(O);N(R,O)}}),bn(T,"handleMouseUp",function(O){var N=T.props.onMouseUp;if(An(N)){var R=T.getMouseInfo(O);N(R,O)}}),bn(T,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),bn(T,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseDown(O.changedTouches[0])}),bn(T,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseUp(O.changedTouches[0])}),bn(T,"handleDoubleClick",function(O){var N=T.props.onDoubleClick;if(An(N)){var R=T.getMouseInfo(O);N(R,O)}}),bn(T,"handleContextMenu",function(O){var N=T.props.onContextMenu;if(An(N)){var R=T.getMouseInfo(O);N(R,O)}}),bn(T,"triggerSyncEvent",function(O){T.props.syncId!==void 0&&GI.emit($I,T.props.syncId,O,T.eventEmitterSymbol)}),bn(T,"applySyncEvent",function(O){var N=T.props,R=N.layout,k=N.syncMethod,z=T.state.updateId,F=O.dataStartIndex,G=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)T.setState(pt({dataStartIndex:F,dataEndIndex:G},y({props:T.props,dataStartIndex:F,dataEndIndex:G,updateId:z},T.state)));else if(O.activeTooltipIndex!==void 0){var V=O.chartX,W=O.chartY,K=O.activeTooltipIndex,H=T.state,q=H.offset,Z=H.tooltipTicks;if(!q)return;if(typeof k=="function")K=k(Z,O);else if(k==="value"){K=-1;for(var ee=0;ee<Z.length;ee++)if(Z[ee].value===O.activeLabel){K=ee;break}}var ae=pt(pt({},q),{},{x:q.left,y:q.top}),$=Math.min(V,ae.x+ae.width),J=Math.min(W,ae.y+ae.height),ne=Z[K]&&Z[K].value,fe=yL(T.state,T.props.data,K),ge=Z[K]?{x:R==="horizontal"?Z[K].coordinate:$,y:R==="horizontal"?J:Z[K].coordinate}:NJ;T.setState(pt(pt({},O),{},{activeLabel:ne,activeCoordinate:ge,activePayload:fe,activeTooltipIndex:K}))}else T.setState(O)}),bn(T,"renderCursor",function(O){var N,R=T.state,k=R.isTooltipActive,z=R.activeCoordinate,F=R.activePayload,G=R.offset,V=R.activeTooltipIndex,W=R.tooltipAxisBandSize,K=T.getTooltipEventType(),H=(N=O.props.active)!==null&&N!==void 0?N:k,q=T.props.layout,Z=O.key||"_recharts-cursor";return he.createElement(Yke,{key:Z,activeCoordinate:z,activePayload:F,activeTooltipIndex:V,chartName:n,element:O,isActive:H,layout:q,offset:G,tooltipAxisBandSize:W,tooltipEventType:K})}),bn(T,"renderPolarAxis",function(O,N,R){var k=qs(O,"type.axisType"),z=qs(T.state,"".concat(k,"Map")),F=O.type.defaultProps,G=F!==void 0?pt(pt({},F),O.props):O.props,V=z&&z[G["".concat(k,"Id")]];return B.cloneElement(O,pt(pt({},V),{},{className:Vn(k,V.className),key:O.key||"".concat(N,"-").concat(R),ticks:Df(V,!0)}))}),bn(T,"renderPolarGrid",function(O){var N=O.props,R=N.radialLines,k=N.polarAngles,z=N.polarRadius,F=T.state,G=F.radiusAxisMap,V=F.angleAxisMap,W=Zd(G),K=Zd(V),H=K.cx,q=K.cy,Z=K.innerRadius,ee=K.outerRadius;return B.cloneElement(O,{polarAngles:Array.isArray(k)?k:Df(K,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(z)?z:Df(W,!0).map(function(ae){return ae.coordinate}),cx:H,cy:q,innerRadius:Z,outerRadius:ee,key:O.key||"polar-grid",radialLines:R})}),bn(T,"renderLegend",function(){var O=T.state.formattedGraphicalItems,N=T.props,R=N.children,k=N.width,z=N.height,F=T.props.margin||{},G=k-(F.left||0)-(F.right||0),V=yZ({children:R,formattedGraphicalItems:O,legendWidth:G,legendContent:u});if(!V)return null;var W=V.item,K=f7(V,Kke);return B.cloneElement(W,pt(pt({},K),{},{chartWidth:k,chartHeight:z,margin:F,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),bn(T,"renderTooltip",function(){var O,N=T.props,R=N.children,k=N.accessibilityLayer,z=Us(R,gc);if(!z)return null;var F=T.state,G=F.isTooltipActive,V=F.activeCoordinate,W=F.activePayload,K=F.activeLabel,H=F.offset,q=(O=z.props.active)!==null&&O!==void 0?O:G;return B.cloneElement(z,{viewBox:pt(pt({},H),{},{x:H.left,y:H.top}),active:q,label:K,payload:q?W:[],coordinate:V,accessibilityLayer:k})}),bn(T,"renderBrush",function(O){var N=T.props,R=N.margin,k=N.data,z=T.state,F=z.offset,G=z.dataStartIndex,V=z.dataEndIndex,W=z.updateId;return B.cloneElement(O,{key:O.key||"_recharts-brush",onChange:sM(T.handleBrushChange,O.props.onChange),data:k,x:Ft(O.props.x)?O.props.x:F.left,y:Ft(O.props.y)?O.props.y:F.top+F.height+F.brushBottom-(R.bottom||0),width:Ft(O.props.width)?O.props.width:F.width,startIndex:G,endIndex:V,updateId:"brush-".concat(W)})}),bn(T,"renderReferenceElement",function(O,N,R){if(!O)return null;var k=T,z=k.clipPathId,F=T.state,G=F.xAxisMap,V=F.yAxisMap,W=F.offset,K=O.type.defaultProps||{},H=O.props,q=H.xAxisId,Z=q===void 0?K.xAxisId:q,ee=H.yAxisId,ae=ee===void 0?K.yAxisId:ee;return B.cloneElement(O,{key:O.key||"".concat(N,"-").concat(R),xAxis:G[Z],yAxis:V[ae],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:z})}),bn(T,"renderActivePoints",function(O){var N=O.item,R=O.activePoint,k=O.basePoint,z=O.childIndex,F=O.isRange,G=[],V=N.props.key,W=N.item.type.defaultProps!==void 0?pt(pt({},N.item.type.defaultProps),N.item.props):N.item.props,K=W.activeDot,H=W.dataKey,q=pt(pt({index:z,dataKey:H,cx:R.x,cy:R.y,r:4,fill:L2(N.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},En(K,!1)),kE(K));return G.push(w.renderActiveDot(K,q,"".concat(V,"-activePoint-").concat(z))),k?G.push(w.renderActiveDot(K,pt(pt({},q),{},{cx:k.x,cy:k.y}),"".concat(V,"-basePoint-").concat(z))):F&&G.push(null),G}),bn(T,"renderGraphicChild",function(O,N,R){var k=T.filterFormatItem(O,N,R);if(!k)return null;var z=T.getTooltipEventType(),F=T.state,G=F.isTooltipActive,V=F.tooltipAxis,W=F.activeTooltipIndex,K=F.activeLabel,H=T.props.children,q=Us(H,gc),Z=k.props,ee=Z.points,ae=Z.isRange,$=Z.baseLine,J=k.item.type.defaultProps!==void 0?pt(pt({},k.item.type.defaultProps),k.item.props):k.item.props,ne=J.activeDot,fe=J.hide,ge=J.activeBar,ce=J.activeShape,le=!!(!fe&&G&&q&&(ne||ge||ce)),pe={};z!=="axis"&&q&&q.props.trigger==="click"?pe={onClick:sM(T.handleItemMouseEnter,O.props.onClick)}:z!=="axis"&&(pe={onMouseLeave:sM(T.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:sM(T.handleItemMouseEnter,O.props.onMouseEnter)});var xe=B.cloneElement(O,pt(pt({},k.props),pe));function Oe(He){return typeof V.dataKey=="function"?V.dataKey(He.payload):null}if(le)if(W>=0){var _e,ve;if(V.dataKey&&!V.allowDuplicatedCategory){var Qe=typeof V.dataKey=="function"?Oe:"payload.".concat(V.dataKey.toString());_e=QN(ee,Qe,K),ve=ae&&$&&QN($,Qe,K)}else _e=ee?.[W],ve=ae&&$&&$[W];if(ce||ge){var Ee=O.props.activeIndex!==void 0?O.props.activeIndex:W;return[B.cloneElement(O,pt(pt(pt({},k.props),pe),{},{activeIndex:Ee})),null,null]}if(!nr(_e))return[xe].concat(vy(T.renderActivePoints({item:k,activePoint:_e,basePoint:ve,childIndex:W,isRange:ae})))}else{var Fe,Ne=(Fe=T.getItemByXY(T.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:xe},Ge=Ne.graphicalItem,ie=Ge.item,et=ie===void 0?O:ie,Ke=Ge.childIndex,Be=pt(pt(pt({},k.props),pe),{},{activeIndex:Ke});return[B.cloneElement(et,Be),null,null]}return ae?[xe,null,null]:[xe,null]}),bn(T,"renderCustomized",function(O,N,R){return B.cloneElement(O,pt(pt({key:"recharts-customized-".concat(R)},T.props),T.state))}),bn(T,"renderMap",{CartesianGrid:{handler:dM,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:dM},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:dM},YAxis:{handler:dM},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((A=E.id)!==null&&A!==void 0?A:K_("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=vK(T.triggeredAfterMouseMove,(C=E.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return lLe(w,x),iLe(w,[{key:"componentDidMount",value:function(){var A,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,C=A.children,T=A.data,O=A.height,N=A.layout,R=Us(C,gc);if(R){var k=R.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,F=yL(this.state,T,k,z),G=this.state.tooltipTicks[k].coordinate,V=(this.state.offset.top+O)/2,W=N==="horizontal",K=W?{x:G,y:V}:{y:G,x:V},H=this.state.formattedGraphicalItems.find(function(Z){var ee=Z.item;return ee.type.name==="Scatter"});H&&(K=pt(pt({},K),H.props.points[k].tooltipPosition),F=H.props.points[k].tooltipPayload);var q={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:z,activePayload:F,activeCoordinate:K};this.setState(q),this.renderCursor(R),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var T,O;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(A){tk([Us(A.children,gc)],[Us(this.props.children,gc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Us(this.props.children,gc);if(A&&typeof A.props.shared=="boolean"){var C=A.props.shared?"axis":"item";return s.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),O=VMe(T),N={chartX:Math.round(A.pageX-O.left),chartY:Math.round(A.pageY-O.top)},R=T.width/C.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,R);if(!k)return null;var z=this.state,F=z.xAxisMap,G=z.yAxisMap,V=this.getTooltipEventType(),W=h7(this.state,this.props.data,this.props.layout,k);if(V!=="axis"&&F&&G){var K=Zd(F).scale,H=Zd(G).scale,q=K&&K.invert?K.invert(N.chartX):null,Z=H&&H.invert?H.invert(N.chartY):null;return pt(pt({},N),{},{xValue:q,yValue:Z},W)}return W?pt(pt({},N),W):null}},{key:"inRange",value:function(A,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,N=A/T,R=C/T;if(O==="horizontal"||O==="vertical"){var k=this.state.offset,z=N>=k.left&&N<=k.left+k.width&&R>=k.top&&R<=k.top+k.height;return z?{x:N,y:R}:null}var F=this.state,G=F.angleAxisMap,V=F.radiusAxisMap;if(G&&V){var W=Zd(G);return _V({x:N,y:R},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,C=this.getTooltipEventType(),T=Us(A,gc),O={};T&&C==="axis"&&(T.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=kE(this.props,this.handleOuterEvent);return pt(pt({},N),O)}},{key:"addListener",value:function(){GI.on($I,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){GI.removeListener($I,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,C,T){for(var O=this.state.formattedGraphicalItems,N=0,R=O.length;N<R;N++){var k=O[N];if(k.item===A||k.props.key===A.key||C===Nf(k.item.type)&&T===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,C=this.state.offset,T=C.left,O=C.top,N=C.height,R=C.width;return he.createElement("defs",null,he.createElement("clipPath",{id:A},he.createElement("rect",{x:T,y:O,height:N,width:R})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(C,T){var O=u7(T,2),N=O[0],R=O[1];return pt(pt({},C),{},bn({},N,R.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(C,T){var O=u7(T,2),N=O[0],R=O[1];return pt(pt({},C),{},bn({},N,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(A){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(A){var C=this.state,T=C.formattedGraphicalItems,O=C.activeItem;if(T&&T.length)for(var N=0,R=T.length;N<R;N++){var k=T[N],z=k.props,F=k.item,G=F.type.defaultProps!==void 0?pt(pt({},F.type.defaultProps),F.props):F.props,V=Nf(F.type);if(V==="Bar"){var W=(z.data||[]).find(function(Z){return uPe(A,Z)});if(W)return{graphicalItem:k,payload:W}}else if(V==="RadialBar"){var K=(z.data||[]).find(function(Z){return _V(A,Z)});if(K)return{graphicalItem:k,payload:K}}else if(SC(k,O)||wC(k,O)||y_(k,O)){var H=IDe({graphicalItem:k,activeTooltipItem:O,itemData:G.data}),q=G.activeIndex===void 0?H:G.activeIndex;return{graphicalItem:pt(pt({},k),{},{childIndex:q}),payload:y_(k,O)?G.data[H]:k.props.data[H]}}}return null}},{key:"render",value:function(){var A=this;if(!Dz(this))return null;var C=this.props,T=C.children,O=C.className,N=C.width,R=C.height,k=C.style,z=C.compact,F=C.title,G=C.desc,V=f7(C,Zke),W=En(V,!1);if(z)return he.createElement(XG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(rk,Mv({},W,{width:N,height:R,title:F,desc:G}),this.renderClipPath(),Nz(T,this.renderMap)));if(this.props.accessibilityLayer){var K,H;W.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,W.role=(H=this.props.role)!==null&&H!==void 0?H:"application",W.onKeyDown=function(Z){A.accessibilityManager.keyboardEvent(Z)},W.onFocus=function(){A.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return he.createElement(XG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",Mv({className:Vn("recharts-wrapper",O),style:pt({position:"relative",cursor:"default",width:N,height:R},k)},q,{ref:function(ee){A.container=ee}}),he.createElement(rk,Mv({},W,{width:N,height:R,title:F,desc:G,style:pLe}),this.renderClipPath(),Nz(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(B.Component);bn(b,"displayName",n),bn(b,"defaultProps",pt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),bn(b,"getDerivedStateFromProps",function(x,w){var E=x.dataKey,A=x.data,C=x.children,T=x.width,O=x.height,N=x.layout,R=x.stackOffset,k=x.margin,z=w.dataStartIndex,F=w.dataEndIndex;if(w.updateId===void 0){var G=p7(x);return pt(pt(pt({},G),{},{updateId:0},y(pt(pt({props:x},G),{},{updateId:0}),w)),{},{prevDataKey:E,prevData:A,prevWidth:T,prevHeight:O,prevLayout:N,prevStackOffset:R,prevMargin:k,prevChildren:C})}if(E!==w.prevDataKey||A!==w.prevData||T!==w.prevWidth||O!==w.prevHeight||N!==w.prevLayout||R!==w.prevStackOffset||!Iv(k,w.prevMargin)){var V=p7(x),W={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},K=pt(pt({},h7(w,A,N)),{},{updateId:w.updateId+1}),H=pt(pt(pt({},V),W),K);return pt(pt(pt({},H),y(pt({props:x},H),w)),{},{prevDataKey:E,prevData:A,prevWidth:T,prevHeight:O,prevLayout:N,prevStackOffset:R,prevMargin:k,prevChildren:C})}if(!tk(C,w.prevChildren)){var q,Z,ee,ae,$=Us(C,ly),J=$&&(q=(Z=$.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&q!==void 0?q:z,ne=$&&(ee=(ae=$.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&ee!==void 0?ee:F,fe=J!==z||ne!==F,ge=!nr(A),ce=ge&&!fe?w.updateId:w.updateId+1;return pt(pt({updateId:ce},y(pt(pt({props:x},w),{},{updateId:ce,dataStartIndex:J,dataEndIndex:ne}),w)),{},{prevChildren:C,dataStartIndex:J,dataEndIndex:ne})}return null}),bn(b,"renderActiveDot",function(x,w,E){var A;return B.isValidElement(x)?A=B.cloneElement(x,w):An(x)?A=x(w):A=he.createElement(B2,w),he.createElement(Br,{className:"recharts-active-dot",key:E},A)});var _=B.forwardRef(function(w,E){return he.createElement(b,Mv({},w,{ref:E}))});return _.displayName=b.displayName,_},MLe=LJ({chartName:"BarChart",GraphicalChild:Em,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:RC},{axisType:"yAxis",AxisComp:OC}],formatAxisMap:LIe}),ELe=LJ({chartName:"PieChart",GraphicalChild:Kf,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_C},{axisType:"radiusAxis",AxisComp:bC}],formatAxisMap:_Re,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Lb={Dirty:"#ef4444","Check-out Inspected":"#f97316",Cleaning:"#3b82f6","Vacant Clean":"#22c55e","Vacant Clean Inspected":"#10b981",Occupied:"#8b5cf6","Out of Order":"#6b7280"};function ALe(){const{rooms:t}=Ty(),[e,n]=B.useState({from:"",to:""}),[r,i]=B.useState([]),[a,o]=B.useState([]),[s,l]=B.useState([]),[u,d]=B.useState([]),[h,g]=B.useState("overview");B.useEffect(()=>{y()},[e]);const y=async()=>{try{const[T,O,N,R]=await Promise.all([Ime({date_from:e.from||void 0,date_to:e.to||void 0}),kme({date_from:e.from||void 0,date_to:e.to||void 0}),Bme({date_from:e.from||void 0,date_to:e.to||void 0}),Cme()]);i(T),o(O),l(N),d(R)}catch{Qi.error("Failed to load analytics data")}},b={totalRooms:t.length,roomsByStatus:t.reduce((T,O)=>(T[O.status]=(T[O.status]||0)+1,T),{}),totalCleanings:r.filter(T=>T.task_type==="Cleaning"&&T.status==="Completed").length,totalInspections:a.length,averageInspectionScore:a.length>0?Math.round(a.reduce((T,O)=>T+O.score,0)/a.length):0,averageCleaningTime:r.filter(T=>T.task_type==="Cleaning"&&T.status==="Completed").length>0?Math.round(r.filter(T=>T.task_type==="Cleaning"&&T.status==="Completed").reduce((T,O)=>T+O.total_duration,0)/r.filter(T=>T.task_type==="Cleaning"&&T.status==="Completed").length/60):0},_=u.map(T=>{const O=r.filter(F=>F.staff_id===T.id&&F.status==="Completed"),N=a.filter(F=>F.inspector_id===T.id),R=O.reduce((F,G)=>F+G.total_duration,0),k=O.length>0?Math.round(R/O.length/60):0,z=N.length>0?Math.round(N.reduce((F,G)=>F+G.score,0)/N.length):0;return{...T,totalTasks:O.length,avgDuration:k,avgScore:z,totalHours:Math.round(R/3600*10)/10}}).sort((T,O)=>O.totalTasks-T.totalTasks),x=Object.entries(b.roomsByStatus).map(([T,O])=>({name:T,value:O,color:Lb[T]||"#6b7280"})),w=r.filter(T=>T.task_type==="Cleaning"&&T.status==="Completed").reduce((T,O)=>{const N=new Date(O.start_time).toLocaleDateString("en-US",{weekday:"short"});return T[N]=(T[N]||0)+1,T},{}),E=Object.entries(w).map(([T,O])=>({day:T,cleanings:O})),A=_.filter(T=>T.role==="Housekeeping").slice(0,5),C=_.filter(T=>T.role==="Supervisor").slice(0,5);return I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:159:5",className:"p-6 space-y-6",children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:161:7",className:"flex items-center justify-between",children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:162:9",children:[I.jsx("h1",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:163:11",className:"text-2xl font-bold text-white",children:"Manager Dashboard"}),I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:164:11",className:"text-gray-400",children:"Analytics & Performance Management"})]}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:166:9",className:"flex items-center gap-4",children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:168:11",className:"flex items-center gap-2",children:[I.jsx(xj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:169:13",type:"date",value:e.from,onChange:T=>n(O=>({...O,from:T.target.value})),className:"w-40 bg-gray-800 border-gray-700"}),I.jsx("span",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:175:13",className:"text-gray-400",children:"to"}),I.jsx(xj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:176:13",type:"date",value:e.to,onChange:T=>n(O=>({...O,to:T.target.value})),className:"w-40 bg-gray-800 border-gray-700"})]}),I.jsxs(mr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:183:11",variant:"outline",onClick:y,className:"border-gray-600",children:[I.jsx(Cee,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:184:13",className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:191:7",className:"flex gap-2",children:[{key:"overview",label:"Overview",icon:pee},{key:"3d",label:"3D View",icon:qb},{key:"staff",label:"Staff Performance",icon:Gee},{key:"audit",label:"Audit Logs",icon:SL}].map(T=>I.jsxs(mr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:198:11",variant:h===T.key?"default":"outline",onClick:()=>g(T.key),className:h===T.key?"bg-purple-600":"border-gray-600",children:[I.jsx(T.icon,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:204:13",className:"w-4 h-4 mr-2"}),T.label]},T.key))}),h==="overview"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:214:11",className:"grid grid-cols-5 gap-4",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:215:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:216:15",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:217:17",className:"text-sm text-gray-400",children:"Total Rooms"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:219:15",children:I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:220:17",className:"text-3xl font-bold text-white",children:b.totalRooms})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:224:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:225:15",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:226:17",className:"text-sm text-gray-400",children:"Cleanings"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:228:15",children:I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:229:17",className:"text-3xl font-bold text-blue-400",children:b.totalCleanings})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:233:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:234:15",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:235:17",className:"text-sm text-gray-400",children:"Inspections"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:237:15",children:I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:238:17",className:"text-3xl font-bold text-emerald-400",children:b.totalInspections})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:242:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:243:15",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:244:17",className:"text-sm text-gray-400",children:"Avg Score"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:246:15",children:I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:247:17",className:"text-3xl font-bold text-yellow-400",children:[b.averageInspectionScore,"%"]})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:251:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:252:15",className:"pb-2",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:253:17",className:"text-sm text-gray-400",children:"Avg Clean Time"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:255:15",children:I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:256:17",className:"text-3xl font-bold text-purple-400",children:[b.averageCleaningTime,"m"]})})]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:262:11",className:"grid grid-cols-2 gap-6",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:264:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:265:15",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:266:17",className:"text-white",children:"Room Status Distribution"})}),I.jsxs(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:268:15",children:[I.jsx(nH,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:269:17",width:"100%",height:250,children:I.jsxs(ELe,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:270:19",children:[I.jsx(Kf,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:271:21",data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((T,O)=>I.jsx(iC,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:281:25",fill:T.color},`cell-${O}`))}),I.jsx(gc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:284:21",contentStyle:{backgroundColor:"#1f2937",border:"none"},itemStyle:{color:"#fff"}})]})}),I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:290:17",className:"flex flex-wrap gap-2 justify-center mt-4",children:x.map(T=>I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:292:21",className:"flex items-center gap-1",children:[I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:293:23",className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),I.jsxs("span",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:297:23",className:"text-xs text-gray-400",children:[T.name,": ",T.value]})]},T.name))})]})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:305:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:306:15",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:307:17",className:"text-white",children:"Daily Cleaning Activity"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:309:15",children:I.jsx(nH,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:310:17",width:"100%",height:250,children:I.jsxs(MLe,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:311:19",data:E,children:[I.jsx(SJ,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:312:21",strokeDasharray:"3 3",stroke:"#374151"}),I.jsx(RC,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:313:21",dataKey:"day",stroke:"#9ca3af"}),I.jsx(OC,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:314:21",stroke:"#9ca3af"}),I.jsx(gc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:315:21",contentStyle:{backgroundColor:"#1f2937",border:"none"},itemStyle:{color:"#fff"}}),I.jsx(Em,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:319:21",dataKey:"cleanings",fill:"#3b82f6"})]})})})]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:327:11",className:"grid grid-cols-2 gap-6",children:[I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:328:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:329:15",children:I.jsxs(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:330:17",className:"text-white flex items-center gap-2",children:[I.jsx(Y4,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:331:19",className:"w-5 h-5 text-yellow-400"}),"Top Housekeepers"]})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:335:15",children:I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:336:17",className:"space-y-3",children:A.map((T,O)=>I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:338:21",className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg",children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:342:23",className:"flex items-center gap-3",children:[I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:343:25",className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${O===0?"bg-yellow-500 text-black":O===1?"bg-gray-400 text-black":O===2?"bg-orange-600 text-white":"bg-gray-600 text-white"}`,children:O+1}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:351:25",children:[I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:352:27",className:"font-medium text-white",children:T.full_name}),I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:353:27",className:"text-xs text-gray-400",children:[T.totalTasks," tasks  ",T.avgDuration,"m avg"]})]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:356:23",className:"text-right",children:[I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:357:25",className:"text-lg font-bold text-blue-400",children:[T.totalHours,"h"]}),I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:358:25",className:"text-xs text-gray-400",children:"total time"})]})]},T.id))})})]}),I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:366:13",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:367:15",children:I.jsxs(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:368:17",className:"text-white flex items-center gap-2",children:[I.jsx(Y4,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:369:19",className:"w-5 h-5 text-emerald-400"}),"Top Supervisors"]})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:373:15",children:I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:374:17",className:"space-y-3",children:C.map((T,O)=>I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:376:21",className:"flex items-center justify-between p-3 bg-gray-700/50 rounded-lg",children:[I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:380:23",className:"flex items-center gap-3",children:[I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:381:25",className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${O===0?"bg-yellow-500 text-black":O===1?"bg-gray-400 text-black":O===2?"bg-orange-600 text-white":"bg-gray-600 text-white"}`,children:O+1}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:389:25",children:[I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:390:27",className:"font-medium text-white",children:T.full_name}),I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:391:27",className:"text-xs text-gray-400",children:[T.totalTasks," inspections"]})]})]}),I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:394:23",className:"text-right",children:[I.jsxs("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:395:25",className:"text-lg font-bold text-emerald-400",children:[T.avgScore,"%"]}),I.jsx("p",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:396:25",className:"text-xs text-gray-400",children:"avg score"})]})]},T.id))})})]})]})]}),h==="3d"&&I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:409:9",className:"h-[calc(100vh-200px)]",children:I.jsx(jW,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:410:11",height:"100%"})}),h==="staff"&&I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:416:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:417:11",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:418:13",className:"text-white",children:"Staff Performance Details"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:420:11",children:I.jsxs(_j,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:421:13",children:[I.jsx(Sj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:422:15",children:I.jsxs(Qw,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:423:17",className:"border-gray-700",children:[I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:424:19",className:"text-gray-400",children:"Name"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:425:19",className:"text-gray-400",children:"Role"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:426:19",className:"text-gray-400",children:"Tasks Completed"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:427:19",className:"text-gray-400",children:"Avg Duration"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:428:19",className:"text-gray-400",children:"Total Hours"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:429:19",className:"text-gray-400",children:"Quality Score"})]})}),I.jsx(wj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:432:15",children:_.map(T=>I.jsxs(Qw,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:434:19",className:"border-gray-700",children:[I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:435:21",className:"font-medium text-white",children:T.full_name}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:436:21",children:I.jsx(Pl,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:437:23",variant:"outline",className:"text-gray-400",children:T.role})}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:441:21",className:"text-blue-400",children:T.totalTasks}),I.jsxs(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:442:21",className:"text-gray-300",children:[T.avgDuration,"m"]}),I.jsxs(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:443:21",className:"text-gray-300",children:[T.totalHours,"h"]}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:444:21",children:T.avgScore>0?I.jsxs("span",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:446:25",className:`font-bold ${T.avgScore>=90?"text-green-400":T.avgScore>=80?"text-yellow-400":"text-red-400"}`,children:[T.avgScore,"%"]}):I.jsx("span",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:454:25",className:"text-gray-500",children:"-"})})]},T.id))})]})})]}),h==="audit"&&I.jsxs(Xr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:467:9",className:"bg-gray-800/50 border-gray-700",children:[I.jsx(Di,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:468:11",children:I.jsx(Ii,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:469:13",className:"text-white",children:"Audit Logs"})}),I.jsx(Yr,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:471:11",children:I.jsx("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:472:13",className:"max-h-[500px] overflow-y-auto",children:I.jsxs(_j,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:473:15",children:[I.jsx(Sj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:474:17",children:I.jsxs(Qw,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:475:19",className:"border-gray-700",children:[I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:476:21",className:"text-gray-400",children:"Time"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:477:21",className:"text-gray-400",children:"Room"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:478:21",className:"text-gray-400",children:"User"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:479:21",className:"text-gray-400",children:"Change"}),I.jsx(cc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:480:21",className:"text-gray-400",children:"Notes"})]})}),I.jsx(wj,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:483:17",children:s.slice(0,50).map(T=>I.jsxs(Qw,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:485:21",className:"border-gray-700",children:[I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:486:23",className:"text-gray-300 text-sm",children:new Date(T.timestamp).toLocaleString()}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:489:23",className:"font-medium text-white",children:T.room_number}),I.jsxs(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:490:23",className:"text-gray-300",children:[T.changer_name," (",T.changer_role,")"]}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:493:23",children:I.jsxs("div",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:494:25",className:"flex items-center gap-2",children:[I.jsx(Pl,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:495:27",className:"text-xs",style:{backgroundColor:Lb[T.from_status]+"40",color:Lb[T.from_status]},children:T.from_status}),I.jsx("span",{"code-path":"src/components/dashboards/ManagerDashboard.tsx:501:27",className:"text-gray-500",children:""}),I.jsx(Pl,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:502:27",className:"text-xs",style:{backgroundColor:Lb[T.to_status]+"40",color:Lb[T.to_status]},children:T.to_status})]})}),I.jsx(uc,{"code-path":"src/components/dashboards/ManagerDashboard.tsx:510:23",className:"text-gray-400 text-sm",children:T.notes||"-"})]},T.id))})]})})})]})]})}function TLe(t){const e=CLe(t),n=B.forwardRef((r,i)=>{const{children:a,...o}=r,s=B.Children.toArray(a),l=s.find(OLe);if(l){const u=l.props.children,d=s.map(h=>h===l?B.Children.count(u)>1?B.Children.only(null):B.isValidElement(u)?u.props.children:null:h);return I.jsx(e,{...o,ref:i,children:B.isValidElement(u)?B.cloneElement(u,void 0,d):null})}return I.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function CLe(t){const e=B.forwardRef((n,r)=>{const{children:i,...a}=n;if(B.isValidElement(i)){const o=DLe(i),s=PLe(a,i.props);return i.type!==B.Fragment&&(s.ref=r?Gf(r,o):o),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RLe=Symbol("radix.slottable");function OLe(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RLe}function PLe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function DLe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bL=["Enter"," "],ILe=["ArrowDown","PageUp","Home"],UJ=["ArrowUp","PageDown","End"],NLe=[...ILe,...UJ],kLe={ltr:[...bL,"ArrowRight"],rtl:[...bL,"ArrowLeft"]},LLe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},n1="Menu",[E_,ULe,BLe]=IT(n1),[Am,BJ]=$f(n1,[BLe,jT,NT]),DC=jT(),FJ=NT(),[FLe,Tm]=Am(n1),[jLe,r1]=Am(n1),jJ=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,s=DC(e),[l,u]=B.useState(null),d=B.useRef(!1),h=Cu(a),g=$_(i);return B.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),I.jsx(AX,{...s,children:I.jsx(FLe,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:I.jsx(jLe,{scope:e,onClose:B.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:g,modal:o,children:r})})})};jJ.displayName=n1;var zLe="MenuAnchor",X2=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=DC(n);return I.jsx(TX,{...i,...r,ref:e})});X2.displayName=zLe;var Y2="MenuPortal",[HLe,zJ]=Am(Y2,{forceMount:void 0}),HJ=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Tm(Y2,e);return I.jsx(HLe,{scope:e,forceMount:n,children:I.jsx(Wf,{present:n||a.open,children:I.jsx(RT,{asChild:!0,container:i,children:r})})})};HJ.displayName=Y2;var Ul="MenuContent",[VLe,K2]=Am(Ul),VJ=B.forwardRef((t,e)=>{const n=zJ(Ul,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Tm(Ul,t.__scopeMenu),o=r1(Ul,t.__scopeMenu);return I.jsx(E_.Provider,{scope:t.__scopeMenu,children:I.jsx(Wf,{present:r||a.open,children:I.jsx(E_.Slot,{scope:t.__scopeMenu,children:o.modal?I.jsx(GLe,{...i,ref:e}):I.jsx($Le,{...i,ref:e})})})})}),GLe=B.forwardRef((t,e)=>{const n=Tm(Ul,t.__scopeMenu),r=B.useRef(null),i=xr(e,r);return B.useEffect(()=>{const a=r.current;if(a)return CU(a)},[]),I.jsx(Z2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Jt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$Le=B.forwardRef((t,e)=>{const n=Tm(Ul,t.__scopeMenu);return I.jsx(Z2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),WLe=TLe("MenuContent.ScrollLock"),Z2=B.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,..._}=t,x=Tm(Ul,n),w=r1(Ul,n),E=DC(n),A=FJ(n),C=ULe(n),[T,O]=B.useState(null),N=B.useRef(null),R=xr(e,N,x.onContentChange),k=B.useRef(0),z=B.useRef(""),F=B.useRef(0),G=B.useRef(null),V=B.useRef("right"),W=B.useRef(0),K=b?PT:B.Fragment,H=b?{as:WLe,allowPinchZoom:!0}:void 0,q=ee=>{const ae=z.current+ee,$=C().filter(le=>!le.disabled),J=document.activeElement,ne=$.find(le=>le.ref.current===J)?.textValue,fe=$.map(le=>le.textValue),ge=iUe(fe,ae,ne),ce=$.find(le=>le.textValue===ge)?.ref.current;(function le(pe){z.current=pe,window.clearTimeout(k.current),pe!==""&&(k.current=window.setTimeout(()=>le(""),1e3))})(ae),ce&&setTimeout(()=>ce.focus())};B.useEffect(()=>()=>window.clearTimeout(k.current),[]),TU();const Z=B.useCallback(ee=>V.current===G.current?.side&&oUe(ee,G.current?.area),[]);return I.jsx(VLe,{scope:n,searchRef:z,onItemEnter:B.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),onItemLeave:B.useCallback(ee=>{Z(ee)||(N.current?.focus(),O(null))},[Z]),onTriggerLeave:B.useCallback(ee=>{Z(ee)&&ee.preventDefault()},[Z]),pointerGraceTimerRef:F,onPointerGraceIntentChange:B.useCallback(ee=>{G.current=ee},[]),children:I.jsx(K,{...H,children:I.jsx(CT,{asChild:!0,trapped:i,onMountAutoFocus:Jt(a,ee=>{ee.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:I.jsx(TT,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:y,children:I.jsx($q,{asChild:!0,...A,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:O,onEntryFocus:Jt(l,ee=>{w.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(CX,{role:"menu","aria-orientation":"vertical","data-state":aQ(x.open),"data-radix-menu-content":"",dir:w.dir,...E,..._,ref:R,style:{outline:"none",..._.style},onKeyDown:Jt(_.onKeyDown,ee=>{const $=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,J=ee.ctrlKey||ee.altKey||ee.metaKey,ne=ee.key.length===1;$&&(ee.key==="Tab"&&ee.preventDefault(),!J&&ne&&q(ee.key));const fe=N.current;if(ee.target!==fe||!NLe.includes(ee.key))return;ee.preventDefault();const ce=C().filter(le=>!le.disabled).map(le=>le.ref.current);UJ.includes(ee.key)&&ce.reverse(),nUe(ce)}),onBlur:Jt(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(k.current),z.current="")}),onPointerMove:Jt(t.onPointerMove,A_(ee=>{const ae=ee.target,$=W.current!==ee.clientX;if(ee.currentTarget.contains(ae)&&$){const J=ee.clientX>W.current?"right":"left";V.current=J,W.current=ee.clientX}}))})})})})})})});VJ.displayName=Ul;var qLe="MenuGroup",J2=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(kn.div,{role:"group",...r,ref:e})});J2.displayName=qLe;var XLe="MenuLabel",GJ=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(kn.div,{...r,ref:e})});GJ.displayName=XLe;var PA="MenuItem",g7="menu.itemSelect",IC=B.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=B.useRef(null),o=r1(PA,t.__scopeMenu),s=K2(PA,t.__scopeMenu),l=xr(e,a),u=B.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const g=new CustomEvent(g7,{bubbles:!0,cancelable:!0});h.addEventListener(g7,y=>r?.(y),{once:!0}),HW(h,g),g.defaultPrevented?u.current=!1:o.onClose()}};return I.jsx($J,{...i,ref:l,disabled:n,onClick:Jt(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),u.current=!0},onPointerUp:Jt(t.onPointerUp,h=>{u.current||h.currentTarget?.click()}),onKeyDown:Jt(t.onKeyDown,h=>{const g=s.searchRef.current!=="";n||g&&h.key===" "||bL.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});IC.displayName=PA;var $J=B.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=K2(PA,n),s=FJ(n),l=B.useRef(null),u=xr(e,l),[d,h]=B.useState(!1),[g,y]=B.useState("");return B.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[a.children]),I.jsx(E_.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:I.jsx(Wq,{asChild:!0,...s,focusable:!r,children:I.jsx(kn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Jt(t.onPointerMove,A_(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Jt(t.onPointerLeave,A_(b=>o.onItemLeave(b))),onFocus:Jt(t.onFocus,()=>h(!0)),onBlur:Jt(t.onBlur,()=>h(!1))})})})}),YLe="MenuCheckboxItem",WJ=B.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return I.jsx(ZJ,{scope:t.__scopeMenu,checked:n,children:I.jsx(IC,{role:"menuitemcheckbox","aria-checked":DA(n)?"mixed":n,...i,ref:e,"data-state":e4(n),onSelect:Jt(i.onSelect,()=>r?.(DA(n)?!0:!n),{checkForDefaultPrevented:!1})})})});WJ.displayName=YLe;var qJ="MenuRadioGroup",[KLe,ZLe]=Am(qJ,{value:void 0,onValueChange:()=>{}}),XJ=B.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Cu(r);return I.jsx(KLe,{scope:t.__scopeMenu,value:n,onValueChange:a,children:I.jsx(J2,{...i,ref:e})})});XJ.displayName=qJ;var YJ="MenuRadioItem",KJ=B.forwardRef((t,e)=>{const{value:n,...r}=t,i=ZLe(YJ,t.__scopeMenu),a=n===i.value;return I.jsx(ZJ,{scope:t.__scopeMenu,checked:a,children:I.jsx(IC,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":e4(a),onSelect:Jt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});KJ.displayName=YJ;var Q2="MenuItemIndicator",[ZJ,JLe]=Am(Q2,{checked:!1}),JJ=B.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=JLe(Q2,n);return I.jsx(Wf,{present:r||DA(a.checked)||a.checked===!0,children:I.jsx(kn.span,{...i,ref:e,"data-state":e4(a.checked)})})});JJ.displayName=Q2;var QLe="MenuSeparator",QJ=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(kn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});QJ.displayName=QLe;var eUe="MenuArrow",eQ=B.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=DC(n);return I.jsx(RX,{...i,...r,ref:e})});eQ.displayName=eUe;var tUe="MenuSub",[x2e,tQ]=Am(tUe),Wb="MenuSubTrigger",nQ=B.forwardRef((t,e)=>{const n=Tm(Wb,t.__scopeMenu),r=r1(Wb,t.__scopeMenu),i=tQ(Wb,t.__scopeMenu),a=K2(Wb,t.__scopeMenu),o=B.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,u={__scopeMenu:t.__scopeMenu},d=B.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return B.useEffect(()=>d,[d]),B.useEffect(()=>{const h=s.current;return()=>{window.clearTimeout(h),l(null)}},[s,l]),I.jsx(X2,{asChild:!0,...u,children:I.jsx($J,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":aQ(n.open),...t,ref:Gf(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Jt(t.onPointerMove,A_(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Jt(t.onPointerLeave,A_(h=>{d();const g=n.content?.getBoundingClientRect();if(g){const y=n.content?.dataset.side,b=y==="right",_=b?-5:5,x=g[b?"left":"right"],w=g[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x,y:g.bottom}],side:y}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Jt(t.onKeyDown,h=>{const g=a.searchRef.current!=="";t.disabled||g&&h.key===" "||kLe[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});nQ.displayName=Wb;var rQ="MenuSubContent",iQ=B.forwardRef((t,e)=>{const n=zJ(Ul,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Tm(Ul,t.__scopeMenu),o=r1(Ul,t.__scopeMenu),s=tQ(rQ,t.__scopeMenu),l=B.useRef(null),u=xr(e,l);return I.jsx(E_.Provider,{scope:t.__scopeMenu,children:I.jsx(Wf,{present:r||a.open,children:I.jsx(E_.Slot,{scope:t.__scopeMenu,children:I.jsx(Z2,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Jt(t.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Jt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Jt(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),g=LLe[o.dir].includes(d.key);h&&g&&(a.onOpenChange(!1),s.trigger?.focus(),d.preventDefault())})})})})})});iQ.displayName=rQ;function aQ(t){return t?"open":"closed"}function DA(t){return t==="indeterminate"}function e4(t){return DA(t)?"indeterminate":t?"checked":"unchecked"}function nUe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function rUe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function iUe(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=rUe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function aUe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],l=e[o],u=s.x,d=s.y,h=l.x,g=l.y;d>r!=g>r&&n<(h-u)*(r-d)/(g-d)+u&&(i=!i)}return i}function oUe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return aUe(n,e)}function A_(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sUe=jJ,lUe=X2,cUe=HJ,uUe=VJ,fUe=J2,dUe=GJ,hUe=IC,pUe=WJ,mUe=XJ,gUe=KJ,vUe=JJ,yUe=QJ,bUe=eQ,xUe=nQ,_Ue=iQ,NC="DropdownMenu",[SUe]=$f(NC,[BJ]),Zo=BJ(),[wUe,oQ]=SUe(NC),sQ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=Zo(e),u=B.useRef(null),[d,h]=om({prop:i,defaultProp:a??!1,onChange:o,caller:NC});return I.jsx(wUe,{scope:e,triggerId:wu(),triggerRef:u,contentId:wu(),open:d,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(g=>!g),[h]),modal:s,children:I.jsx(sUe,{...l,open:d,onOpenChange:h,dir:r,modal:s,children:n})})};sQ.displayName=NC;var lQ="DropdownMenuTrigger",cQ=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=oQ(lQ,n),o=Zo(n);return I.jsx(lUe,{asChild:!0,...o,children:I.jsx(kn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Gf(e,a.triggerRef),onPointerDown:Jt(t.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:Jt(t.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});cQ.displayName=lQ;var MUe="DropdownMenuPortal",uQ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Zo(e);return I.jsx(cUe,{...r,...n})};uQ.displayName=MUe;var fQ="DropdownMenuContent",dQ=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oQ(fQ,n),a=Zo(n),o=B.useRef(!1);return I.jsx(uUe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Jt(t.onCloseAutoFocus,s=>{o.current||i.triggerRef.current?.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:Jt(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dQ.displayName=fQ;var EUe="DropdownMenuGroup",AUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(fUe,{...i,...r,ref:e})});AUe.displayName=EUe;var TUe="DropdownMenuLabel",hQ=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(dUe,{...i,...r,ref:e})});hQ.displayName=TUe;var CUe="DropdownMenuItem",pQ=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(hUe,{...i,...r,ref:e})});pQ.displayName=CUe;var RUe="DropdownMenuCheckboxItem",OUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(pUe,{...i,...r,ref:e})});OUe.displayName=RUe;var PUe="DropdownMenuRadioGroup",DUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(mUe,{...i,...r,ref:e})});DUe.displayName=PUe;var IUe="DropdownMenuRadioItem",NUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(gUe,{...i,...r,ref:e})});NUe.displayName=IUe;var kUe="DropdownMenuItemIndicator",LUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(vUe,{...i,...r,ref:e})});LUe.displayName=kUe;var UUe="DropdownMenuSeparator",mQ=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(yUe,{...i,...r,ref:e})});mQ.displayName=UUe;var BUe="DropdownMenuArrow",FUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(bUe,{...i,...r,ref:e})});FUe.displayName=BUe;var jUe="DropdownMenuSubTrigger",zUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(xUe,{...i,...r,ref:e})});zUe.displayName=jUe;var HUe="DropdownMenuSubContent",VUe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zo(n);return I.jsx(_Ue,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VUe.displayName=HUe;var GUe=sQ,$Ue=cQ,WUe=uQ,qUe=dQ,XUe=hQ,YUe=pQ,KUe=mQ;function v7({...t}){return I.jsx(GUe,{"code-path":"src/components/ui/dropdown-menu.tsx:10:10","data-slot":"dropdown-menu",...t})}function y7({...t}){return I.jsx($Ue,{"code-path":"src/components/ui/dropdown-menu.tsx:25:5","data-slot":"dropdown-menu-trigger",...t})}function b7({className:t,sideOffset:e=4,...n}){return I.jsx(WUe,{"code-path":"src/components/ui/dropdown-menu.tsx:38:5",children:I.jsx(qUe,{"code-path":"src/components/ui/dropdown-menu.tsx:39:7","data-slot":"dropdown-menu-content",sideOffset:e,className:Zn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function x7({className:t,inset:e,variant:n="default",...r}){return I.jsx(YUe,{"code-path":"src/components/ui/dropdown-menu.tsx:70:5","data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Zn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function _7({className:t,inset:e,...n}){return I.jsx(XUe,{"code-path":"src/components/ui/dropdown-menu.tsx:152:5","data-slot":"dropdown-menu-label","data-inset":e,className:Zn("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function S7({className:t,...e}){return I.jsx(KUe,{"code-path":"src/components/ui/dropdown-menu.tsx:169:5","data-slot":"dropdown-menu-separator",className:Zn("bg-border -mx-1 my-1 h-px",t),...e})}function ZUe({...t}){return I.jsx(pq,{"code-path":"src/components/ui/sheet.tsx:8:10","data-slot":"sheet",...t})}function JUe({...t}){return I.jsx(Tve,{"code-path":"src/components/ui/sheet.tsx:14:10","data-slot":"sheet-trigger",...t})}function QUe({...t}){return I.jsx(mq,{"code-path":"src/components/ui/sheet.tsx:26:10","data-slot":"sheet-portal",...t})}function e2e({className:t,...e}){return I.jsx(gq,{"code-path":"src/components/ui/sheet.tsx:34:5","data-slot":"sheet-overlay",className:Zn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function t2e({className:t,children:e,side:n="right",...r}){return I.jsxs(QUe,{"code-path":"src/components/ui/sheet.tsx:54:5",children:[I.jsx(e2e,{"code-path":"src/components/ui/sheet.tsx:55:7"}),I.jsxs(vq,{"code-path":"src/components/ui/sheet.tsx:56:7","data-slot":"sheet-content",className:Zn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,I.jsxs(bq,{"code-path":"src/components/ui/sheet.tsx:73:9",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[I.jsx(O7,{"code-path":"src/components/ui/sheet.tsx:74:11",className:"size-4"}),I.jsx("span",{"code-path":"src/components/ui/sheet.tsx:75:11",className:"sr-only",children:"Close"})]})]})]})}function n2e({className:t,...e}){return I.jsx("div",{"code-path":"src/components/ui/sheet.tsx:84:5","data-slot":"sheet-header",className:Zn("flex flex-col gap-1.5 p-4",t),...e})}function r2e({className:t,...e}){return I.jsx(yq,{"code-path":"src/components/ui/sheet.tsx:107:5","data-slot":"sheet-title",className:Zn("text-foreground font-semibold",t),...e})}const i2e=[{id:"1",full_name:"Siti Rahayu",role:"Housekeeping"},{id:"2",full_name:"Budi Santoso",role:"Housekeeping"},{id:"3",full_name:"Dewi Kusuma",role:"Supervisor"},{id:"4",full_name:"Ahmad Wijaya",role:"Engineering"},{id:"5",full_name:"Maria Gonzalez",role:"Manager"}],a2e=[{id:"1",room_number:"A101",building:"Building A",floor:1,status:"Dirty",room_type:"Deluxe",last_updated:new Date().toISOString()},{id:"2",room_number:"A102",building:"Building A",floor:1,status:"Vacant Clean",room_type:"Deluxe",last_updated:new Date().toISOString()},{id:"3",room_number:"A103",building:"Building A",floor:1,status:"Occupied",room_type:"Suite",last_updated:new Date().toISOString(),is_vip:!0},{id:"4",room_number:"A104",building:"Building A",floor:1,status:"Cleaning",room_type:"Standard",last_updated:new Date().toISOString(),assigned_to:"1"},{id:"5",room_number:"A105",building:"Building A",floor:1,status:"Out of Order",room_type:"Standard",last_updated:new Date().toISOString()},{id:"6",room_number:"A201",building:"Building A",floor:2,status:"Vacant Clean Inspected",room_type:"Deluxe",last_updated:new Date().toISOString()},{id:"7",room_number:"A202",building:"Building A",floor:2,status:"Dirty",room_type:"Deluxe",last_updated:new Date().toISOString()},{id:"8",room_number:"A203",building:"Building A",floor:2,status:"Occupied",room_type:"Suite",last_updated:new Date().toISOString()},{id:"9",room_number:"A204",building:"Building A",floor:2,status:"Check-out Inspected",room_type:"Standard",last_updated:new Date().toISOString()},{id:"10",room_number:"A205",building:"Building A",floor:2,status:"Vacant Clean",room_type:"Standard",last_updated:new Date().toISOString()},{id:"11",room_number:"B101",building:"Building B",floor:1,status:"Occupied",room_type:"Villa",last_updated:new Date().toISOString(),is_vip:!0},{id:"12",room_number:"B102",building:"Building B",floor:1,status:"Dirty",room_type:"Villa",last_updated:new Date().toISOString()},{id:"13",room_number:"B103",building:"Building B",floor:1,status:"Cleaning",room_type:"Pool Villa",last_updated:new Date().toISOString(),assigned_to:"2"},{id:"14",room_number:"B104",building:"Building B",floor:1,status:"Vacant Clean",room_type:"Villa",last_updated:new Date().toISOString()},{id:"15",room_number:"B201",building:"Building B",floor:2,status:"Occupied",room_type:"Villa",last_updated:new Date().toISOString()},{id:"16",room_number:"B202",building:"Building B",floor:2,status:"Dirty",room_type:"Pool Villa",last_updated:new Date().toISOString()},{id:"17",room_number:"B203",building:"Building B",floor:2,status:"Out of Order",room_type:"Villa",last_updated:new Date().toISOString()},{id:"18",room_number:"B204",building:"Building B",floor:2,status:"Vacant Clean Inspected",room_type:"Pool Villa",last_updated:new Date().toISOString()}];function o2e(){const{currentUser:t,setCurrentUser:e,currentRole:n,setCurrentRole:r,setRooms:i,notifications:a,markNotificationRead:o}=dh(),[s,l]=B.useState(null),[u,d]=B.useState(!1),[h,g]=B.useState("dashboard"),[y,b]=B.useState(!1);B.useEffect(()=>(i(a2e),I7(),()=>{N7()}),[i]);const _=E=>{e(E),r(E.role),Qi.success(`Logged in as ${E.full_name} (${E.role})`)},x=()=>{e(null),r(null),Qi.info("Logged out")},w=E=>{l(E),d(!0)};return!t||!n?I.jsxs("div",{"code-path":"src/App.tsx:121:7",className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[I.jsx(bj,{"code-path":"src/App.tsx:122:9",position:"top-right",theme:"dark"}),I.jsxs("div",{"code-path":"src/App.tsx:123:9",className:"max-w-4xl w-full",children:[I.jsxs("div",{"code-path":"src/App.tsx:125:11",className:"text-center mb-12",children:[I.jsx("div",{"code-path":"src/App.tsx:126:13",className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-6 shadow-2xl",children:I.jsx(qb,{"code-path":"src/App.tsx:127:15",className:"w-10 h-10 text-white"})}),I.jsx("h1",{"code-path":"src/App.tsx:129:13",className:"text-4xl font-bold text-white mb-2",children:"The Batu Hotel & Villas"}),I.jsx("p",{"code-path":"src/App.tsx:130:13",className:"text-gray-400",children:"Hotel Management System"})]}),I.jsx("div",{"code-path":"src/App.tsx:134:11",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{role:"Housekeeping",icon:"",color:"from-blue-500 to-blue-700",desc:"Room cleaning & maintenance"},{role:"Supervisor",icon:"",color:"from-emerald-500 to-emerald-700",desc:"Quality inspection & control"},{role:"Engineering",icon:"",color:"from-orange-500 to-orange-700",desc:"Repairs & maintenance"},{role:"Manager",icon:"",color:"from-purple-500 to-purple-700",desc:"Analytics & management"}].map(E=>{const A=i2e.filter(C=>C.role===E.role);return I.jsxs("div",{"code-path":"src/App.tsx:143:17",className:"space-y-3",children:[I.jsxs("div",{"code-path":"src/App.tsx:144:19",className:`p-6 rounded-2xl bg-gradient-to-br ${E.color} text-white`,children:[I.jsx("div",{"code-path":"src/App.tsx:145:21",className:"text-4xl mb-3",children:E.icon}),I.jsx("h2",{"code-path":"src/App.tsx:146:21",className:"text-xl font-bold",children:E.role}),I.jsx("p",{"code-path":"src/App.tsx:147:21",className:"text-sm text-white/70",children:E.desc})]}),I.jsx("div",{"code-path":"src/App.tsx:149:19",className:"space-y-2",children:A.map(C=>I.jsxs("button",{"code-path":"src/App.tsx:151:23",onClick:()=>_(C),className:"w-full p-3 bg-gray-800 hover:bg-gray-700 rounded-xl text-left transition-colors flex items-center gap-3",children:[I.jsx("div",{"code-path":"src/App.tsx:156:25",className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:I.jsx(XI,{"code-path":"src/App.tsx:157:27",className:"w-5 h-5 text-gray-400"})}),I.jsxs("div",{"code-path":"src/App.tsx:159:25",children:[I.jsx("p",{"code-path":"src/App.tsx:160:27",className:"font-medium text-white",children:C.full_name}),I.jsx("p",{"code-path":"src/App.tsx:161:27",className:"text-xs text-gray-400",children:"Click to login"})]})]},C.id))})]},E.role)})}),I.jsx("p",{"code-path":"src/App.tsx:172:11",className:"text-center text-gray-500 mt-12 text-sm",children:"The Batu Hotel & Villas HMS v1.0  Built with React Three Fiber & Supabase"})]})]}):I.jsxs("div",{"code-path":"src/App.tsx:182:5",className:"min-h-screen bg-gray-950",children:[I.jsx(bj,{"code-path":"src/App.tsx:183:7",position:"top-right",theme:"dark"}),I.jsx("header",{"code-path":"src/App.tsx:186:7",className:"bg-gray-900 border-b border-gray-800 sticky top-0 z-50",children:I.jsxs("div",{"code-path":"src/App.tsx:187:9",className:"flex items-center justify-between h-16 px-4",children:[I.jsxs("div",{"code-path":"src/App.tsx:189:11",className:"flex items-center gap-4",children:[I.jsxs(ZUe,{"code-path":"src/App.tsx:190:13",open:y,onOpenChange:b,children:[I.jsx(JUe,{"code-path":"src/App.tsx:191:15",asChild:!0,className:"lg:hidden",children:I.jsx(mr,{"code-path":"src/App.tsx:192:17",variant:"ghost",size:"icon",children:I.jsx(Nee,{"code-path":"src/App.tsx:193:19",className:"w-5 h-5"})})}),I.jsxs(t2e,{"code-path":"src/App.tsx:196:15",side:"left",className:"bg-gray-900 border-gray-800 w-64",children:[I.jsx(n2e,{"code-path":"src/App.tsx:197:17",children:I.jsxs(r2e,{"code-path":"src/App.tsx:198:19",className:"text-white flex items-center gap-2",children:[I.jsx(qb,{"code-path":"src/App.tsx:199:21",className:"w-6 h-6 text-blue-500"}),"The Batu HMS"]})}),I.jsxs("nav",{"code-path":"src/App.tsx:203:17",className:"mt-8 space-y-2",children:[I.jsx("button",{"code-path":"src/App.tsx:204:19",onClick:()=>{g("dashboard"),b(!1)},className:`w-full p-3 rounded-lg text-left transition-colors ${h==="dashboard"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:"Dashboard"}),I.jsx("button",{"code-path":"src/App.tsx:215:19",onClick:()=>{g("3d"),b(!1)},className:`w-full p-3 rounded-lg text-left transition-colors ${h==="3d"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:"3D View"})]})]})]}),I.jsxs("div",{"code-path":"src/App.tsx:230:13",className:"hidden lg:flex items-center gap-3",children:[I.jsx("div",{"code-path":"src/App.tsx:231:15",className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:I.jsx(qb,{"code-path":"src/App.tsx:232:17",className:"w-5 h-5 text-white"})}),I.jsxs("div",{"code-path":"src/App.tsx:234:15",children:[I.jsx("h1",{"code-path":"src/App.tsx:235:17",className:"font-bold text-white",children:"The Batu HMS"}),I.jsx("p",{"code-path":"src/App.tsx:236:17",className:"text-xs text-gray-400",children:"Hotel Management System"})]})]})]}),I.jsxs("nav",{"code-path":"src/App.tsx:242:11",className:"hidden lg:flex items-center gap-1",children:[I.jsx("button",{"code-path":"src/App.tsx:243:13",onClick:()=>g("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="dashboard"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:"Dashboard"}),I.jsx("button",{"code-path":"src/App.tsx:253:13",onClick:()=>g("3d"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${h==="3d"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:"3D View"})]}),I.jsxs("div",{"code-path":"src/App.tsx:266:11",className:"flex items-center gap-3",children:[I.jsxs(v7,{"code-path":"src/App.tsx:268:13",children:[I.jsx(y7,{"code-path":"src/App.tsx:269:15",asChild:!0,children:I.jsxs(mr,{"code-path":"src/App.tsx:270:17",variant:"ghost",size:"icon",className:"relative",children:[I.jsx(fee,{"code-path":"src/App.tsx:271:19",className:"w-5 h-5"}),a.filter(E=>!E.read).length>0&&I.jsx("span",{"code-path":"src/App.tsx:273:21",className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})}),I.jsxs(b7,{"code-path":"src/App.tsx:277:15",align:"end",className:"w-80 bg-gray-900 border-gray-800",children:[I.jsx(_7,{"code-path":"src/App.tsx:278:17",className:"text-white",children:"Notifications"}),I.jsx(S7,{"code-path":"src/App.tsx:279:17",className:"bg-gray-800"}),a.length===0?I.jsx("div",{"code-path":"src/App.tsx:281:19",className:"p-4 text-center text-gray-400 text-sm",children:"No notifications"}):a.slice(0,5).map(E=>I.jsx(x7,{"code-path":"src/App.tsx:286:21",onClick:()=>o(E.id),className:`cursor-pointer ${E.read?"opacity-50":""}`,children:I.jsxs("div",{"code-path":"src/App.tsx:291:23",className:"flex items-start gap-2",children:[I.jsx("div",{"code-path":"src/App.tsx:292:25",className:`w-2 h-2 rounded-full mt-1.5 ${E.type==="error"?"bg-red-500":E.type==="warning"?"bg-yellow-500":E.type==="success"?"bg-green-500":"bg-blue-500"}`}),I.jsxs("div",{"code-path":"src/App.tsx:298:25",children:[I.jsx("p",{"code-path":"src/App.tsx:299:27",className:"text-sm font-medium text-white",children:E.title}),I.jsx("p",{"code-path":"src/App.tsx:300:27",className:"text-xs text-gray-400",children:E.message})]})]})},E.id))]})]}),I.jsxs(v7,{"code-path":"src/App.tsx:310:13",children:[I.jsx(y7,{"code-path":"src/App.tsx:311:15",asChild:!0,children:I.jsxs(mr,{"code-path":"src/App.tsx:312:17",variant:"ghost",className:"flex items-center gap-2",children:[I.jsx("div",{"code-path":"src/App.tsx:313:19",className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:I.jsx(XI,{"code-path":"src/App.tsx:314:21",className:"w-4 h-4 text-white"})}),I.jsxs("div",{"code-path":"src/App.tsx:316:19",className:"hidden md:block text-left",children:[I.jsx("p",{"code-path":"src/App.tsx:317:21",className:"text-sm font-medium text-white",children:t.full_name}),I.jsx("p",{"code-path":"src/App.tsx:318:21",className:"text-xs text-gray-400",children:n})]}),I.jsx(_L,{"code-path":"src/App.tsx:320:19",className:"w-4 h-4 text-gray-400"})]})}),I.jsxs(b7,{"code-path":"src/App.tsx:323:15",align:"end",className:"bg-gray-900 border-gray-800",children:[I.jsxs(_7,{"code-path":"src/App.tsx:324:17",className:"text-white",children:[t.full_name,I.jsx("p",{"code-path":"src/App.tsx:326:19",className:"text-xs text-gray-400 font-normal",children:n})]}),I.jsx(S7,{"code-path":"src/App.tsx:328:17",className:"bg-gray-800"}),I.jsxs(x7,{"code-path":"src/App.tsx:329:17",onClick:x,className:"text-red-400 cursor-pointer",children:[I.jsx(Dee,{"code-path":"src/App.tsx:330:19",className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}),I.jsx("main",{"code-path":"src/App.tsx:340:7",className:"flex-1",children:h==="dashboard"?I.jsxs("div",{"code-path":"src/App.tsx:342:11",className:"animate-in fade-in duration-300",children:[n==="Housekeeping"&&I.jsx(Nxe,{"code-path":"src/App.tsx:343:48"}),n==="Supervisor"&&I.jsx(t_e,{"code-path":"src/App.tsx:344:46"}),n==="Engineering"&&I.jsx(n_e,{"code-path":"src/App.tsx:345:47"}),n==="Manager"&&I.jsx(ALe,{"code-path":"src/App.tsx:346:43"})]}):I.jsx("div",{"code-path":"src/App.tsx:349:11",className:"h-[calc(100vh-64px)] animate-in fade-in duration-300",children:I.jsx(jW,{"code-path":"src/App.tsx:350:13",onRoomClick:w,height:"100%"})})}),I.jsx(GT,{"code-path":"src/App.tsx:359:7",room:s,isOpen:u,onClose:()=>{d(!1),l(null)}})]})}E7.createRoot(document.getElementById("root")).render(I.jsx(B.StrictMode,{"code-path":"src/main.tsx:7:3",children:I.jsx(o2e,{"code-path":"src/main.tsx:8:5"})}));
